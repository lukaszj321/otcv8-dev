
<!DOCTYPE html>

<html data-content_root="../" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="src framework" property="og:title"/>
<meta content="website" property="og:type"/>
<meta content="https://lukaszj321.github.io/otcv8-dev/architektura/src_framework.html" property="og:url"/>
<meta content="OTClient v8" property="og:site_name"/>
<meta content="PoniÅ¼ej znajduje siÄ™ kompletna dokumentacja techniczna dla repozytorium, src/framework: Opis ogÃ³lny: Plik const.h peÅ‚ni rolÄ™ centralnego repozytorium dla sta..." property="og:description"/>
<meta content="https://lukaszj321.github.io/otcv8-dev/_static/og-image.png" property="og:image"/>
<meta content="OTClient v8" property="og:image:alt"/>
<meta content="PoniÅ¼ej znajduje siÄ™ kompletna dokumentacja techniczna dla repozytorium, src/framework: Opis ogÃ³lny: Plik const.h peÅ‚ni rolÄ™ centralnego repozytorium dla sta..." name="description"/>
<title>src framework â€” OTClient v8 0.1 documentation</title>
<script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
<!--
    this give us a css class that will be invisible only if js is disabled
  -->
<noscript>
<style>
      .pst-js-only { display: none !important; }

    </style>
</noscript>
<!-- Loaded before other Sphinx assets -->
<link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet"/>
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet"/>
<link href="../_static/pygments.css?v=8f2a1f02" rel="stylesheet" type="text/css"/>
<link href="../_static/copybutton.css?v=76b2166b" rel="stylesheet" type="text/css"/>
<link href="../_static/sphinx-codeautolink.css?v=b2176991" rel="stylesheet" type="text/css"/>
<link href="../_static/css/tooltipster.custom.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/tooltipster.bundle.min.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/tooltipster-sideTip-shadow.min.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/tooltipster-sideTip-punk.min.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/tooltipster-sideTip-noir.min.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/tooltipster-sideTip-light.min.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/tooltipster-sideTip-borderless.min.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/micromodal.css" rel="stylesheet" type="text/css"/>
<link href="../_static/sphinx-design.min.css?v=95c83b7e" rel="stylesheet" type="text/css"/>
<!-- So that users can add custom icons -->
<script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
<!-- Pre-loaded scripts that we'll load fully later -->
<link as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" rel="preload"/>
<link as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" rel="preload"/>
<script src="../_static/jquery.js?v=5d32c60e"></script>
<script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
<script src="../_static/documentation_options.js?v=2709fde1"></script>
<script src="../_static/doctools.js?v=9a2dae69"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script src="../_static/clipboard.min.js?v=a7894cd8"></script>
<script src="../_static/copybutton.js?v=a46eff05"></script>
<script src="../_static/js/hoverxref.js"></script>
<script src="../_static/js/tooltipster.bundle.min.js"></script>
<script src="../_static/js/micromodal.min.js"></script>
<script src="../_static/design-tabs.js?v=f930bc37"></script>
<script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>DOCUMENTATION_OPTIONS.pagename = 'architektura/src_framework';</script>
<link href="https://lukaszj321.github.io/otcv8-dev/architektura/src_framework.html" rel="canonical"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="en" name="docsearch:language"/>
<meta content="" name="docsearch:version"/>
</head>
<body data-bs-root-margin="0px 0px -60%" data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-default-mode="" data-offset="180">
<div class="skip-link d-print-none" id="pst-skip-link"><a href="#main-content">Skip to main content</a></div>
<div id="pst-scroll-pixel-helper"></div>
<button class="btn rounded-pill" id="pst-back-to-top" type="button">
<i class="fa-solid fa-arrow-up"></i>Back to top</button>
<dialog id="pst-search-dialog">
<form action="../search.html" class="bd-search d-flex align-items-center" method="get">
<i class="fa-solid fa-magnifying-glass"></i>
<input aria-label="Search the docs ..." autocapitalize="off" autocomplete="off" autocorrect="off" class="form-control" name="q" placeholder="Search the docs ..." spellcheck="false" type="search"/>
<span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
</dialog>
<div class="pst-async-banner-revealer d-none">
<aside aria-label="Version warning" class="d-none d-print-none" id="bd-header-version-warning"></aside>
</div>
<header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
<button aria-label="Site navigation" class="pst-navbar-icon sidebar-toggle primary-toggle">
<span class="fa-solid fa-bars"></span>
</button>
<div class="col-lg-3 navbar-header-items__start">
<div class="navbar-item">
<a class="navbar-brand logo" href="../index.html">
<p class="title logo__title">OTClient v8 0.1 documentation</p>
</a></div>
</div>
<div class="col-lg-9 navbar-header-items">
<div class="me-auto navbar-header-items__center">
<div class="navbar-item">
<nav>
<ul class="bd-navbar-elements navbar-nav">
<li class="nav-item">
<a class="nav-link nav-internal" href="../11_datasets/index.html">
    Datasets i integracja z katalogiem data/
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../12_diagrams/index.html">
    Diagramy (Mermaid)
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../13_csv_snippets/index.html">
    CSV / Tabele / Snippety
  </a>
</li>
</ul>
</nav></div>
</div>
<div class="navbar-header-items__end">
<div class="navbar-item navbar-persistent--container">
<button aria-label="Search" class="btn search-button-field search-button__button pst-js-only" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Search">
<i class="fa-solid fa-magnifying-glass"></i>
<span class="search-button__default-text">Search</span>
<span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
</div>
<div class="navbar-item">
<button aria-label="Color mode" class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" data-bs-placement="bottom" data-bs-title="Color mode" data-bs-toggle="tooltip">
<i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light" title="Light"></i>
<i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark" title="Dark"></i>
<i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto" title="System Settings"></i>
</button></div>
</div>
</div>
<div class="navbar-persistent--mobile">
<button aria-label="Search" class="btn search-button-field search-button__button pst-js-only" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Search">
<i class="fa-solid fa-magnifying-glass"></i>
<span class="search-button__default-text">Search</span>
<span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
</div>
<button aria-label="On this page" class="pst-navbar-icon sidebar-toggle secondary-toggle">
<span class="fa-solid fa-outdent"></span>
</button>
</div>
</header>
<div class="bd-container">
<div class="bd-container__inner bd-page-width">
<dialog id="pst-primary-sidebar-modal"></dialog>
<div class="bd-sidebar-primary bd-sidebar hide-on-wide" id="pst-primary-sidebar">
<div class="sidebar-header-items sidebar-primary__section">
<div class="sidebar-header-items__center">
<div class="navbar-item">
<nav>
<ul class="bd-navbar-elements navbar-nav">
<li class="nav-item">
<a class="nav-link nav-internal" href="../11_datasets/index.html">
    Datasets i integracja z katalogiem data/
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../12_diagrams/index.html">
    Diagramy (Mermaid)
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../13_csv_snippets/index.html">
    CSV / Tabele / Snippety
  </a>
</li>
</ul>
</nav></div>
</div>
<div class="sidebar-header-items__end">
<div class="navbar-item">
<button aria-label="Color mode" class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" data-bs-placement="bottom" data-bs-title="Color mode" data-bs-toggle="tooltip">
<i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light" title="Light"></i>
<i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark" title="Dark"></i>
<i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto" title="System Settings"></i>
</button></div>
</div>
</div>
<div class="sidebar-primary-items__end sidebar-primary__section">
<div class="sidebar-primary-item">
<div class="flat" data-ea-manual="true" data-ea-publisher="readthedocs" data-ea-type="readthedocs-sidebar" id="ethical-ad-placement">
</div></div>
</div>
</div>
<main class="bd-main" id="main-content" role="main">
<div class="bd-content">
<div class="bd-article-container">
<div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
<div class="header-article-items__start">
<div class="header-article-item">
<nav aria-label="Breadcrumb" class="d-print-none">
<ul class="bd-breadcrumbs">
<li class="breadcrumb-item breadcrumb-home">
<a aria-label="Home" class="nav-link" href="../index.html">
<i class="fa-solid fa-home"></i>
</a>
</li>
<li aria-current="page" class="breadcrumb-item active"><span class="ellipsis">src framework</span></li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<div id="searchbox"></div>
<article class="bd-article">
<section id="src-framework">
<h1>src framework<a class="headerlink" href="#src-framework" title="Link to this heading">#</a></h1>
</section>
<section id="ponizej-znajduje-sie-kompletna-dokumentacja-techniczna-dla-repozytorium-src-framework">
<h1>PoniÅ¼ej znajduje siÄ™ kompletna dokumentacja techniczna dla repozytorium, src/framework<a class="headerlink" href="#ponizej-znajduje-sie-kompletna-dokumentacja-techniczna-dla-repozytorium-src-framework" title="Link to this heading">#</a></h1>
</section>
<section id="opis-ogolny">
<h1>Opis ogÃ³lny<a class="headerlink" href="#opis-ogolny" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">const.h</span></code> peÅ‚ni rolÄ™ centralnego repozytorium dla staÅ‚ych, makr i typÃ³w wyliczeniowych (enum) uÅ¼ywanych w caÅ‚ym frameworku. Definiuje on kluczowe wartoÅ›ci, takie jak kody klawiszy, poziomy logowania, flagi wyrÃ³wnania, przyciski myszy, a takÅ¼e staÅ‚e matematyczne i makra kompilacji. Jest to fundamentalny plik nagÅ‚Ã³wkowy, ktÃ³ry zapewnia spÃ³jnoÅ›Ä‡ i czytelnoÅ›Ä‡ kodu poprzez zdefiniowanie nazwanych staÅ‚ych zamiast â€œmagicznych liczbâ€.</p>
</section>
<section id="definicje-i-makra">
<h1>Definicje i Makra<a class="headerlink" href="#definicje-i-makra" title="Link to this heading">#</a></h1>
</section>
<section id="makra-matematyczne">
<h1>Makra matematyczne<a class="headerlink" href="#makra-matematyczne" title="Link to this heading">#</a></h1>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DEG_TO_RAD</span></code>: SÅ‚uÅ¼y do konwersji stopni na radiany.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="define-deg-to-rad-acos-1-180-0">
<h1>define DEG_TO_RAD (acos(-1)/180.0)<a class="headerlink" href="#define-deg-to-rad-acos-1-180-0" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">RAD_TO_DEC</span></code>: SÅ‚uÅ¼y do konwersji radianÃ³w na stopnie.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="define-rad-to-dec-180-0-acos-1">
<h1>define RAD_TO_DEC (180.0/acos(-1))<a class="headerlink" href="#define-rad-to-dec-180-0-acos-1" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
</section>
<section id="makra-budowania-build-macros">
<h1>Makra budowania (Build Macros)<a class="headerlink" href="#makra-budowania-build-macros" title="Link to this heading">#</a></h1>
<p>Makra te sÄ… definiowane podczas kompilacji i dostarczajÄ… informacji o wersji i Å›rodowisku budowania.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">BUILD_COMMIT</span></code>: Przechowuje hash commita Git. DomyÅ›lnie â€œdevâ€.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="ifndef-build-commit">
<h1>ifndef BUILD_COMMIT<a class="headerlink" href="#ifndef-build-commit" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-commit-dev">
<h1>define BUILD_COMMIT â€œdevâ€<a class="headerlink" href="#define-build-commit-dev" title="Link to this heading">#</a></h1>
</section>
<section id="endif">
<h1>endif<a class="headerlink" href="#endif" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">BUILD_REVISION</span></code>: Przechowuje numer rewizji. DomyÅ›lnie 0.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="ifndef-build-revision">
<h1>ifndef BUILD_REVISION<a class="headerlink" href="#ifndef-build-revision" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-revision-0">
<h1>define BUILD_REVISION 0<a class="headerlink" href="#define-build-revision-0" title="Link to this heading">#</a></h1>
</section>
<section id="id1">
<h1>endif<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">BUILD_TYPE</span></code>: OkreÅ›la typ budowania (np. â€œreleaseâ€, â€œdebugâ€). DomyÅ›lnie â€œunknownâ€.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="ifndef-build-type">
<h1>ifndef BUILD_TYPE<a class="headerlink" href="#ifndef-build-type" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-type-unknown">
<h1>define BUILD_TYPE â€œunknownâ€<a class="headerlink" href="#define-build-type-unknown" title="Link to this heading">#</a></h1>
</section>
<section id="id2">
<h1>endif<a class="headerlink" href="#id2" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">BUILD_ARCH</span></code>: OkreÅ›la architekturÄ™ procesora (x64, x86). Wykrywane automatycznie, jeÅ›li nie jest zdefiniowane.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="ifndef-build-arch">
<h1>ifndef BUILD_ARCH<a class="headerlink" href="#ifndef-build-arch" title="Link to this heading">#</a></h1>
</section>
<section id="if-defined-amd64-defined-m-x64">
<h1>if defined(__amd64) || defined(_M_X64)<a class="headerlink" href="#if-defined-amd64-defined-m-x64" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-arch-x64">
<h1>define BUILD_ARCH â€œx64â€<a class="headerlink" href="#define-build-arch-x64" title="Link to this heading">#</a></h1>
</section>
<section id="elif-defined-i386-defined-m-ix86-defined-x86">
<h1>elif defined(__i386) || defined(_M_IX86) || defined(<em>X86</em>)<a class="headerlink" href="#elif-defined-i386-defined-m-ix86-defined-x86" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-arch-x86">
<h1>define BUILD_ARCH â€œx86â€<a class="headerlink" href="#define-build-arch-x86" title="Link to this heading">#</a></h1>
</section>
<section id="else">
<h1>else<a class="headerlink" href="#else" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-arch-unknown">
<h1>define BUILD_ARCH â€œunknownâ€<a class="headerlink" href="#define-build-arch-unknown" title="Link to this heading">#</a></h1>
</section>
<section id="id3">
<h1>endif<a class="headerlink" href="#id3" title="Link to this heading">#</a></h1>
</section>
<section id="id4">
<h1>endif<a class="headerlink" href="#id4" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
</section>
<section id="namespace-fw">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code><a class="headerlink" href="#namespace-fw" title="Link to this heading">#</a></h1>
<p>PrzestrzeÅ„ nazw <code class="docutils literal notranslate"><span class="pre">Fw</span></code> (skrÃ³t od Framework) grupuje wszystkie staÅ‚e i typy wyliczeniowe, aby uniknÄ…Ä‡ konfliktÃ³w nazw w globalnej przestrzeni nazw.</p>
</section>
<section id="zmienne-globalne">
<h1>Zmienne globalne<a class="headerlink" href="#zmienne-globalne" title="Link to this heading">#</a></h1>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pi</span></code>: StaÅ‚a matematyczna przechowujÄ…ca przybliÅ¼onÄ… wartoÅ›Ä‡ liczby Pi.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">pi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14159265</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">MIN_ALPHA</span></code>: Minimalna wartoÅ›Ä‡ alfa (przezroczystoÅ›ci), poniÅ¼ej ktÃ³rej obiekty mogÄ… byÄ‡ uznawane za w peÅ‚ni przezroczyste.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">MIN_ALPHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.003f</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="typy-wyliczeniowe-enums">
<h1>Typy wyliczeniowe (Enums)<a class="headerlink" href="#typy-wyliczeniowe-enums" title="Link to this heading">#</a></h1>
</section>
<section id="enum-key">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">Key</span></code><a class="headerlink" href="#enum-key" title="Link to this heading">#</a></h1>
<p>Definiuje kody klawiszy klawiatury. WartoÅ›ci liczbowe dla klawiszy drukowalnych odpowiadajÄ… ich kodom ASCII.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>WartoÅ›Ä‡</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyUnknown</span></code></p></td>
<td class="text-left"><p>0</p></td>
<td class="text-left"><p>Nieznany klawisz</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyEscape</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>Klawisz Escape</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyTab</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>Klawisz Tab</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyBackspace</span></code></p></td>
<td class="text-left"><p>3</p></td>
<td class="text-left"><p>Klawisz Backspace</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyEnter</span></code></p></td>
<td class="text-left"><p>5</p></td>
<td class="text-left"><p>Klawisz Enter/Return</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyNumpad9</span></code></p></td>
<td class="text-left"><p>150</p></td>
<td class="text-left"><p>Klawisz 9 na klawiaturze numerycznej</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-loglevel">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">LogLevel</span></code><a class="headerlink" href="#enum-loglevel" title="Link to this heading">#</a></h1>
<p>Definiuje poziomy waÅ¼noÅ›ci dla komunikatÃ³w w systemie logowania.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>WartoÅ›Ä‡</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LogDebug</span></code></p></td>
<td class="text-left"><p>0</p></td>
<td class="text-left"><p>WiadomoÅ›ci debugowania</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LogInfo</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>Informacje ogÃ³lne</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LogWarning</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>OstrzeÅ¼enia</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LogError</span></code></p></td>
<td class="text-left"><p>3</p></td>
<td class="text-left"><p>BÅ‚Ä™dy</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LogFatal</span></code></p></td>
<td class="text-left"><p>4</p></td>
<td class="text-left"><p>BÅ‚Ä™dy krytyczne, powodujÄ…ce zamkniÄ™cie aplikacji</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-aspectratiomode">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AspectRatioMode</span></code><a class="headerlink" href="#enum-aspectratiomode" title="Link to this heading">#</a></h1>
<p>OkreÅ›la, w jaki sposÃ³b zachowaÄ‡ proporcje obrazu podczas skalowania.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">IgnoreAspectRatio</span></code></p></td>
<td class="text-left"><p>Ignoruje proporcje, rozciÄ…gajÄ…c obraz do peÅ‚nego rozmiaru.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeepAspectRatio</span></code></p></td>
<td class="text-left"><p>Zachowuje proporcje, dopasowujÄ…c obraz do mniejszego wymiaru.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeepAspectRatioByExpanding</span></code></p></td>
<td class="text-left"><p>Zachowuje proporcje, wypeÅ‚niajÄ…c caÅ‚y obszar (moÅ¼e przyciÄ…Ä‡ obraz).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-alignmentflag">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AlignmentFlag</span></code><a class="headerlink" href="#enum-alignmentflag" title="Link to this heading">#</a></h1>
<p>Flagi bitowe uÅ¼ywane do okreÅ›lania wyrÃ³wnania tekstu lub widgetÃ³w w kontenerze. MoÅ¼na je Å‚Ä…czyÄ‡ za pomocÄ… operatora <code class="docutils literal notranslate"><span class="pre">|</span></code>.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>WartoÅ›Ä‡</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignNone</span></code></p></td>
<td class="text-left"><p>0</p></td>
<td class="text-left"><p>Brak wyrÃ³wnania</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignLeft</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>WyrÃ³wnanie do lewej</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignRight</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>WyrÃ³wnanie do prawej</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignTop</span></code></p></td>
<td class="text-left"><p>4</p></td>
<td class="text-left"><p>WyrÃ³wnanie do gÃ³ry</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignBottom</span></code></p></td>
<td class="text-left"><p>8</p></td>
<td class="text-left"><p>WyrÃ³wnanie do doÅ‚u</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignHorizontalCenter</span></code></p></td>
<td class="text-left"><p>16</p></td>
<td class="text-left"><p>WyÅ›rodkowanie w poziomie</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignVerticalCenter</span></code></p></td>
<td class="text-left"><p>32</p></td>
<td class="text-left"><p>WyÅ›rodkowanie w pionie</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignCenter</span></code></p></td>
<td class="text-left"><p>48</p></td>
<td class="text-left"><p>PeÅ‚ne wyÅ›rodkowanie (kombinacja <code class="docutils literal notranslate"><span class="pre">HorizontalCenter</span></code> i <code class="docutils literal notranslate"><span class="pre">VerticalCenter</span></code>)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>Inne kombinacje</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-anchoredge">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AnchorEdge</span></code><a class="headerlink" href="#enum-anchoredge" title="Link to this heading">#</a></h1>
<p>Definiuje krawÄ™dzie, do ktÃ³rych moÅ¼na â€œzakotwiczyÄ‡â€ widget w layoucie typu <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AnchorNone</span></code></p></td>
<td class="text-left"><p>Brak zakotwiczenia</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AnchorTop</span></code></p></td>
<td class="text-left"><p>GÃ³rna krawÄ™dÅº</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AnchorBottom</span></code></p></td>
<td class="text-left"><p>Dolna krawÄ™dÅº</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-focusreason">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">FocusReason</span></code><a class="headerlink" href="#enum-focusreason" title="Link to this heading">#</a></h1>
<p>OkreÅ›la przyczynÄ™, dla ktÃ³rej widget otrzymaÅ‚ fokus.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseFocusReason</span></code></p></td>
<td class="text-left"><p>Fokus uzyskany przez klikniÄ™cie myszÄ….</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyboardFocusReason</span></code></p></td>
<td class="text-left"><p>Fokus uzyskany przez nawigacjÄ™ klawiaturÄ… (np. Tab).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ActiveFocusReason</span></code></p></td>
<td class="text-left"><p>Fokus ustawiony programowo.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OtherFocusReason</span></code></p></td>
<td class="text-left"><p>Inna przyczyna.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-autofocuspolicy">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AutoFocusPolicy</span></code><a class="headerlink" href="#enum-autofocuspolicy" title="Link to this heading">#</a></h1>
<p>Definiuje, jak widget-rodzic powinien automatycznie ustawiaÄ‡ fokus na swoich dzieciach.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AutoFocusNone</span></code></p></td>
<td class="text-left"><p>Brak automatycznego fokusa.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AutoFocusFirst</span></code></p></td>
<td class="text-left"><p>Ustawia fokus na pierwszym dziecku, ktÃ³re moÅ¼e go otrzymaÄ‡.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AutoFocusLast</span></code></p></td>
<td class="text-left"><p>Ustawia fokus na ostatnim dziecku, ktÃ³re moÅ¼e go otrzymaÄ‡.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-inputeventtype">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">InputEventType</span></code><a class="headerlink" href="#enum-inputeventtype" title="Link to this heading">#</a></h1>
<p>Definiuje typy zdarzeÅ„ wejÅ›ciowych (klawiatura, mysz).</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">NoInputEvent</span></code></p></td>
<td class="text-left"><p>Brak zdarzenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyTextInputEvent</span></code></p></td>
<td class="text-left"><p>Zdarzenie wprowadzenia tekstu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyDownInputEvent</span></code></p></td>
<td class="text-left"><p>Zdarzenie wciÅ›niÄ™cia klawisza.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyPressInputEvent</span></code></p></td>
<td class="text-left"><p>Zdarzenie przytrzymania klawisza (auto-powtarzanie).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-mousebutton">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">MouseButton</span></code><a class="headerlink" href="#enum-mousebutton" title="Link to this heading">#</a></h1>
<p>Definiuje przyciski myszy oraz dotyk.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseNoButton</span></code></p></td>
<td class="text-left"><p>Brak przycisku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseLeftButton</span></code></p></td>
<td class="text-left"><p>Lewy przycisk myszy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-mousewheeldirection">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">MouseWheelDirection</span></code><a class="headerlink" href="#enum-mousewheeldirection" title="Link to this heading">#</a></h1>
<p>Definiuje kierunek przewijania kÃ³Å‚kiem myszy.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseNoWheel</span></code></p></td>
<td class="text-left"><p>Brak przewijania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseWheelUp</span></code></p></td>
<td class="text-left"><p>Przewijanie w gÃ³rÄ™.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseWheelDown</span></code></p></td>
<td class="text-left"><p>Przewijanie w dÃ³Å‚.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-keyboardmodifier">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">KeyboardModifier</span></code><a class="headerlink" href="#enum-keyboardmodifier" title="Link to this heading">#</a></h1>
<p>Flagi bitowe dla klawiszy modyfikujÄ…cych (Ctrl, Alt, Shift).</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>WartoÅ›Ä‡</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyboardNoModifier</span></code></p></td>
<td class="text-left"><p>0</p></td>
<td class="text-left"><p>Brak modyfikatora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyboardCtrlModifier</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>WciÅ›niÄ™ty Ctrl.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyboardAltModifier</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>WciÅ›niÄ™ty Alt.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyboardShiftModifier</span></code></p></td>
<td class="text-left"><p>4</p></td>
<td class="text-left"><p>WciÅ›niÄ™ty Shift.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-widgetstate">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">WidgetState</span></code><a class="headerlink" href="#enum-widgetstate" title="Link to this heading">#</a></h1>
<p>Flagi bitowe definiujÄ…ce stan widgetu (np. aktywny, najechany, wciÅ›niÄ™ty). UÅ¼ywane do dynamicznego stylowania widgetÃ³w.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>WartoÅ›Ä‡</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">InvalidState</span></code></p></td>
<td class="text-left"><p>-1</p></td>
<td class="text-left"><p>NieprawidÅ‚owy stan.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">DefaultState</span></code></p></td>
<td class="text-left"><p>0</p></td>
<td class="text-left"><p>Stan domyÅ›lny.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ActiveState</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>Widget jest aktywny.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">FocusState</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>Widget ma fokus.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HoverState</span></code></p></td>
<td class="text-left"><p>4</p></td>
<td class="text-left"><p>Kursor myszy jest nad widgetem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-drawpane">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">DrawPane</span></code><a class="headerlink" href="#enum-drawpane" title="Link to this heading">#</a></h1>
<p>OkreÅ›la warstwÄ™ rysowania dla widgetÃ³w, co pozwala na kontrolowanie kolejnoÅ›ci renderowania.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>WartoÅ›Ä‡</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ForegroundPane</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>Warstwa pierwszoplanowa (interfejs uÅ¼ytkownika).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MapBackgroundPane</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>TÅ‚o mapy gry.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MapForegroundPane</span></code></p></td>
<td class="text-left"><p>3</p></td>
<td class="text-left"><p>Pierwszy plan mapy gry (np. efekty nad postaciami).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zaleznosci-i-powiazania">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#zaleznosci-i-powiazania" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/compiler.h</span></code>: Plik ten dostarcza makr i definicji specyficznych dla kompilatora (np. <code class="docutils literal notranslate"><span class="pre">BUILD_COMPILER</span></code>).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="cmakelists-txt">
<h1>ğŸ“„ CMakeLists.txt<a class="headerlink" href="#cmakelists-txt" title="Link to this heading">#</a></h1>
</section>
<section id="id5">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id5" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> jest gÅ‚Ã³wnym skryptem konfiguracyjnym dla systemu budowania CMake. Jego rolÄ… jest zdefiniowanie, jak projekt <code class="docutils literal notranslate"><span class="pre">otclient</span></code> ma byÄ‡ kompilowany. OkreÅ›la on flagi kompilatora, zaleÅ¼noÅ›ci od bibliotek zewnÄ™trznych, listÄ™ plikÃ³w ÅºrÃ³dÅ‚owych oraz opcje konfiguracyjne, ktÃ³re pozwalajÄ… dostosowaÄ‡ proces budowania do rÃ³Å¼nych platform (Windows, Linux, Apple, WebAssembly) i potrzeb (np. wÅ‚Ä…czenie/wyÅ‚Ä…czenie obsÅ‚ugi dÅºwiÄ™ku, grafiki, sieci).</p>
</section>
<section id="opcje-budowania">
<h1>Opcje budowania<a class="headerlink" href="#opcje-budowania" title="Link to this heading">#</a></h1>
<p>Skrypt definiuje kilka opcji, ktÃ³re moÅ¼na kontrolowaÄ‡ podczas generowania projektu.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Opcja</p></th>
<th class="head text-left"><p>DomyÅ›lnie</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LUAJIT</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ON</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa LuaJIT zamiast standardowej biblioteki Lua.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CRASH_HANDLER</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ON</span></code> (poza Apple)</p></td>
<td class="text-left"><p>WÅ‚Ä…cza generowanie raportÃ³w po awarii aplikacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">USE_STATIC_LIBS</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ON</span></code> (poza Apple)</p></td>
<td class="text-left"><p>Linkuje biblioteki statycznie zamiast dynamicznie (DLL).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">USE_LIBCPP</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code> (dla Apple <code class="docutils literal notranslate"><span class="pre">ON</span></code>)</p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">libc++</span></code> zamiast <code class="docutils literal notranslate"><span class="pre">stdc++</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">USE_LTO</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza optymalizacje w czasie linkowania (Link Time Optimizations).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OPENGLES</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa OpenGL ES zamiast standardowego OpenGL. DostÄ™pne wersje â€œ1.0â€, â€œ2.0â€.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">WINDOWS_CONSOLE</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza okno konsoli w systemie Windows.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="flagi-frameworka">
<h1>Flagi frameworka<a class="headerlink" href="#flagi-frameworka" title="Link to this heading">#</a></h1>
<p>Skrypt uÅ¼ywa flag preprocesora do warunkowej kompilacji moduÅ‚Ã³w:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FRAMEWORK_SOUND</span></code>: WÅ‚Ä…cza kompilacjÄ™ moduÅ‚u dÅºwiÄ™ku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FRAMEWORK_GRAPHICS</span></code>: WÅ‚Ä…cza kompilacjÄ™ moduÅ‚u grafiki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FRAMEWORK_NET</span></code>: WÅ‚Ä…cza kompilacjÄ™ moduÅ‚u sieciowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FRAMEWORK_XML</span></code>: WÅ‚Ä…cza kompilacjÄ™ moduÅ‚u do parsowania XML (TinyXML).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FRAMEWORK_THREAD_SAFE</span></code>: Dodaje definicjÄ™ <code class="docutils literal notranslate"><span class="pre">THREAD_SAFE</span></code>, prawdopodobnie dla kodu wielowÄ…tkowego.</p></li>
</ul>
</section>
<section id="struktura-projektu-pliki-zrodlowe">
<h1>Struktura projektu (pliki ÅºrÃ³dÅ‚owe)<a class="headerlink" href="#struktura-projektu-pliki-zrodlowe" title="Link to this heading">#</a></h1>
<p>Plik definiuje listÄ™ wszystkich plikÃ³w ÅºrÃ³dÅ‚owych (<code class="docutils literal notranslate"><span class="pre">.h</span></code>, <code class="docutils literal notranslate"><span class="pre">.cpp</span></code>, <code class="docutils literal notranslate"><span class="pre">.c</span></code>) skÅ‚adajÄ…cych siÄ™ na framework. SÄ… one pogrupowane w logiczne moduÅ‚y:</p>
<ul class="simple">
<li><p><strong>GÅ‚Ã³wne pliki</strong>: <code class="docutils literal notranslate"><span class="pre">const.h</span></code>, <code class="docutils literal notranslate"><span class="pre">global.h</span></code>, <code class="docutils literal notranslate"><span class="pre">pch.h</span></code>, <code class="docutils literal notranslate"><span class="pre">luafunctions.cpp</span></code></p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">util</span></code></strong>: NarzÄ™dzia pomocnicze (kolory, kryptografia, obsÅ‚uga PNG, struktury danych jak <code class="docutils literal notranslate"><span class="pre">Rect</span></code>, <code class="docutils literal notranslate"><span class="pre">Point</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stdext</span></code></strong>: Rozszerzenia standardowej biblioteki C++ (obsÅ‚uga stringÃ³w, czasu, rzutowania typÃ³w, wÄ…tkÃ³w).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">core</span></code></strong>: RdzeÅ„ aplikacji (pÄ™tla gÅ‚Ã³wna, obsÅ‚uga zdarzeÅ„, logowanie, zarzÄ…dzanie moduÅ‚ami i zasobami).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaengine</span></code></strong>: Silnik Lua i mechanizmy bindowania C++ do Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otml</span></code></strong>: Parser i emiter dla jÄ™zyka OTML (OTClient Markup Language).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">platform</span></code></strong>: Kod specyficzny dla platformy (obsÅ‚uga okien, obsÅ‚uga awarii).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graphics</span></code> (warunkowo)</strong>: Silnik graficzny (OpenGL, shadery, tekstury, fonty, UI).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">sound</span></code> (warunkowo)</strong>: Silnik dÅºwiÄ™ku (OpenAL, obsÅ‚uga OGG Vorbis).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">net</span></code> (warunkowo)</strong>: ObsÅ‚uga sieci (poÅ‚Ä…czenia, protokoÅ‚y, serwer, proxy).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">xml</span></code> (warunkowo)</strong>: Parser TinyXML.</p></li>
</ul>
</section>
<section id="id6">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id6" title="Link to this heading">#</a></h1>
<p>Skrypt wyszukuje i linkuje nastÄ™pujÄ…ce biblioteki zewnÄ™trzne:</p>
<ul class="simple">
<li><p><strong>Boost</strong> (<code class="docutils literal notranslate"><span class="pre">system</span></code>, <code class="docutils literal notranslate"><span class="pre">filesystem</span></code>): UÅ¼ywane do operacji na systemie plikÃ³w i innych podstawowych funkcjonalnoÅ›ci.</p></li>
<li><p><strong>ZLIB, BZip2, LibZip</strong>: Do kompresji i dekompresji danych.</p></li>
<li><p><strong>LuaJIT</strong> lub <strong>Lua</strong>: Silnik skryptowy.</p></li>
<li><p><strong>PhysFS</strong>: Wirtualny system plikÃ³w, do obsÅ‚ugi zasobÃ³w w archiwach.</p></li>
<li><p><strong>OpenSSL</strong>: Do funkcji kryptograficznych (RSA, SHA, MD5).</p></li>
<li><p><strong>OpenGL/OpenGLES, EGL</strong>: Do renderowania grafiki.</p></li>
<li><p><strong>GLEW</strong>: Do zarzÄ…dzania rozszerzeniami OpenGL.</p></li>
<li><p><strong>OpenAL, Vorbis, Ogg</strong>: Do obsÅ‚ugi dÅºwiÄ™ku.</p></li>
</ul>
</section>
<section id="konfiguracja-dla-webassembly-wasm">
<h1>Konfiguracja dla WebAssembly (WASM)<a class="headerlink" href="#konfiguracja-dla-webassembly-wasm" title="Link to this heading">#</a></h1>
<p>Specjalny blok <code class="docutils literal notranslate"><span class="pre">if(WASM)</span></code> dostosowuje kompilacjÄ™ dla platformy WebAssembly przy uÅ¼yciu Emscripten. Ustawia specyficzne flagi (<code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">USE_ZLIB=1</span></code>, etc.), linkuje prekompilowane biblioteki (<code class="docutils literal notranslate"><span class="pre">.a</span></code>) i doÅ‚Ä…cza ÅºrÃ³dÅ‚a Lua bezpoÅ›rednio do projektu, zamiast linkowaÄ‡ je jako zewnÄ™trznÄ… bibliotekÄ™.</p>
</section>
<section id="flagi-kompilatora">
<h1>Flagi kompilatora<a class="headerlink" href="#flagi-kompilatora" title="Link to this heading">#</a></h1>
<p>Skrypt ustawia rÃ³Å¼ne flagi kompilatora w zaleÅ¼noÅ›ci od typu budowania (<code class="docutils literal notranslate"><span class="pre">CMAKE_BUILD_TYPE</span></code>):</p>
<ul class="simple">
<li><p><strong>Debug</strong>: <code class="docutils literal notranslate"><span class="pre">-O0</span> <span class="pre">-g</span></code> (niska optymalizacja, peÅ‚ne informacje debugowania).</p></li>
<li><p><strong>Release</strong>: <code class="docutils literal notranslate"><span class="pre">-O2</span></code> (wysoka optymalizacja, brak informacji debugowania).</p></li>
<li><p><strong>RelWithDebInfo</strong>: <code class="docutils literal notranslate"><span class="pre">-O1</span> <span class="pre">-g</span></code> (Å›rednia optymalizacja z informacjami debugowania).</p></li>
<li><p><strong>Performance</strong>: <code class="docutils literal notranslate"><span class="pre">-Ofast</span> <span class="pre">-march=native</span></code> (najwyÅ¼sze optymalizacje, specyficzne dla architektury).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="global-h">
<h1>ğŸ“„ global.h<a class="headerlink" href="#global-h" title="Link to this heading">#</a></h1>
</section>
<section id="id7">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id7" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">global.h</span></code> jest jednym z kluczowych plikÃ³w nagÅ‚Ã³wkowych w frameworku. Jego gÅ‚Ã³wnym zadaniem jest wÅ‚Ä…czenie najwaÅ¼niejszych, globalnie uÅ¼ywanych definicji i nagÅ‚Ã³wkÃ³w w jednym miejscu. DziÄ™ki temu inne pliki mogÄ… doÅ‚Ä…czyÄ‡ tylko ten jeden plik, aby uzyskaÄ‡ dostÄ™p do podstawowych typÃ³w danych, staÅ‚ych, makr i narzÄ™dzi.</p>
</section>
<section id="id8">
<h1>Definicje i Makra<a class="headerlink" href="#id8" title="Link to this heading">#</a></h1>
</section>
<section id="validate-expression">
<h1><code class="docutils literal notranslate"><span class="pre">VALIDATE(expression)</span></code><a class="headerlink" href="#validate-expression" title="Link to this heading">#</a></h1>
<p>Jest to makro asercji, ktÃ³re jest aktywne tylko w trybie debugowania (gdy <code class="docutils literal notranslate"><span class="pre">NDEBUG</span></code> nie jest zdefiniowane). JeÅ›li wyraÅ¼enie (expression) jest faÅ‚szywe, makro wywoÅ‚uje funkcjÄ™ <code class="docutils literal notranslate"><span class="pre">fatalError</span></code>, ktÃ³ra przerywa dziaÅ‚anie programu i wyÅ›wietla komunikat o bÅ‚Ä™dzie zawierajÄ…cy nazwÄ™ pliku i numer linii. W trybie wydajnoÅ›ciowym (<code class="docutils literal notranslate"><span class="pre">NDEBUG</span></code> zdefiniowane) makro jest puste i nie generuje Å¼adnego kodu.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp"># if defined(NDEBUG)</span>
<span class="cp"># define VALIDATE(expression) ((void)0)</span>
<span class="cp"># else</span>
<span class="k">extern</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">fatalError</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">line</span><span class="p">);</span>
<span class="cp"># define VALIDATE(expression) { if(!(expression)) fatalError(#expression, __FILE__, __LINE__); };</span>
<span class="cp"># endif</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>UÅ¼ycie</strong>: SÅ‚uÅ¼y do sprawdzania warunkÃ³w, ktÃ³re muszÄ… byÄ‡ zawsze prawdziwe w trakcie dziaÅ‚ania programu, np. sprawdzania, czy wskaÅºnik nie jest <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p></li>
</ul>
</section>
<section id="id9">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id9" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">global.h</span></code> wÅ‚Ä…cza nastÄ™pujÄ…ce nagÅ‚Ã³wki, udostÄ™pniajÄ…c ich zawartoÅ›Ä‡ wszystkim plikom, ktÃ³re go doÅ‚Ä…czajÄ…:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/compiler.h</span></code>: Zawiera definicje specyficzne dla kompilatora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/pch.h</span></code>: Prekompilowany nagÅ‚Ã³wek, ktÃ³ry zawiera standardowe biblioteki C/C++ oraz biblioteki firm trzecich, takie jak Boost.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/const.h</span></code>: Definiuje globalne staÅ‚e, makra i typy wyliczeniowe (enumy).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/stdext.h</span></code>: Zawiera rozszerzenia standardowej biblioteki C++, takie jak dodatkowe algorytmy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/point.h</span></code>, <code class="docutils literal notranslate"><span class="pre">color.h</span></code>, <code class="docutils literal notranslate"><span class="pre">rect.h</span></code>, <code class="docutils literal notranslate"><span class="pre">size.h</span></code>, <code class="docutils literal notranslate"><span class="pre">matrix.h</span></code>: DefiniujÄ… podstawowe struktury danych uÅ¼ywane w grafice i logice.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/logger.h</span></code>: UdostÄ™pnia globalny obiekt <code class="docutils literal notranslate"><span class="pre">g_logger</span></code> do logowania komunikatÃ³w.</p></li>
</ul>
<p>DziÄ™ki temu <code class="docutils literal notranslate"><span class="pre">global.h</span></code> dziaÅ‚a jako centralny punkt dostÄ™pu do najczÄ™Å›ciej uÅ¼ywanych elementÃ³w frameworka.</p>
</section>
<hr class="docutils"/>
<section id="pch-h">
<h1>ğŸ“„ pch.h<a class="headerlink" href="#pch-h" title="Link to this heading">#</a></h1>
</section>
<section id="id10">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id10" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">pch.h</span></code> (Precompiled Header) to plik nagÅ‚Ã³wkowy, ktÃ³rego celem jest przyspieszenie procesu kompilacji. Zawiera on dyrektywy <code class="docutils literal notranslate"><span class="pre">#include</span></code> dla nagÅ‚Ã³wkÃ³w, ktÃ³re sÄ… czÄ™sto uÅ¼ywane w caÅ‚ym projekcie, ale rzadko siÄ™ zmieniajÄ…. Kompilator moÅ¼e wstÄ™pnie przetworzyÄ‡ ten plik i zapisaÄ‡ jego stan, co pozwala na ponowne wykorzystanie go podczas kompilacji innych plikÃ³w ÅºrÃ³dÅ‚owych, zamiast parsowaÄ‡ te same nagÅ‚Ã³wki wielokrotnie.</p>
</section>
<section id="zawartosc-pliku">
<h1>ZawartoÅ›Ä‡ pliku<a class="headerlink" href="#zawartosc-pliku" title="Link to this heading">#</a></h1>
<p>Plik ten jest podzielony na kilka sekcji, grupujÄ…cych nagÅ‚Ã³wki wedÅ‚ug ich pochodzenia i przeznaczenia.</p>
</section>
<section id="standardowe-naglowki-c">
<h1>Standardowe nagÅ‚Ã³wki C<a class="headerlink" href="#standardowe-naglowki-c" title="Link to this heading">#</a></h1>
<p>Zawiera podstawowe nagÅ‚Ã³wki z biblioteki standardowej C, takie jak <code class="docutils literal notranslate"><span class="pre">cstdio</span></code>, <code class="docutils literal notranslate"><span class="pre">cstdlib</span></code>, <code class="docutils literal notranslate"><span class="pre">cstring</span></code>, <code class="docutils literal notranslate"><span class="pre">cmath</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstdio&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstddef&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstring&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span>
</pre></div>
</div>
</section>
<section id="standardowe-naglowki-stl-c">
<h1>Standardowe nagÅ‚Ã³wki STL (C++)<a class="headerlink" href="#standardowe-naglowki-stl-c" title="Link to this heading">#</a></h1>
<p>WÅ‚Ä…cza najwaÅ¼niejsze i najczÄ™Å›ciej uÅ¼ywane kontenery, strumienie i algorytmy z biblioteki standardowej C++.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;sstream&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;set&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;list&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;deque&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;map&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;algorithm&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;functional&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;array&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;unordered_map&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;unordered_set&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;tuple&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;iomanip&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;typeinfo&gt;</span>
</pre></div>
</div>
</section>
<section id="nowoczesne-naglowki-c-c-11-i-nowsze">
<h1>Nowoczesne nagÅ‚Ã³wki C++ (C++11 i nowsze)<a class="headerlink" href="#nowoczesne-naglowki-c-c-11-i-nowsze" title="Link to this heading">#</a></h1>
<p>WÅ‚Ä…cza nagÅ‚Ã³wki zwiÄ…zane z wielowÄ…tkowoÅ›ciÄ…, inteligentnymi wskaÅºnikami, czasem i losowoÅ›ciÄ…, wprowadzone w nowszych standardach C++. Plik <code class="docutils literal notranslate"><span class="pre">filesystem</span></code> jest doÅ‚Ä…czany warunkowo (poza Androidem).</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;thread&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;memory&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;functional&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;condition_variable&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;mutex&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;future&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;chrono&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;random&gt;</span>
<span class="cp"># ifndef ANDROID</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;filesystem&gt;</span>
<span class="cp"># endif</span>
</pre></div>
</div>
</section>
<section id="biblioteka-boost">
<h1>Biblioteka Boost<a class="headerlink" href="#biblioteka-boost" title="Link to this heading">#</a></h1>
<p>WÅ‚Ä…cza nagÅ‚Ã³wki z biblioteki Boost, gÅ‚Ã³wnie z moduÅ‚Ã³w <strong>Asio</strong> (do operacji sieciowych) i <strong>Beast</strong> (do obsÅ‚ugi protokoÅ‚Ã³w HTTP i WebSocket).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">boost/system/config.hpp</span></code>, <code class="docutils literal notranslate"><span class="pre">error_code.hpp</span></code>: Podstawowe elementy systemu Boost.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio.hpp</span></code>, <code class="docutils literal notranslate"><span class="pre">beast.hpp</span></code>: GÅ‚Ã³wne nagÅ‚Ã³wki dla Asio i Beast.</p></li>
<li><p>NagÅ‚Ã³wki warunkowe dla SSL (<code class="docutils literal notranslate"><span class="pre">__EMSCRIPTEN__</span></code> wyÅ‚Ä…cza je, poniewaÅ¼ obsÅ‚uga SSL w przeglÄ…darce jest inna).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/hex.hpp</span></code>: Do operacji na systemie szesnastkowym.</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp"># ifdef ANDROID</span>
<span class="cp"># define BOOST_UUID_RANDOM_PROVIDER_FORCE_POSIX</span>
<span class="cp"># endif</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;boost/system/config.hpp&gt;</span>
<span class="c1">// ... (inne nagÅ‚Ã³wki boost)</span>
</pre></div>
</div>
</section>
<section id="id11">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id11" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">pch.h</span></code> jest plikiem â€œliÅ›ciemâ€ w hierarchii zaleÅ¼noÅ›ci â€” sam nie zaleÅ¼y od innych plikÃ³w projektu. JednakÅ¼e, jest on doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">global.h</span></code>, co czyni go poÅ›redniÄ… zaleÅ¼noÅ›ciÄ… dla niemal kaÅ¼dego pliku w projekcie. Zapewnia on dostÄ™p do szerokiej gamy narzÄ™dzi z biblioteki standardowej C++ i Boost.</p>
</section>
<hr class="docutils"/>
<section id="luafunctions-cpp">
<h1>ğŸ“„ luafunctions.cpp<a class="headerlink" href="#luafunctions-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id12">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id12" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luafunctions.cpp</span></code> implementuje metodÄ™ <code class="docutils literal notranslate"><span class="pre">Application::registerLuaFunctions()</span></code>, ktÃ³ra jest kluczowym elementem integracji silnika C++ z Lua. Funkcja ta jest odpowiedzialna za zarejestrowanie (zbindowanie) klas, funkcji i obiektÃ³w singletonowych z C++ w globalnym Å›rodowisku Lua. DziÄ™ki temu skrypty Lua mogÄ… wywoÅ‚ywaÄ‡ funkcje C++, tworzyÄ‡ obiekty C++ (np. widgety UI) i manipulowaÄ‡ nimi, co stanowi podstawÄ™ modularnoÅ›ci i rozszerzalnoÅ›ci klienta.</p>
</section>
<section id="application-registerluafunctions">
<h1><code class="docutils literal notranslate"><span class="pre">Application::registerLuaFunctions()</span></code><a class="headerlink" href="#application-registerluafunctions" title="Link to this heading">#</a></h1>
</section>
<section id="opis-semantyczny">
<h1>Opis semantyczny<a class="headerlink" href="#opis-semantyczny" title="Link to this heading">#</a></h1>
<p>Metoda ta jest wywoÅ‚ywana jednorazowo podczas inicjalizacji aplikacji (<code class="docutils literal notranslate"><span class="pre">Application::init</span></code>). Przechodzi przez wszystkie gÅ‚Ã³wne moduÅ‚y frameworka (takie jak <code class="docutils literal notranslate"><span class="pre">Platform</span></code>, <code class="docutils literal notranslate"><span class="pre">Application</span></code>, <code class="docutils literal notranslate"><span class="pre">Crypt</span></code>, <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>, <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> itd.) i udostÄ™pnia ich publiczne API w Å›rodowisku Lua. KaÅ¼dy zarejestrowany element staje siÄ™ dostÄ™pny w Lua jako zmienna globalna (np. <code class="docutils literal notranslate"><span class="pre">g_app</span></code>, <code class="docutils literal notranslate"><span class="pre">g_crypt</span></code>) lub jako klasa (np. <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>).</p>
</section>
<section id="zarejestrowane-elementy">
<h1>Zarejestrowane elementy<a class="headerlink" href="#zarejestrowane-elementy" title="Link to this heading">#</a></h1>
<p>PoniÅ¼ej znajduje siÄ™ lista zarejestrowanych elementÃ³w pogrupowanych wedÅ‚ug moduÅ‚Ã³w.</p>
</section>
<section id="konwersje-i-narzedzia-globalne">
<h1>Konwersje i narzÄ™dzia globalne<a class="headerlink" href="#konwersje-i-narzedzia-globalne" title="Link to this heading">#</a></h1>
<p>Rejestruje globalne funkcje pomocnicze w Lua do konwersji typÃ³w danych miÄ™dzy stringami a obiektami C++ oraz inne narzÄ™dzia.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">torect</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">stdext::from_string&lt;Rect&gt;</span></code></p></td>
<td class="text-left"><p>Konwertuje string na obiekt <code class="docutils literal notranslate"><span class="pre">Rect</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">topoint</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">stdext::from_string&lt;Point&gt;</span></code></p></td>
<td class="text-left"><p>Konwertuje string na obiekt <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ucwords</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">stdext::ucwords</span></code></p></td>
<td class="text-left"><p>Zamienia pierwszÄ… literÄ™ kaÅ¼dego sÅ‚owa na wielkÄ….</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">regexMatch</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">lambda</span></code></p></td>
<td class="text-left"><p>Wyszukuje dopasowania wyraÅ¼eÅ„ regularnych w stringu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="platform-g-platform">
<h1>Platform (<code class="docutils literal notranslate"><span class="pre">g_platform</span></code>)<a class="headerlink" href="#platform-g-platform" title="Link to this heading">#</a></h1>
<p>UdostÄ™pnia funkcje zwiÄ…zane z systemem operacyjnym. NiektÃ³re funkcje sÄ… dostÄ™pne tylko gdy zdefiniowano <code class="docutils literal notranslate"><span class="pre">UNSAFE_LUA_FUNCTIONS</span></code>.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">spawnProcess</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Platform::spawnProcess</span></code></p></td>
<td class="text-left"><p>Uruchamia nowy proces (niebezpieczne).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getProcessId</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Platform::getProcessId</span></code></p></td>
<td class="text-left"><p>Zwraca ID bieÅ¼Ä…cego procesu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openUrl</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Platform::openUrl</span></code></p></td>
<td class="text-left"><p>Otwiera podany URL w domyÅ›lnej przeglÄ…darce.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getOSName</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Platform::getOSName</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ systemu operacyjnego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="application-g-app">
<h1>Application (<code class="docutils literal notranslate"><span class="pre">g_app</span></code>)<a class="headerlink" href="#application-g-app" title="Link to this heading">#</a></h1>
<p>UdostÄ™pnia API do zarzÄ…dzania gÅ‚Ã³wnym obiektem aplikacji.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setName</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Application::setName</span></code></p></td>
<td class="text-left"><p>Ustawia nazwÄ™ aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isRunning</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Application::isRunning</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy aplikacja jest uruchomiona.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">exit</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Application::exit</span></code></p></td>
<td class="text-left"><p>Inicjuje proces zamykania aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBuildCompiler</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Application::getBuildCompiler</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ kompilatora uÅ¼ytego do budowy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isMobile</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Application::isMobile</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy aplikacja dziaÅ‚a w trybie mobilnym.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="crypt-g-crypt">
<h1>Crypt (<code class="docutils literal notranslate"><span class="pre">g_crypt</span></code>)<a class="headerlink" href="#crypt-g-crypt" title="Link to this heading">#</a></h1>
<p>UdostÄ™pnia funkcje kryptograficzne.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">genUUID</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Crypt::genUUID</span></code></p></td>
<td class="text-left"><p>Generuje unikalny identyfikator UUID.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">sha1Encode</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Crypt::sha1Encode</span></code></p></td>
<td class="text-left"><p>Koduje string za pomocÄ… SHA1.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">rsaGenerateKey</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Crypt::rsaGenerateKey</span></code></p></td>
<td class="text-left"><p>Generuje klucze RSA.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="clock-g-clock">
<h1>Clock (<code class="docutils literal notranslate"><span class="pre">g_clock</span></code>)<a class="headerlink" href="#clock-g-clock" title="Link to this heading">#</a></h1>
<p>UdostÄ™pnia funkcje zwiÄ…zane z czasem i zegarem systemowym.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">micros</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Clock::micros</span></code></p></td>
<td class="text-left"><p>Zwraca czas w mikrosekundach od uruchomienia aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">millis</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Clock::millis</span></code></p></td>
<td class="text-left"><p>Zwraca czas w milisekundach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">seconds</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Clock::seconds</span></code></p></td>
<td class="text-left"><p>Zwraca czas w sekundach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="configmanager-g-configs">
<h1>ConfigManager (<code class="docutils literal notranslate"><span class="pre">g_configs</span></code>)<a class="headerlink" href="#configmanager-g-configs" title="Link to this heading">#</a></h1>
<p>API do zarzÄ…dzania plikami konfiguracyjnymi.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getSettings</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigManager::getSettings</span></code></p></td>
<td class="text-left"><p>Zwraca gÅ‚Ã³wny obiekt konfiguracyjny.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">load</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigManager::load</span></code></p></td>
<td class="text-left"><p>Åaduje plik konfiguracyjny.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="logger-g-logger">
<h1>Logger (<code class="docutils literal notranslate"><span class="pre">g_logger</span></code>)<a class="headerlink" href="#logger-g-logger" title="Link to this heading">#</a></h1>
<p>API do logowania wiadomoÅ›ci.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">log</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Logger::log</span></code></p></td>
<td class="text-left"><p>Loguje wiadomoÅ›Ä‡ z podanym poziomem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">debug</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Logger::debug</span></code></p></td>
<td class="text-left"><p>Loguje wiadomoÅ›Ä‡ na poziomie <code class="docutils literal notranslate"><span class="pre">LogDebug</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="resourcemanager-g-resources">
<h1>ResourceManager (<code class="docutils literal notranslate"><span class="pre">g_resources</span></code>)<a class="headerlink" href="#resourcemanager-g-resources" title="Link to this heading">#</a></h1>
<p>ZarzÄ…dzanie plikami i zasobami.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">fileExists</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ResourceManager::fileExists</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy plik istnieje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">readFileContents</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ResourceManager::readFileContentsSafe</span></code></p></td>
<td class="text-left"><p>Odczytuje zawartoÅ›Ä‡ pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">writeFileContents</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ResourceManager::writeFileContents</span></code></p></td>
<td class="text-left"><p>Zapisuje zawartoÅ›Ä‡ do pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">createArchive</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ResourceManager::createArchive</span></code></p></td>
<td class="text-left"><p>Tworzy archiwum ZIP z podanych plikÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>â€¦</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="ui-i-grafika-zalezne-od-fw-graphics">
<h1>UI i Grafika (zaleÅ¼ne od <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>)<a class="headerlink" href="#ui-i-grafika-zalezne-od-fw-graphics" title="Link to this heading">#</a></h1>
<p>Rejestruje klasy i funkcje zwiÄ…zane z interfejsem uÅ¼ytkownika, oknem, grafikÄ… i fontami. To najobszerniejsza sekcja.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_app</span></code> (metody graficzne)</strong>: <code class="docutils literal notranslate"><span class="pre">setMaxFps</span></code>, <code class="docutils literal notranslate"><span class="pre">getFps</span></code>, <code class="docutils literal notranslate"><span class="pre">doScreenshot</span></code></p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_window</span></code></strong>: ZarzÄ…dzanie oknem aplikacji (<code class="docutils literal notranslate"><span class="pre">move</span></code>, <code class="docutils literal notranslate"><span class="pre">resize</span></code>, <code class="docutils literal notranslate"><span class="pre">setTitle</span></code>, <code class="docutils literal notranslate"><span class="pre">setFullscreen</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_mouse</span></code></strong>: ZarzÄ…dzanie kursorami myszy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_graphics</span></code></strong>: Informacje o sterowniku graficznym.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_textures</span></code></strong>: ZarzÄ…dzanie teksturami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_shaders</span></code></strong>: Tworzenie i zarzÄ…dzanie shaderami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_ui</span></code></strong>: GÅ‚Ã³wny menedÅ¼er UI (<code class="docutils literal notranslate"><span class="pre">loadUI</span></code>, <code class="docutils literal notranslate"><span class="pre">createWidget</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_fonts</span></code></strong>: ZarzÄ…dzanie fontami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">UIWidget</span></code></strong>: Rejestracja klasy bazowej dla wszystkich widgetÃ³w z ogromnÄ… liczbÄ… metod (np. <code class="docutils literal notranslate"><span class="pre">addChild</span></code>, <code class="docutils literal notranslate"><span class="pre">setRect</span></code>, <code class="docutils literal notranslate"><span class="pre">setText</span></code>, <code class="docutils literal notranslate"><span class="pre">setImageSource</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">UILayout</span></code> i pochodne</strong>: Rejestracja klas layoutÃ³w (<code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code></strong>: Rejestracja widgetu do edycji tekstu.</p></li>
</ul>
</section>
<section id="siec-zalezne-od-fw-net">
<h1>SieÄ‡ (zaleÅ¼ne od <code class="docutils literal notranslate"><span class="pre">FW_NET</span></code>)<a class="headerlink" href="#siec-zalezne-od-fw-net" title="Link to this heading">#</a></h1>
<p>Rejestruje klasy do obsÅ‚ugi sieci.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Server</span></code></strong>: Do tworzenia serwerÃ³w nasÅ‚uchujÄ…cych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Connection</span></code></strong>: Reprezentuje poÅ‚Ä…czenie TCP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Protocol</span></code></strong>: Implementuje protokÃ³Å‚ komunikacyjny.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">InputMessage</span></code> / <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code></strong>: Do odczytu i zapisu pakietÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_proxy</span></code></strong>: MenedÅ¼er proxy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_http</span></code></strong>: Do zapytaÅ„ HTTP/HTTPS i WebSocket.</p></li>
</ul>
</section>
<section id="dzwiek-zalezne-od-fw-sound">
<h1>DÅºwiÄ™k (zaleÅ¼ne od <code class="docutils literal notranslate"><span class="pre">FW_SOUND</span></code>)<a class="headerlink" href="#dzwiek-zalezne-od-fw-sound" title="Link to this heading">#</a></h1>
<p>Rejestruje klasy i funkcje do obsÅ‚ugi dÅºwiÄ™ku.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_sounds</span></code></strong>: MenedÅ¼er dÅºwiÄ™ku (<code class="docutils literal notranslate"><span class="pre">play</span></code>, <code class="docutils literal notranslate"><span class="pre">stopAll</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code></strong>: KanaÅ‚y dÅºwiÄ™kowe.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SoundSource</span></code></strong>: Å¹rÃ³dÅ‚a dÅºwiÄ™ku.</p></li>
</ul>
</section>
<section id="id13">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id13" title="Link to this heading">#</a></h1>
<p>Plik ten jest silnie powiÄ…zany z praktycznie kaÅ¼dym moduÅ‚em frameworka, poniewaÅ¼ jego zadaniem jest udostÄ™pnienie ich funkcjonalnoÅ›ci w Lua. WÅ‚Ä…cza nagÅ‚Ã³wki z:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics</span></code> (jeÅ›li <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code> jest zdefiniowane)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound</span></code> (jeÅ›li <code class="docutils literal notranslate"><span class="pre">FW_SOUND</span></code> jest zdefiniowane)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/input</span></code></p></li>
</ul>
<p>Jest to centralny punkt Å‚Ä…czÄ…cy warstwÄ™ C++ z warstwÄ… skryptowÄ… Lua.</p>
</section>
<hr class="docutils"/>
<section id="resourcemanager-h">
<h1>ğŸ“„ resourcemanager.h<a class="headerlink" href="#resourcemanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id14">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id14" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">resourcemanager.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_resources</span></code>) odpowiedzialnym za zarzÄ…dzanie wszystkimi zasobami plikÃ³w w aplikacji. Abstrakcjonuje dostÄ™p do plikÃ³w, umoÅ¼liwiajÄ…c ich odczyt zarÃ³wno z fizycznego systemu plikÃ³w, jak i z wirtualnych archiwÃ³w (np. <code class="docutils literal notranslate"><span class="pre">data.zip</span></code>) lub nawet z pamiÄ™ci (dane wbudowane w plik wykonywalny). Jest to kluczowy element, ktÃ³ry umoÅ¼liwia Å‚atwe zarzÄ…dzanie zasobami gry, takimi jak grafiki, dÅºwiÄ™ki, skrypty i pliki konfiguracyjne.</p>
</section>
<section id="klasa-resourcemanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code><a class="headerlink" href="#klasa-resourcemanager" title="Link to this heading">#</a></h1>
</section>
<section id="id15">
<h1>Opis semantyczny<a class="headerlink" href="#id15" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> inicjalizuje wirtualny system plikÃ³w oparty na bibliotece <strong>PhysFS</strong>. OkreÅ›la on katalogi robocze (<code class="docutils literal notranslate"><span class="pre">work</span> <span class="pre">dir</span></code>) i katalogi do zapisu (<code class="docutils literal notranslate"><span class="pre">write</span> <span class="pre">dir</span></code>), montuje archiwa z danymi i dostarcza ujednolicony interfejs do operacji na plikach. Klasa ta obsÅ‚uguje rÃ³wnieÅ¼ szyfrowanie i deszyfrowanie plikÃ³w w locie oraz mechanizmy aktualizacji klienta.</p>
</section>
<section id="metody-publiczne">
<h1>Metody publiczne<a class="headerlink" href="#metody-publiczne" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">init(const</span> <span class="pre">char</span> <span class="pre">*argv0)</span></code></p></td>
<td class="text-left"><p>Inicjalizuje PhysFS i ustawia Å›cieÅ¼kÄ™ do pliku binarnego aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Deinicjalizuje PhysFS.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">launchCorrect(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy istnieje nowsza wersja pliku wykonywalnego w katalogu zapisu i jÄ… uruchamia (tylko Windows).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setupWriteDir(...)</span></code></p></td>
<td class="text-left"><p>Konfiguruje i montuje katalog zapisu dla danych uÅ¼ytkownika.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setup()</span></code></p></td>
<td class="text-left"><p>Wyszukuje i montuje gÅ‚Ã³wny katalog roboczy (np. z plikiem <code class="docutils literal notranslate"><span class="pre">init.lua</span></code> lub archiwum <code class="docutils literal notranslate"><span class="pre">data.zip</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">loadDataFromSelf(...)</span></code></p></td>
<td class="text-left"><p>PrÃ³buje zaÅ‚adowaÄ‡ dane (archiwum) wbudowane w sam plik wykonywalny.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">fileExists(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy plik istnieje w wirtualnym systemie plikÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">directoryExists(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy katalog istnieje.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">readFileContents(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje zawartoÅ›Ä‡ pliku jako string, opcjonalnie deszyfrujÄ…c go.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">writeFileContents(...)</span></code></p></td>
<td class="text-left"><p>Zapisuje string do pliku w katalogu zapisu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openFile(...)</span></code></p></td>
<td class="text-left"><p>Otwiera plik i zwraca wskaÅºnik do <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> do odczytu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">createFile(...)</span></code></p></td>
<td class="text-left"><p>Tworzy plik i zwraca wskaÅºnik do <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> do zapisu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">deleteFile(...)</span></code></p></td>
<td class="text-left"><p>Usuwa plik.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">makeDir(...)</span></code></p></td>
<td class="text-left"><p>Tworzy katalog.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">listDirectoryFiles(...)</span></code></p></td>
<td class="text-left"><p>Zwraca listÄ™ plikÃ³w w danym katalogu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">resolvePath(...)</span></code></p></td>
<td class="text-left"><p>TÅ‚umaczy Å›cieÅ¼kÄ™ relatywnÄ… (np. wzglÄ™dem bieÅ¼Ä…cego skryptu Lua) na Å›cieÅ¼kÄ™ absolutnÄ… w wirtualnym systemie plikÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getWorkDir()</span></code></p></td>
<td class="text-left"><p>Zwraca gÅ‚Ã³wny katalog roboczy (zawsze â€œ/â€).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getWriteDir()</span></code></p></td>
<td class="text-left"><p>Zwraca Å›cieÅ¼kÄ™ do katalogu zapisu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBinaryName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ pliku wykonywalnego aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">fileChecksum(...)</span></code></p></td>
<td class="text-left"><p>Oblicza sumÄ™ kontrolnÄ… CRC32 dla pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">filesChecksums()</span></code></p></td>
<td class="text-left"><p>Zwraca mapÄ™ sum kontrolnych dla wszystkich plikÃ³w w zamontowanym archiwum.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">selfChecksum()</span></code></p></td>
<td class="text-left"><p>Oblicza sumÄ™ kontrolnÄ… CRC32 dla samego pliku wykonywalnego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">updateData(...)</span></code></p></td>
<td class="text-left"><p>Aktualizuje pliki w gÅ‚Ã³wnym archiwum <code class="docutils literal notranslate"><span class="pre">data.zip</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">updateExecutable(...)</span></code></p></td>
<td class="text-left"><p>ZastÄ™puje plik wykonywalny nowÄ… wersjÄ… (np. po aktualizacji).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">createArchive(...)</span></code></p></td>
<td class="text-left"><p>Tworzy archiwum ZIP w pamiÄ™ci z podanej mapy plikÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">decompressArchive(...)</span></code></p></td>
<td class="text-left"><p>Dekompresuje archiwum ZIP (z pliku lub danych w pamiÄ™ci) i zwraca mapÄ™ plikÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">encrypt(...)</span></code></p></td>
<td class="text-left"><p>(Tylko z <code class="docutils literal notranslate"><span class="pre">WITH_ENCRYPTION</span></code>) Szyfruje pliki w katalogach <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">modules</span></code> itp.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setLayout(...)</span></code></p></td>
<td class="text-left"><p>Ustawia aktywny layout UI, co wpÅ‚ywa na rozwiÄ…zywanie Å›cieÅ¼ek do zasobÃ³w.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zmienne-prywatne">
<h1>Zmienne prywatne<a class="headerlink" href="#zmienne-prywatne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_binaryPath</span></code>: ÅšcieÅ¼ka do pliku wykonywalnego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_writeDir</span></code>: ÅšcieÅ¼ka do katalogu zapisu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_loadedFromMemory</span></code>: Flaga wskazujÄ…ca, czy zasoby zostaÅ‚y zaÅ‚adowane z pamiÄ™ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_loadedFromArchive</span></code>: Flaga wskazujÄ…ca, czy zasoby zostaÅ‚y zaÅ‚adowane z archiwum.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_memoryData</span></code>: WskaÅºnik na dane archiwum w pamiÄ™ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_customEncryption</span></code>: Klucz do niestandardowego szyfrowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_layout</span></code>: Nazwa aktywnego layoutu.</p></li>
</ul>
</section>
<section id="id16">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id16" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Definicje podstawowych typÃ³w w rdzeniu frameworka.</p></li>
<li><p><strong>PhysFS</strong>: Biblioteka do obsÅ‚ugi wirtualnego systemu plikÃ³w jest kluczowÄ… zaleÅ¼noÅ›ciÄ….</p></li>
<li><p><strong>ZLIB, LibZip</strong>: UÅ¼ywane do obsÅ‚ugi archiwÃ³w ZIP.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FileStream</span></code>: Klasa <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> tworzy i zwraca obiekty <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> do operacji na plikach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Application</span></code>: UÅ¼ywane do sprawdzania stanu aplikacji (np. czy jest zamykana).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Logger</span></code>: Do logowania bÅ‚Ä™dÃ³w i informacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Crypt</span></code>: Do obliczania sum kontrolnych i (de)szyfrowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Http</span></code>: UÅ¼ywane w kontekÅ›cie pobierania plikÃ³w (<code class="docutils literal notranslate"><span class="pre">/downloads</span></code>).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="adaptiverenderer-cpp">
<h1>ğŸ“„ adaptiverenderer.cpp<a class="headerlink" href="#adaptiverenderer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id17">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id17" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">adaptiverenderer.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code>, ktÃ³ra jest odpowiedzialna za dynamiczne dostosowywanie jakoÅ›ci i wydajnoÅ›ci renderowania grafiki w zaleÅ¼noÅ›ci od aktualnej liczby klatek na sekundÄ™ (FPS). Celem tego mechanizmu jest utrzymanie pÅ‚ynnoÅ›ci dziaÅ‚ania aplikacji, zwÅ‚aszcza na sÅ‚abszych komputerach, poprzez redukcjÄ™ liczby renderowanych obiektÃ³w lub obniÅ¼enie czÄ™stotliwoÅ›ci aktualizacji, gdy FPS spada.</p>
</section>
<section id="id18">
<h1>Zmienne globalne<a class="headerlink" href="#id18" title="Link to this heading">#</a></h1>
</section>
<section id="g-adaptiverenderer">
<h1><code class="docutils literal notranslate"><span class="pre">g_adaptiveRenderer</span></code><a class="headerlink" href="#g-adaptiverenderer" title="Link to this heading">#</a></h1>
<p>Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code>, dostÄ™pna w caÅ‚ym projekcie.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">AdaptiveRenderer</span><span class="w"> </span><span class="n">g_adaptiveRenderer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-adaptiverenderer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code><a class="headerlink" href="#klasa-adaptiverenderer" title="Link to this heading">#</a></h1>
</section>
<section id="void-newframe">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">newFrame()</span></code><a class="headerlink" href="#void-newframe" title="Link to this heading">#</a></h1>
</section>
<section id="id19">
<h1>Opis semantyczny<a class="headerlink" href="#id19" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana na poczÄ…tku kaÅ¼dej klatki renderowania. Rejestruje czas bieÅ¼Ä…cej klatki i na podstawie liczby klatek z ostatnich 5 sekund decyduje, czy naleÅ¼y zmieniÄ‡ poziom wydajnoÅ›ci (zwiÄ™kszyÄ‡ lub zmniejszyÄ‡).</p>
</section>
<section id="dzialanie">
<h1>DziaÅ‚anie<a class="headerlink" href="#dzialanie" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Dodaje bieÅ¼Ä…cy czas (w milisekundach) do kolejki <code class="docutils literal notranslate"><span class="pre">m_frames</span></code>.</p></li>
<li><p>Usuwa z kolejki klatki starsze niÅ¼ 5 sekund.</p></li>
<li><p>JeÅ›li poziom wydajnoÅ›ci jest narzucony (<code class="docutils literal notranslate"><span class="pre">m_forcedSpeed</span></code>), metoda koÅ„czy dziaÅ‚anie.</p></li>
<li><p>Co 5 sekund (<code class="docutils literal notranslate"><span class="pre">m_update</span> <span class="pre">+</span> <span class="pre">5000</span> <span class="pre">&gt;</span> <span class="pre">now</span></code>):</p>
<ul class="simple">
<li><p>Pobiera maksymalny docelowy FPS z <code class="docutils literal notranslate"><span class="pre">g_app.getMaxFps()</span></code>.</p></li>
<li><p>JeÅ›li aktualna liczba klatek jest niÅ¼sza niÅ¼ prÃ³g, zwiÄ™ksza poziom <code class="docutils literal notranslate"><span class="pre">m_speed</span></code> (obniÅ¼a jakoÅ›Ä‡).</p></li>
<li><p>JeÅ›li aktualna liczba klatek jest wyÅ¼sza niÅ¼ prÃ³g, zmniejsza poziom <code class="docutils literal notranslate"><span class="pre">m_speed</span></code> (zwiÄ™ksza jakoÅ›Ä‡).</p></li>
<li><p>Poziom <code class="docutils literal notranslate"><span class="pre">m_speed</span></code> jest ograniczony do przedziaÅ‚u <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">RenderSpeeds</span> <span class="pre">-</span> <span class="pre">1]</span></code>.</p></li>
</ul>
</li>
</ol>
</section>
<section id="void-refresh">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">refresh()</span></code><a class="headerlink" href="#void-refresh" title="Link to this heading">#</a></h1>
</section>
<section id="id20">
<h1>Opis semantyczny<a class="headerlink" href="#id20" title="Link to this heading">#</a></h1>
<p>Resetuje czas ostatniej aktualizacji poziomu wydajnoÅ›ci, co powoduje, Å¼e kolejna ocena FPS nastÄ…pi dopiero za 5 sekund.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">AdaptiveRenderer::refresh</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">m_update</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stdext</span><span class="o">::</span><span class="n">millis</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="metody-limitujace">
<h1>Metody limitujÄ…ce<a class="headerlink" href="#metody-limitujace" title="Link to this heading">#</a></h1>
</section>
<section id="id21">
<h1>Opis semantyczny<a class="headerlink" href="#id21" title="Link to this heading">#</a></h1>
<p>Grupa metod zwracajÄ…cych limity dla rÃ³Å¼nych aspektÃ³w renderowania w zaleÅ¼noÅ›ci od aktualnego poziomu <code class="docutils literal notranslate"><span class="pre">m_speed</span></code>. Im wyÅ¼szy <code class="docutils literal notranslate"><span class="pre">m_speed</span></code>, tym niÅ¼sze limity i wiÄ™ksze interwaÅ‚y, co przekÅ‚ada siÄ™ na mniejsze obciÄ…Å¼enie procesora i karty graficznej.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">effetsLimit()</span></code></strong>: Zwraca maksymalnÄ… liczbÄ™ efektÃ³w do renderowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">creaturesLimit()</span></code></strong>: Zwraca maksymalnÄ… liczbÄ™ stworzeÅ„.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">itemsLimit()</span></code></strong>: Zwraca maksymalnÄ… liczbÄ™ przedmiotÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mapRenderInterval()</span></code></strong>: Zwraca interwaÅ‚ (w milisekundach) ponownego renderowania mapy. <code class="docutils literal notranslate"><span class="pre">0</span></code> oznacza renderowanie w kaÅ¼dej klatce.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">textsLimit()</span></code></strong>: Zwraca maksymalnÄ… liczbÄ™ tekstÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">creaturesRenderInterval()</span></code></strong>: Zwraca interwaÅ‚ renderowania stworzeÅ„ (obecnie nieuÅ¼ywane).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">allowFading()</span></code></strong>: Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li dozwolone jest pÅ‚ynne zanikanie/pojawianie siÄ™ obiektÃ³w (tylko na wyÅ¼szych poziomach jakoÅ›ci).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">foregroundUpdateInterval()</span></code></strong>: Zwraca interwaÅ‚ aktualizacji pierwszego planu.</p></li>
</ul>
</section>
<section id="std-string-getdebuginfo">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getDebugInfo()</span></code><a class="headerlink" href="#std-string-getdebuginfo" title="Link to this heading">#</a></h1>
</section>
<section id="id22">
<h1>Opis semantyczny<a class="headerlink" href="#id22" title="Link to this heading">#</a></h1>
<p>Zwraca sformatowany ciÄ…g znakÃ³w z informacjami debugowania, takimi jak aktualna liczba klatek, bieÅ¼Ä…cy poziom <code class="docutils literal notranslate"><span class="pre">m_speed</span></code> i narzucony poziom <code class="docutils literal notranslate"><span class="pre">m_forcedSpeed</span></code>.</p>
</section>
<section id="id23">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id23" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/graphicalapplication.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_app.getMaxFps()</span></code> do okreÅ›lenia docelowej liczby klatek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/format.h</span></code>: Do formatowania stringa w <code class="docutils literal notranslate"><span class="pre">getDebugInfo</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/extras.h</span></code>: Potencjalnie do flag debugowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/logger.h</span></code>: Do logowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="adaptiverenderer-h">
<h1>ğŸ“„ adaptiverenderer.h<a class="headerlink" href="#adaptiverenderer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id24">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id24" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">adaptiverenderer.h</span></code> jest plikiem nagÅ‚Ã³wkowym dla klasy <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code>. Deklaruje on interfejs tej klasy, staÅ‚e oraz globalnÄ… instancjÄ™ <code class="docutils literal notranslate"><span class="pre">g_adaptiveRenderer</span></code>. UmoÅ¼liwia to innym czÄ™Å›ciom systemu odpytywanie o aktualne limity i ustawienia wydajnoÅ›ci renderowania.</p>
</section>
<section id="id25">
<h1>Definicje i Makra<a class="headerlink" href="#id25" title="Link to this heading">#</a></h1>
</section>
<section id="constexpr-int-renderspeeds">
<h1><code class="docutils literal notranslate"><span class="pre">constexpr</span> <span class="pre">int</span> <span class="pre">RenderSpeeds</span></code><a class="headerlink" href="#constexpr-int-renderspeeds" title="Link to this heading">#</a></h1>
<p>Definiuje liczbÄ™ dostÄ™pnych poziomÃ³w wydajnoÅ›ci renderowania.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">constexpr</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">RenderSpeeds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id26">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code><a class="headerlink" href="#id26" title="Link to this heading">#</a></h1>
</section>
<section id="id27">
<h1>Opis semantyczny<a class="headerlink" href="#id27" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code> zarzÄ…dza dynamicznym skalowaniem jakoÅ›ci grafiki w celu utrzymania pÅ‚ynnoÅ›ci dziaÅ‚ania aplikacji. Implementuje mechanizm, ktÃ³ry na podstawie bieÅ¼Ä…cej liczby klatek na sekundÄ™ (FPS) dostosowuje rÃ³Å¼ne parametry renderowania, takie jak limity renderowanych obiektÃ³w czy czÄ™stotliwoÅ›Ä‡ odÅ›wieÅ¼ania.</p>
</section>
<section id="id28">
<h1>Metody publiczne<a class="headerlink" href="#id28" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">newFrame()</span></code></p></td>
<td class="text-left"><p>Rejestruje nowÄ… klatkÄ™ i aktualizuje poziom wydajnoÅ›ci, jeÅ›li to konieczne.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">refresh()</span></code></p></td>
<td class="text-left"><p>Resetuje zegar aktualizacji, opÃ³ÅºniajÄ…c nastÄ™pnÄ… ocenÄ™ wydajnoÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">effetsLimit()</span></code></p></td>
<td class="text-left"><p>Zwraca limit dla renderowanych efektÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">creaturesLimit()</span></code></p></td>
<td class="text-left"><p>Zwraca limit dla renderowanych stworzeÅ„.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">itemsLimit()</span></code></p></td>
<td class="text-left"><p>Zwraca limit dla renderowanych przedmiotÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">textsLimit()</span></code></p></td>
<td class="text-left"><p>Zwraca limit dla renderowanych tekstÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">mapRenderInterval()</span></code></p></td>
<td class="text-left"><p>Zwraca interwaÅ‚ (opÃ³Åºnienie) ponownego renderowania mapy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">creaturesRenderInterval()</span></code></p></td>
<td class="text-left"><p>Zwraca interwaÅ‚ renderowania stworzeÅ„.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">allowFading()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy dozwolone jest renderowanie efektÃ³w przejÅ›cia (fading).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getLevel()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny poziom wydajnoÅ›ci (<code class="docutils literal notranslate"><span class="pre">m_speed</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">foregroundUpdateInterval()</span></code></p></td>
<td class="text-left"><p>Zwraca interwaÅ‚ aktualizacji pierwszego planu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getDebugInfo()</span></code></p></td>
<td class="text-left"><p>Zwraca informacje debugowania jako string.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setForcedLevel(int</span> <span class="pre">value)</span></code></p></td>
<td class="text-left"><p>UmoÅ¼liwia rÄ™czne ustawienie (narzucenie) poziomu wydajnoÅ›ci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id29">
<h1>Zmienne prywatne<a class="headerlink" href="#id29" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_forcedSpeed</span></code>: Narzucony poziom wydajnoÅ›ci (-1 oznacza automatyczny).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_speed</span></code>: Aktualny, automatycznie wyliczony poziom wydajnoÅ›ci (od 0 do <code class="docutils literal notranslate"><span class="pre">RenderSpeeds-1</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_update</span></code>: Czas ostatniej aktualizacji poziomu wydajnoÅ›ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_frames</span></code>: Lista czasÃ³w ostatnich klatek, uÅ¼ywana do obliczania FPS.</p></li>
</ul>
</section>
<section id="id30">
<h1>Zmienne globalne<a class="headerlink" href="#id30" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_adaptiveRenderer</span></code>: Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code>.</p></li>
</ul>
</section>
<section id="id31">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id31" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Plik wÅ‚Ä…cza <code class="docutils literal notranslate"><span class="pre">&lt;list&gt;</span></code> do przechowywania czasÃ³w klatek.</p></li>
<li><p>Klasa jest uÅ¼ywana przez silnik renderujÄ…cy (np. w <code class="docutils literal notranslate"><span class="pre">client/mapview.cpp</span></code> - niezaÅ‚Ä…czony, ale moÅ¼na siÄ™ domyÅ›laÄ‡), aby dynamicznie ograniczaÄ‡ liczbÄ™ rysowanych obiektÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="application-cpp">
<h1>ğŸ“„ application.cpp<a class="headerlink" href="#application-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id32">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id32" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">application.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Application</span></code>, ktÃ³ra jest bazowÄ… klasÄ… dla caÅ‚ej aplikacji. Odpowiada za podstawowy cykl Å¼ycia programu, w tym inicjalizacjÄ™, de-inicjalizacjÄ™, obsÅ‚ugÄ™ sygnaÅ‚Ã³w systemowych oraz zarzÄ…dzanie gÅ‚Ã³wnymi komponentami frameworka, takimi jak menedÅ¼er zasobÃ³w, menedÅ¼er moduÅ‚Ã³w, silnik Lua i poÅ‚Ä…czenia sieciowe.</p>
</section>
<section id="funkcje-globalne">
<h1>Funkcje globalne<a class="headerlink" href="#funkcje-globalne" title="Link to this heading">#</a></h1>
</section>
<section id="exitsignalhandler-int-sig">
<h1><code class="docutils literal notranslate"><span class="pre">exitSignalHandler(int</span> <span class="pre">sig)</span></code><a class="headerlink" href="#exitsignalhandler-int-sig" title="Link to this heading">#</a></h1>
<p>Funkcja obsÅ‚ugujÄ…ca sygnaÅ‚y systemowe <code class="docutils literal notranslate"><span class="pre">SIGTERM</span></code> i <code class="docutils literal notranslate"><span class="pre">SIGINT</span></code> (np. zamkniÄ™cie terminala lub Ctrl+C). Po otrzymaniu sygnaÅ‚u, dodaje do kolejki zdarzeÅ„ wywoÅ‚anie metody <code class="docutils literal notranslate"><span class="pre">Application::close()</span></code>, co pozwala na bezpieczne zamkniÄ™cie aplikacji.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">exitSignalHandler</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">sig</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">signaled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">SIGTERM</span><span class="p">:</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">SIGINT</span><span class="p">:</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">signaled</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">g_app</span><span class="p">.</span><span class="n">isStopping</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">g_app</span><span class="p">.</span><span class="n">isTerminated</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">signaled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">                </span><span class="n">g_dispatcher</span><span class="p">.</span><span class="n">addEvent</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Application</span><span class="o">::</span><span class="n">close</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">g_app</span><span class="p">));</span>
<span class="p">}</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="klasa-application">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Application</span></code><a class="headerlink" href="#klasa-application" title="Link to this heading">#</a></h1>
</section>
<section id="application-application">
<h1><code class="docutils literal notranslate"><span class="pre">Application::Application()</span></code><a class="headerlink" href="#application-application" title="Link to this heading">#</a></h1>
<p>Konstruktor, ktÃ³ry ustawia domyÅ›lne wartoÅ›ci dla nazwy aplikacji, wersji, kodowania znakÃ³w oraz flag stanu. Wykrywa rÃ³wnieÅ¼, czy aplikacja dziaÅ‚a na platformie mobilnej (Android).</p>
</section>
<section id="void-application-init-std-vector-std-string-args">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::init(std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code><a class="headerlink" href="#void-application-init-std-vector-std-string-args" title="Link to this heading">#</a></h1>
</section>
<section id="id33">
<h1>Opis semantyczny<a class="headerlink" href="#id33" title="Link to this heading">#</a></h1>
<p>Metoda inicjalizujÄ…ca kluczowe komponenty aplikacji. Jest wywoÅ‚ywana na samym poczÄ…tku dziaÅ‚ania programu.</p>
</section>
<section id="id34">
<h1>DziaÅ‚anie<a class="headerlink" href="#id34" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Rejestruje <code class="docutils literal notranslate"><span class="pre">exitSignalHandler</span></code> do obsÅ‚ugi sygnaÅ‚Ã³w zamkniÄ™cia.</p></li>
<li><p>Ustawia globalne locale.</p></li>
<li><p>Przetwarza argumenty wiersza poleceÅ„ za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_platform</span></code>.</p></li>
<li><p>Inicjalizuje <code class="docutils literal notranslate"><span class="pre">g_asyncDispatcher</span></code> do zadaÅ„ asynchronicznych.</p></li>
<li><p>Zapisuje opcje startowe i sprawdza, czy wÅ‚Ä…czono tryb mobilny (<code class="docutils literal notranslate"><span class="pre">-mobile</span></code>).</p></li>
<li><p>Inicjalizuje menedÅ¼era konfiguracji (<code class="docutils literal notranslate"><span class="pre">g_configs</span></code>).</p></li>
<li><p>Inicjalizuje silnik Lua (<code class="docutils literal notranslate"><span class="pre">g_lua</span></code>) i rejestruje funkcje C++ (<code class="docutils literal notranslate"><span class="pre">registerLuaFunctions</span></code>).</p></li>
<li><p>Inicjalizuje menedÅ¼era proxy (<code class="docutils literal notranslate"><span class="pre">g_proxy</span></code>).</p></li>
</ol>
</section>
<section id="void-application-deinit">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::deinit()</span></code><a class="headerlink" href="#void-application-deinit" title="Link to this heading">#</a></h1>
</section>
<section id="id35">
<h1>Opis semantyczny<a class="headerlink" href="#id35" title="Link to this heading">#</a></h1>
<p>Metoda de-inicjalizujÄ…ca, wywoÅ‚ywana przed zamkniÄ™ciem aplikacji. Dba o poprawne zwolnienie zasobÃ³w w odwrotnej kolejnoÅ›ci do inicjalizacji.</p>
</section>
<section id="id36">
<h1>DziaÅ‚anie<a class="headerlink" href="#id36" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>WywoÅ‚uje lua <code class="docutils literal notranslate"><span class="pre">g_app.onTerminate</span></code>.</p></li>
<li><p>OdÅ‚adowuje wszystkie moduÅ‚y.</p></li>
<li><p>Uruchamia garbage collector Lua, aby zwolniÄ‡ referencje do obiektÃ³w.</p></li>
<li><p>Przetwarza pozostaÅ‚e zdarzenia z kolejki.</p></li>
<li><p>WyÅ‚Ä…cza <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>.</p></li>
</ol>
</section>
<section id="void-application-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::terminate()</span></code><a class="headerlink" href="#void-application-terminate" title="Link to this heading">#</a></h1>
</section>
<section id="id37">
<h1>Opis semantyczny<a class="headerlink" href="#id37" title="Link to this heading">#</a></h1>
<p>Finalny etap zamykania aplikacji. Zwalnia zasoby, ktÃ³re muszÄ… byÄ‡ zwolnione jako ostatnie.</p>
</section>
<section id="id38">
<h1>DziaÅ‚anie<a class="headerlink" href="#id38" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Zamyka wszystkie poÅ‚Ä…czenia sieciowe.</p></li>
<li><p>Terminuje menedÅ¼era konfiguracji.</p></li>
<li><p>Terminuje menedÅ¼era zasobÃ³w.</p></li>
<li><p>Terminuje silnik Lua.</p></li>
<li><p>Terminuje menedÅ¼era proxy.</p></li>
<li><p>Resetuje obsÅ‚ugÄ™ sygnaÅ‚Ã³w systemowych do domyÅ›lnej.</p></li>
</ol>
</section>
<section id="void-application-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::poll()</span></code><a class="headerlink" href="#void-application-poll" title="Link to this heading">#</a></h1>
</section>
<section id="id39">
<h1>Opis semantyczny<a class="headerlink" href="#id39" title="Link to this heading">#</a></h1>
<p>Przetwarza zdarzenia sieciowe i zdarzenia z gÅ‚Ã³wnej kolejki (<code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>). Jest to serce pÄ™tli zdarzeÅ„ aplikacji.</p>
</section>
<section id="void-application-exit">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::exit()</span></code><a class="headerlink" href="#void-application-exit" title="Link to this heading">#</a></h1>
<p>Inicjuje proces zamykania aplikacji poprzez ustawienie flagi <code class="docutils literal notranslate"><span class="pre">m_stopping</span></code> i wywoÅ‚anie lua <code class="docutils literal notranslate"><span class="pre">g_app.onExit</span></code>.</p>
</section>
<section id="void-application-quick-exit">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::quick_exit()</span></code><a class="headerlink" href="#void-application-quick-exit" title="Link to this heading">#</a></h1>
<p>Natychmiastowo zamyka aplikacjÄ™ z kodem 0, bez zwalniania zasobÃ³w.</p>
</section>
<section id="void-application-close">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::close()</span></code><a class="headerlink" href="#void-application-close" title="Link to this heading">#</a></h1>
<p>PrÃ³buje zamknÄ…Ä‡ aplikacjÄ™, wywoÅ‚ujÄ…c lua <code class="docutils literal notranslate"><span class="pre">g_app.onClose</span></code>. JeÅ›li skrypt zwrÃ³ci <code class="docutils literal notranslate"><span class="pre">false</span></code> (lub nic), wywoÅ‚ywana jest metoda <code class="docutils literal notranslate"><span class="pre">exit()</span></code>.</p>
</section>
<section id="void-application-restart-i-void-application-restartargs-const-std-vector-std-string-args">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::restart()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::restartArgs(const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code><a class="headerlink" href="#void-application-restart-i-void-application-restartargs-const-std-vector-std-string-args" title="Link to this heading">#</a></h1>
<p>Metody do restartowania aplikacji. UruchamiajÄ… nowÄ… instancjÄ™ procesu i natychmiast zamykajÄ… bieÅ¼Ä…cÄ…. UÅ¼ywajÄ… <code class="docutils literal notranslate"><span class="pre">boost::process</span></code> do stworzenia nowego procesu. NiedostÄ™pne na Androidzie i w wersji <code class="docutils literal notranslate"><span class="pre">FREE_VERSION</span></code>.</p>
</section>
<section id="std-string-application-getos">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Application::getOs()</span></code><a class="headerlink" href="#std-string-application-getos" title="Link to this heading">#</a></h1>
<p>Zwraca nazwÄ™ bieÅ¼Ä…cego systemu operacyjnego (â€œandroidâ€, â€œwindowsâ€, â€œmacâ€, â€œlinuxâ€).</p>
</section>
<section id="id40">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id40" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Do operacji na czasie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>, <code class="docutils literal notranslate"><span class="pre">modulemanager.h</span></code>, <code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code>, <code class="docutils literal notranslate"><span class="pre">configmanager.h</span></code>: GÅ‚Ã³wne moduÅ‚y frameworka, ktÃ³rymi zarzÄ…dza.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">asyncdispatcher.h</span></code>: Do obsÅ‚ugi zadaÅ„ w tle.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: Do interakcji z Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Do operacji specyficznych dla platformy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/http.h</span></code>: Do obsÅ‚ugi HTTP.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/connection.h</span></code>: Do zarzÄ…dzania poÅ‚Ä…czeniami sieciowymi.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy.h</span></code>: Do zarzÄ…dzania proxy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/process.hpp</span></code>: Do restartowania aplikacji.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="application-h">
<h1>ğŸ“„ application.h<a class="headerlink" href="#application-h" title="Link to this heading">#</a></h1>
</section>
<section id="id41">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id41" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">application.h</span></code> jest plikiem nagÅ‚Ã³wkowym dla klasy <code class="docutils literal notranslate"><span class="pre">Application</span></code>. Deklaruje on interfejs tej klasy, jej skÅ‚adowe oraz zawiera dyrektywy doÅ‚Ä…czajÄ…ce jednÄ… z dwÃ³ch moÅ¼liwych implementacji aplikacji: <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> lub <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>, w zaleÅ¼noÅ›ci od tego, czy zdefiniowano flagÄ™ <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>.</p>
</section>
<section id="id42">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Application</span></code><a class="headerlink" href="#id42" title="Link to this heading">#</a></h1>
</section>
<section id="id43">
<h1>Opis semantyczny<a class="headerlink" href="#id43" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Application</span></code> jest abstrakcyjnÄ… klasÄ… bazowÄ…, ktÃ³ra definiuje podstawowy interfejs i cykl Å¼ycia aplikacji. Zawiera metody do inicjalizacji, de-inicjalizacji, zamykania, restartowania oraz dostarcza informacji o samej aplikacji, takich jak nazwa, wersja czy system operacyjny.</p>
</section>
<section id="id44">
<h1>Metody publiczne<a class="headerlink" href="#id44" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">init(...)</span></code></p></td>
<td class="text-left"><p>Inicjalizuje aplikacjÄ™.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">deinit()</span></code></p></td>
<td class="text-left"><p>Zwalnia zasoby przed zamkniÄ™ciem.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Finalizuje zamykanie aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">run()</span> <span class="pre">=</span> <span class="pre">0</span></code></p></td>
<td class="text-left"><p>Czysto wirtualna metoda, ktÃ³ra musi byÄ‡ zaimplementowana przez klasy pochodne. Zawiera gÅ‚Ã³wnÄ… pÄ™tlÄ™ programu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">exit()</span></code></p></td>
<td class="text-left"><p>Rozpoczyna proces zamykania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">quick_exit()</span></code></p></td>
<td class="text-left"><p>Natychmiastowe zamkniÄ™cie programu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">close()</span></code></p></td>
<td class="text-left"><p>PrÃ³buje zamknÄ…Ä‡ program (moÅ¼e byÄ‡ przerwane przez skrypt Lua).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">restart()</span></code></p></td>
<td class="text-left"><p>Restartuje aplikacjÄ™.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">restartArgs(...)</span></code></p></td>
<td class="text-left"><p>Restartuje aplikacjÄ™ z nowymi argumentami.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setName(...)</span></code></p></td>
<td class="text-left"><p>Ustawia nazwÄ™ aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setCompactName(...)</span></code></p></td>
<td class="text-left"><p>Ustawia skrÃ³conÄ… nazwÄ™ aplikacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setVersion(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wersjÄ™ aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isRunning()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li aplikacja jest w gÅ‚Ã³wnej pÄ™tli.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isStopping()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li trwa proces zamykania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isTerminated()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li aplikacja zostaÅ‚a zakoÅ„czona.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">getName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildCompiler()</span></code></p></td>
<td class="text-left"><p>Zwraca informacje o kompilatorze.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildDate()</span></code></p></td>
<td class="text-left"><p>Zwraca datÄ™ kompilacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildRevision()</span></code></p></td>
<td class="text-left"><p>Zwraca numer rewizji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildCommit()</span></code></p></td>
<td class="text-left"><p>Zwraca hash commita Git.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildType()</span></code></p></td>
<td class="text-left"><p>Zwraca typ budowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildArch()</span></code></p></td>
<td class="text-left"><p>Zwraca architekturÄ™.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getAuthor()</span></code></p></td>
<td class="text-left"><p>Zwraca autora.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getOs()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ systemu operacyjnego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getStartupOptions()</span></code></p></td>
<td class="text-left"><p>Zwraca opcje startowe.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isMobile()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li aplikacja dziaÅ‚a w trybie mobilnym.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-chronione">
<h1>Metody chronione<a class="headerlink" href="#metody-chronione" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">registerLuaFunctions()</span></code>: Deklaracja metody odpowiedzialnej za bindowanie funkcji C++ do Lua.</p></li>
</ul>
</section>
<section id="zmienne-chronione">
<h1>Zmienne chronione<a class="headerlink" href="#zmienne-chronione" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_charset</span></code>: Kodowanie znakÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_appName</span></code>, <code class="docutils literal notranslate"><span class="pre">m_appCompactName</span></code>, <code class="docutils literal notranslate"><span class="pre">m_appVersion</span></code>: Informacje o aplikacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_startupOptions</span></code>: Opcje startowe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_running</span></code>, <code class="docutils literal notranslate"><span class="pre">m_stopping</span></code>, <code class="docutils literal notranslate"><span class="pre">m_terminated</span></code>, <code class="docutils literal notranslate"><span class="pre">m_mobile</span></code>: Flagi stanu aplikacji.</p></li>
</ul>
</section>
<section id="dolaczanie-implementacji">
<h1>DoÅ‚Ä…czanie implementacji<a class="headerlink" href="#dolaczanie-implementacji" title="Link to this heading">#</a></h1>
<p>W zaleÅ¼noÅ›ci od flagi <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>, doÅ‚Ä…czany jest jeden z dwÃ³ch plikÃ³w:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">graphicalapplication.h</span></code>: JeÅ›li <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code> jest zdefiniowane, aplikacja bÄ™dzie miaÅ‚a interfejs graficzny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">consoleapplication.h</span></code>: W przeciwnym razie, bÄ™dzie to aplikacja konsolowa.</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp"># ifdef FW_GRAPHICS</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">"graphicalapplication.h"</span>
<span class="cp"># else</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">"consoleapplication.h"</span>
<span class="cp"># endif</span>
</pre></div>
</div>
</section>
<section id="id45">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id45" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Zawiera podstawowe definicje i nagÅ‚Ã³wki uÅ¼ywane w caÅ‚ym projekcie.</p></li>
<li><p>Klasa jest oznaczona adnotacjÄ… <code class="docutils literal notranslate"><span class="pre">@bindsingleton</span> <span class="pre">g_app</span></code>, co sugeruje, Å¼e jej instancja bÄ™dzie dostÄ™pna w Lua pod globalnÄ… nazwÄ… <code class="docutils literal notranslate"><span class="pre">g_app</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="asyncdispatcher-h">
<h1>ğŸ“„ asyncdispatcher.h<a class="headerlink" href="#asyncdispatcher-h" title="Link to this heading">#</a></h1>
</section>
<section id="id46">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id46" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">asyncdispatcher.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code>, ktÃ³ra zarzÄ…dza pulÄ… wÄ…tkÃ³w roboczych do wykonywania zadaÅ„ asynchronicznie. Jest to kluczowy komponent do odciÄ…Å¼enia gÅ‚Ã³wnego wÄ…tku aplikacji (wÄ…tku zdarzeÅ„) z operacji, ktÃ³re mogÄ… zajÄ…Ä‡ duÅ¼o czasu, takich jak operacje wejÅ›cia/wyjÅ›cia na plikach, zapytania sieciowe czy intensywne obliczenia.</p>
</section>
<section id="klasa-asyncdispatcher">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code><a class="headerlink" href="#klasa-asyncdispatcher" title="Link to this heading">#</a></h1>
</section>
<section id="id47">
<h1>Opis semantyczny<a class="headerlink" href="#id47" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code> implementuje prosty model producent-konsument. Zadania (funkcje do wykonania) sÄ… dodawane do kolejki, a wÄ…tki robocze pobierajÄ… je i wykonujÄ…. Klasa uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">std::thread</span></code>, <code class="docutils literal notranslate"><span class="pre">std::mutex</span></code> i <code class="docutils literal notranslate"><span class="pre">std::condition_variable</span></code> do synchronizacji.</p>
</section>
<section id="id48">
<h1>Metody publiczne<a class="headerlink" href="#id48" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje dyspozytor i tworzy pierwszy wÄ…tek roboczy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje wszystkie wÄ…tki i czyÅ›ci kolejkÄ™ zadaÅ„.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">spawn_thread()</span></code></p></td>
<td class="text-left"><p>Tworzy i uruchamia nowy wÄ…tek roboczy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">stop()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje dziaÅ‚anie wszystkich wÄ…tkÃ³w roboczych.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;class</span> <span class="pre">F&gt;</span> <span class="pre">schedule(const</span> <span class="pre">F&amp;</span> <span class="pre">task)</span></code></p></td>
<td class="text-left"><p>Planuje wykonanie zadania i zwraca <code class="docutils literal notranslate"><span class="pre">std::shared_future</span></code>, ktÃ³re pozwoli uzyskaÄ‡ wynik zadania w przyszÅ‚oÅ›ci. UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">std::promise</span></code> do przekazania wyniku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">dispatch(std::function&lt;void()&gt;</span> <span class="pre">f)</span></code></p></td>
<td class="text-left"><p>Dodaje zadanie do kolejki bez oczekiwania na wynik (fire-and-forget).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="przyklad-uzycia-schedule">
<h1>PrzykÅ‚ad uÅ¼ycia <code class="docutils literal notranslate"><span class="pre">schedule</span></code><a class="headerlink" href="#przyklad-uzycia-schedule" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// WÄ…tek gÅ‚Ã³wny</span>
<span class="k">auto</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g_asyncDispatcher</span><span class="p">.</span><span class="n">schedule</span><span class="p">([]()</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// DÅ‚ugotrwaÅ‚a operacja</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">seconds</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// PÃ³Åºniej, w wÄ…tku gÅ‚Ã³wnym</span>
<span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">future</span><span class="p">.</span><span class="n">get</span><span class="p">();</span><span class="w"> </span><span class="c1">// Czeka na zakoÅ„czenie zadania i pobiera wynik</span>
</pre></div>
</div>
</section>
<section id="przyklad-uzycia-dispatch">
<h1>PrzykÅ‚ad uÅ¼ycia <code class="docutils literal notranslate"><span class="pre">dispatch</span></code><a class="headerlink" href="#przyklad-uzycia-dispatch" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// WÄ…tek gÅ‚Ã³wny</span>
<span class="n">g_asyncDispatcher</span><span class="p">.</span><span class="n">dispatch</span><span class="p">([]()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Operacja w tle, ktÃ³rej wynik nie jest bezpoÅ›rednio potrzebny</span>
<span class="w">    </span><span class="n">save_game_state</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="id49">
<h1>Metody chronione<a class="headerlink" href="#id49" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">exec_loop()</span></code>: GÅ‚Ã³wna pÄ™tla wykonywana przez kaÅ¼dy wÄ…tek roboczy. Czeka na zadania w kolejce i wykonuje je.</p></li>
</ul>
</section>
<section id="id50">
<h1>Zmienne prywatne<a class="headerlink" href="#id50" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_tasks</span></code>: Lista (kolejka) zadaÅ„ do wykonania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_threads</span></code>: Lista wÄ…tkÃ³w roboczych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>: Mutex do ochrony dostÄ™pu do <code class="docutils literal notranslate"><span class="pre">m_tasks</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_condition</span></code>: Zmienna warunkowa do powiadamiania wÄ…tkÃ³w o nowych zadaniach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_running</span></code>: Flaga kontrolujÄ…ca, czy wÄ…tki powinny kontynuowaÄ‡ pracÄ™.</p></li>
</ul>
</section>
<section id="id51">
<h1>Zmienne globalne<a class="headerlink" href="#id51" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_asyncDispatcher</span></code>: Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code>.</p></li>
</ul>
</section>
<section id="id52">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id52" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Podstawowe deklaracje frameworka.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/thread.h</span></code>: Zawiera nagÅ‚Ã³wki <code class="docutils literal notranslate"><span class="pre">&lt;thread&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;mutex&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;condition_variable&gt;</span></code>.</p></li>
<li><p>Jest uÅ¼ywany przez inne moduÅ‚y do wykonywania operacji w tle, np. <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> do zapisu zrzutÃ³w ekranu, czy <code class="docutils literal notranslate"><span class="pre">Http</span></code> do zapytaÅ„ sieciowych (chociaÅ¼ <code class="docutils literal notranslate"><span class="pre">Http</span></code> uÅ¼ywa wÅ‚asnego <code class="docutils literal notranslate"><span class="pre">io_service</span></code> Boost.Asio, <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code> moÅ¼e byÄ‡ uÅ¼ywany do przetwarzania wynikÃ³w).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="binarytree-cpp">
<h1>ğŸ“„ binarytree.cpp<a class="headerlink" href="#binarytree-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id53">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id53" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">binarytree.cpp</span></code> zawiera implementacjÄ™ klas <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> i <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code>. Te klasy sÅ‚uÅ¼Ä… do odczytu i zapisu danych w niestandardowym, hierarchicznym formacie binarnym, ktÃ³ry przypomina drzewo. Format ten jest uÅ¼ywany w kliencie Tibii do przechowywania danych, np. plikÃ³w map (<code class="docutils literal notranslate"><span class="pre">.otbm</span></code>).</p>
</section>
<section id="klasa-binarytree">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code><a class="headerlink" href="#klasa-binarytree" title="Link to this heading">#</a></h1>
</section>
<section id="binarytree-binarytree-const-filestreamptr-fin">
<h1><code class="docutils literal notranslate"><span class="pre">BinaryTree::BinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code><a class="headerlink" href="#binarytree-binarytree-const-filestreamptr-fin" title="Link to this heading">#</a></h1>
<p>Konstruktor, ktÃ³ry przyjmuje wskaÅºnik do strumienia pliku (<code class="docutils literal notranslate"><span class="pre">FileStream</span></code>) i zapamiÄ™tuje pozycjÄ™ startowÄ…, od ktÃ³rej zaczyna siÄ™ wÄ™zeÅ‚ drzewa.</p>
</section>
<section id="void-binarytree-skipnodes">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BinaryTree::skipNodes()</span></code><a class="headerlink" href="#void-binarytree-skipnodes" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza, ktÃ³ra przeskakuje przez zagnieÅ¼dÅ¼one wÄ™zÅ‚y w strumieniu danych, aby szybko przejÅ›Ä‡ do koÅ„ca bieÅ¼Ä…cego wÄ™zÅ‚a bez potrzeby jego peÅ‚nego parsowania.</p>
</section>
<section id="void-binarytree-unserialize">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BinaryTree::unserialize()</span></code><a class="headerlink" href="#void-binarytree-unserialize" title="Link to this heading">#</a></h1>
</section>
<section id="id54">
<h1>Opis semantyczny<a class="headerlink" href="#id54" title="Link to this heading">#</a></h1>
<p>To kluczowa metoda, ktÃ³ra odczytuje â€œpÅ‚askieâ€ dane (wÅ‚aÅ›ciwoÅ›ci) bieÅ¼Ä…cego wÄ™zÅ‚a ze strumienia pliku i zapisuje je do wewnÄ™trznego bufora (<code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>). Operacja ta jest wykonywana tylko raz (lazy loading), przy pierwszym dostÄ™pie do danych wÄ™zÅ‚a. Deserializacja polega na odczytywaniu bajtÃ³w aÅ¼ do napotkania znacznika koÅ„ca wÄ™zÅ‚a (<code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_END</span></code>), z uwzglÄ™dnieniem znakÃ³w specjalnych (<code class="docutils literal notranslate"><span class="pre">BINARYTREE_ESCAPE_CHAR</span></code>).</p>
</section>
<section id="binarytreevec-binarytree-getchildren">
<h1><code class="docutils literal notranslate"><span class="pre">BinaryTreeVec</span> <span class="pre">BinaryTree::getChildren()</span></code><a class="headerlink" href="#binarytreevec-binarytree-getchildren" title="Link to this heading">#</a></h1>
<p>Zwraca wektor wskaÅºnikÃ³w do <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code>, reprezentujÄ…cych wszystkie bezpoÅ›rednie dzieci bieÅ¼Ä…cego wÄ™zÅ‚a. Przeszukuje strumieÅ„ w poszukiwaniu znacznikÃ³w poczÄ…tku wÄ™zÅ‚a (<code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_START</span></code>).</p>
</section>
<section id="metody-odczytu-danych-getu8-getu16-getstring-etc">
<h1>Metody odczytu danych (<code class="docutils literal notranslate"><span class="pre">getU8</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16</span></code>, <code class="docutils literal notranslate"><span class="pre">getString</span></code>, etc.)<a class="headerlink" href="#metody-odczytu-danych-getu8-getu16-getstring-etc" title="Link to this heading">#</a></h1>
<p>SÄ… to metody do odczytywania konkretnych typÃ³w danych z wewnÄ™trznego, zdeserializowanego bufora. KaÅ¼de wywoÅ‚anie przesuwa wskaÅºnik odczytu (<code class="docutils literal notranslate"><span class="pre">m_pos</span></code>). JeÅ›li bufor nie zostaÅ‚ jeszcze wypeÅ‚niony, najpierw wywoÅ‚ywana jest metoda <code class="docutils literal notranslate"><span class="pre">unserialize()</span></code>.</p>
</section>
<section id="klasa-outputbinarytree">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code><a class="headerlink" href="#klasa-outputbinarytree" title="Link to this heading">#</a></h1>
</section>
<section id="outputbinarytree-outputbinarytree-const-filestreamptr-fin">
<h1><code class="docutils literal notranslate"><span class="pre">OutputBinaryTree::OutputBinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code><a class="headerlink" href="#outputbinarytree-outputbinarytree-const-filestreamptr-fin" title="Link to this heading">#</a></h1>
<p>Konstruktor, ktÃ³ry przyjmuje strumieÅ„ pliku do zapisu i natychmiast rozpoczyna nowy wÄ™zeÅ‚, zapisujÄ…c znacznik <code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_START</span></code>.</p>
</section>
<section id="metody-zapisu-danych-addu8-addu16-addstring-etc">
<h1>Metody zapisu danych (<code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16</span></code>, <code class="docutils literal notranslate"><span class="pre">addString</span></code>, etc.)<a class="headerlink" href="#metody-zapisu-danych-addu8-addu16-addstring-etc" title="Link to this heading">#</a></h1>
<p>Metody te sÅ‚uÅ¼Ä… do zapisywania danych do strumienia. UÅ¼ywajÄ… metody <code class="docutils literal notranslate"><span class="pre">write</span></code>, aby zapewniÄ‡ poprawne â€œuciekanieâ€ (escaping) znakÃ³w specjalnych (<code class="docutils literal notranslate"><span class="pre">0xFD</span></code>, <code class="docutils literal notranslate"><span class="pre">0xFE</span></code>, <code class="docutils literal notranslate"><span class="pre">0xFF</span></code>).</p>
</section>
<section id="void-outputbinarytree-startnode-uint8-node">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::startNode(uint8</span> <span class="pre">node)</span></code><a class="headerlink" href="#void-outputbinarytree-startnode-uint8-node" title="Link to this heading">#</a></h1>
<p>Rozpoczyna nowy, zagnieÅ¼dÅ¼ony wÄ™zeÅ‚ wewnÄ…trz bieÅ¼Ä…cego wÄ™zÅ‚a.</p>
</section>
<section id="void-outputbinarytree-endnode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::endNode()</span></code><a class="headerlink" href="#void-outputbinarytree-endnode" title="Link to this heading">#</a></h1>
<p>KoÅ„czy bieÅ¼Ä…cy wÄ™zeÅ‚, zapisujÄ…c znacznik <code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_END</span></code>.</p>
</section>
<section id="void-outputbinarytree-write-const-uint8-data-size-t-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::write(const</span> <span class="pre">uint8*</span> <span class="pre">data,</span> <span class="pre">size_t</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-outputbinarytree-write-const-uint8-data-size-t-size" title="Link to this heading">#</a></h1>
<p>Prywatna metoda pomocnicza, ktÃ³ra zapisuje surowe dane do strumienia, dodajÄ…c znak <code class="docutils literal notranslate"><span class="pre">BINARYTREE_ESCAPE_CHAR</span></code> przed kaÅ¼dym bajtem, ktÃ³ry jest znakiem specjalnym.</p>
</section>
<section id="id55">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id55" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/binarytree.h</span></code>: Plik nagÅ‚Ã³wkowy dla tych klas.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/filestream.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> do operacji na plikach.</p></li>
<li><p>Format danych, ktÃ³ry obsÅ‚ugujÄ… te klasy, jest specyficzny dla klienta Tibii i jest uÅ¼ywany <a class="reference external" href="http://m.in">m.in</a>. do parsowania plikÃ³w <code class="docutils literal notranslate"><span class="pre">.otbm</span></code> (mapy).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="asyncdispatcher-cpp">
<h1>ğŸ“„ asyncdispatcher.cpp<a class="headerlink" href="#asyncdispatcher-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id56">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id56" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">asyncdispatcher.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code>, ktÃ³ra zarzÄ…dza asynchronicznym wykonywaniem zadaÅ„ w tle. Jest to realizacja mechanizmu puli wÄ…tkÃ³w, ktÃ³ry pozwala na odciÄ…Å¼enie gÅ‚Ã³wnego wÄ…tku aplikacji.</p>
</section>
<section id="id57">
<h1>Zmienne globalne<a class="headerlink" href="#id57" title="Link to this heading">#</a></h1>
</section>
<section id="g-asyncdispatcher">
<h1><code class="docutils literal notranslate"><span class="pre">g_asyncDispatcher</span></code><a class="headerlink" href="#g-asyncdispatcher" title="Link to this heading">#</a></h1>
<p>Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code>, zapewniajÄ…ca scentralizowany dostÄ™p do puli wÄ…tkÃ³w z dowolnego miejsca w aplikacji.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">AsyncDispatcher</span><span class="w"> </span><span class="n">g_asyncDispatcher</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id58">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code><a class="headerlink" href="#id58" title="Link to this heading">#</a></h1>
</section>
<section id="void-asyncdispatcher-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::init()</span></code><a class="headerlink" href="#void-asyncdispatcher-init" title="Link to this heading">#</a></h1>
</section>
<section id="id59">
<h1>Opis semantyczny<a class="headerlink" href="#id59" title="Link to this heading">#</a></h1>
<p>Inicjalizuje dyspozytor, wywoÅ‚ujÄ…c <code class="docutils literal notranslate"><span class="pre">spawn_thread()</span></code> w celu utworzenia i uruchomienia pierwszego wÄ…tku roboczego.</p>
</section>
<section id="void-asyncdispatcher-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::terminate()</span></code><a class="headerlink" href="#void-asyncdispatcher-terminate" title="Link to this heading">#</a></h1>
</section>
<section id="id60">
<h1>Opis semantyczny<a class="headerlink" href="#id60" title="Link to this heading">#</a></h1>
<p>Zamyka dyspozytor. Zatrzymuje wszystkie wÄ…tki robocze i czyÅ›ci kolejkÄ™ zadaÅ„.</p>
</section>
<section id="void-asyncdispatcher-spawn-thread">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::spawn_thread()</span></code><a class="headerlink" href="#void-asyncdispatcher-spawn-thread" title="Link to this heading">#</a></h1>
</section>
<section id="id61">
<h1>Opis semantyczny<a class="headerlink" href="#id61" title="Link to this heading">#</a></h1>
<p>Tworzy nowy <code class="docutils literal notranslate"><span class="pre">std::thread</span></code>, ktÃ³ry rozpoczyna wykonywanie pÄ™tli <code class="docutils literal notranslate"><span class="pre">exec_loop()</span></code>. WÄ…tek jest dodawany do listy <code class="docutils literal notranslate"><span class="pre">m_threads</span></code>. Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_running</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
<section id="void-asyncdispatcher-stop">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::stop()</span></code><a class="headerlink" href="#void-asyncdispatcher-stop" title="Link to this heading">#</a></h1>
</section>
<section id="id62">
<h1>Opis semantyczny<a class="headerlink" href="#id62" title="Link to this heading">#</a></h1>
<p>Bezpiecznie zatrzymuje wszystkie wÄ…tki robocze. Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_running</span></code> na <code class="docutils literal notranslate"><span class="pre">false</span></code>, powiadamia wszystkie oczekujÄ…ce wÄ…tki za pomocÄ… <code class="docutils literal notranslate"><span class="pre">m_condition.notify_all()</span></code>, a nastÄ™pnie czeka na ich zakoÅ„czenie za pomocÄ… <code class="docutils literal notranslate"><span class="pre">thread.join()</span></code>.</p>
</section>
<section id="void-asyncdispatcher-exec-loop">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::exec_loop()</span></code><a class="headerlink" href="#void-asyncdispatcher-exec-loop" title="Link to this heading">#</a></h1>
</section>
<section id="id63">
<h1>Opis semantyczny<a class="headerlink" href="#id63" title="Link to this heading">#</a></h1>
<p>Jest to gÅ‚Ã³wna funkcja pÄ™tli dla kaÅ¼dego wÄ…tku roboczego.</p>
</section>
<section id="id64">
<h1>DziaÅ‚anie<a class="headerlink" href="#id64" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>WÄ…tek wchodzi w nieskoÅ„czonÄ… pÄ™tlÄ™ i blokuje mutex <code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>.</p></li>
<li><p>Czeka na zmiennej warunkowej <code class="docutils literal notranslate"><span class="pre">m_condition</span></code>, aÅ¼ w kolejce <code class="docutils literal notranslate"><span class="pre">m_tasks</span></code> pojawi siÄ™ zadanie lub flaga <code class="docutils literal notranslate"><span class="pre">m_running</span></code> zostanie ustawiona na <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p>Gdy zostanie obudzony i flaga <code class="docutils literal notranslate"><span class="pre">m_running</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, pobiera pierwsze zadanie z kolejki <code class="docutils literal notranslate"><span class="pre">m_tasks</span></code>.</p></li>
<li><p>Odblokowuje mutex, aby inne wÄ…tki mogÅ‚y dodawaÄ‡ lub pobieraÄ‡ zadania.</p></li>
<li><p>Wykonuje pobrane zadanie (<code class="docutils literal notranslate"><span class="pre">task()</span></code>).</p></li>
<li><p>Ponownie blokuje mutex i wraca na poczÄ…tek pÄ™tli.</p></li>
<li><p>JeÅ›li flaga <code class="docutils literal notranslate"><span class="pre">m_running</span></code> jest <code class="docutils literal notranslate"><span class="pre">false</span></code>, wÄ…tek koÅ„czy dziaÅ‚anie.</p></li>
</ol>
</section>
<section id="id65">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id65" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">asyncdispatcher.h</span></code>: Plik nagÅ‚Ã³wkowy dla tej klasy.</p></li>
<li><p>Klasa intensywnie korzysta z narzÄ™dzi wielowÄ…tkowoÅ›ci z biblioteki standardowej C++ (<code class="docutils literal notranslate"><span class="pre">&lt;thread&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;mutex&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;condition_variable&gt;</span></code>).</p></li>
<li><p>Jest uÅ¼ywana przez rÃ³Å¼ne moduÅ‚y, ktÃ³re potrzebujÄ… wykonywaÄ‡ operacje w tle, np. <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> do zapisu plikÃ³w, <code class="docutils literal notranslate"><span class="pre">Http</span></code> do przetwarzania pobranych danych.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="clock-h">
<h1>ğŸ“„ clock.h<a class="headerlink" href="#clock-h" title="Link to this heading">#</a></h1>
</section>
<section id="id66">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id66" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">clock.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Clock</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_clock</span></code>) odpowiedzialnym za zarzÄ…dzanie czasem w aplikacji. Zapewnia buforowany, spÃ³jny czas dla jednej klatki oraz dostÄ™p do â€œrzeczywistegoâ€ czasu systemowego.</p>
</section>
<section id="klasa-clock">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Clock</span></code><a class="headerlink" href="#klasa-clock" title="Link to this heading">#</a></h1>
</section>
<section id="id67">
<h1>Opis semantyczny<a class="headerlink" href="#id67" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">Clock</span></code> ma dwa gÅ‚Ã³wne zadania:</p>
<ol class="arabic simple">
<li><p>DostarczaÄ‡ â€œbuforowanyâ€ czas, ktÃ³ry jest staÅ‚y w obrÄ™bie jednej iteracji gÅ‚Ã³wnej pÄ™tli. Metoda <code class="docutils literal notranslate"><span class="pre">update()</span></code> jest wywoÅ‚ywana raz na klatkÄ™, a metody <code class="docutils literal notranslate"><span class="pre">micros()</span></code>, <code class="docutils literal notranslate"><span class="pre">millis()</span></code>, <code class="docutils literal notranslate"><span class="pre">seconds()</span></code> zwracajÄ… tÄ™ samÄ…, zapisanÄ… wartoÅ›Ä‡ czasu przez caÅ‚Ä… klatkÄ™. Zapewnia to spÃ³jnoÅ›Ä‡ obliczeÅ„ zaleÅ¼nych od czasu.</p></li>
<li><p>DostarczaÄ‡ â€œrzeczywistyâ€ czas systemowy za pomocÄ… metod <code class="docutils literal notranslate"><span class="pre">realMicros()</span></code> i <code class="docutils literal notranslate"><span class="pre">realMillis()</span></code>, ktÃ³re zawsze odczytujÄ… aktualny czas systemowy.</p></li>
</ol>
<p>Wszystkie skÅ‚adowe przechowujÄ…ce czas sÄ… typu <code class="docutils literal notranslate"><span class="pre">std::atomic</span></code>, co zapewnia bezpieczeÅ„stwo wÄ…tkowe przy odczycie.</p>
</section>
<section id="id68">
<h1>Metody publiczne<a class="headerlink" href="#id68" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Clock()</span></code></p></td>
<td class="text-left"><p>Konstruktor, inicjalizuje czas na 0.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code></p></td>
<td class="text-left"><p>Aktualizuje buforowany czas (<code class="docutils literal notranslate"><span class="pre">m_currentMicros</span></code>, <code class="docutils literal notranslate"><span class="pre">m_currentMillis</span></code>, <code class="docutils literal notranslate"><span class="pre">m_currentSeconds</span></code>) na podstawie aktualnego czasu systemowego. Powinna byÄ‡ wywoÅ‚ywana raz na klatkÄ™.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">micros()</span></code></p></td>
<td class="text-left"><p>Zwraca buforowany czas w mikrosekundach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">millis()</span></code></p></td>
<td class="text-left"><p>Zwraca buforowany czas w milisekundach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">seconds()</span></code></p></td>
<td class="text-left"><p>Zwraca buforowany czas w sekundach (jako <code class="docutils literal notranslate"><span class="pre">float</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">realMicros()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny, â€œrzeczywistyâ€ czas systemowy w mikrosekundach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">realMillis()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny, â€œrzeczywistyâ€ czas systemowy w milisekundach.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id69">
<h1>Zmienne prywatne<a class="headerlink" href="#id69" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentMicros</span></code>: Atomowy licznik przechowujÄ…cy buforowany czas w mikrosekundach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentMillis</span></code>: Atomowy licznik przechowujÄ…cy buforowany czas w milisekundach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentSeconds</span></code>: Atomowa zmienna przechowujÄ…ca buforowany czas w sekundach.</p></li>
</ul>
</section>
<section id="id70">
<h1>Zmienne globalne<a class="headerlink" href="#id70" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_clock</span></code>: Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">Clock</span></code>.</p></li>
</ul>
</section>
<section id="id71">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id71" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Definicje podstawowych typÃ³w, w tym <code class="docutils literal notranslate"><span class="pre">ticks_t</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/time.h</span></code>: UÅ¼ywa funkcji <code class="docutils literal notranslate"><span class="pre">stdext::micros()</span></code> i <code class="docutils literal notranslate"><span class="pre">stdext::millis()</span></code> do pobierania czasu systemowego.</p></li>
<li><p>Klasa jest kluczowa dla caÅ‚ego systemu, szczegÃ³lnie dla <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> (do planowania zdarzeÅ„), animacji i logiki gry. Metoda <code class="docutils literal notranslate"><span class="pre">update()</span></code> jest wywoÅ‚ywana w gÅ‚Ã³wnej pÄ™tli aplikacji (w <code class="docutils literal notranslate"><span class="pre">GraphicalApplication::run()</span></code> i <code class="docutils literal notranslate"><span class="pre">ConsoleApplication::run()</span></code>).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="binarytree-h">
<h1>ğŸ“„ binarytree.h<a class="headerlink" href="#binarytree-h" title="Link to this heading">#</a></h1>
</section>
<section id="id72">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id72" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">binarytree.h</span></code> deklaruje interfejsy dla klas <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> i <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code>. Klasy te sÅ‚uÅ¼Ä… do obsÅ‚ugi niestandardowego, hierarchicznego formatu binarnego, uÅ¼ywanego do serializacji danych w strukturze drzewa. Format ten jest charakterystyczny dla plikÃ³w <code class="docutils literal notranslate"><span class="pre">.otbm</span></code> (OTClient Binary Map).</p>
</section>
<section id="id73">
<h1>Definicje i Makra<a class="headerlink" href="#id73" title="Link to this heading">#</a></h1>
</section>
<section id="znaczniki-binarne">
<h1>Znaczniki binarne<a class="headerlink" href="#znaczniki-binarne" title="Link to this heading">#</a></h1>
<p>Zdefiniowano trzy specjalne bajty, ktÃ³re kontrolujÄ… strukturÄ™ drzewa w strumieniu binarnym:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BINARYTREE_ESCAPE_CHAR</span></code> (0xFD): Znak â€œucieczkiâ€, uÅ¼ywany do kodowania bajtÃ³w, ktÃ³re majÄ… takÄ… samÄ… wartoÅ›Ä‡ jak inne znaki specjalne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_START</span></code> (0xFE): Znacznik poczÄ…tku nowego wÄ™zÅ‚a (dziecka).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_END</span></code> (0xFF): Znacznik koÅ„ca bieÅ¼Ä…cego wÄ™zÅ‚a.</p></li>
</ul>
</section>
<section id="id74">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code><a class="headerlink" href="#id74" title="Link to this heading">#</a></h1>
</section>
<section id="id75">
<h1>Opis semantyczny<a class="headerlink" href="#id75" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> reprezentuje pojedynczy wÄ™zeÅ‚ w drzewie danych i sÅ‚uÅ¼y do <strong>odczytu</strong> danych z tego wÄ™zÅ‚a. DziaÅ‚a na strumieniu <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> i implementuje mechanizm leniwego odczytu (lazy loading) â€“ dane wÅ‚aÅ›ciwoÅ›ci wÄ™zÅ‚a sÄ… deserializowane do wewnÄ™trznego bufora dopiero przy pierwszej prÃ³bie dostÄ™pu do nich.</p>
</section>
<section id="id76">
<h1>Metody publiczne<a class="headerlink" href="#id76" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">BinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code></p></td>
<td class="text-left"><p>Konstruktor, przyjmuje strumieÅ„ wejÅ›ciowy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">seek(uint</span> <span class="pre">pos)</span></code></p></td>
<td class="text-left"><p>Ustawia pozycjÄ™ odczytu w zdeserializowanym buforze.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">skip(uint</span> <span class="pre">len)</span></code></p></td>
<td class="text-left"><p>Przeskakuje o <code class="docutils literal notranslate"><span class="pre">len</span></code> bajtÃ³w w buforze.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">tell()</span></code></p></td>
<td class="text-left"><p>Zwraca bieÅ¼Ä…cÄ… pozycjÄ™ odczytu w buforze.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">size()</span></code></p></td>
<td class="text-left"><p>Zwraca rozmiar zdeserializowanych danych wÄ™zÅ‚a.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getU8()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU32()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU64()</span></code></p></td>
<td class="text-left"><p>OdczytujÄ… liczby caÅ‚kowite bez znaku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getString(uint16</span> <span class="pre">len</span> <span class="pre">=</span> <span class="pre">0)</span></code></p></td>
<td class="text-left"><p>Odczytuje ciÄ…g znakÃ³w (dÅ‚ugoÅ›Ä‡ podana lub odczytana jako U16).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getPoint()</span></code></p></td>
<td class="text-left"><p>Odczytuje obiekt <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getChildren()</span></code></p></td>
<td class="text-left"><p>Zwraca wektor <code class="docutils literal notranslate"><span class="pre">BinaryTreePtr</span></code> zawierajÄ…cy wszystkie dzieci bieÅ¼Ä…cego wÄ™zÅ‚a.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">canRead()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy moÅ¼na jeszcze odczytywaÄ‡ dane z bufora.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id77">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code><a class="headerlink" href="#id77" title="Link to this heading">#</a></h1>
</section>
<section id="id78">
<h1>Opis semantyczny<a class="headerlink" href="#id78" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code> jest odpowiednikiem <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> do <strong>zapisu</strong> danych w formacie drzewa binarnego. UmoÅ¼liwia tworzenie wÄ™zÅ‚Ã³w i zapisywanie do nich wÅ‚aÅ›ciwoÅ›ci, dbajÄ…c o poprawne formatowanie i â€œuciekanieâ€ (escaping) znakÃ³w specjalnych.</p>
</section>
<section id="id79">
<h1>Metody publiczne<a class="headerlink" href="#id79" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OutputBinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code></p></td>
<td class="text-left"><p>Konstruktor, przyjmuje strumieÅ„ wyjÅ›ciowy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addU8()</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16()</span></code>, <code class="docutils literal notranslate"><span class="pre">addU32()</span></code></p></td>
<td class="text-left"><p>ZapisujÄ… liczby caÅ‚kowite bez znaku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addString(const</span> <span class="pre">std::string&amp;</span> <span class="pre">v)</span></code></p></td>
<td class="text-left"><p>Zapisuje ciÄ…g znakÃ³w (z dÅ‚ugoÅ›ciÄ…).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addPos(uint16</span> <span class="pre">x,</span> <span class="pre">uint16</span> <span class="pre">y,</span> <span class="pre">uint8</span> <span class="pre">z)</span></code></p></td>
<td class="text-left"><p>Zapisuje pozycjÄ™ (x, y, z).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addPoint(const</span> <span class="pre">Point&amp;</span> <span class="pre">point)</span></code></p></td>
<td class="text-left"><p>Zapisuje obiekt <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">startNode(uint8</span> <span class="pre">node)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna nowy zagnieÅ¼dÅ¼ony wÄ™zeÅ‚ z danym typem (atrybutem).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">endNode()</span></code></p></td>
<td class="text-left"><p>KoÅ„czy bieÅ¼Ä…cy wÄ™zeÅ‚.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id80">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id80" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Definicje wskaÅºnikÃ³w, np. <code class="docutils literal notranslate"><span class="pre">FileStreamPtr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: WewnÄ™trzny bufor w <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> jest typu <code class="docutils literal notranslate"><span class="pre">DataBuffer</span></code>.</p></li>
<li><p>Jest uÅ¼ywana przez moduÅ‚y, ktÃ³re muszÄ… przetwarzaÄ‡ dane w formacie <code class="docutils literal notranslate"><span class="pre">.otbm</span></code>, np. edytor map lub sam klient do wczytywania mapy gry.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="config-cpp">
<h1>ğŸ“„ config.cpp<a class="headerlink" href="#config-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id81">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id81" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">config.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Config</span></code>, ktÃ³ra jest opakowaniem na dokument OTML (<code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>). SÅ‚uÅ¼y do zarzÄ…dzania pojedynczym plikiem konfiguracyjnym, umoÅ¼liwiajÄ…c Å‚atwy odczyt, zapis i modyfikacjÄ™ wartoÅ›ci w formacie <code class="docutils literal notranslate"><span class="pre">key-value</span></code> oraz bardziej zÅ‚oÅ¼onych struktur zagnieÅ¼dÅ¼onych.</p>
</section>
<section id="klasa-config">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Config</span></code><a class="headerlink" href="#klasa-config" title="Link to this heading">#</a></h1>
</section>
<section id="config-config">
<h1><code class="docutils literal notranslate"><span class="pre">Config::Config()</span></code><a class="headerlink" href="#config-config" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje pusty dokument OTML (<code class="docutils literal notranslate"><span class="pre">m_confsDoc</span></code>) i zeruje nazwÄ™ pliku (<code class="docutils literal notranslate"><span class="pre">m_fileName</span></code>).</p>
</section>
<section id="bool-config-load-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#bool-config-load-const-std-string-file" title="Link to this heading">#</a></h1>
</section>
<section id="id82">
<h1>Opis semantyczny<a class="headerlink" href="#id82" title="Link to this heading">#</a></h1>
<p>Åaduje i parsuje plik konfiguracyjny w formacie OTML.</p>
</section>
<section id="id83">
<h1>DziaÅ‚anie<a class="headerlink" href="#id83" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>ZapamiÄ™tuje nazwÄ™ pliku w <code class="docutils literal notranslate"><span class="pre">m_fileName</span></code>.</p></li>
<li><p>Sprawdza, czy plik istnieje za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_resources.fileExists</span></code>.</p></li>
<li><p>JeÅ›li plik istnieje, parsuje go za pomocÄ… <code class="docutils literal notranslate"><span class="pre">OTMLDocument::parse</span></code>.</p></li>
<li><p>W przypadku sukcesu, zastÄ™puje wewnÄ™trzny dokument (<code class="docutils literal notranslate"><span class="pre">m_confsDoc</span></code>) nowo sparsowanym.</p></li>
<li><p>W przypadku bÅ‚Ä™du parsowania, loguje bÅ‚Ä…d i zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ol>
</section>
<section id="bool-config-unload">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::unload()</span></code><a class="headerlink" href="#bool-config-unload" title="Link to this heading">#</a></h1>
<p>Zwalnia wewnÄ™trzny dokument OTML i resetuje nazwÄ™ pliku. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li obiekt byÅ‚ zaÅ‚adowany.</p>
</section>
<section id="bool-config-save">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::save()</span></code><a class="headerlink" href="#bool-config-save" title="Link to this heading">#</a></h1>
<p>Zapisuje bieÅ¼Ä…cÄ… zawartoÅ›Ä‡ dokumentu OTML do pliku, ktÃ³rego nazwa jest przechowywana w <code class="docutils literal notranslate"><span class="pre">m_fileName</span></code>. UÅ¼ywa do tego metody <code class="docutils literal notranslate"><span class="pre">m_confsDocâ†’save()</span></code>.</p>
</section>
<section id="void-config-clear">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::clear()</span></code><a class="headerlink" href="#void-config-clear" title="Link to this heading">#</a></h1>
<p>CzyÅ›ci wszystkie wÄ™zÅ‚y z wewnÄ™trznego dokumentu OTML.</p>
</section>
<section id="void-config-setvalue-const-std-string-key-const-std-string-value">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setValue(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">value)</span></code><a class="headerlink" href="#void-config-setvalue-const-std-string-key-const-std-string-value" title="Link to this heading">#</a></h1>
<p>Ustawia wartoÅ›Ä‡ dla danego klucza. JeÅ›li wartoÅ›Ä‡ jest pusta, klucz jest usuwany. W przeciwnym razie tworzony jest nowy wÄ™zeÅ‚ OTML (<code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>) i dodawany do dokumentu. IstniejÄ…ce wÄ™zÅ‚y o tym samym kluczu sÄ… nadpisywane.</p>
</section>
<section id="void-config-setlist-const-std-string-key-const-std-vector-std-string-list">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setList(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">list)</span></code><a class="headerlink" href="#void-config-setlist-const-std-string-key-const-std-vector-std-string-list" title="Link to this heading">#</a></h1>
<p>Zapisuje wektor stringÃ³w jako listÄ™ w dokumencie OTML. Tworzy wÄ™zeÅ‚ gÅ‚Ã³wny o nazwie <code class="docutils literal notranslate"><span class="pre">key</span></code>, a nastÄ™pnie dodaje kaÅ¼dy element wektora jako jego dziecko bez nazwy.</p>
</section>
<section id="bool-config-exists-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::exists(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#bool-config-exists-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy w dokumencie istnieje wÄ™zeÅ‚ o podanym kluczu.</p>
</section>
<section id="std-string-config-getvalue-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Config::getValue(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#std-string-config-getvalue-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Zwraca wartoÅ›Ä‡ stringowÄ… dla podanego klucza. JeÅ›li klucz nie istnieje, zwraca pusty string.</p>
</section>
<section id="std-vector-std-string-config-getlist-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">Config::getList(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#std-vector-std-string-config-getlist-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Odczytuje listÄ™ stringÃ³w z wÄ™zÅ‚a o podanym kluczu. Zwraca pusty wektor, jeÅ›li klucz nie istnieje.</p>
</section>
<section id="void-config-remove-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::remove(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#void-config-remove-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Usuwa wÄ™zeÅ‚ o podanym kluczu z dokumentu.</p>
</section>
<section id="void-config-setnode-const-std-string-key-const-otmlnodeptr-node">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code><a class="headerlink" href="#void-config-setnode-const-std-string-key-const-otmlnodeptr-node" title="Link to this heading">#</a></h1>
<p>ZastÄ™puje istniejÄ…cy wÄ™zeÅ‚ nowym wÄ™zÅ‚em OTML. Najpierw usuwa stary wÄ™zeÅ‚, a nastÄ™pnie dodaje sklonowanÄ… wersjÄ™ nowego.</p>
</section>
<section id="void-config-mergenode-const-std-string-key-const-otmlnodeptr-node">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::mergeNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code><a class="headerlink" href="#void-config-mergenode-const-std-string-key-const-otmlnodeptr-node" title="Link to this heading">#</a></h1>
<p>ÅÄ…czy podany wÄ™zeÅ‚ z istniejÄ…cym (lub tworzy nowy). DziaÅ‚a podobnie do <code class="docutils literal notranslate"><span class="pre">setNode</span></code>, ale jest uÅ¼ywane do dodawania/aktualizowania danych bez usuwania caÅ‚ego wÄ™zÅ‚a.</p>
</section>
<section id="otmlnodeptr-config-getnode-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">Config::getNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#otmlnodeptr-config-getnode-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Zwraca wskaÅºnik do wÄ™zÅ‚a OTML o podanym kluczu.</p>
</section>
<section id="int-config-getnodesize-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Config::getNodeSize(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#int-config-getnodesize-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Zwraca liczbÄ™ dzieci wÄ™zÅ‚a o podanym kluczu. Zwraca 0, jeÅ›li wÄ™zeÅ‚ nie istnieje.</p>
</section>
<section id="bool-config-isloaded">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::isLoaded()</span></code><a class="headerlink" href="#bool-config-isloaded" title="Link to this heading">#</a></h1>
<p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code> jest powiÄ…zany z plikiem i ma zaÅ‚adowanÄ… zawartoÅ›Ä‡.</p>
</section>
<section id="id84">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id84" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/config.h</span></code>: Plik nagÅ‚Ã³wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: UÅ¼ywany do sprawdzania istnienia plikÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/configmanager.h</span></code>: <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code> zarzÄ…dza instancjami klasy <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code>: Intensywnie korzysta z <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code> i <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> do przechowywania i manipulowania danymi konfiguracyjnymi.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="configmanager-cpp">
<h1>ğŸ“„ configmanager.cpp<a class="headerlink" href="#configmanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id85">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id85" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">configmanager.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_configs</span></code>) sÅ‚uÅ¼Ä…cym do zarzÄ…dzania wieloma plikami konfiguracyjnymi (<code class="docutils literal notranslate"><span class="pre">Config</span></code>) w aplikacji. UmoÅ¼liwia Å‚adowanie, tworzenie, pobieranie i zwalnianie konfiguracji na Å¼Ä…danie.</p>
</section>
<section id="id86">
<h1>Zmienne globalne<a class="headerlink" href="#id86" title="Link to this heading">#</a></h1>
</section>
<section id="g-configs">
<h1><code class="docutils literal notranslate"><span class="pre">g_configs</span></code><a class="headerlink" href="#g-configs" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>, zapewniajÄ…ca centralny punkt dostÄ™pu do wszystkich konfiguracji.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ConfigManager</span><span class="w"> </span><span class="n">g_configs</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-configmanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code><a class="headerlink" href="#klasa-configmanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-configmanager-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::init()</span></code><a class="headerlink" href="#void-configmanager-init" title="Link to this heading">#</a></h1>
</section>
<section id="id87">
<h1>Opis semantyczny<a class="headerlink" href="#id87" title="Link to this heading">#</a></h1>
<p>Inicjalizuje menedÅ¼era. Tworzy gÅ‚Ã³wny obiekt konfiguracyjny, zwany â€œsettingsâ€ (<code class="docutils literal notranslate"><span class="pre">m_settings</span></code>), ktÃ³ry jest przeznaczony do przechowywania ustawieÅ„ samej aplikacji.</p>
</section>
<section id="void-configmanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::terminate()</span></code><a class="headerlink" href="#void-configmanager-terminate" title="Link to this heading">#</a></h1>
</section>
<section id="id88">
<h1>Opis semantyczny<a class="headerlink" href="#id88" title="Link to this heading">#</a></h1>
<p>Zwalnia wszystkie zarzÄ…dzane obiekty <code class="docutils literal notranslate"><span class="pre">Config</span></code>. Zapewnia, Å¼e gÅ‚Ã³wna konfiguracja (<code class="docutils literal notranslate"><span class="pre">m_settings</span></code>) jest zapisywana przed zamkniÄ™ciem.</p>
</section>
<section id="id89">
<h1>DziaÅ‚anie<a class="headerlink" href="#id89" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Zapisuje gÅ‚Ã³wny plik ustawieÅ„ (<code class="docutils literal notranslate"><span class="pre">m_settingsâ†’save()</span></code>).</p></li>
<li><p>OdÅ‚adowuje (<code class="docutils literal notranslate"><span class="pre">unload()</span></code>) gÅ‚Ã³wny obiekt ustawieÅ„.</p></li>
<li><p>Iteruje po wszystkich pozostaÅ‚ych zaÅ‚adowanych konfiguracjach i je odÅ‚adowuje.</p></li>
<li><p>CzyÅ›ci listÄ™ <code class="docutils literal notranslate"><span class="pre">m_configs</span></code>.</p></li>
</ol>
</section>
<section id="configptr-configmanager-getsettings">
<h1><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::getSettings()</span></code><a class="headerlink" href="#configptr-configmanager-getsettings" title="Link to this heading">#</a></h1>
<p>Zwraca wskaÅºnik do gÅ‚Ã³wnego obiektu konfiguracyjnego <code class="docutils literal notranslate"><span class="pre">m_settings</span></code>.</p>
</section>
<section id="configptr-configmanager-get-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#configptr-configmanager-get-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Wyszukuje i zwraca wskaÅºnik do juÅ¼ zaÅ‚adowanego obiektu <code class="docutils literal notranslate"><span class="pre">Config</span></code> na podstawie nazwy pliku. JeÅ›li konfiguracja nie jest zaÅ‚adowana, zwraca <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p>
</section>
<section id="configptr-configmanager-loadsettings-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::loadSettings(const</span> <span class="pre">std::string</span> <span class="pre">file)</span></code><a class="headerlink" href="#configptr-configmanager-loadsettings-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Åaduje gÅ‚Ã³wny plik ustawieÅ„ z podanej Å›cieÅ¼ki. ZastÄ™puje domyÅ›lny, pusty obiekt <code class="docutils literal notranslate"><span class="pre">m_settings</span></code>.</p>
</section>
<section id="configptr-configmanager-create-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::create(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#configptr-configmanager-create-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Åaduje plik konfiguracyjny, a jeÅ›li on nie istnieje, tworzy go. Jest to przydatne do tworzenia domyÅ›lnych plikÃ³w konfiguracyjnych przy pierwszym uruchomieniu.</p>
</section>
<section id="id90">
<h1>DziaÅ‚anie<a class="headerlink" href="#id90" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>PrÃ³buje zaÅ‚adowaÄ‡ plik za pomocÄ… <code class="docutils literal notranslate"><span class="pre">load(file)</span></code>.</p></li>
<li><p>JeÅ›li Å‚adowanie siÄ™ nie powiedzie (plik nie istnieje), tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code>, Å‚aduje go (co tworzy pusty dokument), zapisuje go na dysku (tworzÄ…c plik) i dodaje do listy zarzÄ…dzanych konfiguracji.</p></li>
</ol>
</section>
<section id="configptr-configmanager-load-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#configptr-configmanager-load-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Åaduje plik konfiguracyjny. JeÅ›li plik byÅ‚ juÅ¼ zaÅ‚adowany, zwraca istniejÄ…cÄ… instancjÄ™. W przeciwnym razie tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code>, prÃ³buje zaÅ‚adowaÄ‡ plik z dysku i, jeÅ›li siÄ™ powiedzie, dodaje go do listy zarzÄ…dzanych konfiguracji.</p>
</section>
<section id="bool-configmanager-unload-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ConfigManager::unload(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#bool-configmanager-unload-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Znajduje obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code> po nazwie pliku, odÅ‚adowuje go (zwalniajÄ…c pamiÄ™Ä‡) i usuwa z listy zarzÄ…dzanych konfiguracji.</p>
</section>
<section id="void-configmanager-remove-const-configptr-config">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::remove(const</span> <span class="pre">ConfigPtr</span> <span class="pre">config)</span></code><a class="headerlink" href="#void-configmanager-remove-const-configptr-config" title="Link to this heading">#</a></h1>
<p>Usuwa podany obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code> z listy <code class="docutils literal notranslate"><span class="pre">m_configs</span></code>.</p>
</section>
<section id="id91">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id91" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/configmanager.h</span></code>: Plik nagÅ‚Ã³wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/config.h</span></code>: <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code> zarzÄ…dza obiektami typu <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/logger.h</span></code>: UÅ¼ywany do logowania bÅ‚Ä™dÃ³w, np. gdy nie moÅ¼na zaÅ‚adowaÄ‡ pliku.</p></li>
<li><p>Jest kluczowym komponentem rdzenia aplikacji, uÅ¼ywanym przez moduÅ‚y do odczytu i zapisu swoich konfiguracji.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="configmanager-h">
<h1>ğŸ“„ configmanager.h<a class="headerlink" href="#configmanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id92">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id92" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">configmanager.h</span></code> deklaruje interfejs klasy <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>, ktÃ³ra peÅ‚ni rolÄ™ centralnego menedÅ¼era plikÃ³w konfiguracyjnych w formacie OTML. UmoÅ¼liwia zarzÄ…dzanie cyklem Å¼ycia wielu obiektÃ³w <code class="docutils literal notranslate"><span class="pre">Config</span></code>, w tym ich Å‚adowanie, tworzenie i zwalnianie.</p>
</section>
<section id="id93">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code><a class="headerlink" href="#id93" title="Link to this heading">#</a></h1>
</section>
<section id="id94">
<h1>Opis semantyczny<a class="headerlink" href="#id94" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code> to klasa singletonowa (<code class="docutils literal notranslate"><span class="pre">g_configs</span></code>), ktÃ³ra przechowuje listÄ™ wszystkich aktywnych obiektÃ³w <code class="docutils literal notranslate"><span class="pre">Config</span></code>. WyrÃ³Å¼nia jeden specjalny obiekt konfiguracyjny, <code class="docutils literal notranslate"><span class="pre">m_settings</span></code>, przeznaczony na gÅ‚Ã³wne ustawienia aplikacji. PozostaÅ‚e konfiguracje sÄ… zarzÄ…dzane w liÅ›cie <code class="docutils literal notranslate"><span class="pre">m_configs</span></code> i identyfikowane po nazwie pliku.</p>
</section>
<section id="id95">
<h1>Metody publiczne<a class="headerlink" href="#id95" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje menedÅ¼era, tworzÄ…c domyÅ›lny obiekt <code class="docutils literal notranslate"><span class="pre">m_settings</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia wszystkie zaÅ‚adowane konfiguracje, zapisujÄ…c wczeÅ›niej <code class="docutils literal notranslate"><span class="pre">m_settings</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">getSettings()</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik do gÅ‚Ã³wnego obiektu ustawieÅ„ aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Wyszukuje i zwraca wskaÅºnik do zaÅ‚adowanej konfiguracji o podanej nazwie pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">create(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Åaduje konfiguracjÄ™ z pliku lub tworzy nowy, pusty plik, jeÅ›li nie istnieje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">loadSettings(const</span> <span class="pre">std::string</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Åaduje gÅ‚Ã³wny plik ustawieÅ„ aplikacji z podanej Å›cieÅ¼ki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Åaduje dodatkowy plik konfiguracyjny.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">unload(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Zwalnia i usuwa z menedÅ¼era konfiguracjÄ™ o podanej nazwie pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">remove(const</span> <span class="pre">ConfigPtr</span> <span class="pre">config)</span></code></p></td>
<td class="text-left"><p>Usuwa podany obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code> z wewnÄ™trznej listy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id96">
<h1>Zmienne chronione<a class="headerlink" href="#id96" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_settings</span></code>: WskaÅºnik na gÅ‚Ã³wny obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code> przechowujÄ…cy ustawienia aplikacji.</p></li>
</ul>
</section>
<section id="id97">
<h1>Zmienne prywatne<a class="headerlink" href="#id97" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_configs</span></code>: Lista wskaÅºnikÃ³w na wszystkie dodatkowe zaÅ‚adowane obiekty <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p></li>
</ul>
</section>
<section id="id98">
<h1>Zmienne globalne<a class="headerlink" href="#id98" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_configs</span></code>: Globalna instancja singletonu <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>.</p></li>
</ul>
</section>
<section id="id99">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id99" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/config.h</span></code>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Config</span></code>, ktÃ³rÄ… zarzÄ…dza <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>.</p></li>
<li><p>Jest oznaczona adnotacjÄ… <code class="docutils literal notranslate"><span class="pre">@bindsingleton</span> <span class="pre">g_configs</span></code>, co oznacza, Å¼e jej funkcjonalnoÅ›Ä‡ jest dostÄ™pna w skryptach Lua pod globalnÄ… nazwÄ… <code class="docutils literal notranslate"><span class="pre">g_configs</span></code>.</p></li>
<li><p>WspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">Application</span></code> (ktÃ³ra wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">init</span></code> i <code class="docutils literal notranslate"><span class="pre">terminate</span></code>) oraz z moduÅ‚ami, ktÃ³re potrzebujÄ… dostÄ™pu do swoich plikÃ³w konfiguracyjnych.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="config-h">
<h1>ğŸ“„ config.h<a class="headerlink" href="#config-h" title="Link to this heading">#</a></h1>
</section>
<section id="id100">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id100" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">config.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Config</span></code>, ktÃ³ra jest obiektowym interfejsem do odczytu, zapisu i manipulacji danymi w plikach konfiguracyjnych formatu OTML. Klasa ta dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co oznacza, Å¼e jej instancje mogÄ… byÄ‡ tworzone i uÅ¼ywane w skryptach Lua.</p>
</section>
<section id="id101">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Config</span></code><a class="headerlink" href="#id101" title="Link to this heading">#</a></h1>
</section>
<section id="id102">
<h1>Opis semantyczny<a class="headerlink" href="#id102" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Config</span></code> dziaÅ‚a jako opakowanie (wrapper) na <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>. KaÅ¼da instancja tej klasy reprezentuje jeden plik konfiguracyjny. UmoÅ¼liwia operacje takie jak ustawianie wartoÅ›ci (<code class="docutils literal notranslate"><span class="pre">setValue</span></code>), list (<code class="docutils literal notranslate"><span class="pre">setList</span></code>), a takÅ¼e bardziej zÅ‚oÅ¼onych struktur (<code class="docutils literal notranslate"><span class="pre">setNode</span></code>, <code class="docutils literal notranslate"><span class="pre">mergeNode</span></code>). Wszystkie dane sÄ… przechowywane wewnÄ™trznie jako drzewo wÄ™zÅ‚Ã³w OTML.</p>
</section>
<section id="id103">
<h1>Metody publiczne<a class="headerlink" href="#id103" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Config()</span></code></p></td>
<td class="text-left"><p>Konstruktor domyÅ›lny.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Åaduje i parsuje konfiguracjÄ™ z pliku OTML.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">unload()</span></code></p></td>
<td class="text-left"><p>Zwalnia zaÅ‚adowanÄ… konfiguracjÄ™.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">save()</span></code></p></td>
<td class="text-left"><p>Zapisuje bieÅ¼Ä…cy stan konfiguracji do pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Usuwa wszystkie dane z konfiguracji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setValue(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wartoÅ›Ä‡ dla danego klucza.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setList(...)</span></code></p></td>
<td class="text-left"><p>Ustawia listÄ™ wartoÅ›ci dla danego klucza.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getValue(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje wartoÅ›Ä‡ dla danego klucza.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">getList(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje listÄ™ wartoÅ›ci dla danego klucza.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setNode(...)</span></code></p></td>
<td class="text-left"><p>ZastÄ™puje wÄ™zeÅ‚ o danym kluczu nowym wÄ™zÅ‚em OTML.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">mergeNode(...)</span></code></p></td>
<td class="text-left"><p>ÅÄ…czy (merge) podany wÄ™zeÅ‚ z istniejÄ…cym wÄ™zÅ‚em o danym kluczu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">getNode(...)</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik do wÄ™zÅ‚a OTML o podanym kluczu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getNodeSize(...)</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ dzieci wÄ™zÅ‚a o danym kluczu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">exists(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy klucz istnieje.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">remove(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></p></td>
<td class="text-left"><p>Usuwa klucz i jego wartoÅ›Ä‡.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getFileName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ pliku powiÄ…zanego z tÄ… konfiguracjÄ….</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isLoaded()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li konfiguracja zostaÅ‚a zaÅ‚adowana z pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">asConfig()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code> do siebie (<code class="docutils literal notranslate"><span class="pre">static_self_cast</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id104">
<h1>Zmienne prywatne<a class="headerlink" href="#id104" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_fileName</span></code>: Nazwa pliku konfiguracyjnego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_confsDoc</span></code>: WskaÅºnik na <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>, ktÃ³ry przechowuje dane konfiguracyjne.</p></li>
</ul>
</section>
<section id="id105">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id105" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Deklaracje typÃ³w, w tym <code class="docutils literal notranslate"><span class="pre">ConfigPtr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, aby byÄ‡ dostÄ™pnÄ… w Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span></code> i <code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code> do przechowywania danych.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, co oznacza, Å¼e metody tej klasy sÄ… dostÄ™pne do wywoÅ‚ania z poziomu skryptÃ³w Lua na instancjach obiektÃ³w <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p></li>
<li><p>Instancje tej klasy sÄ… tworzone i zarzÄ…dzane przez <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="clock-cpp">
<h1>ğŸ“„ clock.cpp<a class="headerlink" href="#clock-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id106">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id106" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">clock.cpp</span></code> zawiera implementacjÄ™ metod klasy <code class="docutils literal notranslate"><span class="pre">Clock</span></code>. Odpowiada za dostarczanie mechanizmÃ³w pomiaru czasu, ktÃ³re sÄ… kluczowe dla pÄ™tli gÅ‚Ã³wnej aplikacji, planowania zdarzeÅ„ i animacji.</p>
</section>
<section id="id107">
<h1>Zmienne globalne<a class="headerlink" href="#id107" title="Link to this heading">#</a></h1>
</section>
<section id="g-clock">
<h1><code class="docutils literal notranslate"><span class="pre">g_clock</span></code><a class="headerlink" href="#g-clock" title="Link to this heading">#</a></h1>
<p>Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">Clock</span></code>, ktÃ³ra jest uÅ¼ywana w caÅ‚ym frameworku do uzyskiwania spÃ³jnych informacji o czasie.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Clock</span><span class="w"> </span><span class="n">g_clock</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id108">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Clock</span></code><a class="headerlink" href="#id108" title="Link to this heading">#</a></h1>
</section>
<section id="clock-clock">
<h1><code class="docutils literal notranslate"><span class="pre">Clock::Clock()</span></code><a class="headerlink" href="#clock-clock" title="Link to this heading">#</a></h1>
<p>Konstruktor klasy. Inicjalizuje wszystkie liczniki czasu na 0.</p>
</section>
<section id="void-clock-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Clock::update()</span></code><a class="headerlink" href="#void-clock-update" title="Link to this heading">#</a></h1>
</section>
<section id="id109">
<h1>Opis semantyczny<a class="headerlink" href="#id109" title="Link to this heading">#</a></h1>
<p>Aktualizuje wewnÄ™trzne, â€œbuforowaneâ€ liczniki czasu. Ta metoda powinna byÄ‡ wywoÅ‚ywana raz na kaÅ¼dÄ… iteracjÄ™ gÅ‚Ã³wnej pÄ™tli aplikacji. DziÄ™ki temu wszystkie operacje wewnÄ…trz jednej klatki (np. logika gry, animacje, fizyka) bazujÄ… na tej samej wartoÅ›ci czasu, co zapobiega niespÃ³jnoÅ›ciom.</p>
</section>
<section id="id110">
<h1>DziaÅ‚anie<a class="headerlink" href="#id110" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera aktualny czas systemowy w mikrosekundach za pomocÄ… <code class="docutils literal notranslate"><span class="pre">stdext::micros()</span></code>.</p></li>
<li><p>Zapisuje tÄ™ wartoÅ›Ä‡ do atomowej zmiennej <code class="docutils literal notranslate"><span class="pre">m_currentMicros</span></code>.</p></li>
<li><p>Oblicza i zapisuje czas w milisekundach (<code class="docutils literal notranslate"><span class="pre">m_currentMillis</span></code>) i sekundach (<code class="docutils literal notranslate"><span class="pre">m_currentSeconds</span></code>).</p></li>
</ol>
</section>
<section id="ticks-t-clock-realmicros">
<h1><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Clock::realMicros()</span></code><a class="headerlink" href="#ticks-t-clock-realmicros" title="Link to this heading">#</a></h1>
<p>Zwraca â€œna Å¼ywoâ€ aktualny czas systemowy w mikrosekundach. W przeciwieÅ„stwie do <code class="docutils literal notranslate"><span class="pre">micros()</span></code>, ta metoda nie korzysta z buforowanej wartoÅ›ci i przy kaÅ¼dym wywoÅ‚aniu odpytuje system operacyjny.</p>
</section>
<section id="ticks-t-clock-realmillis">
<h1><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Clock::realMillis()</span></code><a class="headerlink" href="#ticks-t-clock-realmillis" title="Link to this heading">#</a></h1>
<p>Zwraca â€œna Å¼ywoâ€ aktualny czas systemowy w milisekundach. Podobnie jak <code class="docutils literal notranslate"><span class="pre">realMicros()</span></code>, odczytuje aktualny czas.</p>
</section>
<section id="id111">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id111" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Plik nagÅ‚Ã³wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/time.h</span></code>: UÅ¼ywa funkcji <code class="docutils literal notranslate"><span class="pre">stdext::micros()</span></code> i <code class="docutils literal notranslate"><span class="pre">stdext::millis()</span></code>, ktÃ³re sÄ… opakowaniem na <code class="docutils literal notranslate"><span class="pre">std::chrono</span></code> do pobierania czasu o wysokiej precyzji.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> do planowania zdarzeÅ„, <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> do synchronizacji pÄ™tli renderowania oraz przez wiele innych komponentÃ³w do mierzenia czasu trwania operacji.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="consoleapplication-h">
<h1>ğŸ“„ consoleapplication.h<a class="headerlink" href="#consoleapplication-h" title="Link to this heading">#</a></h1>
</section>
<section id="id112">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id112" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">consoleapplication.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>, ktÃ³ra jest konkretnÄ… implementacjÄ… klasy <code class="docutils literal notranslate"><span class="pre">Application</span></code> dla aplikacji dziaÅ‚ajÄ…cej w trybie konsolowym, bez interfejsu graficznego. Jest uÅ¼ywana, gdy flaga <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code> nie jest zdefiniowana podczas kompilacji.</p>
</section>
<section id="klasa-consoleapplication">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code><a class="headerlink" href="#klasa-consoleapplication" title="Link to this heading">#</a></h1>
</section>
<section id="id113">
<h1>Opis semantyczny<a class="headerlink" href="#id113" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">Application</span></code> i implementuje jej czysto wirtualnÄ… metodÄ™ <code class="docutils literal notranslate"><span class="pre">run()</span></code>. Ta implementacja zawiera prostÄ… pÄ™tlÄ™ gÅ‚Ã³wnÄ…, ktÃ³ra przetwarza zdarzenia i usypia wÄ…tek na krÃ³tki czas, aby uniknÄ…Ä‡ 100% uÅ¼ycia procesora.</p>
</section>
<section id="id114">
<h1>Metody publiczne<a class="headerlink" href="#id114" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">run()</span></code></p></td>
<td class="text-left"><p>Implementuje gÅ‚Ã³wnÄ… pÄ™tlÄ™ aplikacji konsolowej.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id115">
<h1>Zmienne globalne<a class="headerlink" href="#id115" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_app</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>, ktÃ³ra staje siÄ™ gÅ‚Ã³wnym obiektem aplikacji, gdy kompilacja odbywa siÄ™ bez wsparcia dla grafiki.</p></li>
</ul>
</section>
<section id="id116">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id116" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Klasa bazowa, z ktÃ³rej dziedziczy <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>.</p></li>
<li><p>Jest to jedna z dwÃ³ch moÅ¼liwych implementacji aplikacji, wybierana w <code class="docutils literal notranslate"><span class="pre">application.h</span></code> za pomocÄ… dyrektyw preprocesora.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="declarations-h">
<h1>ğŸ“„ declarations.h<a class="headerlink" href="#declarations-h" title="Link to this heading">#</a></h1>
</section>
<section id="id117">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id117" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">core</span></code> jest plikiem nagÅ‚Ã³wkowym sÅ‚uÅ¼Ä…cym do wczesnych deklaracji (forward declarations) klas i definicji typÃ³w wskaÅºnikÃ³w (<code class="docutils literal notranslate"><span class="pre">typedef</span></code>) dla rdzennych komponentÃ³w frameworka. Jego celem jest rozwiÄ…zanie problemu zaleÅ¼noÅ›ci cyklicznych miÄ™dzy plikami nagÅ‚Ã³wkowymi oraz zmniejszenie iloÅ›ci doÅ‚Ä…czanych nagÅ‚Ã³wkÃ³w w plikach, ktÃ³re potrzebujÄ… jedynie znaÄ‡ istnienie danego typu, a nie jego peÅ‚nÄ… definicjÄ™.</p>
</section>
<section id="wczesne-deklaracje-forward-declarations">
<h1>Wczesne deklaracje (Forward Declarations)<a class="headerlink" href="#wczesne-deklaracje-forward-declarations" title="Link to this heading">#</a></h1>
<p>Plik deklaruje istnienie nastÄ™pujÄ…cych klas, nie definiujÄ…c ich zawartoÅ›ci:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Module</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Config</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Event</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FileStream</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code></p></li>
</ul>
</section>
<section id="definicje-typow-typedefs">
<h1>Definicje typÃ³w (Typedefs)<a class="headerlink" href="#definicje-typow-typedefs" title="Link to this heading">#</a></h1>
<p>Na podstawie wczesnych deklaracji, plik definiuje typy inteligentnych wskaÅºnikÃ³w (<code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>), ktÃ³re sÄ… uÅ¼ywane w caÅ‚ym frameworku. Upraszcza to skÅ‚adniÄ™ i zapewnia spÃ³jnoÅ›Ä‡.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ModulePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Module&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Config&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EventPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Event&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;ScheduledEvent&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FileStreamPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;FileStream&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BinaryTreePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;BinaryTree&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OutputBinaryTreePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;OutputBinaryTree&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BinaryTreeVec</span></code>: <code class="docutils literal notranslate"><span class="pre">std::vector&lt;BinaryTreePtr&gt;</span></code></p></li>
</ul>
</section>
<section id="id118">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id118" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Zawiera podstawowe definicje i typy, w tym <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr</span></code>.</p></li>
<li><p>Ten plik jest doÅ‚Ä…czany przez wiele innych plikÃ³w nagÅ‚Ã³wkowych w module <code class="docutils literal notranslate"><span class="pre">core</span></code> i poza nim, aby umoÅ¼liwiÄ‡ deklarowanie zmiennych i parametrÃ³w funkcji bez koniecznoÅ›ci doÅ‚Ä…czania peÅ‚nych definicji klas.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="event-cpp">
<h1>ğŸ“„ event.cpp<a class="headerlink" href="#event-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id119">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id119" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">event.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Event</span></code>, ktÃ³ra jest podstawowym obiektem reprezentujÄ…cym jednorazowe, opÃ³Åºnione lub cykliczne zdarzenie w systemie.</p>
</section>
<section id="klasa-event">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Event</span></code><a class="headerlink" href="#klasa-event" title="Link to this heading">#</a></h1>
</section>
<section id="event-event-const-std-string-function-const-std-function-void-callback-bool-botsafe">
<h1><code class="docutils literal notranslate"><span class="pre">Event::Event(const</span> <span class="pre">std::string&amp;</span> <span class="pre">function,</span> <span class="pre">const</span> <span class="pre">std::function&lt;void()&gt;&amp;</span> <span class="pre">callback,</span> <span class="pre">bool</span> <span class="pre">botSafe)</span></code><a class="headerlink" href="#event-event-const-std-string-function-const-std-function-void-callback-bool-botsafe" title="Link to this heading">#</a></h1>
<p>Konstruktor, ktÃ³ry inicjalizuje zdarzenie.</p>
<ul class="simple">
<li><p><strong>Parametry</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">function</span></code>: Nazwa funkcji (lub opis), uÅ¼ywana do celÃ³w debugowania i statystyk.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">callback</span></code>: Funkcja (lambda lub <code class="docutils literal notranslate"><span class="pre">std::function</span></code>), ktÃ³ra zostanie wykonana.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">botSafe</span></code>: Flaga okreÅ›lajÄ…ca, czy zdarzenie moÅ¼e byÄ‡ wywoÅ‚ane przez bota (uÅ¼ywane do filtrowania w niektÃ³rych kontekstach).</p></li>
</ul>
</li>
<li><p><strong>DziaÅ‚anie</strong>: Inicjalizuje flagi <code class="docutils literal notranslate"><span class="pre">m_canceled</span></code> i <code class="docutils literal notranslate"><span class="pre">m_executed</span></code> na <code class="docutils literal notranslate"><span class="pre">false</span></code> oraz przechowuje podane parametry.</p></li>
</ul>
</section>
<section id="event-event">
<h1><code class="docutils literal notranslate"><span class="pre">Event::~Event()</span></code><a class="headerlink" href="#event-event" title="Link to this heading">#</a></h1>
<p>Destruktor. W trybie debugowania, <code class="docutils literal notranslate"><span class="pre">VALIDATE(m_callback</span> <span class="pre">==</span> <span class="pre">nullptr)</span></code> sprawdza, czy <code class="docutils literal notranslate"><span class="pre">callback</span></code> zostaÅ‚ poprawnie zwolniony, aby zapobiec wyciekom pamiÄ™ci lub wiszÄ…cym referencjom.</p>
</section>
<section id="void-event-execute">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Event::execute()</span></code><a class="headerlink" href="#void-event-execute" title="Link to this heading">#</a></h1>
</section>
<section id="id120">
<h1>Opis semantyczny<a class="headerlink" href="#id120" title="Link to this heading">#</a></h1>
<p>Wykonuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> powiÄ…zany ze zdarzeniem.</p>
</section>
<section id="id121">
<h1>DziaÅ‚anie<a class="headerlink" href="#id121" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy zdarzenie nie zostaÅ‚o anulowane (<code class="docutils literal notranslate"><span class="pre">!m_canceled</span></code>) i czy nie zostaÅ‚o juÅ¼ wykonane (<code class="docutils literal notranslate"><span class="pre">!m_executed</span></code>).</p></li>
<li><p>JeÅ›li warunki sÄ… speÅ‚nione i <code class="docutils literal notranslate"><span class="pre">callback</span></code> istnieje, wywoÅ‚uje go.</p></li>
<li><p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_executed</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Resetuje <code class="docutils literal notranslate"><span class="pre">m_callback</span></code> do <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, aby zwolniÄ‡ wszelkie zasoby (np. obiekty przechwycone przez lambdÄ™).</p></li>
</ol>
</section>
<section id="void-event-cancel">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Event::cancel()</span></code><a class="headerlink" href="#void-event-cancel" title="Link to this heading">#</a></h1>
</section>
<section id="id122">
<h1>Opis semantyczny<a class="headerlink" href="#id122" title="Link to this heading">#</a></h1>
<p>Anuluje zdarzenie, zapobiegajÄ…c jego przyszÅ‚emu wykonaniu.</p>
</section>
<section id="id123">
<h1>DziaÅ‚anie<a class="headerlink" href="#id123" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_canceled</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Resetuje <code class="docutils literal notranslate"><span class="pre">m_callback</span></code> do <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, aby natychmiast zwolniÄ‡ zasoby.</p></li>
</ol>
</section>
<section id="id124">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id124" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/event.h</span></code>: Plik nagÅ‚Ã³wkowy dla tej klasy.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code>.</p></li>
<li><p>Jest zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>, ktÃ³ry przechowuje instancje <code class="docutils literal notranslate"><span class="pre">Event</span></code> w kolejce i wywoÅ‚uje ich metodÄ™ <code class="docutils literal notranslate"><span class="pre">execute()</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="event-h">
<h1>ğŸ“„ event.h<a class="headerlink" href="#event-h" title="Link to this heading">#</a></h1>
</section>
<section id="id125">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id125" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">event.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Event</span></code>, ktÃ³ra jest podstawowÄ… klasÄ… do obsÅ‚ugi zdarzeÅ„ w systemie opartym na kolejce zdarzeÅ„. Reprezentuje pojedyncze zadanie, ktÃ³re ma zostaÄ‡ wykonane w przyszÅ‚oÅ›ci przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>.</p>
</section>
<section id="id126">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Event</span></code><a class="headerlink" href="#id126" title="Link to this heading">#</a></h1>
</section>
<section id="id127">
<h1>Opis semantyczny<a class="headerlink" href="#id127" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Event</span></code> to obiekt, ktÃ³ry enkapsuluje funkcjÄ™ zwrotnÄ… (<code class="docutils literal notranslate"><span class="pre">callback</span></code>) do wykonania. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co pozwala na przekazywanie go do skryptÃ³w Lua. Posiada mechanizmy do wykonania, anulowania i sprawdzania jego stanu.</p>
</section>
<section id="id128">
<h1>Metody publiczne<a class="headerlink" href="#id128" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Event(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~Event()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">execute()</span></code></p></td>
<td class="text-left"><p>Wykonuje <code class="docutils literal notranslate"><span class="pre">callback</span></code>, jeÅ›li zdarzenie nie jest anulowane.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">cancel()</span></code></p></td>
<td class="text-left"><p>Anuluje zdarzenie, zapobiegajÄ…c jego wykonaniu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isCanceled()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li zdarzenie zostaÅ‚o anulowane.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isExecuted()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li zdarzenie zostaÅ‚o juÅ¼ wykonane.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isBotSafe()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li zdarzenie jest bezpieczne do wykonania w kontekÅ›cie bota.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">getFunction()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™/opis funkcji powiÄ…zanej ze zdarzeniem.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id129">
<h1>Zmienne chronione<a class="headerlink" href="#id129" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_function</span></code>: <code class="docutils literal notranslate"><span class="pre">std::string</span></code> przechowujÄ…ca nazwÄ™ funkcji dla celÃ³w debugowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_callback</span></code>: <code class="docutils literal notranslate"><span class="pre">std::function&lt;void()&gt;</span></code> zawierajÄ…ca kod do wykonania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_canceled</span></code>: Flaga wskazujÄ…ca, czy zdarzenie zostaÅ‚o anulowane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_executed</span></code>: Flaga wskazujÄ…za, czy zdarzenie zostaÅ‚o wykonane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_botSafe</span></code>: Flaga bezpieczeÅ„stwa.</p></li>
</ul>
</section>
<section id="id130">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id130" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Jest klasÄ… pochodnÄ… <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> do tworzenia i zarzÄ…dzania kolejkÄ… zdarzeÅ„.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code>.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, co oznacza, Å¼e jest dostÄ™pna w Lua, a jej metody (<code class="docutils literal notranslate"><span class="pre">cancel</span></code>, <code class="docutils literal notranslate"><span class="pre">execute</span></code> itd.) mogÄ… byÄ‡ wywoÅ‚ywane ze skryptÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="eventdispatcher-cpp">
<h1>ğŸ“„ eventdispatcher.cpp<a class="headerlink" href="#eventdispatcher-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id131">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id131" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">eventdispatcher.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>, ktÃ³ra jest sercem systemu zdarzeÅ„. Odpowiada za zarzÄ…dzanie kolejkÄ… zdarzeÅ„ natychmiastowych oraz kolejkÄ… priorytetowÄ… zdarzeÅ„ zaplanowanych w czasie.</p>
</section>
<section id="id132">
<h1>Zmienne globalne<a class="headerlink" href="#id132" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> dla gÅ‚Ã³wnego wÄ…tku aplikacji (logika gry, sieÄ‡).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> dla wÄ…tku graficznego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_mainThreadId</span></code>, <code class="docutils literal notranslate"><span class="pre">g_graphicsThreadId</span></code>, <code class="docutils literal notranslate"><span class="pre">g_dispatcherThreadId</span></code>: PrzechowujÄ… identyfikatory wÄ…tkÃ³w w celu weryfikacji, czy dana operacja jest wykonywana w odpowiednim wÄ…tku.</p></li>
</ul>
</section>
<section id="klasa-eventdispatcher">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code><a class="headerlink" href="#klasa-eventdispatcher" title="Link to this heading">#</a></h1>
</section>
<section id="void-eventdispatcher-shutdown">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">EventDispatcher::shutdown()</span></code><a class="headerlink" href="#void-eventdispatcher-shutdown" title="Link to this heading">#</a></h1>
</section>
<section id="id133">
<h1>Opis semantyczny<a class="headerlink" href="#id133" title="Link to this heading">#</a></h1>
<p>Zamyka dyspozytor, przetwarzajÄ…c wszystkie pozostaÅ‚e zdarzenia i anulujÄ…c zaplanowane.</p>
</section>
<section id="id134">
<h1>DziaÅ‚anie<a class="headerlink" href="#id134" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Przetwarza wszystkie zdarzenia z <code class="docutils literal notranslate"><span class="pre">m_eventList</span></code> za pomocÄ… <code class="docutils literal notranslate"><span class="pre">poll()</span></code>.</p></li>
<li><p>Iteruje po wszystkich zdarzeniach w <code class="docutils literal notranslate"><span class="pre">m_scheduledEventList</span></code>, anuluje je i usuwa z kolejki.</p></li>
<li><p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_disabled</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>, aby zapobiec dodawaniu nowych zdarzeÅ„.</p></li>
</ol>
</section>
<section id="void-eventdispatcher-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">EventDispatcher::poll()</span></code><a class="headerlink" href="#void-eventdispatcher-poll" title="Link to this heading">#</a></h1>
</section>
<section id="id135">
<h1>Opis semantyczny<a class="headerlink" href="#id135" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda przetwarzajÄ…ca zdarzenia. WywoÅ‚ywana regularnie w pÄ™tli aplikacji.</p>
</section>
<section id="id136">
<h1>DziaÅ‚anie<a class="headerlink" href="#id136" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>Przetwarzanie zdarzeÅ„ zaplanowanych (<code class="docutils literal notranslate"><span class="pre">m_scheduledEventList</span></code>)</strong>:</p>
<ul class="simple">
<li><p>Sprawdza kolejkÄ™ priorytetowÄ… i wykonuje wszystkie zdarzenia, dla ktÃ³rych minÄ…Å‚ czas (<code class="docutils literal notranslate"><span class="pre">remainingTicks()</span> <span class="pre">&lt;=</span> <span class="pre">0</span></code>).</p></li>
<li><p>JeÅ›li zdarzenie jest cykliczne (<code class="docutils literal notranslate"><span class="pre">nextCycle()</span></code> zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>), jest ponownie dodawane do kolejki z nowym czasem wykonania.</p></li>
</ul>
</li>
<li><p><strong>Przetwarzanie zdarzeÅ„ natychmiastowych (<code class="docutils literal notranslate"><span class="pre">m_eventList</span></code>)</strong>:</p>
<ul class="simple">
<li><p>Wchodzi w pÄ™tlÄ™, ktÃ³ra wykonuje wszystkie zdarzenia z <code class="docutils literal notranslate"><span class="pre">m_eventList</span></code>.</p></li>
<li><p>PÄ™tla jest powtarzana, jeÅ›li w trakcie wykonywania zdarzeÅ„ zostaÅ‚y dodane nowe (np. zdarzenie A dodaje zdarzenie B), aby zapewniÄ‡, Å¼e wszystkie zdarzenia zwiÄ…zane z bieÅ¼Ä…cÄ… klatkÄ… zostanÄ… wykonane przed jej zakoÅ„czeniem.</p></li>
<li><p>Posiada zabezpieczenie przed nieskoÅ„czonÄ… pÄ™tlÄ… (jeÅ›li zdarzenia ciÄ…gle dodajÄ… nowe zdarzenia).</p></li>
</ul>
</li>
<li><p>Zapisuje statystyki dotyczÄ…ce liczby przetworzonych zdarzeÅ„.</p></li>
</ol>
</section>
<section id="scheduledeventptr-eventdispatcher-scheduleeventex">
<h1><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">EventDispatcher::scheduleEventEx(...)</span></code><a class="headerlink" href="#scheduledeventptr-eventdispatcher-scheduleeventex" title="Link to this heading">#</a></h1>
<p>Tworzy i dodaje do kolejki priorytetowej nowe jednorazowe zdarzenie zaplanowane, ktÃ³re zostanie wykonane po upÅ‚ywie <code class="docutils literal notranslate"><span class="pre">delay</span></code> milisekund.</p>
</section>
<section id="scheduledeventptr-eventdispatcher-cycleeventex">
<h1><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">EventDispatcher::cycleEventEx(...)</span></code><a class="headerlink" href="#scheduledeventptr-eventdispatcher-cycleeventex" title="Link to this heading">#</a></h1>
<p>Tworzy i dodaje do kolejki priorytetowej nowe cykliczne zdarzenie zaplanowane, ktÃ³re bÄ™dzie wykonywane co <code class="docutils literal notranslate"><span class="pre">delay</span></code> milisekund.</p>
</section>
<section id="eventptr-eventdispatcher-addeventex">
<h1><code class="docutils literal notranslate"><span class="pre">EventPtr</span> <span class="pre">EventDispatcher::addEventEx(...)</span></code><a class="headerlink" href="#eventptr-eventdispatcher-addeventex" title="Link to this heading">#</a></h1>
<p>Dodaje nowe zdarzenie do kolejki zdarzeÅ„ natychmiastowych. JeÅ›li <code class="docutils literal notranslate"><span class="pre">pushFront</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, zdarzenie jest dodawane na poczÄ…tek kolejki, co gwarantuje jego wykonanie w bieÅ¼Ä…cej iteracji pÄ™tli <code class="docutils literal notranslate"><span class="pre">poll()</span></code>.</p>
</section>
<section id="id137">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id137" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> do sprawdzania czasu dla zdarzeÅ„ zaplanowanych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/graphicalapplication.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_app.isOnInputEvent()</span></code> do oznaczenia, czy zdarzenie zostaÅ‚o wywoÅ‚ane w trakcie obsÅ‚ugi zdarzenia wejÅ›ciowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graph.h</span></code>: Zapisuje statystyki do <code class="docutils literal notranslate"><span class="pre">g_graphs</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/stats.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">AutoStat</span></code> do profilowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code>: UÅ¼ywany do zabezpieczenia przed nieskoÅ„czonymi pÄ™tlami.</p></li>
<li><p>Jest kluczowym komponentem, uÅ¼ywanym przez niemal kaÅ¼dÄ… czÄ™Å›Ä‡ aplikacji do planowania i wykonywania operacji w sposÃ³b asynchroniczny (wzglÄ™dem gÅ‚Ã³wnej pÄ™tli).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="eventdispatcher-h">
<h1>ğŸ“„ eventdispatcher.h<a class="headerlink" href="#eventdispatcher-h" title="Link to this heading">#</a></h1>
</section>
<section id="id138">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id138" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code> deklaruje interfejs klasy <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> oraz powiÄ…zane z niÄ… globalne instancje i makra. Definiuje on publiczne API do zarzÄ…dzania kolejkÄ… zdarzeÅ„ w aplikacji.</p>
</section>
<section id="id139">
<h1>Definicje i Makra<a class="headerlink" href="#id139" title="Link to this heading">#</a></h1>
</section>
<section id="makra-pomocnicze-do-dodawania-zdarzen">
<h1>Makra pomocnicze do dodawania zdarzeÅ„<a class="headerlink" href="#makra-pomocnicze-do-dodawania-zdarzen" title="Link to this heading">#</a></h1>
<p>UpraszczajÄ… one wywoÅ‚ania metod <code class="docutils literal notranslate"><span class="pre">...Ex</span></code>, automatycznie dodajÄ…c nazwÄ™ bieÅ¼Ä…cej funkcji (<code class="docutils literal notranslate"><span class="pre">__FUNCTION__</span></code>) jako opis zdarzenia dla celÃ³w debugowania.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">addEvent(...)</span></code>: Opakowanie na <code class="docutils literal notranslate"><span class="pre">addEventEx(__FUNCTION__,</span> <span class="pre">...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scheduleEvent(...)</span></code>: Opakowanie na <code class="docutils literal notranslate"><span class="pre">scheduleEventEx(__FUNCTION__,</span> <span class="pre">...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cycleEvent(...)</span></code>: Opakowanie na <code class="docutils literal notranslate"><span class="pre">cycleEventEx(__FUNCTION__,</span> <span class="pre">...)</span></code></p></li>
</ul>
</section>
<section id="makra-do-walidacji-watkow">
<h1>Makra do walidacji wÄ…tkÃ³w<a class="headerlink" href="#makra-do-walidacji-watkow" title="Link to this heading">#</a></h1>
<p>SÅ‚uÅ¼Ä… do sprawdzania, czy dana funkcja jest wywoÅ‚ywana w odpowiednim wÄ…tku, co jest kluczowe dla bezpieczeÅ„stwa w Å›rodowisku wielowÄ…tkowym.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">VALIDATE_GRAPHICS_THREAD()</span></code>: Sprawdza, czy bieÅ¼Ä…cy wÄ…tek to wÄ…tek graficzny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VALIDATE_DISPATCHER_THREAD()</span></code>: Sprawdza, czy bieÅ¼Ä…cy wÄ…tek to wÄ…tek dyspozytora (gÅ‚Ã³wny wÄ…tek logiki).</p></li>
</ul>
</section>
<section id="id140">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code><a class="headerlink" href="#id140" title="Link to this heading">#</a></h1>
</section>
<section id="id141">
<h1>Opis semantyczny<a class="headerlink" href="#id141" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> jest centralnym mechanizmem do zarzÄ…dzania i wykonywania zadaÅ„ w sposÃ³b asynchroniczny, ale w ramach jednego, okreÅ›lonego wÄ…tku. Posiada dwie kolejki: jednÄ… dla zdarzeÅ„ natychmiastowych i drugÄ… (priorytetowÄ…) dla zdarzeÅ„ zaplanowanych w czasie.</p>
</section>
<section id="id142">
<h1>Metody publiczne<a class="headerlink" href="#id142" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">shutdown()</span></code></p></td>
<td class="text-left"><p>Zamyka dyspozytor, czyszczÄ…c i anulujÄ…c wszystkie zdarzenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia, ktÃ³re sÄ… gotowe do wykonania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">EventPtr</span> <span class="pre">addEventEx(...)</span></code></p></td>
<td class="text-left"><p>Dodaje zdarzenie do wykonania w nastÄ™pnej iteracji pÄ™tli <code class="docutils literal notranslate"><span class="pre">poll()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">scheduleEventEx(...)</span></code></p></td>
<td class="text-left"><p>Planuje jednorazowe wykonanie zdarzenia po okreÅ›lonym czasie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">cycleEventEx(...)</span></code></p></td>
<td class="text-left"><p>Planuje cykliczne wykonywanie zdarzenia co okreÅ›lony czas.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isBotSafe()</span></code></p></td>
<td class="text-left"><p>Zwraca, czy aktualnie wykonywane zdarzenie jest oznaczone jako â€œbezpieczne dla botaâ€.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id143">
<h1>Zmienne prywatne<a class="headerlink" href="#id143" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_eventList</span></code>: Lista (<code class="docutils literal notranslate"><span class="pre">std::list</span></code>) zdarzeÅ„ do natychmiastowego wykonania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_pollEventsSize</span></code>: Rozmiar <code class="docutils literal notranslate"><span class="pre">m_eventList</span></code> na poczÄ…tku pÄ™tli <code class="docutils literal notranslate"><span class="pre">poll()</span></code>, aby obsÅ‚uÅ¼yÄ‡ zdarzenia dodane w trakcie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_disabled</span></code>: Flaga blokujÄ…ca dodawanie nowych zdarzeÅ„ po wywoÅ‚aniu <code class="docutils literal notranslate"><span class="pre">shutdown()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_botSafe</span></code>: Flaga stanu dla aktualnie wykonywanego zdarzenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>: Mutex rekurencyjny do ochrony kolejek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_scheduledEventList</span></code>: Kolejka priorytetowa (<code class="docutils literal notranslate"><span class="pre">std::priority_queue</span></code>) dla zdarzeÅ„ zaplanowanych w czasie.</p></li>
</ul>
</section>
<section id="id144">
<h1>Zmienne globalne<a class="headerlink" href="#id144" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>: Globalny dyspozytor dla gÅ‚Ã³wnego wÄ…tku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>: Globalny dyspozytor dla wÄ…tku graficznego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_mainThreadId</span></code>, <code class="docutils literal notranslate"><span class="pre">g_dispatcherThreadId</span></code>, <code class="docutils literal notranslate"><span class="pre">g_graphicsThreadId</span></code>: Identyfikatory wÄ…tkÃ³w.</p></li>
</ul>
</section>
<section id="id145">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id145" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Wymagany do obsÅ‚ugi czasu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/scheduledevent.h</span></code>: Definicja <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code> i komparatora <code class="docutils literal notranslate"><span class="pre">lessScheduledEvent</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;queue&gt;</span></code>: UÅ¼ywany do implementacji kolejki priorytetowej.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="filestream-cpp">
<h1>ğŸ“„ filestream.cpp<a class="headerlink" href="#filestream-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id146">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id146" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">filestream.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>, ktÃ³ra jest opakowaniem (wrapperem) na operacje plikowe, gÅ‚Ã³wnie z wykorzystaniem biblioteki <strong>PhysFS</strong>. UmoÅ¼liwia zarÃ³wno odczyt z plikÃ³w na dysku, jak i z danych w pamiÄ™ci (np. z wbudowanego archiwum lub zdekompresowanych danych).</p>
</section>
<section id="klasa-filestream">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code><a class="headerlink" href="#klasa-filestream" title="Link to this heading">#</a></h1>
</section>
<section id="konstruktory">
<h1>Konstruktory<a class="headerlink" href="#konstruktory" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">FileStream::FileStream(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">PHYSFS_File</span> <span class="pre">*fileHandle,</span> <span class="pre">bool</span> <span class="pre">writeable)</span></code></strong>: Tworzy strumieÅ„ na podstawie otwartego uchwytu pliku PhysFS.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">FileStream::FileStream(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">std::string&amp;&amp;</span> <span class="pre">buffer)</span></code></strong>: Tworzy strumieÅ„ na podstawie bufora danych w pamiÄ™ci (<code class="docutils literal notranslate"><span class="pre">std::string</span></code>). PrÃ³buje rÃ³wnieÅ¼ zdekompresowaÄ‡ bufor, jeÅ›li jest on w formacie GZIP.</p></li>
</ul>
</section>
<section id="bool-filestream-initfromgzip-const-std-string-buffer">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">FileStream::initFromGzip(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code><a class="headerlink" href="#bool-filestream-initfromgzip-const-std-string-buffer" title="Link to this heading">#</a></h1>
<p>Prywatna metoda pomocnicza, ktÃ³ra sprawdza, czy bufor danych jest skompresowany za pomocÄ… GZIP (na podstawie â€œmagicznych bajtÃ³wâ€). JeÅ›li tak, dekompresuje go za pomocÄ… biblioteki ZLIB i zapisuje wynik do wewnÄ™trznego bufora <code class="docutils literal notranslate"><span class="pre">m_data</span></code>.</p>
</section>
<section id="filestream-filestream-i-void-filestream-close">
<h1><code class="docutils literal notranslate"><span class="pre">FileStream::~FileStream()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::close()</span></code><a class="headerlink" href="#filestream-filestream-i-void-filestream-close" title="Link to this heading">#</a></h1>
<p>Destruktor i metoda <code class="docutils literal notranslate"><span class="pre">close()</span></code> zwalniajÄ… zasoby. JeÅ›li strumieÅ„ byÅ‚ otwarty z pliku PhysFS, zamyka uchwyt <code class="docutils literal notranslate"><span class="pre">m_fileHandle</span></code>. CzyÅ›ci rÃ³wnieÅ¼ wewnÄ™trzne bufory danych (<code class="docutils literal notranslate"><span class="pre">m_data</span></code>, <code class="docutils literal notranslate"><span class="pre">m_strData</span></code>).</p>
</section>
<section id="void-filestream-flush">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::flush()</span></code><a class="headerlink" href="#void-filestream-flush" title="Link to this heading">#</a></h1>
<p>W przypadku strumienia do zapisu, zapisuje zawartoÅ›Ä‡ bufora <code class="docutils literal notranslate"><span class="pre">m_data</span></code> na dysk za pomocÄ… <code class="docutils literal notranslate"><span class="pre">PHYSFS_writeBytes</span></code>.</p>
</section>
<section id="int-filestream-read-void-buffer-uint32-size-uint32-nmemb">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">FileStream::read(void*</span> <span class="pre">buffer,</span> <span class="pre">uint32</span> <span class="pre">size,</span> <span class="pre">uint32</span> <span class="pre">nmemb)</span></code><a class="headerlink" href="#int-filestream-read-void-buffer-uint32-size-uint32-nmemb" title="Link to this heading">#</a></h1>
<p>Odczytuje dane ze strumienia. JeÅ›li strumieÅ„ jest oparty na pliku, uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">PHYSFS_readBytes</span></code>. JeÅ›li na buforze w pamiÄ™ci, kopiuje dane z <code class="docutils literal notranslate"><span class="pre">m_strData</span></code> lub <code class="docutils literal notranslate"><span class="pre">m_data</span></code> i przesuwa wskaÅºnik odczytu <code class="docutils literal notranslate"><span class="pre">m_pos</span></code>.</p>
</section>
<section id="void-filestream-write-const-void-buffer-uint32-count">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::write(const</span> <span class="pre">void</span> <span class="pre">*buffer,</span> <span class="pre">uint32</span> <span class="pre">count)</span></code><a class="headerlink" href="#void-filestream-write-const-void-buffer-uint32-count" title="Link to this heading">#</a></h1>
<p>Zapisuje dane do strumienia. Dla plikÃ³w uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">PHYSFS_writeBytes</span></code>, a dla buforÃ³w w pamiÄ™ci dodaje dane do <code class="docutils literal notranslate"><span class="pre">m_data</span></code>.</p>
</section>
<section id="seek-skip-size-tell-eof">
<h1><code class="docutils literal notranslate"><span class="pre">seek</span></code>, <code class="docutils literal notranslate"><span class="pre">skip</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code>, <code class="docutils literal notranslate"><span class="pre">tell</span></code>, <code class="docutils literal notranslate"><span class="pre">eof</span></code><a class="headerlink" href="#seek-skip-size-tell-eof" title="Link to this heading">#</a></h1>
<p>Implementacje standardowych operacji na strumieniach, ktÃ³re delegujÄ… wywoÅ‚ania do odpowiednich funkcji PhysFS lub operujÄ… na wewnÄ™trznym wskaÅºniku <code class="docutils literal notranslate"><span class="pre">m_pos</span></code> i rozmiarze bufora.</p>
</section>
<section id="metody-odczytu-typow-getu8-getu16-getstring-etc">
<h1>Metody odczytu typÃ³w (<code class="docutils literal notranslate"><span class="pre">getU8</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16</span></code>, <code class="docutils literal notranslate"><span class="pre">getString</span></code>, etc.)<a class="headerlink" href="#metody-odczytu-typow-getu8-getu16-getstring-etc" title="Link to this heading">#</a></h1>
<p>Metody te sÅ‚uÅ¼Ä… do odczytywania konkretnych typÃ³w danych ze strumienia. DziaÅ‚ajÄ… zarÃ³wno na plikach PhysFS, jak i na buforach w pamiÄ™ci. WykonujÄ… konwersjÄ™ z porzÄ…dku bajtÃ³w Little Endian.</p>
</section>
<section id="binarytreeptr-filestream-getbinarytree">
<h1><code class="docutils literal notranslate"><span class="pre">BinaryTreePtr</span> <span class="pre">FileStream::getBinaryTree()</span></code><a class="headerlink" href="#binarytreeptr-filestream-getbinarytree" title="Link to this heading">#</a></h1>
<p>Rozpoczyna odczyt zagnieÅ¼dÅ¼onej struktury <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> ze strumienia, sprawdzajÄ…c najpierw znacznik poczÄ…tku wÄ™zÅ‚a.</p>
</section>
<section id="metody-zapisu-typow-addu8-addu16-addstring-etc">
<h1>Metody zapisu typÃ³w (<code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16</span></code>, <code class="docutils literal notranslate"><span class="pre">addString</span></code>, etc.)<a class="headerlink" href="#metody-zapisu-typow-addu8-addu16-addstring-etc" title="Link to this heading">#</a></h1>
<p>SÅ‚uÅ¼Ä… do zapisywania danych do strumienia.</p>
</section>
<section id="void-filestream-throwerror">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::throwError(...)</span></code><a class="headerlink" href="#void-filestream-throwerror" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza do generowania wyjÄ…tkÃ³w z dodatkowymi informacjami o nazwie pliku i bÅ‚Ä™dzie PhysFS.</p>
</section>
<section id="id147">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id147" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/filestream.h</span></code>: Plik nagÅ‚Ã³wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/binarytree.h</span></code>: UÅ¼ywana do odczytu i zapisu struktur <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: UÅ¼ywana do sprawdzania, czy aplikacja jest w trakcie zamykania.</p></li>
<li><p><strong>PhysFS</strong>: Kluczowa zaleÅ¼noÅ›Ä‡ do operacji na plikach w wirtualnym systemie plikÃ³w.</p></li>
<li><p><strong>ZLIB</strong>: UÅ¼ywana do dekompresji GZIP.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> i uÅ¼ywana w caÅ‚ym projekcie do odczytu zasobÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="filestream-h">
<h1>ğŸ“„ filestream.h<a class="headerlink" href="#filestream-h" title="Link to this heading">#</a></h1>
</section>
<section id="id148">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id148" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">filestream.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>, ktÃ³ra jest kluczowym elementem systemu zarzÄ…dzania zasobami. Stanowi ona abstrakcjÄ™ nad strumieniem danych, ktÃ³ry moÅ¼e pochodziÄ‡ z pliku na dysku (obsÅ‚ugiwanego przez PhysFS) lub bezpoÅ›rednio z bufora w pamiÄ™ci. Klasa dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, dziÄ™ki czemu moÅ¼e byÄ‡ uÅ¼ywana w skryptach Lua.</p>
</section>
<section id="id149">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code><a class="headerlink" href="#id149" title="Link to this heading">#</a></h1>
</section>
<section id="id150">
<h1>Opis semantyczny<a class="headerlink" href="#id150" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">FileStream</span></code> dostarcza interfejs podobny do standardowych strumieni plikÃ³w, umoÅ¼liwiajÄ…c sekwencyjny odczyt i zapis rÃ³Å¼nych typÃ³w danych (liczby caÅ‚kowite, stringi, dane binarne). Jest to podstawowe narzÄ™dzie do parsowania plikÃ³w binarnych i tekstowych w caÅ‚ym projekcie.</p>
</section>
<section id="id151">
<h1>Metody publiczne<a class="headerlink" href="#id151" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">FileStream(...)</span></code></p></td>
<td class="text-left"><p>Konstruktory tworzÄ…ce strumieÅ„ z uchwytu pliku PhysFS lub z bufora w pamiÄ™ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~FileStream()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">close()</span></code></p></td>
<td class="text-left"><p>Zamyka strumieÅ„ i zwalnia zasoby.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">flush()</span></code></p></td>
<td class="text-left"><p>Wymusza zapis buforowanych danych do pliku (dla strumieni do zapisu).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">write(...)</span></code></p></td>
<td class="text-left"><p>Zapisuje blok danych do strumienia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">read(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje blok danych ze strumienia.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">seek(uint</span> <span class="pre">pos)</span></code></p></td>
<td class="text-left"><p>Ustawia pozycjÄ™ wskaÅºnika w strumieniu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">skip(uint</span> <span class="pre">len)</span></code></p></td>
<td class="text-left"><p>Przesuwa wskaÅºnik o <code class="docutils literal notranslate"><span class="pre">len</span></code> bajtÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">size()</span></code></p></td>
<td class="text-left"><p>Zwraca caÅ‚kowity rozmiar strumienia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">tell()</span></code></p></td>
<td class="text-left"><p>Zwraca bieÅ¼Ä…cÄ… pozycjÄ™ wskaÅºnika.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">eof()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li osiÄ…gniÄ™to koniec strumienia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">name()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™/ÅºrÃ³dÅ‚o strumienia.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getU8()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU32()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU64()</span></code></p></td>
<td class="text-left"><p>OdczytujÄ… liczby caÅ‚kowite bez znaku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">get8()</span></code>, <code class="docutils literal notranslate"><span class="pre">get16()</span></code>, <code class="docutils literal notranslate"><span class="pre">get32()</span></code>, <code class="docutils literal notranslate"><span class="pre">get64()</span></code></p></td>
<td class="text-left"><p>OdczytujÄ… liczby caÅ‚kowite ze znakiem.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getString()</span></code></p></td>
<td class="text-left"><p>Odczytuje string (poprzedzony 2-bajtowÄ… dÅ‚ugoÅ›ciÄ…).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBinaryTree()</span></code></p></td>
<td class="text-left"><p>Odczytuje i zwraca obiekt <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">startNode(uint8</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna zapis nowego wÄ™zÅ‚a w formacie <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">endNode()</span></code></p></td>
<td class="text-left"><p>KoÅ„czy zapis wÄ™zÅ‚a.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addU8()</span></code>, â€¦, <code class="docutils literal notranslate"><span class="pre">addString()</span></code></p></td>
<td class="text-left"><p>ZapisujÄ… rÃ³Å¼ne typy danych do strumienia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">asFileStream()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code> do siebie (<code class="docutils literal notranslate"><span class="pre">static_self_cast</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id152">
<h1>Zmienne prywatne<a class="headerlink" href="#id152" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>: Nazwa pliku lub ÅºrÃ³dÅ‚a danych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_fileHandle</span></code>: WskaÅºnik na uchwyt pliku PhysFS (jeÅ›li dotyczy).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_pos</span></code>: BieÅ¼Ä…ca pozycja odczytu/zapisu w buforze pamiÄ™ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_writeable</span></code>: Flaga wskazujÄ…ca, czy strumieÅ„ jest otwarty do zapisu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_caching</span></code>: Flaga wskazujÄ…ca, czy strumieÅ„ operuje na buforze w pamiÄ™ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_data</span></code>: Bufor danych (<code class="docutils literal notranslate"><span class="pre">DataBuffer&lt;uint8_t&gt;</span></code>) dla strumieni w pamiÄ™ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_strData</span></code>: Bufor danych (<code class="docutils literal notranslate"><span class="pre">std::string</span></code>) dla strumieni w pamiÄ™ci.</p></li>
</ul>
</section>
<section id="id153">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id153" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Definicje typÃ³w, np. <code class="docutils literal notranslate"><span class="pre">BinaryTreePtr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">DataBuffer</span></code> do przechowywania danych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/point.h</span></code>: Do zapisu i odczytu obiektÃ³w <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">physfs.h</span></code>: Wymagany do deklaracji <code class="docutils literal notranslate"><span class="pre">PHYSFS_File</span></code>.</p></li>
<li><p>Klasa jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, co oznacza, Å¼e jest dostÄ™pna w Lua. Jest to kluczowe dla moduÅ‚Ã³w, ktÃ³re muszÄ… parsowaÄ‡ niestandardowe formaty plikÃ³w ze skryptÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="graphicalapplication-cpp">
<h1>ğŸ“„ graphicalapplication.cpp<a class="headerlink" href="#graphicalapplication-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id154">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id154" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graphicalapplication.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, ktÃ³ra jest konkretnÄ… implementacjÄ… <code class="docutils literal notranslate"><span class="pre">Application</span></code> dla aplikacji z interfejsem graficznym. Odpowiada za inicjalizacjÄ™, zarzÄ…dzanie i zamykanie wszystkich podsystemÃ³w graficznych, a takÅ¼e za implementacjÄ™ gÅ‚Ã³wnej pÄ™tli renderowania i logiki.</p>
</section>
<section id="id155">
<h1>Zmienne globalne<a class="headerlink" href="#id155" title="Link to this heading">#</a></h1>
</section>
<section id="g-app">
<h1><code class="docutils literal notranslate"><span class="pre">g_app</span></code><a class="headerlink" href="#g-app" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, ktÃ³ra jest gÅ‚Ã³wnym obiektem aplikacji, gdy kompilacja odbywa siÄ™ z flagÄ… <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">GraphicalApplication</span><span class="w"> </span><span class="n">g_app</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-graphicalapplication">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code><a class="headerlink" href="#klasa-graphicalapplication" title="Link to this heading">#</a></h1>
</section>
<section id="void-graphicalapplication-init-std-vector-std-string-args">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::init(std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code><a class="headerlink" href="#void-graphicalapplication-init-std-vector-std-string-args" title="Link to this heading">#</a></h1>
</section>
<section id="id156">
<h1>Opis semantyczny<a class="headerlink" href="#id156" title="Link to this heading">#</a></h1>
<p>Inicjalizuje aplikacjÄ™ graficznÄ…. WywoÅ‚uje najpierw <code class="docutils literal notranslate"><span class="pre">Application::init()</span></code>, a nastÄ™pnie inicjalizuje wszystkie komponenty zwiÄ…zane z grafikÄ….</p>
</section>
<section id="id157">
<h1>DziaÅ‚anie<a class="headerlink" href="#id157" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">Application::init(args)</span></code>.</p></li>
<li><p>Inicjalizuje okno platformy (<code class="docutils literal notranslate"><span class="pre">g_window.init()</span></code>).</p></li>
<li><p>Ustawia callbacki dla okna: <code class="docutils literal notranslate"><span class="pre">onResize</span></code>, <code class="docutils literal notranslate"><span class="pre">onInputEvent</span></code>, <code class="docutils literal notranslate"><span class="pre">onClose</span></code>.</p></li>
<li><p>Inicjalizuje menedÅ¼era myszy (<code class="docutils literal notranslate"><span class="pre">g_mouse.init()</span></code>).</p></li>
<li><p>Inicjalizuje menedÅ¼era UI (<code class="docutils literal notranslate"><span class="pre">g_ui.init()</span></code>).</p></li>
<li><p>Inicjalizuje silnik graficzny (<code class="docutils literal notranslate"><span class="pre">g_graphics.init()</span></code>).</p></li>
<li><p>WywoÅ‚uje pierwsze zdarzenie zmiany rozmiaru.</p></li>
<li><p>Inicjalizuje menedÅ¼era dÅºwiÄ™ku (<code class="docutils literal notranslate"><span class="pre">g_sounds.init()</span></code>), jeÅ›li <code class="docutils literal notranslate"><span class="pre">FW_SOUND</span></code> jest zdefiniowane.</p></li>
</ol>
</section>
<section id="void-graphicalapplication-deinit">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::deinit()</span></code><a class="headerlink" href="#void-graphicalapplication-deinit" title="Link to this heading">#</a></h1>
<p>Deinicjalizuje aplikacjÄ™ w odwrotnej kolejnoÅ›ci, ukrywajÄ…c okno i zwalniajÄ…c zasoby.</p>
</section>
<section id="void-graphicalapplication-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::terminate()</span></code><a class="headerlink" href="#void-graphicalapplication-terminate" title="Link to this heading">#</a></h1>
<p>Finalizuje zamykanie podsystemÃ³w graficznych, w tym <code class="docutils literal notranslate"><span class="pre">g_ui</span></code>, <code class="docutils literal notranslate"><span class="pre">g_sounds</span></code>, <code class="docutils literal notranslate"><span class="pre">g_mouse</span></code> i <code class="docutils literal notranslate"><span class="pre">g_graphics</span></code>.</p>
</section>
<section id="void-graphicalapplication-run">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::run()</span></code><a class="headerlink" href="#void-graphicalapplication-run" title="Link to this heading">#</a></h1>
</section>
<section id="id158">
<h1>Opis semantyczny<a class="headerlink" href="#id158" title="Link to this heading">#</a></h1>
<p>Implementuje gÅ‚Ã³wnÄ… pÄ™tlÄ™ aplikacji, ktÃ³ra jest podzielona na dwa rÃ³wnolegÅ‚e wÄ…tki:</p>
<ol class="arabic simple">
<li><p><strong>WÄ…tek logiki (<code class="docutils literal notranslate"><span class="pre">worker</span></code>)</strong>: Odpowiada za aktualizacjÄ™ stanu gry, przetwarzanie zdarzeÅ„ i przygotowywanie kolejek rysowania (<code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>).</p></li>
<li><p><strong>WÄ…tek renderowania (gÅ‚Ã³wny wÄ…tek)</strong>: Odpowiada za przetwarzanie zdarzeÅ„ okna, renderowanie zawartoÅ›ci przygotowanych kolejek na ekranie i synchronizacjÄ™ klatek.</p></li>
</ol>
</section>
<section id="dzialanie-watku-logiki-worker">
<h1>DziaÅ‚anie wÄ…tku logiki (<code class="docutils literal notranslate"><span class="pre">worker</span></code>)<a class="headerlink" href="#dzialanie-watku-logiki-worker" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>W nieskoÅ„czonej pÄ™tli:</p>
<ul>
<li><p>Aktualizuje zegar (<code class="docutils literal notranslate"><span class="pre">g_clock.update()</span></code>).</p></li>
<li><p>Przetwarza zdarzenia (<code class="docutils literal notranslate"><span class="pre">poll()</span></code>).</p></li>
<li><p>Czeka, jeÅ›li poprzednia klatka nie zostaÅ‚a jeszcze wyrenderowana.</p></li>
<li><p>Renderuje UI do trzech osobnych kolejek: <code class="docutils literal notranslate"><span class="pre">MapBackgroundPane</span></code>, <code class="docutils literal notranslate"><span class="pre">MapForegroundPane</span></code>, <code class="docutils literal notranslate"><span class="pre">ForegroundPane</span></code>.</p></li>
<li><p>Przekazuje gotowe kolejki do wÄ…tku renderowania za pomocÄ… mutexu.</p></li>
<li><p>Usypia na 1ms, jeÅ›li <code class="docutils literal notranslate"><span class="pre">m_maxFps</span> <span class="pre">&gt;</span> <span class="pre">0</span></code> lub wÅ‚Ä…czona jest synchronizacja pionowa.</p></li>
</ul>
</li>
</ul>
</section>
<section id="dzialanie-watku-renderowania-glownego">
<h1>DziaÅ‚anie wÄ…tku renderowania (gÅ‚Ã³wnego)<a class="headerlink" href="#dzialanie-watku-renderowania-glownego" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>W nieskoÅ„czonej pÄ™tli:</p>
<ul>
<li><p>Aktualizuje zegar i przetwarza zdarzenia graficzne (<code class="docutils literal notranslate"><span class="pre">pollGraphics()</span></code>).</p></li>
<li><p>Czeka na gotowe kolejki rysowania z wÄ…tku logiki.</p></li>
<li><p>Aktualizuje <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code>.</p></li>
<li><p>Synchronizuje klatki zgodnie z <code class="docutils literal notranslate"><span class="pre">m_maxFps</span></code>.</p></li>
<li><p>Ustawia <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> do renderowania poza ekranem, jeÅ›li skalowanie jest wÅ‚Ä…czone.</p></li>
<li><p>Renderuje tÅ‚o mapy do <code class="docutils literal notranslate"><span class="pre">m_mapFramebuffer</span></code>.</p></li>
<li><p>Renderuje wÅ‚aÅ›ciwÄ… scenÄ™, Å‚Ä…czÄ…c tÅ‚o mapy, pierwszy plan mapy i interfejs uÅ¼ytkownika.</p></li>
<li><p>JeÅ›li wÅ‚Ä…czono skalowanie, rysuje zawartoÅ›Ä‡ <code class="docutils literal notranslate"><span class="pre">m_framebuffer</span></code> na ekranie.</p></li>
<li><p>Rysuje grafy debugowania.</p></li>
<li><p>Zamienia bufory (<code class="docutils literal notranslate"><span class="pre">g_window.swapBuffers()</span></code>).</p></li>
</ul>
</li>
</ul>
</section>
<section id="void-graphicalapplication-poll-i-void-graphicalapplication-pollgraphics">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::poll()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::pollGraphics()</span></code><a class="headerlink" href="#void-graphicalapplication-poll-i-void-graphicalapplication-pollgraphics" title="Link to this heading">#</a></h1>
<p>Metody pomocnicze wywoÅ‚ywane w odpowiednich wÄ…tkach do przetwarzania zdarzeÅ„. <code class="docutils literal notranslate"><span class="pre">poll()</span></code> obsÅ‚uguje dÅºwiÄ™k i logikÄ™, a <code class="docutils literal notranslate"><span class="pre">pollGraphics()</span></code> obsÅ‚uguje zdarzenia okna i aktualizacjÄ™ tekstÃ³w.</p>
</section>
<section id="inne-metody">
<h1>Inne metody<a class="headerlink" href="#inne-metody" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">close()</span></code>: WywoÅ‚ywana przy zamykaniu okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resize()</span></code>: WywoÅ‚ywana przy zmianie rozmiaru okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputEvent()</span></code>: Przekazuje zdarzenia wejÅ›ciowe do <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doScreenshot()</span></code>: Robi zrzut ekranu i zapisuje go do pliku asynchronicznie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scaleUp()</span></code>, <code class="docutils literal notranslate"><span class="pre">scaleDown()</span></code>, <code class="docutils literal notranslate"><span class="pre">scale()</span></code>: ZarzÄ…dzajÄ… skalowaniem interfejsu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setSmooth()</span></code>: WÅ‚Ä…cza/wyÅ‚Ä…cza wygÅ‚adzanie dla <code class="docutils literal notranslate"><span class="pre">m_mapFramebuffer</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doMapScreenshot()</span></code>: Robi zrzut ekranu samej mapy.</p></li>
</ul>
</section>
<section id="id159">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id159" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to centralna klasa, ktÃ³ra integruje prawie wszystkie moduÅ‚y graficzne i rdzenia.</p></li>
<li><p>ZaleÅ¼y od <code class="docutils literal notranslate"><span class="pre">Application</span></code>, <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>, <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>, <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code> i innych.</p></li>
<li><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">std::thread</span></code> i <code class="docutils literal notranslate"><span class="pre">std::mutex</span></code> do implementacji wielowÄ…tkowej pÄ™tli.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="inputevent-h">
<h1>ğŸ“„ inputevent.h<a class="headerlink" href="#inputevent-h" title="Link to this heading">#</a></h1>
</section>
<section id="id160">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id160" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">inputevent.h</span></code> deklaruje strukturÄ™ <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code>, ktÃ³ra jest uÅ¼ywana do przekazywania informacji o zdarzeniach wejÅ›ciowych (z klawiatury i myszy) w systemie. Jest to prosta struktura danych, ktÃ³ra agreguje wszystkie moÅ¼liwe parametry zdarzenia.</p>
</section>
<section id="struktura-inputevent">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code><a class="headerlink" href="#struktura-inputevent" title="Link to this heading">#</a></h1>
</section>
<section id="id161">
<h1>Opis semantyczny<a class="headerlink" href="#id161" title="Link to this heading">#</a></h1>
<p>Struktura <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code> jest uniwersalnym kontenerem na dane o zdarzeniach. W zaleÅ¼noÅ›ci od pola <code class="docutils literal notranslate"><span class="pre">type</span></code>, inne pola przechowujÄ… odpowiednie informacje. Na przykÅ‚ad, dla zdarzenia klawiatury (<code class="docutils literal notranslate"><span class="pre">KeyDownInputEvent</span></code>), pole <code class="docutils literal notranslate"><span class="pre">keyCode</span></code> bÄ™dzie miaÅ‚o znaczenie, a dla zdarzenia myszy (<code class="docutils literal notranslate"><span class="pre">MouseMoveInputEvent</span></code>) - <code class="docutils literal notranslate"><span class="pre">mousePos</span></code> i <code class="docutils literal notranslate"><span class="pre">mouseMoved</span></code>.</p>
</section>
<section id="pola-struktury">
<h1>Pola struktury<a class="headerlink" href="#pola-struktury" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">type</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::InputEventType</span></code></p></td>
<td class="text-left"><p>Typ zdarzenia (np. wciÅ›niÄ™cie klawisza, ruch myszy).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">wheelDirection</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::MouseWheelDirection</span></code></p></td>
<td class="text-left"><p>Kierunek przewijania kÃ³Å‚kiem myszy (<code class="docutils literal notranslate"><span class="pre">MouseWheelUp</span></code> lub <code class="docutils literal notranslate"><span class="pre">MouseWheelDown</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">mouseButton</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::MouseButton</span></code></p></td>
<td class="text-left"><p>Przycisk myszy, ktÃ³ry wywoÅ‚aÅ‚ zdarzenie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">keyCode</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code></p></td>
<td class="text-left"><p>Kod wciÅ›niÄ™tego klawisza.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">keyText</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Znak tekstowy odpowiadajÄ…cy wciÅ›niÄ™temu klawiszowi (dla <code class="docutils literal notranslate"><span class="pre">KeyTextInputEvent</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">keyboardModifiers</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Flagi bitowe dla klawiszy modyfikujÄ…cych (Ctrl, Alt, Shift).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">mousePos</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Point</span></code></p></td>
<td class="text-left"><p>Aktualna pozycja kursora myszy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">mouseMoved</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Point</span></code></p></td>
<td class="text-left"><p>Wektor przesuniÄ™cia kursora myszy od ostatniego zdarzenia.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">autoRepeatTicks</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Czas (w milisekundach), przez jaki klawisz jest przytrzymywany (dla <code class="docutils literal notranslate"><span class="pre">KeyPressInputEvent</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody">
<h1>Metody<a class="headerlink" href="#metody" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">InputEvent()</span></code></strong>: Konstruktor, inicjalizuje strukturÄ™.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">reset(Fw::InputEventType</span> <span class="pre">eventType</span> <span class="pre">=</span> <span class="pre">Fw::NoInputEvent)</span></code></strong>: Resetuje wszystkie pola do wartoÅ›ci domyÅ›lnych i ustawia nowy typ zdarzenia.</p></li>
</ul>
</section>
<section id="id162">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id162" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p>Struktura ta jest tworzona w klasie <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> (np. <code class="docutils literal notranslate"><span class="pre">win32window.cpp</span></code>) na podstawie zdarzeÅ„ systemowych, a nastÄ™pnie przekazywana do <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> i dalej do <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, ktÃ³ry rozsyÅ‚a je do odpowiednich widgetÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="graphicalapplication-h">
<h1>ğŸ“„ graphicalapplication.h<a class="headerlink" href="#graphicalapplication-h" title="Link to this heading">#</a></h1>
</section>
<section id="id163">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id163" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graphicalapplication.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, ktÃ³ra jest implementacjÄ… <code class="docutils literal notranslate"><span class="pre">Application</span></code> dla aplikacji z interfejsem graficznym. Jest to gÅ‚Ã³wna klasa zarzÄ…dzajÄ…ca pÄ™tlÄ… renderowania, zdarzeniami wejÅ›ciowymi i komponentami graficznymi.</p>
</section>
<section id="id164">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code><a class="headerlink" href="#id164" title="Link to this heading">#</a></h1>
</section>
<section id="id165">
<h1>Opis semantyczny<a class="headerlink" href="#id165" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">Application</span></code> i implementuje jej metody wirtualne, dodajÄ…c funkcjonalnoÅ›Ä‡ specyficznÄ… dla aplikacji graficznej. Odpowiada za koordynacjÄ™ miÄ™dzy oknem (<code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>), menedÅ¼erem UI (<code class="docutils literal notranslate"><span class="pre">UIManager</span></code>), silnikiem renderujÄ…cym (<code class="docutils literal notranslate"><span class="pre">Painter</span></code>) i innymi systemami. Implementuje wielowÄ…tkowÄ… pÄ™tlÄ™ gÅ‚Ã³wnÄ…, gdzie logika jest oddzielona od renderowania.</p>
</section>
<section id="id166">
<h1>Metody publiczne<a class="headerlink" href="#id166" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init(...)</span></code></p></td>
<td class="text-left"><p>Inicjalizuje podsystemy graficzne.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">deinit()</span></code></p></td>
<td class="text-left"><p>Zwalnia zasoby graficzne przed zamkniÄ™ciem.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Finalizuje zamykanie podsystemÃ³w graficznych.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">run()</span></code></p></td>
<td class="text-left"><p>Uruchamia gÅ‚Ã³wnÄ…, wielowÄ…tkowÄ… pÄ™tlÄ™ aplikacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia logiki i dÅºwiÄ™ku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">pollGraphics()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia okna i grafiki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">close()</span></code></p></td>
<td class="text-left"><p>ObsÅ‚uguje zdarzenie zamkniÄ™cia okna.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">willRepaint()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li zaplanowano przemalowanie ekranu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">repaint()</span></code></p></td>
<td class="text-left"><p>Wymusza przemalowanie ekranu w nastÄ™pnej klatce.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setMaxFps(int</span> <span class="pre">maxFps)</span></code></p></td>
<td class="text-left"><p>Ustawia maksymalnÄ… liczbÄ™ klatek na sekundÄ™.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getMaxFps()</span></code></p></td>
<td class="text-left"><p>Zwraca ustawiony limit FPS.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getFps()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny FPS renderowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getGraphicsFps()</span></code></p></td>
<td class="text-left"><p>Zwraca FPS wÄ…tku graficznego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getProcessingFps()</span></code></p></td>
<td class="text-left"><p>Zwraca FPS wÄ…tku logiki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isOnInputEvent()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li aplikacja jest w trakcie przetwarzania zdarzenia wejÅ›ciowego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getIteration()</span></code></p></td>
<td class="text-left"><p>Zwraca licznik iteracji gÅ‚Ã³wnej pÄ™tli.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">doScreenshot(...)</span></code></p></td>
<td class="text-left"><p>Robi zrzut caÅ‚ego ekranu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">scaleUp()</span></code> / <code class="docutils literal notranslate"><span class="pre">scaleDown()</span></code> / <code class="docutils literal notranslate"><span class="pre">scale()</span></code></p></td>
<td class="text-left"><p>ZarzÄ…dzajÄ… skalowaniem interfejsu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setSmooth(bool</span> <span class="pre">value)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza/wyÅ‚Ä…cza wygÅ‚adzanie dla bufora ramki mapy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">doMapScreenshot(...)</span></code></p></td>
<td class="text-left"><p>Robi zrzut ekranu samej mapy gry.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id167">
<h1>Metody chronione<a class="headerlink" href="#id167" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code>: ObsÅ‚uguje zdarzenie zmiany rozmiaru okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">inputEvent(InputEvent</span> <span class="pre">event)</span></code>: Otrzymuje i przekazuje zdarzenia wejÅ›ciowe.</p></li>
</ul>
</section>
<section id="id168">
<h1>Zmienne prywatne<a class="headerlink" href="#id168" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_iteration</span></code>: Licznik klatek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_scaling</span></code>, <code class="docutils literal notranslate"><span class="pre">m_lastScaling</span></code>: Aktualne i poprzednie skalowanie UI.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_maxFps</span></code>: Maksymalny limit FPS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_onInputEvent</span></code>: Flaga aktywna podczas obsÅ‚ugi zdarzenia wejÅ›ciowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mustRepaint</span></code>: Flaga wymuszajÄ…ca przemalowanie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_framebuffer</span></code>, <code class="docutils literal notranslate"><span class="pre">m_mapFramebuffer</span></code>: Bufory ramki do renderowania poza ekranem (off-screen rendering).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_graphicsFrames</span></code>, <code class="docutils literal notranslate"><span class="pre">m_processingFrames</span></code>: Liczniki klatek dla wÄ…tku graficznego i logiki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_windowPollTimer</span></code>: Timer do ograniczania czÄ™stotliwoÅ›ci odpytywania okna.</p></li>
</ul>
</section>
<section id="id169">
<h1>Zmienne globalne<a class="headerlink" href="#id169" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_app</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>.</p></li>
</ul>
</section>
<section id="id170">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id170" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Deklaracje typÃ³w graficznych (np. <code class="docutils literal notranslate"><span class="pre">FrameBufferPtr</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/inputevent.h</span></code>: Struktura <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/adaptiverenderer.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code> do dynamicznego dostosowywania wydajnoÅ›ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/framecounter.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">FrameCounter</span></code> do Å›ledzenia FPS.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="logger-h">
<h1>ğŸ“„ logger.h<a class="headerlink" href="#logger-h" title="Link to this heading">#</a></h1>
</section>
<section id="id171">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id171" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">logger.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Logger</span></code>, ktÃ³ra implementuje system logowania dla caÅ‚ej aplikacji. Jest to singleton (<code class="docutils literal notranslate"><span class="pre">g_logger</span></code>) zapewniajÄ…cy scentralizowany i bezpieczny wÄ…tkowo mechanizm do zapisywania komunikatÃ³w o rÃ³Å¼nym poziomie waÅ¼noÅ›ci (debug, info, warning, error, fatal).</p>
</section>
<section id="struktura-logmessage">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">LogMessage</span></code><a class="headerlink" href="#struktura-logmessage" title="Link to this heading">#</a></h1>
<p>Prosta struktura przechowujÄ…ca pojedynczÄ… wiadomoÅ›Ä‡ logu.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">level</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::LogLevel</span></code></p></td>
<td class="text-left"><p>Poziom waÅ¼noÅ›ci wiadomoÅ›ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">message</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>TreÅ›Ä‡ wiadomoÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">when</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::size_t</span></code></p></td>
<td class="text-left"><p>Czas (timestamp) utworzenia wiadomoÅ›ci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasa-logger">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Logger</span></code><a class="headerlink" href="#klasa-logger" title="Link to this heading">#</a></h1>
</section>
<section id="id172">
<h1>Opis semantyczny<a class="headerlink" href="#id172" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Logger</span></code> umoÅ¼liwia logowanie komunikatÃ³w do standardowego wyjÅ›cia (konsola), opcjonalnego pliku oraz przekazywanie ich do zarejestrowanego <code class="docutils literal notranslate"><span class="pre">callbacka</span></code> (np. w celu wyÅ›wietlenia w interfejsie uÅ¼ytkownika). Przechowuje rÃ³wnieÅ¼ historiÄ™ ostatnich <code class="docutils literal notranslate"><span class="pre">MAX_LOG_HISTORY</span></code> wiadomoÅ›ci.</p>
</section>
<section id="id173">
<h1>Metody publiczne<a class="headerlink" href="#id173" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">log(...)</span></code></p></td>
<td class="text-left"><p>GÅ‚Ã³wna metoda logujÄ…ca wiadomoÅ›Ä‡ z okreÅ›lonym poziomem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">logFunc(...)</span></code></p></td>
<td class="text-left"><p>Loguje wiadomoÅ›Ä‡ wraz z informacjÄ… o funkcji, z ktÃ³rej zostaÅ‚a wywoÅ‚ana (<code class="docutils literal notranslate"><span class="pre">__PRETTY_FUNCTION__</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">debug(..)</span></code></p></td>
<td class="text-left"><p>SkrÃ³t do <code class="docutils literal notranslate"><span class="pre">log(Fw::LogDebug,</span> <span class="pre">...)</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">info(...)</span></code></p></td>
<td class="text-left"><p>SkrÃ³t do <code class="docutils literal notranslate"><span class="pre">log(Fw::LogInfo,</span> <span class="pre">...)</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">warning(...)</span></code></p></td>
<td class="text-left"><p>SkrÃ³t do <code class="docutils literal notranslate"><span class="pre">log(Fw::LogWarning,</span> <span class="pre">...)</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">error(...)</span></code></p></td>
<td class="text-left"><p>SkrÃ³t do <code class="docutils literal notranslate"><span class="pre">log(Fw::LogError,</span> <span class="pre">...)</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">fatal(...)</span></code></p></td>
<td class="text-left"><p>SkrÃ³t do <code class="docutils literal notranslate"><span class="pre">log(Fw::LogFatal,</span> <span class="pre">...)</span></code>, ktÃ³ry dodatkowo powoduje zamkniÄ™cie aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">fireOldMessages()</span></code></p></td>
<td class="text-left"><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">m_onLog</span></code> dla wszystkich historycznych wiadomoÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setLogFile(...)</span></code></p></td>
<td class="text-left"><p>Ustawia plik, do ktÃ³rego bÄ™dÄ… zapisywane logi.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setOnLog(...)</span></code></p></td>
<td class="text-left"><p>Rejestruje funkcjÄ™ zwrotnÄ…, ktÃ³ra bÄ™dzie wywoÅ‚ywana dla kaÅ¼dej nowej wiadomoÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getLastLog()</span></code></p></td>
<td class="text-left"><p>Zwraca ostatnio zalogowanÄ… wiadomoÅ›Ä‡.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setTestingMode()</span></code></p></td>
<td class="text-left"><p>Ustawia tryb testowy, w ktÃ³rym bÅ‚Ä™dy (<code class="docutils literal notranslate"><span class="pre">LogError</span></code>) dziaÅ‚ajÄ… jak bÅ‚Ä™dy krytyczne (<code class="docutils literal notranslate"><span class="pre">LogFatal</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id174">
<h1>Zmienne prywatne<a class="headerlink" href="#id174" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_logMessages</span></code>: Lista ostatnich wiadomoÅ›ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_onLog</span></code>: WskaÅºnik na funkcjÄ™ zwrotnÄ….</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_outFile</span></code>: StrumieÅ„ pliku do zapisu logÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>: Mutex rekurencyjny zapewniajÄ…cy bezpieczeÅ„stwo wÄ…tkowe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_lastLog</span></code>: Przechowuje ostatniÄ… wiadomoÅ›Ä‡.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_testingMode</span></code>: Flaga trybu testowego.</p></li>
</ul>
</section>
<section id="makra-pomocnicze">
<h1>Makra pomocnicze<a class="headerlink" href="#makra-pomocnicze" title="Link to this heading">#</a></h1>
<p>Plik definiuje makra uÅ‚atwiajÄ…ce logowanie z dodatkowymi informacjami o kontekÅ›cie.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trace()</span></code>: Loguje nazwÄ™ bieÅ¼Ä…cej funkcji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">traceDebug(a)</span></code>, <code class="docutils literal notranslate"><span class="pre">traceInfo(a)</span></code>, â€¦: LogujÄ… wiadomoÅ›Ä‡ <code class="docutils literal notranslate"><span class="pre">a</span></code> wraz z nazwÄ… funkcji i Å›ladem stosu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logTraceCounter()</span></code>: Loguje licznik wywoÅ‚aÅ„ co sekundÄ™.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logTraceFrameCounter()</span></code>: Loguje licznik wywoÅ‚aÅ„ co klatkÄ™.</p></li>
</ul>
</section>
<section id="id175">
<h1>Zmienne globalne<a class="headerlink" href="#id175" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_logger</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Logger</span></code>.</p></li>
</ul>
</section>
<section id="id176">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id176" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/thread.h</span></code>: Zawiera <code class="docutils literal notranslate"><span class="pre">&lt;mutex&gt;</span></code> do synchronizacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;fstream&gt;</span></code>: Do obsÅ‚ugi zapisu do pliku.</p></li>
<li><p>Jest uÅ¼ywany w caÅ‚ym projekcie do raportowania stanu, bÅ‚Ä™dÃ³w i informacji debugowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="module-cpp">
<h1>ğŸ“„ module.cpp<a class="headerlink" href="#module-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id177">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id177" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">module.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Module</span></code>, ktÃ³ra reprezentuje pojedynczy, Å‚adowalny moduÅ‚ funkcjonalnoÅ›ci w aplikacji. ModuÅ‚y sÄ… podstawÄ… architektury wtyczek, pozwalajÄ…c na dynamiczne Å‚adowanie, odÅ‚adowywanie i ponowne Å‚adowanie kodu (gÅ‚Ã³wnie skryptÃ³w Lua) w trakcie dziaÅ‚ania programu.</p>
</section>
<section id="klasa-module">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Module</span></code><a class="headerlink" href="#klasa-module" title="Link to this heading">#</a></h1>
</section>
<section id="module-module-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">Module::Module(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#module-module-const-std-string-name" title="Link to this heading">#</a></h1>
<p>Konstruktor. Ustawia nazwÄ™ moduÅ‚u i tworzy dla niego nowe, odizolowane Å›rodowisko Lua (piaskownicÄ™ - sandbox) za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_lua.newSandboxEnv()</span></code>.</p>
</section>
<section id="bool-module-load">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::load()</span></code><a class="headerlink" href="#bool-module-load" title="Link to this heading">#</a></h1>
</section>
<section id="id178">
<h1>Opis semantyczny<a class="headerlink" href="#id178" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda Å‚adujÄ…ca moduÅ‚. Jest odpowiedzialna za sprawdzenie i zaÅ‚adowanie zaleÅ¼noÅ›ci, a nastÄ™pnie wykonanie skryptÃ³w moduÅ‚u.</p>
</section>
<section id="id179">
<h1>DziaÅ‚anie<a class="headerlink" href="#id179" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy moduÅ‚ nie jest juÅ¼ zaÅ‚adowany.</p></li>
<li><p>Definiuje <code class="docutils literal notranslate"><span class="pre">errorHandler</span></code> do obsÅ‚ugi bÅ‚Ä™dÃ³w Å‚adowania.</p></li>
<li><p>Dodaje Å›rodowisko moduÅ‚u do <code class="docutils literal notranslate"><span class="pre">package.loaded</span></code> w Lua, aby <code class="docutils literal notranslate"><span class="pre">require</span></code> dziaÅ‚aÅ‚o poprawnie.</p></li>
<li><p>Iteruje po zaleÅ¼noÅ›ciach (<code class="docutils literal notranslate"><span class="pre">m_dependencies</span></code>):</p>
<ul class="simple">
<li><p>Sprawdza, czy moduÅ‚ nie zaleÅ¼y sam od siebie.</p></li>
<li><p>Sprawdza, czy zaleÅ¼noÅ›Ä‡ istnieje.</p></li>
<li><p>Sprawdza, czy nie ma zaleÅ¼noÅ›ci cyklicznych.</p></li>
<li><p>JeÅ›li zaleÅ¼noÅ›Ä‡ nie jest zaÅ‚adowana, prÃ³buje jÄ… zaÅ‚adowaÄ‡.</p></li>
</ul>
</li>
<li><p>JeÅ›li moduÅ‚ jest w piaskownicy (<code class="docutils literal notranslate"><span class="pre">m_sandboxed</span></code>), ustawia jego Å›rodowisko jako globalne w Lua.</p></li>
<li><p>Wykonuje wszystkie skrypty z listy <code class="docutils literal notranslate"><span class="pre">m_scripts</span></code>.</p></li>
<li><p>Wykonuje skrypt z <code class="docutils literal notranslate"><span class="pre">m_onLoadFunc</span></code>, jeÅ›li jest zdefiniowany.</p></li>
<li><p>JeÅ›li wystÄ…piÅ‚ bÅ‚Ä…d, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">errorHandler</span></code> i zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p>Przywraca globalne Å›rodowisko Lua, jeÅ›li byÅ‚o zmienione.</p></li>
<li><p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_loaded</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code> i aktualizuje kolejnoÅ›Ä‡ Å‚adowania moduÅ‚Ã³w.</p></li>
<li><p>Åaduje moduÅ‚y z listy <code class="docutils literal notranslate"><span class="pre">m_loadLaterModules</span></code>.</p></li>
</ol>
</section>
<section id="void-module-unload">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Module::unload()</span></code><a class="headerlink" href="#void-module-unload" title="Link to this heading">#</a></h1>
</section>
<section id="id180">
<h1>Opis semantyczny<a class="headerlink" href="#id180" title="Link to this heading">#</a></h1>
<p>OdÅ‚adowuje moduÅ‚, wykonujÄ…c jego skrypt <code class="docutils literal notranslate"><span class="pre">onUnload</span></code> i czyszczÄ…c jego Å›rodowisko Lua.</p>
</section>
<section id="id181">
<h1>DziaÅ‚anie<a class="headerlink" href="#id181" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy moduÅ‚ jest zaÅ‚adowany.</p></li>
<li><p>JeÅ›li tak, wykonuje skrypt <code class="docutils literal notranslate"><span class="pre">onUnload</span></code> (<code class="docutils literal notranslate"><span class="pre">m_onUnloadFunc</span></code>).</p></li>
<li><p>CzyÅ›ci caÅ‚Ä… tabelÄ™ Å›rodowiska Lua moduÅ‚u, aby zwolniÄ‡ wszystkie referencje.</p></li>
<li><p>Usuwa moduÅ‚ z <code class="docutils literal notranslate"><span class="pre">package.loaded</span></code> w Lua.</p></li>
<li><p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_loaded</span></code> na <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ol>
</section>
<section id="bool-module-reload">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::reload()</span></code><a class="headerlink" href="#bool-module-reload" title="Link to this heading">#</a></h1>
<p>OdÅ‚adowuje i ponownie Å‚aduje moduÅ‚.</p>
</section>
<section id="bool-module-isdependent">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::isDependent()</span></code><a class="headerlink" href="#bool-module-isdependent" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy jakikolwiek inny zaÅ‚adowany moduÅ‚ zaleÅ¼y od tego moduÅ‚u. Jest to uÅ¼ywane do okreÅ›lenia, czy moduÅ‚ moÅ¼na bezpiecznie odÅ‚adowaÄ‡.</p>
</section>
<section id="bool-module-hasdependency-const-std-string-name-bool-recursive">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::hasDependency(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">bool</span> <span class="pre">recursive)</span></code><a class="headerlink" href="#bool-module-hasdependency-const-std-string-name-bool-recursive" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy moduÅ‚ ma zaleÅ¼noÅ›Ä‡ o podanej nazwie. Opcja <code class="docutils literal notranslate"><span class="pre">recursive</span></code> pozwala na sprawdzanie zaleÅ¼noÅ›ci poÅ›rednich.</p>
</section>
<section id="int-module-getsandbox-luainterface-lua">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Module::getSandbox(LuaInterface*</span> <span class="pre">lua)</span></code><a class="headerlink" href="#int-module-getsandbox-luainterface-lua" title="Link to this heading">#</a></h1>
<p>Zwraca na stos Lua tabelÄ™ Å›rodowiska (piaskownicÄ™) tego moduÅ‚u.</p>
</section>
<section id="void-module-discover-const-otmlnodeptr-modulenode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Module::discover(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">moduleNode)</span></code><a class="headerlink" href="#void-module-discover-const-otmlnodeptr-modulenode" title="Link to this heading">#</a></h1>
<p>Parsuje wÄ™zeÅ‚ OTML (z pliku <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>) i inicjalizuje pola moduÅ‚u, takie jak opis, autor, wersja, zaleÅ¼noÅ›ci, lista skryptÃ³w, oraz skrypty <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> i <code class="docutils literal notranslate"><span class="pre">onUnload</span></code>.</p>
</section>
<section id="id182">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id182" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/module.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/modulemanager.h</span></code>: WspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code> do zarzÄ…dzania zaleÅ¼noÅ›ciami i kolejnoÅ›ciÄ… Å‚adowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: UÅ¼ywany do rozwiÄ…zywania Å›cieÅ¼ek do skryptÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> do odczytu metadanych moduÅ‚u.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: Intensywnie korzysta z <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do zarzÄ…dzania Å›rodowiskiem i wykonywania skryptÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="modulemanager-cpp">
<h1>ğŸ“„ modulemanager.cpp<a class="headerlink" href="#modulemanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id183">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id183" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">modulemanager.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_modules</span></code>) odpowiedzialnym za zarzÄ…dzanie wszystkimi moduÅ‚ami w aplikacji. Odpowiada za ich odkrywanie, Å‚adowanie, odÅ‚adowywanie i ponowne Å‚adowanie, a takÅ¼e za zarzÄ…dzanie zaleÅ¼noÅ›ciami miÄ™dzy nimi.</p>
</section>
<section id="id184">
<h1>Zmienne globalne<a class="headerlink" href="#id184" title="Link to this heading">#</a></h1>
</section>
<section id="g-modules">
<h1><code class="docutils literal notranslate"><span class="pre">g_modules</span></code><a class="headerlink" href="#g-modules" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ModuleManager</span><span class="w"> </span><span class="n">g_modules</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-modulemanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code><a class="headerlink" href="#klasa-modulemanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-modulemanager-clear">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::clear()</span></code><a class="headerlink" href="#void-modulemanager-clear" title="Link to this heading">#</a></h1>
<p>CzyÅ›ci wszystkie dane menedÅ¼era, usuwajÄ…c listÄ™ moduÅ‚Ã³w i moduÅ‚Ã³w do automatycznego Å‚adowania.</p>
</section>
<section id="void-modulemanager-discovermodules">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::discoverModules()</span></code><a class="headerlink" href="#void-modulemanager-discovermodules" title="Link to this heading">#</a></h1>
</section>
<section id="id185">
<h1>Opis semantyczny<a class="headerlink" href="#id185" title="Link to this heading">#</a></h1>
<p>Przeszukuje wirtualny system plikÃ³w (katalogi <code class="docutils literal notranslate"><span class="pre">/modules</span></code> i <code class="docutils literal notranslate"><span class="pre">/mods</span></code>) w poszukiwaniu plikÃ³w <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>, parsuje je i tworzy obiekty <code class="docutils literal notranslate"><span class="pre">Module</span></code> dla kaÅ¼dego znalezionego moduÅ‚u. ModuÅ‚y oznaczone jako <code class="docutils literal notranslate"><span class="pre">autoload</span></code> sÄ… dodawane do specjalnej listy.</p>
</section>
<section id="void-modulemanager-autoloadmodules-int-maxpriority">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::autoLoadModules(int</span> <span class="pre">maxPriority)</span></code><a class="headerlink" href="#void-modulemanager-autoloadmodules-int-maxpriority" title="Link to this heading">#</a></h1>
<p>Åaduje wszystkie moduÅ‚y z listy <code class="docutils literal notranslate"><span class="pre">m_autoLoadModules</span></code>, ktÃ³rych priorytet jest mniejszy lub rÃ³wny <code class="docutils literal notranslate"><span class="pre">maxPriority</span></code>. ModuÅ‚y sÄ… Å‚adowane w kolejnoÅ›ci rosnÄ…cego priorytetu.</p>
</section>
<section id="moduleptr-modulemanager-discovermodule-const-std-string-modulefile">
<h1><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">ModuleManager::discoverModule(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleFile)</span></code><a class="headerlink" href="#moduleptr-modulemanager-discovermodule-const-std-string-modulefile" title="Link to this heading">#</a></h1>
<p>Parsuje pojedynczy plik <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>, tworzy lub aktualizuje obiekt <code class="docutils literal notranslate"><span class="pre">Module</span></code> i dodaje go do listy <code class="docutils literal notranslate"><span class="pre">m_modules</span></code>.</p>
</section>
<section id="void-modulemanager-ensuremoduleloaded-const-std-string-modulename">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::ensureModuleLoaded(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleName)</span></code><a class="headerlink" href="#void-modulemanager-ensuremoduleloaded-const-std-string-modulename" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy moduÅ‚ o podanej nazwie jest zaÅ‚adowany. JeÅ›li nie, prÃ³buje go zaÅ‚adowaÄ‡. JeÅ›li Å‚adowanie siÄ™ nie powiedzie, aplikacja jest zamykana z bÅ‚Ä™dem krytycznym.</p>
</section>
<section id="void-modulemanager-unloadmodules">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::unloadModules()</span></code><a class="headerlink" href="#void-modulemanager-unloadmodules" title="Link to this heading">#</a></h1>
<p>OdÅ‚adowuje wszystkie zaÅ‚adowane moduÅ‚y. UÅ¼ywa kopii listy moduÅ‚Ã³w, aby uniknÄ…Ä‡ problemÃ³w z iteratorami podczas usuwania.</p>
</section>
<section id="void-modulemanager-reloadmodules">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::reloadModules()</span></code><a class="headerlink" href="#void-modulemanager-reloadmodules" title="Link to this heading">#</a></h1>
</section>
<section id="id186">
<h1>Opis semantyczny<a class="headerlink" href="#id186" title="Link to this heading">#</a></h1>
<p>Implementuje mechanizm â€œhot-reloadingâ€ moduÅ‚Ã³w.</p>
</section>
<section id="id187">
<h1>DziaÅ‚anie<a class="headerlink" href="#id187" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzy listÄ™ moduÅ‚Ã³w do ponownego zaÅ‚adowania (<code class="docutils literal notranslate"><span class="pre">toLoadList</span></code>).</p></li>
<li><p>W pÄ™tli (do 10 prÃ³b) prÃ³buje odÅ‚adowaÄ‡ wszystkie moduÅ‚y, ktÃ³re mogÄ… byÄ‡ odÅ‚adowane (<code class="docutils literal notranslate"><span class="pre">canUnload()</span></code>). ModuÅ‚y sÄ… odÅ‚adowywane w odwrotnej kolejnoÅ›ci zaleÅ¼noÅ›ci.</p></li>
<li><p>Po odÅ‚adowaniu, Å‚aduje ponownie moduÅ‚y z <code class="docutils literal notranslate"><span class="pre">toLoadList</span></code>.</p></li>
</ol>
</section>
<section id="moduleptr-modulemanager-getmodule-const-std-string-modulename">
<h1><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">ModuleManager::getModule(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleName)</span></code><a class="headerlink" href="#moduleptr-modulemanager-getmodule-const-std-string-modulename" title="Link to this heading">#</a></h1>
<p>Wyszukuje i zwraca wskaÅºnik do moduÅ‚u o podanej nazwie.</p>
</section>
<section id="void-modulemanager-updatemoduleloadorder-moduleptr-module">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::updateModuleLoadOrder(ModulePtr</span> <span class="pre">module)</span></code><a class="headerlink" href="#void-modulemanager-updatemoduleloadorder-moduleptr-module" title="Link to this heading">#</a></h1>
<p>Aktualizuje wewnÄ™trznÄ… listÄ™ moduÅ‚Ã³w (<code class="docutils literal notranslate"><span class="pre">m_modules</span></code>), aby zaÅ‚adowane moduÅ‚y znajdowaÅ‚y siÄ™ na jej poczÄ…tku. Zapewnia to poprawnÄ… kolejnoÅ›Ä‡ odÅ‚adowywania (odwrotnÄ… do Å‚adowania).</p>
</section>
<section id="id188">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id188" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/modulemanager.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: UÅ¼ywany do przeszukiwania katalogÃ³w z moduÅ‚ami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code>: Do parsowania plikÃ³w <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Do obsÅ‚ugi bÅ‚Ä™dÃ³w krytycznych.</p></li>
<li><p>Jest centralnym elementem architektury wtyczek i Å›ciÅ›le wspÃ³Å‚pracuje z klasÄ… <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="logger-cpp">
<h1>ğŸ“„ logger.cpp<a class="headerlink" href="#logger-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id189">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id189" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">logger.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Logger</span></code>, ktÃ³ra jest odpowiedzialna za system logowania w aplikacji. Zapewnia mechanizmy do zapisywania komunikatÃ³w o rÃ³Å¼nym poziomie waÅ¼noÅ›ci do konsoli, pliku oraz przekazywania ich do zarejestrowanych funkcji zwrotnych (callbackÃ³w).</p>
</section>
<section id="id190">
<h1>Zmienne globalne<a class="headerlink" href="#id190" title="Link to this heading">#</a></h1>
</section>
<section id="g-logger">
<h1><code class="docutils literal notranslate"><span class="pre">g_logger</span></code><a class="headerlink" href="#g-logger" title="Link to this heading">#</a></h1>
<p>Globalna, jedyna instancja klasy <code class="docutils literal notranslate"><span class="pre">Logger</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Logger</span><span class="w"> </span><span class="n">g_logger</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id191">
<h1>Funkcje globalne<a class="headerlink" href="#id191" title="Link to this heading">#</a></h1>
</section>
<section id="void-fatalerror-const-char-error-const-char-file-int-line">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">fatalError(const</span> <span class="pre">char*</span> <span class="pre">error,</span> <span class="pre">const</span> <span class="pre">char*</span> <span class="pre">file,</span> <span class="pre">int</span> <span class="pre">line)</span></code><a class="headerlink" href="#void-fatalerror-const-char-error-const-char-file-int-line" title="Link to this heading">#</a></h1>
<p>Funkcja wywoÅ‚ywana przez makro <code class="docutils literal notranslate"><span class="pre">VALIDATE</span></code>. Loguje bÅ‚Ä…d krytyczny za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_logger.fatal</span></code>, zawierajÄ…cy komunikat, plik i numer linii, a nastÄ™pnie przerywa dziaÅ‚anie aplikacji.</p>
</section>
<section id="id192">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Logger</span></code><a class="headerlink" href="#id192" title="Link to this heading">#</a></h1>
</section>
<section id="void-logger-log-fw-loglevel-level-const-std-string-message">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::log(Fw::LogLevel</span> <span class="pre">level,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">message)</span></code><a class="headerlink" href="#void-logger-log-fw-loglevel-level-const-std-string-message" title="Link to this heading">#</a></h1>
</section>
<section id="id193">
<h1>Opis semantyczny<a class="headerlink" href="#id193" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna, prywatna metoda logujÄ…ca. Jest bezpieczna wÄ…tkowo dziÄ™ki uÅ¼yciu <code class="docutils literal notranslate"><span class="pre">std::recursive_mutex</span></code>.</p>
</section>
<section id="id194">
<h1>DziaÅ‚anie<a class="headerlink" href="#id194" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Blokuje mutex, aby zapewniÄ‡ wyÅ‚Ä…czny dostÄ™p.</p></li>
<li><p>W trybie <code class="docutils literal notranslate"><span class="pre">NDEBUG</span></code> (wydajnoÅ›ciowym) ignoruje wiadomoÅ›ci o poziomie <code class="docutils literal notranslate"><span class="pre">LogDebug</span></code>.</p></li>
<li><p>Dodaje odpowiedni prefiks do wiadomoÅ›ci (np. â€œWARNING: â€œ, â€œERROR: â€œ).</p></li>
<li><p>Wypisuje sformatowanÄ… wiadomoÅ›Ä‡ na standardowe wyjÅ›cie (<code class="docutils literal notranslate"><span class="pre">std::cout</span></code>) lub <code class="docutils literal notranslate"><span class="pre">__android_log_print</span></code> na Androidzie.</p></li>
<li><p>JeÅ›li ustawiono plik logu, zapisuje wiadomoÅ›Ä‡ do pliku.</p></li>
<li><p>Dodaje wiadomoÅ›Ä‡ do wewnÄ™trznej historii <code class="docutils literal notranslate"><span class="pre">m_logMessages</span></code>.</p></li>
<li><p>JeÅ›li zarejestrowano <code class="docutils literal notranslate"><span class="pre">callback</span></code> (<code class="docutils literal notranslate"><span class="pre">m_onLog</span></code>), dodaje zdarzenie do <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>, ktÃ³re wywoÅ‚a ten <code class="docutils literal notranslate"><span class="pre">callback</span></code> w gÅ‚Ã³wnym wÄ…tku.</p></li>
<li><p>JeÅ›li poziom to <code class="docutils literal notranslate"><span class="pre">LogFatal</span></code> (lub <code class="docutils literal notranslate"><span class="pre">LogError</span></code> w trybie testowym), wyÅ›wietla okno bÅ‚Ä™du (w wersji graficznej) i natychmiast koÅ„czy aplikacjÄ™.</p></li>
</ol>
</section>
<section id="void-logger-logfunc-fw-loglevel-level-const-std-string-message-std-string-prettyfunction">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::logFunc(Fw::LogLevel</span> <span class="pre">level,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">message,</span> <span class="pre">std::string</span> <span class="pre">prettyFunction)</span></code><a class="headerlink" href="#void-logger-logfunc-fw-loglevel-level-const-std-string-message-std-string-prettyfunction" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza, ktÃ³ra wzbogaca wiadomoÅ›Ä‡ o informacje o funkcji, z ktÃ³rej zostaÅ‚a wywoÅ‚ana, oraz o Å›lad stosu (traceback) z Lua i C++. UÅ¼ywana przez makra takie jak <code class="docutils literal notranslate"><span class="pre">traceError</span></code>.</p>
</section>
<section id="void-logger-fireoldmessages">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::fireOldMessages()</span></code><a class="headerlink" href="#void-logger-fireoldmessages" title="Link to this heading">#</a></h1>
<p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">m_onLog</span></code> dla wszystkich wiadomoÅ›ci, ktÃ³re zostaÅ‚y zalogowane przed jego zarejestrowaniem. Przydatne do wyÅ›wietlania wczesnych logÃ³w w UI, gdy UI jest juÅ¼ gotowe.</p>
</section>
<section id="void-logger-setlogfile-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::setLogFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#void-logger-setlogfile-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Otwiera podany plik do zapisu logÃ³w. Przed otwarciem do dopisywania, odczytuje ostatnie 100 KB z istniejÄ…cego pliku do <code class="docutils literal notranslate"><span class="pre">m_lastLog</span></code>, aby moÅ¼na byÅ‚o przejrzeÄ‡ logi z poprzedniej sesji.</p>
</section>
<section id="id195">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id195" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/logger.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> do bezpiecznego wywoÅ‚ywania <code class="docutils literal notranslate"><span class="pre">callbackÃ³w</span></code> w gÅ‚Ã³wnym wÄ…tku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Potencjalnie uÅ¼ywany do rozwiÄ…zywania Å›cieÅ¼ek do plikÃ³w logÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/graphicalapplication.h</span></code>: W wersji graficznej, <code class="docutils literal notranslate"><span class="pre">g_window</span></code> jest uÅ¼ywane do wyÅ›wietlania okna bÅ‚Ä™du krytycznego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_platform</span></code> do generowania Å›ladu stosu C++.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do generowania Å›ladu stosu Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="module-h">
<h1>ğŸ“„ module.h<a class="headerlink" href="#module-h" title="Link to this heading">#</a></h1>
</section>
<section id="id196">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id196" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">module.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Module</span></code>, ktÃ³ra jest podstawowym elementem systemu modularnoÅ›ci aplikacji. KaÅ¼dy moduÅ‚ reprezentuje logicznie oddzielonÄ… czÄ™Å›Ä‡ funkcjonalnoÅ›ci (np. interfejs, mini-mapa, bot), ktÃ³ra moÅ¼e byÄ‡ dynamicznie Å‚adowana i odÅ‚adowywana.</p>
</section>
<section id="id197">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Module</span></code><a class="headerlink" href="#id197" title="Link to this heading">#</a></h1>
</section>
<section id="id198">
<h1>Opis semantyczny<a class="headerlink" href="#id198" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Module</span></code> enkapsuluje zestaw skryptÃ³w Lua, metadane (nazwa, autor, wersja), zaleÅ¼noÅ›ci od innych moduÅ‚Ã³w oraz wÅ‚asne, izolowane Å›rodowisko Lua (piaskownicÄ™ - sandbox). Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, dziÄ™ki czemu moÅ¼e byÄ‡ zarzÄ…dzany z poziomu skryptÃ³w Lua.</p>
</section>
<section id="id199">
<h1>Metody publiczne<a class="headerlink" href="#id199" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Module(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">load()</span></code></p></td>
<td class="text-left"><p>Åaduje moduÅ‚, wykonujÄ…c jego skrypty i zaleÅ¼noÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">unload()</span></code></p></td>
<td class="text-left"><p>OdÅ‚adowuje moduÅ‚, wykonujÄ…c skrypt <code class="docutils literal notranslate"><span class="pre">onUnload</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">reload()</span></code></p></td>
<td class="text-left"><p>Ponownie Å‚aduje moduÅ‚.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">canUnload()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li moduÅ‚ jest przeÅ‚adowywalny i Å¼aden inny moduÅ‚ od niego nie zaleÅ¼y.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">canReload()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li moduÅ‚ jest przeÅ‚adowywalny i nie ma zaleÅ¼noÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isLoaded()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li moduÅ‚ jest zaÅ‚adowany.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isReloadable()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li moduÅ‚ moÅ¼na przeÅ‚adowaÄ‡.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isDependent()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy inny zaÅ‚adowany moduÅ‚ zaleÅ¼y od tego moduÅ‚u.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isSandboxed()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li moduÅ‚ dziaÅ‚a w odizolowanym Å›rodowisku Lua.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">hasDependency(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy moduÅ‚ ma danÄ… zaleÅ¼noÅ›Ä‡ (opcjonalnie rekurencyjnie).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getSandbox(LuaInterface</span> <span class="pre">*lua)</span></code></p></td>
<td class="text-left"><p>Umieszcza na stosie Lua tabelÄ™ Å›rodowiska tego moduÅ‚u.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getDescription()</span></code>, <code class="docutils literal notranslate"><span class="pre">getName()</span></code>, <code class="docutils literal notranslate"><span class="pre">getAuthor()</span></code>, <code class="docutils literal notranslate"><span class="pre">getWebsite()</span></code>, <code class="docutils literal notranslate"><span class="pre">getVersion()</span></code></p></td>
<td class="text-left"><p>ZwracajÄ… metadane moduÅ‚u.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isAutoLoad()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li moduÅ‚ powinien byÄ‡ Å‚adowany automatycznie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getAutoLoadPriority()</span></code></p></td>
<td class="text-left"><p>Zwraca priorytet automatycznego Å‚adowania.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id200">
<h1>Metody chronione<a class="headerlink" href="#id200" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">discover(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">moduleNode)</span></code>: Metoda wywoÅ‚ywana przez <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code> do wczytania metadanych moduÅ‚u z pliku <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>.</p></li>
</ul>
</section>
<section id="id201">
<h1>Zmienne prywatne<a class="headerlink" href="#id201" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_loaded</span></code>, <code class="docutils literal notranslate"><span class="pre">m_autoLoad</span></code>, <code class="docutils literal notranslate"><span class="pre">m_reloadable</span></code>, <code class="docutils literal notranslate"><span class="pre">m_sandboxed</span></code>: Flagi stanu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_autoLoadPriority</span></code>: Priorytet Å‚adowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_sandboxEnv</span></code>: Referencja do Å›rodowiska Lua (piaskownicy).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_onLoadFunc</span></code>, <code class="docutils literal notranslate"><span class="pre">m_onUnloadFunc</span></code>: PrzechowujÄ… kod skryptÃ³w <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> i <code class="docutils literal notranslate"><span class="pre">onUnload</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>, <code class="docutils literal notranslate"><span class="pre">m_description</span></code>, â€¦: Metadane moduÅ‚u.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_dependencies</span></code>, <code class="docutils literal notranslate"><span class="pre">m_scripts</span></code>, <code class="docutils literal notranslate"><span class="pre">m_loadLaterModules</span></code>: Listy zaleÅ¼noÅ›ci i skryptÃ³w.</p></li>
</ul>
</section>
<section id="id202">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id202" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Definicje wskaÅºnikÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code> do parsowania metadanych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Jest klasÄ… pochodnÄ… <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, co pozwala na interakcjÄ™ z obiektami <code class="docutils literal notranslate"><span class="pre">Module</span></code> z poziomu Lua.</p></li>
<li><p>Jest zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="modulemanager-h">
<h1>ğŸ“„ modulemanager.h<a class="headerlink" href="#modulemanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id203">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id203" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">modulemanager.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_modules</span></code>) odpowiedzialnym za zarzÄ…dzanie cyklem Å¼ycia wszystkich moduÅ‚Ã³w w aplikacji.</p>
</section>
<section id="id204">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code><a class="headerlink" href="#id204" title="Link to this heading">#</a></h1>
</section>
<section id="id205">
<h1>Opis semantyczny<a class="headerlink" href="#id205" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code> peÅ‚ni rolÄ™ centralnego rejestru moduÅ‚Ã³w. Odpowiada za ich odkrywanie (przez skanowanie katalogÃ³w w poszukiwaniu plikÃ³w <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>), Å‚adowanie w odpowiedniej kolejnoÅ›ci (z uwzglÄ™dnieniem zaleÅ¼noÅ›ci i priorytetÃ³w), a takÅ¼e za ich odÅ‚adowywanie i ponowne Å‚adowanie.</p>
</section>
<section id="id206">
<h1>Metody publiczne<a class="headerlink" href="#id206" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci listÄ™ moduÅ‚Ã³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">discoverModules()</span></code></p></td>
<td class="text-left"><p>Przeszukuje system plikÃ³w w poszukiwaniu plikÃ³w <code class="docutils literal notranslate"><span class="pre">.otmod</span></code> i tworzy dla nich obiekty <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">autoLoadModules(int</span> <span class="pre">maxPriority)</span></code></p></td>
<td class="text-left"><p>Åaduje wszystkie moduÅ‚y, ktÃ³re majÄ… flagÄ™ <code class="docutils literal notranslate"><span class="pre">autoload</span></code> i priorytet nie wiÄ™kszy niÅ¼ podany.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">discoverModule(...)</span></code></p></td>
<td class="text-left"><p>Parsuje pojedynczy plik <code class="docutils literal notranslate"><span class="pre">.otmod</span></code> i tworzy lub aktualizuje obiekt <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ensureModuleLoaded(...)</span></code></p></td>
<td class="text-left"><p>Upewnia siÄ™, Å¼e dany moduÅ‚ jest zaÅ‚adowany; jeÅ›li nie, prÃ³buje go zaÅ‚adowaÄ‡, a w razie poraÅ¼ki koÅ„czy aplikacjÄ™.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">unloadModules()</span></code></p></td>
<td class="text-left"><p>OdÅ‚adowuje wszystkie zaÅ‚adowane moduÅ‚y.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">reloadModules()</span></code></p></td>
<td class="text-left"><p>PrÃ³buje odÅ‚adowaÄ‡ i ponownie zaÅ‚adowaÄ‡ wszystkie moduÅ‚y, ktÃ³re na to pozwalajÄ….</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">getModule(...)</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik do moduÅ‚u o podanej nazwie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::deque&lt;ModulePtr&gt;</span> <span class="pre">getModules()</span></code></p></td>
<td class="text-left"><p>Zwraca listÄ™ wszystkich odkrytych moduÅ‚Ã³w.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id207">
<h1>Metody chronione<a class="headerlink" href="#id207" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">updateModuleLoadOrder(ModulePtr</span> <span class="pre">module)</span></code>: Aktualizuje wewnÄ™trznÄ… kolejkÄ™ moduÅ‚Ã³w, aby zachowaÄ‡ poprawnÄ… kolejnoÅ›Ä‡ Å‚adowania/odÅ‚adowywania.</p></li>
</ul>
</section>
<section id="id208">
<h1>Zmienne prywatne<a class="headerlink" href="#id208" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_modules</span></code>: Kolejka (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) wszystkich odkrytych moduÅ‚Ã³w. ZaÅ‚adowane moduÅ‚y sÄ… na poczÄ…tku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_autoLoadModules</span></code>: Mapa (<code class="docutils literal notranslate"><span class="pre">std::multimap</span></code>) przechowujÄ…ca moduÅ‚y do automatycznego zaÅ‚adowania, posortowane wedÅ‚ug priorytetu.</p></li>
</ul>
</section>
<section id="id209">
<h1>Zmienne globalne<a class="headerlink" href="#id209" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_modules</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>.</p></li>
</ul>
</section>
<section id="id210">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id210" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/module.h</span></code>: Definicja klasy <code class="docutils literal notranslate"><span class="pre">Module</span></code>, ktÃ³rÄ… zarzÄ…dza <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindsingleton</span> <span class="pre">g_modules</span></code>, co udostÄ™pnia jej API w skryptach Lua.</p></li>
<li><p>WspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> do przeszukiwania systemu plikÃ³w i z <code class="docutils literal notranslate"><span class="pre">Application</span></code> do inicjalizacji i zamykania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="scheduledevent-cpp">
<h1>ğŸ“„ scheduledevent.cpp<a class="headerlink" href="#scheduledevent-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id211">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id211" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">scheduledevent.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code>, ktÃ³ra reprezentuje zdarzenie zaplanowane do wykonania w przyszÅ‚oÅ›ci.</p>
</section>
<section id="klasa-scheduledevent">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code><a class="headerlink" href="#klasa-scheduledevent" title="Link to this heading">#</a></h1>
</section>
<section id="scheduledevent-scheduledevent">
<h1><code class="docutils literal notranslate"><span class="pre">ScheduledEvent::ScheduledEvent(...)</span></code><a class="headerlink" href="#scheduledevent-scheduledevent" title="Link to this heading">#</a></h1>
<p>Konstruktor, ktÃ³ry dziedziczy po <code class="docutils literal notranslate"><span class="pre">Event</span></code> i dodatkowo inicjalizuje parametry zwiÄ…zane z czasem.</p>
<ul class="simple">
<li><p><strong>Parametry</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">function</span></code>, <code class="docutils literal notranslate"><span class="pre">callback</span></code>, <code class="docutils literal notranslate"><span class="pre">botSafe</span></code>: Przekazywane do konstruktora klasy bazowej <code class="docutils literal notranslate"><span class="pre">Event</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delay</span></code>: Czas w milisekundach, po ktÃ³rym zdarzenie ma zostaÄ‡ wykonane po raz pierwszy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maxCycles</span></code>: Maksymalna liczba wykonaÅ„. <code class="docutils literal notranslate"><span class="pre">0</span></code> oznacza nieskoÅ„czonoÅ›Ä‡.</p></li>
</ul>
</li>
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ul>
<li><p>Oblicza czas pierwszego wykonania: <code class="docutils literal notranslate"><span class="pre">m_ticks</span> <span class="pre">=</span> <span class="pre">g_clock.millis()</span> <span class="pre">+</span> <span class="pre">delay</span></code>.</p></li>
<li><p>Zapisuje opÃ³Åºnienie, maksymalnÄ… liczbÄ™ cykli i zeruje licznik wykonanych cykli.</p></li>
</ul>
</li>
</ul>
</section>
<section id="void-scheduledevent-execute">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ScheduledEvent::execute()</span></code><a class="headerlink" href="#void-scheduledevent-execute" title="Link to this heading">#</a></h1>
</section>
<section id="id212">
<h1>Opis semantyczny<a class="headerlink" href="#id212" title="Link to this heading">#</a></h1>
<p>Wykonuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> zdarzenia, jeÅ›li warunki sÄ… speÅ‚nione.</p>
</section>
<section id="id213">
<h1>DziaÅ‚anie<a class="headerlink" href="#id213" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy zdarzenie nie jest anulowane, czy <code class="docutils literal notranslate"><span class="pre">callback</span></code> istnieje i czy nie przekroczono <code class="docutils literal notranslate"><span class="pre">maxCycles</span></code>.</p></li>
<li><p>JeÅ›li warunki sÄ… speÅ‚nione, wykonuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> i ustawia <code class="docutils literal notranslate"><span class="pre">m_executed</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>. W przeciwieÅ„stwie do <code class="docutils literal notranslate"><span class="pre">Event</span></code>, nie resetuje <code class="docutils literal notranslate"><span class="pre">callback</span></code>, poniewaÅ¼ moÅ¼e byÄ‡ on potrzebny w nastÄ™pnym cyklu.</p></li>
<li><p>JeÅ›li warunki nie sÄ… speÅ‚nione (np. zdarzenie jednorazowe zostaÅ‚o wykonane), resetuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> do <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p></li>
<li><p>Inkrementuje licznik <code class="docutils literal notranslate"><span class="pre">m_cyclesExecuted</span></code>.</p></li>
</ol>
</section>
<section id="bool-scheduledevent-nextcycle">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ScheduledEvent::nextCycle()</span></code><a class="headerlink" href="#bool-scheduledevent-nextcycle" title="Link to this heading">#</a></h1>
</section>
<section id="id214">
<h1>Opis semantyczny<a class="headerlink" href="#id214" title="Link to this heading">#</a></h1>
<p>Przygotowuje zdarzenie do nastÄ™pnego cyklu. Jest wywoÅ‚ywana przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> po wykonaniu zdarzenia.</p>
</section>
<section id="id215">
<h1>DziaÅ‚anie<a class="headerlink" href="#id215" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy zdarzenie powinno byÄ‡ wykonane ponownie (nieanulowane, nie przekroczono <code class="docutils literal notranslate"><span class="pre">maxCycles</span></code>).</p></li>
<li><p>JeÅ›li tak, przesuwa czas nastÄ™pnego wykonania o <code class="docutils literal notranslate"><span class="pre">m_delay</span></code>: <code class="docutils literal notranslate"><span class="pre">m_ticks</span> <span class="pre">+=</span> <span class="pre">m_delay</span></code> i zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>JeÅ›li nie, resetuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> do <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> i zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>, co powoduje usuniÄ™cie zdarzenia z kolejki dyspozytora.</p></li>
</ol>
</section>
<section id="id216">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id216" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/scheduledevent.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_clock.millis()</span></code> do pobierania bieÅ¼Ä…cego czasu.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="resourcemanager-cpp">
<h1>ğŸ“„ resourcemanager.cpp<a class="headerlink" href="#resourcemanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id217">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id217" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">resourcemanager.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>, ktÃ³ra jest sercem systemu zarzÄ…dzania zasobami aplikacji. Implementuje ona logikÄ™ wyszukiwania, Å‚adowania, odczytu i zapisu plikÃ³w, abstrakcjonujÄ…c ÅºrÃ³dÅ‚o danych (dysk, archiwum, pamiÄ™Ä‡).</p>
</section>
<section id="id218">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code><a class="headerlink" href="#id218" title="Link to this heading">#</a></h1>
</section>
<section id="void-resourcemanager-init-const-char-argv0">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ResourceManager::init(const</span> <span class="pre">char</span> <span class="pre">*argv0)</span></code><a class="headerlink" href="#void-resourcemanager-init-const-char-argv0" title="Link to this heading">#</a></h1>
<p>Inicjalizuje bibliotekÄ™ PhysFS i ustala Å›cieÅ¼kÄ™ do pliku wykonywalnego aplikacji na podstawie argumentu <code class="docutils literal notranslate"><span class="pre">argv0</span></code>.</p>
</section>
<section id="bool-resourcemanager-setupwritedir">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::setupWriteDir(...)</span></code><a class="headerlink" href="#bool-resourcemanager-setupwritedir" title="Link to this heading">#</a></h1>
<p>Konfiguruje katalog zapisu dla aplikacji, uÅ¼ywajÄ…c <code class="docutils literal notranslate"><span class="pre">PHYSFS_getPrefDir</span></code>. Ten katalog jest zazwyczaj zlokalizowany w folderze danych uÅ¼ytkownika (np. <code class="docutils literal notranslate"><span class="pre">%APPDATA%</span></code> na Windows, <code class="docutils literal notranslate"><span class="pre">~/.local/share</span></code> na Linux). Montuje ten katalog i ustawia go jako domyÅ›lny katalog do zapisu.</p>
</section>
<section id="bool-resourcemanager-setup">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::setup()</span></code><a class="headerlink" href="#bool-resourcemanager-setup" title="Link to this heading">#</a></h1>
<p>Kluczowa metoda, ktÃ³ra prÃ³buje zlokalizowaÄ‡ i zamontowaÄ‡ gÅ‚Ã³wny katalog roboczy aplikacji. Przeszukuje kilka potencjalnych lokalizacji w nastÄ™pujÄ…cej kolejnoÅ›ci:</p>
<ol class="arabic simple">
<li><p>Katalogi na dysku (katalog zapisu, bieÅ¼Ä…cy katalog, katalog bazowy).</p></li>
<li><p>Archiwum <code class="docutils literal notranslate"><span class="pre">data.zip</span></code> w tych samych lokalizacjach.</p></li>
<li><p>Dane wbudowane w sam plik wykonywalny (<code class="docutils literal notranslate"><span class="pre">loadDataFromSelf</span></code>).</p></li>
</ol>
</section>
<section id="std-string-resourcemanager-getcompactname">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::getCompactName()</span></code><a class="headerlink" href="#std-string-resourcemanager-getcompactname" title="Link to this heading">#</a></h1>
<p>Metoda prÃ³bujÄ…ca odgadnÄ…Ä‡ â€œskrÃ³conÄ… nazwÄ™â€ aplikacji na podstawie zawartoÅ›ci pliku <code class="docutils literal notranslate"><span class="pre">init.lua</span></code>, ktÃ³ry powinien zawieraÄ‡ definicjÄ™ <code class="docutils literal notranslate"><span class="pre">APP_NAME</span></code>. Jest to uÅ¼ywane <a class="reference external" href="http://m.in">m.in</a>. do tworzenia katalogu zapisu.</p>
</section>
<section id="bool-resourcemanager-loaddatafromself">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::loadDataFromSelf(...)</span></code><a class="headerlink" href="#bool-resourcemanager-loaddatafromself" title="Link to this heading">#</a></h1>
<p>Przeszukuje plik binarny aplikacji w poszukiwaniu sygnatury archiwum ZIP (<code class="docutils literal notranslate"><span class="pre">PK..</span></code>). JeÅ›li znajdzie, traktuje resztÄ™ pliku jako archiwum i montuje je w pamiÄ™ci za pomocÄ… <code class="docutils literal notranslate"><span class="pre">PHYSFS_mountMemory</span></code>.</p>
</section>
<section id="std-string-resourcemanager-readfilecontents">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::readFileContents(...)</span></code><a class="headerlink" href="#std-string-resourcemanager-readfilecontents" title="Link to this heading">#</a></h1>
<p>Odczytuje zawartoÅ›Ä‡ pliku. Po odczytaniu surowych bajtÃ³w, prÃ³buje je zdeszyfrowaÄ‡ za pomocÄ… <code class="docutils literal notranslate"><span class="pre">decryptBuffer</span></code>. ObsÅ‚uguje rÃ³wnieÅ¼ specjalny wirtualny katalog <code class="docutils literal notranslate"><span class="pre">/downloads</span></code> do odczytu plikÃ³w pobranych przez <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p>
</section>
<section id="bool-resourcemanager-decryptbuffer-std-string-buffer">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::decryptBuffer(std::string&amp;</span> <span class="pre">buffer)</span></code><a class="headerlink" href="#bool-resourcemanager-decryptbuffer-std-string-buffer" title="Link to this heading">#</a></h1>
<p>Deszyfruje bufor, jeÅ›li jest on zaszyfrowany (rozpoznaje po nagÅ‚Ã³wku â€œENC3â€). Proces deszyfracji obejmuje:</p>
<ol class="arabic simple">
<li><p>Odczytanie metadanych (klucz, rozmiary, suma kontrolna).</p></li>
<li><p>DeszyfracjÄ™ za pomocÄ… algorytmu <code class="docutils literal notranslate"><span class="pre">bdecrypt</span></code> (odmiana TEA/XTEA).</p></li>
<li><p>DekompresjÄ™ za pomocÄ… ZLIB.</p></li>
<li><p>WeryfikacjÄ™ sumy kontrolnej Adler-32.</p></li>
</ol>
</section>
<section id="bool-resourcemanager-encryptbuffer">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::encryptBuffer(...)</span></code><a class="headerlink" href="#bool-resourcemanager-encryptbuffer" title="Link to this heading">#</a></h1>
<p>Szyfruje bufor, wykonujÄ…c operacje odwrotne do <code class="docutils literal notranslate"><span class="pre">decryptBuffer</span></code>: kompresja, szyfrowanie i dodanie nagÅ‚Ã³wka. DostÄ™pne tylko z flagÄ… <code class="docutils literal notranslate"><span class="pre">WITH_ENCRYPTION</span></code>.</p>
</section>
<section id="std-string-resourcemanager-resolvepath-std-string-path">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::resolvePath(std::string</span> <span class="pre">path)</span></code><a class="headerlink" href="#std-string-resourcemanager-resolvepath-std-string-path" title="Link to this heading">#</a></h1>
<p>Konwertuje Å›cieÅ¼kÄ™ wzglÄ™dnÄ… na Å›cieÅ¼kÄ™ absolutnÄ… w wirtualnym systemie plikÃ³w. ObsÅ‚uguje Å›cieÅ¼ki wzglÄ™dne do bieÅ¼Ä…cego skryptu Lua oraz specjalne Å›cieÅ¼ki dla layoutÃ³w UI (np. <code class="docutils literal notranslate"><span class="pre">/layouts/nazwa_layoutu/...</span></code>).</p>
</section>
<section id="updatedata-i-updateexecutable">
<h1><code class="docutils literal notranslate"><span class="pre">updateData(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">updateExecutable(...)</span></code><a class="headerlink" href="#updatedata-i-updateexecutable" title="Link to this heading">#</a></h1>
<p>Metody sÅ‚uÅ¼Ä…ce do aktualizacji klienta. <code class="docutils literal notranslate"><span class="pre">updateData</span></code> przebudowuje archiwum <code class="docutils literal notranslate"><span class="pre">data.zip</span></code> na podstawie pobranych plikÃ³w, a <code class="docutils literal notranslate"><span class="pre">updateExecutable</span></code> zastÄ™puje plik binarny nowÄ… wersjÄ….</p>
</section>
<section id="createarchive-i-decompressarchive">
<h1><code class="docutils literal notranslate"><span class="pre">createArchive(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">decompressArchive(...)</span></code><a class="headerlink" href="#createarchive-i-decompressarchive" title="Link to this heading">#</a></h1>
<p>Metody pomocnicze do tworzenia i rozpakowywania archiwÃ³w ZIP w pamiÄ™ci przy uÅ¼yciu biblioteki <code class="docutils literal notranslate"><span class="pre">libzip</span></code>.</p>
</section>
<section id="id219">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id219" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><strong>PhysFS</strong>: Podstawowa zaleÅ¼noÅ›Ä‡ do obsÅ‚ugi wirtualnego systemu plikÃ³w.</p></li>
<li><p><strong>ZLIB, LibZip</strong>: Do obsÅ‚ugi kompresji i archiwÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Do operacji specyficznych dla systemu, jak pobieranie bieÅ¼Ä…cego katalogu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/crypt.h</span></code>: Do szyfrowania, deszyfrowania i obliczania sum kontrolnych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/http.h</span></code>: Do obsÅ‚ugi wirtualnego katalogu <code class="docutils literal notranslate"><span class="pre">/downloads</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/process.hpp</span></code>: Do uruchamiania nowszej wersji klienta.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="scheduledevent-h">
<h1>ğŸ“„ scheduledevent.h<a class="headerlink" href="#scheduledevent-h" title="Link to this heading">#</a></h1>
</section>
<section id="id220">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id220" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">scheduledevent.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code>, ktÃ³ra rozszerza funkcjonalnoÅ›Ä‡ <code class="docutils literal notranslate"><span class="pre">Event</span></code>, dodajÄ…c moÅ¼liwoÅ›Ä‡ planowania wykonania w czasie, cyklicznoÅ›ci oraz obsÅ‚ugi opÃ³ÅºnieÅ„.</p>
</section>
<section id="id221">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code><a class="headerlink" href="#id221" title="Link to this heading">#</a></h1>
</section>
<section id="id222">
<h1>Opis semantyczny<a class="headerlink" href="#id222" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code> to zdarzenie, ktÃ³re nie jest wykonywane natychmiast, lecz po upÅ‚ywie okreÅ›lonego czasu (<code class="docutils literal notranslate"><span class="pre">delay</span></code>). MoÅ¼e byÄ‡ jednorazowe lub cykliczne (<code class="docutils literal notranslate"><span class="pre">maxCycles</span></code>). Jest zarzÄ…dzane przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> w kolejce priorytetowej, gdzie priorytetem jest czas wykonania.</p>
</section>
<section id="id223">
<h1>Metody publiczne<a class="headerlink" href="#id223" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ScheduledEvent(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor, ustawia parametry czasowe zdarzenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">execute()</span></code></p></td>
<td class="text-left"><p>Wykonuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> i inkrementuje licznik wykonanych cykli.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">nextCycle()</span></code></p></td>
<td class="text-left"><p>Przygotowuje zdarzenie do nastÄ™pnego cyklu, aktualizujÄ…c czas wykonania. Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>, jeÅ›li zdarzenie nie powinno byÄ‡ ponownie wykonane.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ticks()</span></code></p></td>
<td class="text-left"><p>Zwraca absolutny czas (w tickach), w ktÃ³rym zdarzenie ma zostaÄ‡ wykonane.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">remainingTicks()</span></code></p></td>
<td class="text-left"><p>Zwraca czas pozostaÅ‚y do wykonania zdarzenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">delay()</span></code></p></td>
<td class="text-left"><p>Zwraca opÃ³Åºnienie miÄ™dzy cyklami.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">cyclesExecuted()</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ dotychczasowych wykonaÅ„.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">maxCycles()</span></code></p></td>
<td class="text-left"><p>Zwraca maksymalnÄ… liczbÄ™ wykonaÅ„ (0 dla nieskoÅ„czonoÅ›ci).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id224">
<h1>Zmienne prywatne<a class="headerlink" href="#id224" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_ticks</span></code>: Czas (w tickach systemowych), w ktÃ³rym ma nastÄ…piÄ‡ nastÄ™pne wykonanie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_delay</span></code>: OpÃ³Åºnienie miÄ™dzy kolejnymi wykonaniami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_maxCycles</span></code>: Maksymalna liczba wykonaÅ„.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cyclesExecuted</span></code>: Licznik wykonanych cykli.</p></li>
</ul>
</section>
<section id="struktura-lessscheduledevent">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">lessScheduledEvent</span></code><a class="headerlink" href="#struktura-lessscheduledevent" title="Link to this heading">#</a></h1>
<p>Funktor (obiekt funkcyjny) uÅ¼ywany przez <code class="docutils literal notranslate"><span class="pre">std::priority_queue</span></code> w <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> do sortowania zdarzeÅ„. Zapewnia, Å¼e zdarzenia z najwczeÅ›niejszym czasem wykonania majÄ… najwyÅ¼szy priorytet.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">lessScheduledEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">operator</span><span class="p">()(</span><span class="k">const</span><span class="w"> </span><span class="n">ScheduledEventPtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ScheduledEventPtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w">  </span><span class="n">b</span><span class="err">â†’</span><span class="n">ticks</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">a</span><span class="err">â†’</span><span class="n">ticks</span><span class="p">();</span>
<span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="id225">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id225" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/event.h</span></code>: Klasa bazowa <code class="docutils literal notranslate"><span class="pre">Event</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> do pobierania bieÅ¼Ä…cego czasu.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> i zarzÄ…dzana w jego kolejce priorytetowej.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, co pozwala na interakcjÄ™ z obiektami tego typu z poziomu Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="timer-cpp">
<h1>ğŸ“„ timer.cpp<a class="headerlink" href="#timer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id226">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id226" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">timer.cpp</span></code> zawiera implementacjÄ™ prostych metod klasy <code class="docutils literal notranslate"><span class="pre">Timer</span></code>, ktÃ³ra sÅ‚uÅ¼y do mierzenia upÅ‚ywu czasu.</p>
</section>
<section id="klasa-timer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Timer</span></code><a class="headerlink" href="#klasa-timer" title="Link to this heading">#</a></h1>
</section>
<section id="void-timer-restart">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Timer::restart()</span></code><a class="headerlink" href="#void-timer-restart" title="Link to this heading">#</a></h1>
</section>
<section id="id227">
<h1>Opis semantyczny<a class="headerlink" href="#id227" title="Link to this heading">#</a></h1>
<p>Resetuje timer, ustawiajÄ…c jego punkt startowy na bieÅ¼Ä…cy czas.</p>
</section>
<section id="id228">
<h1>DziaÅ‚anie<a class="headerlink" href="#id228" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera aktualny czas w milisekundach za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_clock.millis()</span></code>.</p></li>
<li><p>Zapisuje tÄ™ wartoÅ›Ä‡ do <code class="docutils literal notranslate"><span class="pre">m_startTicks</span></code>.</p></li>
<li><p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_stopped</span></code> na <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ol>
</section>
<section id="ticks-t-timer-tickselapsed">
<h1><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Timer::ticksElapsed()</span></code><a class="headerlink" href="#ticks-t-timer-tickselapsed" title="Link to this heading">#</a></h1>
</section>
<section id="id229">
<h1>Opis semantyczny<a class="headerlink" href="#id229" title="Link to this heading">#</a></h1>
<p>Oblicza i zwraca czas, jaki upÅ‚ynÄ…Å‚ od ostatniego zresetowania timera.</p>
</section>
<section id="id230">
<h1>DziaÅ‚anie<a class="headerlink" href="#id230" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Zwraca rÃ³Å¼nicÄ™ miÄ™dzy aktualnym czasem (<code class="docutils literal notranslate"><span class="pre">g_clock.millis()</span></code>) a zapisanym czasem startowym (<code class="docutils literal notranslate"><span class="pre">m_startTicks</span></code>).</p></li>
</ul>
</section>
<section id="id231">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id231" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code>: Plik nagÅ‚Ã³wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> do pobierania bieÅ¼Ä…cego czasu, co zapewnia spÃ³jnoÅ›Ä‡ z buforowanym czasem klatki.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="timer-h">
<h1>ğŸ“„ timer.h<a class="headerlink" href="#timer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id232">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id232" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">timer.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Timer</span></code>, ktÃ³ra jest prostym, ale uÅ¼ytecznym narzÄ™dziem do mierzenia upÅ‚ywajÄ…cego czasu. Jest to klasa pomocnicza, szeroko stosowana w caÅ‚ym frameworku do obsÅ‚ugi opÃ³ÅºnieÅ„, animacji i synchronizacji.</p>
</section>
<section id="id233">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Timer</span></code><a class="headerlink" href="#id233" title="Link to this heading">#</a></h1>
</section>
<section id="id234">
<h1>Opis semantyczny<a class="headerlink" href="#id234" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Timer</span></code> dziaÅ‚a jak stoper. Po utworzeniu lub zresetowaniu (<code class="docutils literal notranslate"><span class="pre">restart()</span></code>) zapamiÄ™tuje punkt w czasie. NastÄ™pnie moÅ¼na w dowolnym momencie sprawdziÄ‡, ile czasu upÅ‚ynÄ™Å‚o od tego punktu za pomocÄ… metod <code class="docutils literal notranslate"><span class="pre">ticksElapsed()</span></code> lub <code class="docutils literal notranslate"><span class="pre">timeElapsed()</span></code>.</p>
</section>
<section id="id235">
<h1>Metody publiczne<a class="headerlink" href="#id235" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Timer()</span></code></p></td>
<td class="text-left"><p>Konstruktor, ktÃ³ry natychmiast wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">restart()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">restart()</span></code></p></td>
<td class="text-left"><p>Resetuje timer, ustawiajÄ…c jego punkt startowy na bieÅ¼Ä…cy czas.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">stop()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje timer (ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_stopped</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">adjust(ticks_t</span> <span class="pre">value)</span></code></p></td>
<td class="text-left"><p>Przesuwa punkt startowy o podanÄ… wartoÅ›Ä‡, efektywnie â€œdodajÄ…câ€ lub â€œodejmujÄ…câ€ czas.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">startTicks()</span></code></p></td>
<td class="text-left"><p>Zwraca punkt startowy timera w tickach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">ticksElapsed()</span></code></p></td>
<td class="text-left"><p>Zwraca czas, jaki upÅ‚ynÄ…Å‚ od startu, w milisekundach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">timeElapsed()</span></code></p></td>
<td class="text-left"><p>Zwraca czas, jaki upÅ‚ynÄ…Å‚ od startu, w sekundach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">running()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li timer nie zostaÅ‚ zatrzymany.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id236">
<h1>Zmienne prywatne<a class="headerlink" href="#id236" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_startTicks</span></code>: Czas (w tickach/milisekundach), w ktÃ³rym timer zostaÅ‚ uruchomiony/zresetowany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_stopped</span></code>: Flaga wskazujÄ…ca, czy timer jest zatrzymany.</p></li>
</ul>
</section>
<section id="id237">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id237" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Zawiera podstawowe definicje, w tym <code class="docutils literal notranslate"><span class="pre">ticks_t</span></code>.</p></li>
<li><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> (poprzez <code class="docutils literal notranslate"><span class="pre">ticksElapsed</span></code>) do pomiaru czasu.</p></li>
<li><p>Jest wykorzystywana w wielu miejscach, np. w <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> do obsÅ‚ugi podwÃ³jnego klikniÄ™cia (<code class="docutils literal notranslate"><span class="pre">m_clickTimer</span></code>), w <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> do ograniczania czÄ™stotliwoÅ›ci sprawdzania klawiszy (<code class="docutils literal notranslate"><span class="pre">m_keyPressTimer</span></code>), oraz w animacjach.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="consoleapplication-cpp">
<h1>ğŸ“„ consoleapplication.cpp<a class="headerlink" href="#consoleapplication-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id238">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id238" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">consoleapplication.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>, ktÃ³ra jest wersjÄ… aplikacji przeznaczonÄ… do dziaÅ‚ania w trybie tekstowym, bez interfejsu graficznego. Jest ona uÅ¼ywana, gdy projekt jest kompilowany bez flagi <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>.</p>
</section>
<section id="id239">
<h1>Zmienne globalne<a class="headerlink" href="#id239" title="Link to this heading">#</a></h1>
</section>
<section id="id240">
<h1><code class="docutils literal notranslate"><span class="pre">g_app</span></code><a class="headerlink" href="#id240" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>. Gdy framework jest kompilowany w trybie konsolowym, ta instancja staje siÄ™ gÅ‚Ã³wnym obiektem aplikacji.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ConsoleApplication</span><span class="w"> </span><span class="n">g_app</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id241">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code><a class="headerlink" href="#id241" title="Link to this heading">#</a></h1>
</section>
<section id="void-consoleapplication-run">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConsoleApplication::run()</span></code><a class="headerlink" href="#void-consoleapplication-run" title="Link to this heading">#</a></h1>
</section>
<section id="id242">
<h1>Opis semantyczny<a class="headerlink" href="#id242" title="Link to this heading">#</a></h1>
<p>Implementuje gÅ‚Ã³wnÄ… pÄ™tlÄ™ aplikacji konsolowej. W przeciwieÅ„stwie do <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, jest to prosta pÄ™tla, ktÃ³ra regularnie przetwarza zdarzenia i usypia wÄ…tek, aby nie zuÅ¼ywaÄ‡ 100% zasobÃ³w procesora.</p>
</section>
<section id="id243">
<h1>DziaÅ‚anie<a class="headerlink" href="#id243" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_running</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Wykonuje pierwsze wywoÅ‚anie <code class="docutils literal notranslate"><span class="pre">poll()</span></code>, aby przetworzyÄ‡ ewentualne poczÄ…tkowe zdarzenia.</p></li>
<li><p>Aktualizuje zegar (<code class="docutils literal notranslate"><span class="pre">g_clock.update()</span></code>).</p></li>
<li><p>WywoÅ‚uje funkcjÄ™ <code class="docutils literal notranslate"><span class="pre">onRun</span></code> w globalnym skrypcie Lua (<code class="docutils literal notranslate"><span class="pre">g_app.onRun</span></code>).</p></li>
<li><p>Wchodzi w pÄ™tlÄ™, ktÃ³ra trwa, dopÃ³ki flaga <code class="docutils literal notranslate"><span class="pre">m_stopping</span></code> nie zostanie ustawiona na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>W kaÅ¼dej iteracji pÄ™tli:</p>
<ul class="simple">
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">poll()</span></code> do przetworzenia zdarzeÅ„ (np. sieciowych, zaplanowanych).</p></li>
<li><p>Usypia gÅ‚Ã³wny wÄ…tek na 1 milisekundÄ™ (<code class="docutils literal notranslate"><span class="pre">stdext::millisleep(1)</span></code>).</p></li>
<li><p>Aktualizuje zegar (<code class="docutils literal notranslate"><span class="pre">g_clock.update()</span></code>).</p></li>
<li><p>Aktualizuje licznik klatek/iteracji (<code class="docutils literal notranslate"><span class="pre">m_frameCounter.update()</span></code>).</p></li>
</ul>
</li>
<li><p>Po wyjÅ›ciu z pÄ™tli, resetuje flagi <code class="docutils literal notranslate"><span class="pre">m_stopping</span></code> i <code class="docutils literal notranslate"><span class="pre">m_running</span></code>.</p></li>
</ol>
<blockquote>
<div><p><strong>NOTE:</strong> Pomimo braku grafiki, wciÄ…Å¼ istnieje pojÄ™cie â€œklatkiâ€ lub iteracji, ktÃ³re jest Å›ledzone przez <code class="docutils literal notranslate"><span class="pre">m_frameCounter</span></code>.</p>
</div></blockquote>
</section>
<section id="id244">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id244" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/consoleapplication.h</span></code>: Plik nagÅ‚Ã³wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> do aktualizacji czasu w kaÅ¼dej iteracji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do wywoÅ‚ania <code class="docutils literal notranslate"><span class="pre">onRun</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/connection.h</span></code>: Metoda <code class="docutils literal notranslate"><span class="pre">poll()</span></code> wywoÅ‚uje <a class="reference external" href="http://m.in">m.in</a>. <code class="docutils literal notranslate"><span class="pre">Connection::poll()</span></code>, wiÄ™c aplikacja konsolowa moÅ¼e obsÅ‚ugiwaÄ‡ sieÄ‡.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="shaderprogram-h">
<h1>ğŸ“„ shaderprogram.h<a class="headerlink" href="#shaderprogram-h" title="Link to this heading">#</a></h1>
</section>
<section id="id245">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id245" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shaderprogram.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>, ktÃ³ra jest obiektowym opakowaniem na program shadera w OpenGL. ZarzÄ…dza ona kompilacjÄ…, linkowaniem i aktywacjÄ… shaderÃ³w wierzchoÅ‚kÃ³w i fragmentÃ³w.</p>
</section>
<section id="klasa-shaderprogram">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code><a class="headerlink" href="#klasa-shaderprogram" title="Link to this heading">#</a></h1>
</section>
<section id="id246">
<h1>Opis semantyczny<a class="headerlink" href="#id246" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code> agreguje obiekty <code class="docutils literal notranslate"><span class="pre">Shader</span></code> (reprezentujÄ…ce pojedyncze shadery, np. wierzchoÅ‚kÃ³w lub fragmentÃ³w), linkuje je w jeden wykonywalny program, ktÃ³ry moÅ¼e byÄ‡ uÅ¼yty w potoku renderowania OpenGL, i dostarcza interfejs do ustawiania uniformÃ³w i atrybutÃ³w. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p>
</section>
<section id="id247">
<h1>Metody publiczne<a class="headerlink" href="#id247" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ShaderProgram(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy program shadera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">PainterShaderProgramPtr</span> <span class="pre">create(...)</span></code></p></td>
<td class="text-left"><p>Statyczna metoda fabryczna do tworzenia <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">addShader(...)</span></code></p></td>
<td class="text-left"><p>Dodaje skompilowany obiekt <code class="docutils literal notranslate"><span class="pre">Shader</span></code> do programu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">addShaderFromSourceCode(...)</span></code></p></td>
<td class="text-left"><p>Tworzy, kompiluje i dodaje shader z kodu ÅºrÃ³dÅ‚owego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">addShaderFromSourceFile(...)</span></code></p></td>
<td class="text-left"><p>Tworzy, kompiluje i dodaje shader z pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">removeShader(...)</span></code></p></td>
<td class="text-left"><p>Usuwa shader z programu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">link()</span></code></p></td>
<td class="text-left"><p>Linkuje wszystkie dodane shadery w jeden program.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">bind()</span></code></p></td>
<td class="text-left"><p>Aktywuje ten program shadera w kontekÅ›cie OpenGL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">release()</span></code></p></td>
<td class="text-left"><p>Deaktywuje jakikolwiek aktywny program shadera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">log()</span></code></p></td>
<td class="text-left"><p>Zwraca logi z procesu linkowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">disableAttributeArray(...)</span></code></p></td>
<td class="text-left"><p>WyÅ‚Ä…cza tablicÄ™ atrybutÃ³w wierzchoÅ‚kÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">enableAttributeArray(...)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza tablicÄ™ atrybutÃ³w wierzchoÅ‚kÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getAttributeLocation(...)</span></code></p></td>
<td class="text-left"><p>Pobiera lokalizacjÄ™ atrybutu o danej nazwie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bindAttributeLocation(...)</span></code></p></td>
<td class="text-left"><p>Przypisuje lokalizacjÄ™ do atrybutu (przed linkowaniem).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bindUniformLocation(...)</span></code></p></td>
<td class="text-left"><p>Wyszukuje i buforuje lokalizacjÄ™ uniformu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setAttributeArray(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wskaÅºnik na dane dla tablicy atrybutÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setAttributeValue(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wartoÅ›Ä‡ dla pojedynczego atrybutu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setUniformValue(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wartoÅ›Ä‡ dla uniformu (przeciÄ…Å¼ona dla rÃ³Å¼nych typÃ³w: <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">Color</span></code>, <code class="docutils literal notranslate"><span class="pre">Matrix</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isLinked()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li program zostaÅ‚ pomyÅ›lnie zlinkowany.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getProgramId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID programu OpenGL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ShaderList</span> <span class="pre">getShaders()</span></code></p></td>
<td class="text-left"><p>Zwraca listÄ™ powiÄ…zanych shaderÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ programu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id248">
<h1>Zmienne prywatne<a class="headerlink" href="#id248" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>: Nazwa programu (dla celÃ³w identyfikacji).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_linked</span></code>: Flaga wskazujÄ…ca, czy program jest zlinkowany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_programId</span></code>: ID programu w OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentProgram</span></code>: Statyczna zmienna Å›ledzÄ…ca aktualnie aktywny program.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_shaders</span></code>: Lista powiÄ…zanych obiektÃ³w <code class="docutils literal notranslate"><span class="pre">Shader</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_uniformLocations</span></code>: Tablica przechowujÄ…ca zbuforowane lokalizacje uniformÃ³w.</p></li>
</ul>
</section>
<section id="id249">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id249" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shader.h</span></code>: Definicja klasy <code class="docutils literal notranslate"><span class="pre">Shader</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>, ktÃ³ra rozszerza jÄ… o uniformy specyficzne dla <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p>Jest zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, co pozwala na interakcjÄ™ z obiektami tego typu z poziomu Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="animatedtexture-cpp">
<h1>ğŸ“„ animatedtexture.cpp<a class="headerlink" href="#animatedtexture-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id250">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id250" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">animatedtexture.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>, ktÃ³ra reprezentuje teksturÄ™ skÅ‚adajÄ…cÄ… siÄ™ z wielu klatek, odtwarzanych w pÄ™tli. Jest to podklasa <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p>
</section>
<section id="klasa-animatedtexture">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code><a class="headerlink" href="#klasa-animatedtexture" title="Link to this heading">#</a></h1>
</section>
<section id="animatedtexture-animatedtexture">
<h1><code class="docutils literal notranslate"><span class="pre">AnimatedTexture::AnimatedTexture(...)</span></code><a class="headerlink" href="#animatedtexture-animatedtexture" title="Link to this heading">#</a></h1>
<p>Konstruktor, ktÃ³ry tworzy animowanÄ… teksturÄ™.</p>
<ul class="simple">
<li><p><strong>Parametry</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code>: Rozmiar pojedynczej klatki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">frames</span></code>: Wektor wskaÅºnikÃ³w na obiekty <code class="docutils literal notranslate"><span class="pre">Image</span></code>, reprezentujÄ…ce poszczegÃ³lne klatki animacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framesDelay</span></code>: Wektor czasÃ³w (w milisekundach), jak dÅ‚ugo kaÅ¼da klatka ma byÄ‡ wyÅ›wietlana.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buildMipmaps</span></code>, <code class="docutils literal notranslate"><span class="pre">compress</span></code>: Flagi przekazywane do konstruktora <code class="docutils literal notranslate"><span class="pre">Texture</span></code> dla kaÅ¼dej klatki.</p></li>
</ul>
</li>
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ol class="arabic simple">
<li><p>Iteruje przez wektor <code class="docutils literal notranslate"><span class="pre">frames</span></code> i dla kaÅ¼dego <code class="docutils literal notranslate"><span class="pre">Image</span></code> tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, ktÃ³ry jest przechowywany w <code class="docutils literal notranslate"><span class="pre">m_frames</span></code>.</p></li>
<li><p>Inicjalizuje timer <code class="docutils literal notranslate"><span class="pre">m_animTimer</span></code> i ustawia bieÅ¼Ä…cÄ… klatkÄ™ na 0.</p></li>
</ol>
</li>
</ul>
</section>
<section id="bool-animatedtexture-buildhardwaremipmaps">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">AnimatedTexture::buildHardwareMipmaps()</span></code><a class="headerlink" href="#bool-animatedtexture-buildhardwaremipmaps" title="Link to this heading">#</a></h1>
<p>WÅ‚Ä…cza generowanie mipmap dla wszystkich klatek animacji.</p>
</section>
<section id="void-animatedtexture-setsmooth-bool-smooth-i-void-animatedtexture-setrepeat-bool-repeat">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::setSmooth(bool</span> <span class="pre">smooth)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::setRepeat(bool</span> <span class="pre">repeat)</span></code><a class="headerlink" href="#void-animatedtexture-setsmooth-bool-smooth-i-void-animatedtexture-setrepeat-bool-repeat" title="Link to this heading">#</a></h1>
<p>UstawiajÄ… odpowiednio flagi wygÅ‚adzania i powtarzania dla wszystkich tekstur-klatek.</p>
</section>
<section id="void-animatedtexture-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::update()</span></code><a class="headerlink" href="#void-animatedtexture-update" title="Link to this heading">#</a></h1>
</section>
<section id="id251">
<h1>Opis semantyczny<a class="headerlink" href="#id251" title="Link to this heading">#</a></h1>
<p>Aktualizuje stan animacji. Ta metoda jest kluczowa i musi byÄ‡ wywoÅ‚ywana przed kaÅ¼dym uÅ¼yciem tekstury w pÄ™tli renderowania.</p>
</section>
<section id="id252">
<h1>DziaÅ‚anie<a class="headerlink" href="#id252" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy czas, jaki upÅ‚ynÄ…Å‚ od ostatniej zmiany klatki (<code class="docutils literal notranslate"><span class="pre">m_animTimer.ticksElapsed()</span></code>) jest wiÄ™kszy lub rÃ³wny czasowi opÃ³Åºnienia dla bieÅ¼Ä…cej klatki (<code class="docutils literal notranslate"><span class="pre">m_framesDelay[m_currentFrame]</span></code>).</p></li>
<li><p>JeÅ›li tak, przechodzi do nastÄ™pnej klatki, zapÄ™tlajÄ…c animacjÄ™ (<code class="docutils literal notranslate"><span class="pre">m_currentFrame</span> <span class="pre">=</span> <span class="pre">(m_currentFrame</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">%</span> <span class="pre">m_frames.size()</span></code>), i resetuje timer.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">update()</span></code> na teksturze bieÅ¼Ä…cej klatki.</p></li>
<li><p>Aktualizuje ID tekstury (<code class="docutils literal notranslate"><span class="pre">m_id</span></code>) i unikalne ID (<code class="docutils literal notranslate"><span class="pre">m_uniqueId</span></code>) klasy bazowej <code class="docutils literal notranslate"><span class="pre">Texture</span></code> na wartoÅ›ci z bieÅ¼Ä…cej klatki. DziÄ™ki temu reszta systemu renderujÄ…cego moÅ¼e traktowaÄ‡ <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code> jak zwykÅ‚Ä…, statycznÄ… teksturÄ™, nie wiedzÄ…c, Å¼e jej ID zmienia siÄ™ w czasie.</p></li>
</ol>
</section>
<section id="id253">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id253" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/animatedtexture.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do operacji na OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Potencjalnie do planowania aktualizacji.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code> podczas Å‚adowania animowanych plikÃ³w PNG (APNG).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="animatedtexture-h">
<h1>ğŸ“„ animatedtexture.h<a class="headerlink" href="#animatedtexture-h" title="Link to this heading">#</a></h1>
</section>
<section id="id254">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id254" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">animatedtexture.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>, ktÃ³ra jest specjalizacjÄ… klasy <code class="docutils literal notranslate"><span class="pre">Texture</span></code>. Reprezentuje ona teksturÄ™, ktÃ³ra zmienia swÃ³j wyglÄ…d w czasie, odtwarzajÄ…c sekwencjÄ™ klatek.</p>
</section>
<section id="id255">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code><a class="headerlink" href="#id255" title="Link to this heading">#</a></h1>
</section>
<section id="id256">
<h1>Opis semantyczny<a class="headerlink" href="#id256" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">Texture</span></code> i przechowuje kolekcjÄ™ tekstur (<code class="docutils literal notranslate"><span class="pre">std::vector&lt;TexturePtr&gt;</span></code>), ktÃ³re reprezentujÄ… poszczegÃ³lne klatki animacji. WewnÄ™trzny timer (<code class="docutils literal notranslate"><span class="pre">m_animTimer</span></code>) kontroluje, ktÃ³ra klatka jest aktualnie aktywna. Metoda <code class="docutils literal notranslate"><span class="pre">update()</span></code> jest odpowiedzialna za przeÅ‚Ä…czanie klatek i aktualizowanie ID tekstury w klasie bazowej, dziÄ™ki czemu dla systemu renderujÄ…cego wyglÄ…da ona jak pojedyncza, dynamicznie zmieniajÄ…ca siÄ™ tekstura.</p>
</section>
<section id="id257">
<h1>Metody publiczne<a class="headerlink" href="#id257" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AnimatedTexture(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy animowanÄ… teksturÄ™ z wektora obrazÃ³w i czasÃ³w opÃ³ÅºnieÅ„.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~AnimatedTexture()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">replace(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">image)</span></code></p></td>
<td class="text-left"><p>Pusta implementacja; zastÄ™powanie animowanej tekstury pojedynczym obrazem nie jest obsÅ‚ugiwane w ten sposÃ³b.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code></p></td>
<td class="text-left"><p>Aktualizuje bieÅ¼Ä…cÄ… klatkÄ™ animacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">isAnimatedTexture()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, odrÃ³Å¼niajÄ…c tÄ™ klasÄ™ od <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id258">
<h1>Metody chronione<a class="headerlink" href="#id258" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">buildHardwareMipmaps()</span></code>: WÅ‚Ä…cza mipmapping dla wszystkich klatek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setSmooth(bool</span> <span class="pre">smooth)</span></code>: Ustawia wygÅ‚adzanie dla wszystkich klatek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setRepeat(bool</span> <span class="pre">repeat)</span></code>: Ustawia powtarzanie dla wszystkich klatek.</p></li>
</ul>
</section>
<section id="id259">
<h1>Zmienne prywatne<a class="headerlink" href="#id259" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_frames</span></code>: Wektor wskaÅºnikÃ³w na tekstury poszczegÃ³lnych klatek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_framesDelay</span></code>: Wektor czasÃ³w opÃ³ÅºnieÅ„ dla kaÅ¼dej klatki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentFrame</span></code>: Indeks bieÅ¼Ä…cej klatki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_animTimer</span></code>: Timer do Å›ledzenia czasu wyÅ›wietlania klatki.</p></li>
</ul>
</section>
<section id="id260">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id260" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: Klasa bazowa <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">Timer</span></code> do zarzÄ…dzania animacjÄ….</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code> podczas Å‚adowania plikÃ³w APNG (Animated PNG).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="apngloader-cpp">
<h1>ğŸ“„ apngloader.cpp<a class="headerlink" href="#apngloader-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id261">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id261" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">apngloader.cpp</span></code> zawiera implementacjÄ™ funkcji do Å‚adowania animowanych plikÃ³w PNG (APNG) oraz do zapisu standardowych plikÃ³w PNG. Kod jest oparty na bibliotece APNG Disassembler 2.3 autorstwa Maxa Stepina i zostaÅ‚ dostosowany do potrzeb frameworka.</p>
</section>
<section id="funkcje">
<h1>Funkcje<a class="headerlink" href="#funkcje" title="Link to this heading">#</a></h1>
</section>
<section id="load-apng-std-stringstream-file-struct-apng-data-apng">
<h1><code class="docutils literal notranslate"><span class="pre">load_apng(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">struct</span> <span class="pre">apng_data</span> <span class="pre">*apng)</span></code><a class="headerlink" href="#load-apng-std-stringstream-file-struct-apng-data-apng" title="Link to this heading">#</a></h1>
</section>
<section id="id262">
<h1>Opis semantyczny<a class="headerlink" href="#id262" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna funkcja do parsowania pliku w formacie APNG. Odczytuje ona poszczegÃ³lne â€œchunkiâ€ (fragmenty) pliku PNG, takie jak <code class="docutils literal notranslate"><span class="pre">IHDR</span></code> (nagÅ‚Ã³wek), <code class="docutils literal notranslate"><span class="pre">PLTE</span></code> (paleta), <code class="docutils literal notranslate"><span class="pre">tRNS</span></code> (przezroczystoÅ›Ä‡), <code class="docutils literal notranslate"><span class="pre">acTL</span></code> (nagÅ‚Ã³wek animacji), <code class="docutils literal notranslate"><span class="pre">fcTL</span></code> (kontrola klatki) oraz <code class="docutils literal notranslate"><span class="pre">IDAT</span></code>/<code class="docutils literal notranslate"><span class="pre">fdAT</span></code> (dane obrazu).</p>
</section>
<section id="id263">
<h1>DziaÅ‚anie<a class="headerlink" href="#id263" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza sygnaturÄ™ pliku PNG.</p></li>
<li><p>Odczytuje nagÅ‚Ã³wek <code class="docutils literal notranslate"><span class="pre">IHDR</span></code> w celu uzyskania wymiarÃ³w, gÅ‚Ä™bi kolorÃ³w i innych podstawowych informacji.</p></li>
<li><p>Alokuje bufory na zdekompresowane dane obrazu.</p></li>
<li><p>W pÄ™tli odczytuje kolejne chunki:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PLTE</span></code> i <code class="docutils literal notranslate"><span class="pre">tRNS</span></code>: Wczytuje paletÄ™ kolorÃ³w i informacje o przezroczystoÅ›ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">acTL</span></code>: Identyfikuje plik jako animowany, odczytuje liczbÄ™ klatek i zapÄ™tleÅ„.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fcTL</span></code>: Odczytuje metadane dla pojedynczej klatki, takie jak wymiary, przesuniÄ™cie, czas trwania i operacje mieszania (<code class="docutils literal notranslate"><span class="pre">blend_op</span></code>) oraz usuwania (<code class="docutils literal notranslate"><span class="pre">dispose_op</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IDAT</span></code> i <code class="docutils literal notranslate"><span class="pre">fdAT</span></code>: Gromadzi skompresowane dane obrazu dla klatki.</p></li>
</ul>
</li>
<li><p>Po odczytaniu danych dla klatki (<code class="docutils literal notranslate"><span class="pre">fcTL</span></code> lub <code class="docutils literal notranslate"><span class="pre">IEND</span></code>), dekompresuje je za pomocÄ… ZLIB (<code class="docutils literal notranslate"><span class="pre">inflate</span></code>), a nastÄ™pnie odfiltrowuje (usuwa filtry PNG takie jak Sub, Up, Average, Paeth).</p></li>
<li><p>Komponuje finalny obraz klatki na podstawie poprzedniej klatki, stosujÄ…c operacje <code class="docutils literal notranslate"><span class="pre">dispose_op</span></code> (np. zostaw, wyczyÅ›Ä‡ do tÅ‚a) i <code class="docutils literal notranslate"><span class="pre">blend_op</span></code> (np. zastÄ…p, naÅ‚Ã³Å¼).</p></li>
<li><p>Wynikowe dane klatki w formacie RGBA sÄ… zapisywane do bufora w strukturze <code class="docutils literal notranslate"><span class="pre">apng_data</span></code>.</p></li>
<li><p>Zwraca 0 w przypadku sukcesu, -1 w przypadku bÅ‚Ä™du.</p></li>
</ol>
</section>
<section id="save-png-std-stringstream-f-unsigned-int-width-unsigned-int-height-int-channels-unsigned-char-pixels">
<h1><code class="docutils literal notranslate"><span class="pre">save_png(std::stringstream&amp;</span> <span class="pre">f,</span> <span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">width,</span> <span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">height,</span> <span class="pre">int</span> <span class="pre">channels,</span> <span class="pre">unsigned</span> <span class="pre">char</span> <span class="pre">*pixels)</span></code><a class="headerlink" href="#save-png-std-stringstream-f-unsigned-int-width-unsigned-int-height-int-channels-unsigned-char-pixels" title="Link to this heading">#</a></h1>
</section>
<section id="id264">
<h1>Opis semantyczny<a class="headerlink" href="#id264" title="Link to this heading">#</a></h1>
<p>Zapisuje dane obrazu do formatu PNG. Implementuje podstawowÄ… kompresjÄ™ z filtrowaniem, dynamicznie wybierajÄ…c najlepszy filtr dla kaÅ¼dej linii obrazu w celu uzyskania lepszej kompresji.</p>
</section>
<section id="id265">
<h1>DziaÅ‚anie<a class="headerlink" href="#id265" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Zapisuje sygnaturÄ™ PNG i nagÅ‚Ã³wek <code class="docutils literal notranslate"><span class="pre">IHDR</span></code>.</p></li>
<li><p>Inicjalizuje strumienie kompresji ZLIB.</p></li>
<li><p>Dla kaÅ¼dej linii obrazu:</p>
<ul class="simple">
<li><p>Testuje piÄ™Ä‡ rÃ³Å¼nych filtrÃ³w PNG (None, Sub, Up, Average, Paeth).</p></li>
<li><p>Wybiera filtr, ktÃ³ry generuje dane o najmniejszej sumie wartoÅ›ci bezwzglÄ™dnych bajtÃ³w (co zwykle prowadzi do lepszej kompresji).</p></li>
<li><p>Kompresuje przefiltrowanÄ… liniÄ™ za pomocÄ… <code class="docutils literal notranslate"><span class="pre">deflate</span></code>.</p></li>
</ul>
</li>
<li><p>Zapisuje skompresowane dane w chunkach <code class="docutils literal notranslate"><span class="pre">IDAT</span></code>.</p></li>
<li><p>Zapisuje chunk koÅ„cowy <code class="docutils literal notranslate"><span class="pre">IEND</span></code>.</p></li>
</ol>
</section>
<section id="funkcje-pomocnicze">
<h1>Funkcje pomocnicze<a class="headerlink" href="#funkcje-pomocnicze" title="Link to this heading">#</a></h1>
<p>Plik zawiera wiele funkcji pomocniczych, <a class="reference external" href="http://m.in">m.in</a>.:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">read32</span></code>, <code class="docutils literal notranslate"><span class="pre">read16</span></code>: Do odczytu liczb w porzÄ…dku big-endian.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read_sub_row</span></code>, <code class="docutils literal notranslate"><span class="pre">read_up_row</span></code>, <code class="docutils literal notranslate"><span class="pre">read_average_row</span></code>, <code class="docutils literal notranslate"><span class="pre">read_paeth_row</span></code>: Do odfiltrowywania danych obrazu PNG.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compose0</span></code>, <code class="docutils literal notranslate"><span class="pre">compose2</span></code>, <code class="docutils literal notranslate"><span class="pre">compose3</span></code>, <code class="docutils literal notranslate"><span class="pre">compose4</span></code>, <code class="docutils literal notranslate"><span class="pre">compose6</span></code>: Do kompozycji klatek animacji, konwertujÄ…c rÃ³Å¼ne formaty pikseli na RGBA i stosujÄ…c operacje mieszania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unpack</span></code>: Dekompresuje i odfiltrowuje dane jednej klatki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_chunk</span></code>, <code class="docutils literal notranslate"><span class="pre">write_IDATs</span></code>: Do zapisu chunkÃ³w PNG.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">free_apng</span></code>: Zwalnia pamiÄ™Ä‡ zaalokowanÄ… w strukturze <code class="docutils literal notranslate"><span class="pre">apng_data</span></code>.</p></li>
</ul>
</section>
<section id="id266">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id266" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/apngloader.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><strong>ZLIB</strong>: UÅ¼ywana do kompresji i dekompresji danych obrazu.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Image::loadPNG</span></code> do Å‚adowania obrazÃ³w i <code class="docutils literal notranslate"><span class="pre">Image::savePNG</span></code> do ich zapisu.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="apngloader-h">
<h1>ğŸ“„ apngloader.h<a class="headerlink" href="#apngloader-h" title="Link to this heading">#</a></h1>
</section>
<section id="id267">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id267" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">apngloader.h</span></code> jest plikiem nagÅ‚Ã³wkowym, ktÃ³ry deklaruje struktury danych i funkcje do obsÅ‚ugi plikÃ³w w formacie APNG (Animated PNG). Definiuje on publiczny interfejs do Å‚adowania, zapisywania i zwalniania danych obrazu.</p>
</section>
<section id="struktura-apng-data">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">apng_data</span></code><a class="headerlink" href="#struktura-apng-data" title="Link to this heading">#</a></h1>
</section>
<section id="id268">
<h1>Opis semantyczny<a class="headerlink" href="#id268" title="Link to this heading">#</a></h1>
<p>Struktura ta przechowuje wszystkie zdekompresowane i sparsowane dane z pliku APNG.</p>
</section>
<section id="id269">
<h1>Pola struktury<a class="headerlink" href="#id269" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">pdata</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span> <span class="pre">*</span></code></p></td>
<td class="text-left"><p>WskaÅºnik na surowe dane pikseli wszystkich klatek, w formacie RGBA, jedna po drugiej.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">width</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>SzerokoÅ›Ä‡ obrazu w pikselach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">height</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>WysokoÅ›Ä‡ obrazu w pikselach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">first_frame</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>Indeks pierwszej klatki animacji (zwykle 0).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">last_frame</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>Indeks ostatniej klatki animacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bpp</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span></code></p></td>
<td class="text-left"><p>Liczba bajtÃ³w na piksel.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">coltype</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span></code></p></td>
<td class="text-left"><p>Typ koloru z nagÅ‚Ã³wka PNG.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">num_frames</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>CaÅ‚kowita liczba klatek w animacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">num_plays</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>Liczba powtÃ³rzeÅ„ animacji (0 oznacza nieskoÅ„czonoÅ›Ä‡).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">frames_delay</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">short</span> <span class="pre">*</span></code></p></td>
<td class="text-left"><p>Tablica czasÃ³w wyÅ›wietlania dla kaÅ¼dej klatki, w milisekundach.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="funkcje-publiczne">
<h1>Funkcje publiczne<a class="headerlink" href="#funkcje-publiczne" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">load_apng(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">struct</span> <span class="pre">apng_data</span> <span class="pre">*apng)</span></code></p></td>
<td class="text-left"><p>Åaduje i parsuje dane APNG ze strumienia <code class="docutils literal notranslate"><span class="pre">file</span></code> i zapisuje wyniki w strukturze <code class="docutils literal notranslate"><span class="pre">apng</span></code>. Zwraca 0 w przypadku sukcesu, -1 w przypadku bÅ‚Ä™du.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">save_png(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">...)</span></code></p></td>
<td class="text-left"><p>Zapisuje dane obrazu (pojedynczej klatki) do strumienia <code class="docutils literal notranslate"><span class="pre">file</span></code> w formacie PNG.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">free_apng(struct</span> <span class="pre">apng_data</span> <span class="pre">*apng)</span></code></p></td>
<td class="text-left"><p>Zwalnia pamiÄ™Ä‡ zaalokowanÄ… dynamicznie w strukturze <code class="docutils literal notranslate"><span class="pre">apng_data</span></code> (tj. <code class="docutils literal notranslate"><span class="pre">pdata</span></code> i <code class="docutils literal notranslate"><span class="pre">frames_delay</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id270">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id270" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;sstream&gt;</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">std::stringstream</span></code> jako ÅºrÃ³dÅ‚a danych wejÅ›ciowych i wyjÅ›ciowych.</p></li>
<li><p>Funkcje te sÄ… wykorzystywane przez klasÄ™ <code class="docutils literal notranslate"><span class="pre">Image</span></code> do implementacji metod <code class="docutils literal notranslate"><span class="pre">loadPNG</span></code> i <code class="docutils literal notranslate"><span class="pre">savePNG</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="atlas-cpp">
<h1>ğŸ“„ atlas.cpp<a class="headerlink" href="#atlas-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id271">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id271" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">atlas.cpp</span></code> implementuje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>, ktÃ³ra zarzÄ…dza tzw. â€œatlasem teksturâ€. Jest to technika optymalizacyjna, polegajÄ…ca na Å‚Ä…czeniu wielu maÅ‚ych tekstur w jednÄ… duÅ¼Ä… teksturÄ™, aby zminimalizowaÄ‡ liczbÄ™ zmian stanu w potoku renderowania grafiki (zmiana tekstury jest kosztownÄ… operacjÄ…).</p>
</section>
<section id="id272">
<h1>Zmienne globalne<a class="headerlink" href="#id272" title="Link to this heading">#</a></h1>
</section>
<section id="g-atlas">
<h1><code class="docutils literal notranslate"><span class="pre">g_atlas</span></code><a class="headerlink" href="#g-atlas" title="Link to this heading">#</a></h1>
<p>Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>, zapewniajÄ…ca scentralizowany dostÄ™p do mechanizmu cachowania tekstur.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Atlas</span><span class="w"> </span><span class="n">g_atlas</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-atlas">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Atlas</span></code><a class="headerlink" href="#klasa-atlas" title="Link to this heading">#</a></h1>
</section>
<section id="void-atlas-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::init()</span></code><a class="headerlink" href="#void-atlas-init" title="Link to this heading">#</a></h1>
</section>
<section id="id273">
<h1>Opis semantyczny<a class="headerlink" href="#id273" title="Link to this heading">#</a></h1>
<p>Inicjalizuje atlas.</p>
</section>
<section id="id274">
<h1>DziaÅ‚anie<a class="headerlink" href="#id274" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>OkreÅ›la maksymalny rozmiar tekstury atlasu, biorÄ…c pod uwagÄ™ ograniczenia karty graficznej (<code class="docutils literal notranslate"><span class="pre">g_graphics.getMaxTextureSize()</span></code>), ale nie przekraczajÄ…c <code class="docutils literal notranslate"><span class="pre">4096x4096</span></code>.</p></li>
<li><p>Tworzy dwa obiekty <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_atlas[0]</span></code>: GÅ‚Ã³wny atlas dla ogÃ³lnych tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_atlas[1]</span></code>: Atlas dla tekstur fontÃ³w.</p></li>
</ul>
</li>
<li><p>WiÄ…Å¼e tekstury atlasÃ³w do jednostek teksturujÄ…cych <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE6</span></code> i <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE7</span></code>, aby byÅ‚y globalnie dostÄ™pne dla shaderÃ³w.</p></li>
<li><p>Resetuje oba atlasy, przygotowujÄ…c je do uÅ¼ycia.</p></li>
</ol>
</section>
<section id="void-atlas-reset-i-void-atlas-resetatlas-int-location">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::reset()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::resetAtlas(int</span> <span class="pre">location)</span></code><a class="headerlink" href="#void-atlas-reset-i-void-atlas-resetatlas-int-location" title="Link to this heading">#</a></h1>
<p>Metody do czyszczenia atlasu. <code class="docutils literal notranslate"><span class="pre">reset()</span></code> czyÅ›ci gÅ‚Ã³wny atlas i bufor <code class="docutils literal notranslate"><span class="pre">m_cache</span></code>. <code class="docutils literal notranslate"><span class="pre">resetAtlas()</span></code> przygotowuje konkretny atlas do ponownego uÅ¼ycia, czyszczÄ…c jego zawartoÅ›Ä‡ (wypeÅ‚niajÄ…c przezroczystoÅ›ciÄ…) i resetujÄ…c informacje o wolnych przestrzeniach (<code class="docutils literal notranslate"><span class="pre">m_locations</span></code>).</p>
</section>
<section id="void-atlas-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::terminate()</span></code><a class="headerlink" href="#void-atlas-terminate" title="Link to this heading">#</a></h1>
<p>Zwalnia obiekty <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasÃ³w.</p>
</section>
<section id="point-atlas-cache-uint64-t-hash-const-size-size-bool-draw">
<h1><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">Atlas::cache(uint64_t</span> <span class="pre">hash,</span> <span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">bool&amp;</span> <span class="pre">draw)</span></code><a class="headerlink" href="#point-atlas-cache-uint64-t-hash-const-size-size-bool-draw" title="Link to this heading">#</a></h1>
</section>
<section id="id275">
<h1>Opis semantyczny<a class="headerlink" href="#id275" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda do cachowania tekstury. Sprawdza, czy tekstura o danym hashu jest juÅ¼ w atlasie. JeÅ›li nie, znajduje dla niej wolne miejsce.</p>
</section>
<section id="id276">
<h1>DziaÅ‚anie<a class="headerlink" href="#id276" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">m_doReset</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, najpierw resetuje atlas.</p></li>
<li><p>Sprawdza, czy hash istnieje w <code class="docutils literal notranslate"><span class="pre">m_cache</span></code>. JeÅ›li tak, zwraca zapisanÄ… pozycjÄ™.</p></li>
<li><p>JeÅ›li nie, oblicza, jakiego rozmiaru bloku potrzebuje tekstura (<code class="docutils literal notranslate"><span class="pre">calculateIndex</span></code>).</p></li>
<li><p>JeÅ›li tekstura jest za duÅ¼a, zwraca <code class="docutils literal notranslate"><span class="pre">Point(-1,</span> <span class="pre">-1)</span></code>.</p></li>
<li><p>PrÃ³buje znaleÅºÄ‡ wolne miejsce w <code class="docutils literal notranslate"><span class="pre">m_locations</span></code>. JeÅ›li go nie ma, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">findSpace</span></code> w celu podziaÅ‚u wiÄ™kszego bloku.</p></li>
<li><p>JeÅ›li nie ma miejsca, ustawia <code class="docutils literal notranslate"><span class="pre">m_doReset</span> <span class="pre">=</span> <span class="pre">true</span></code> i zwraca <code class="docutils literal notranslate"><span class="pre">Point(-1,</span> <span class="pre">-1)</span></code>.</p></li>
<li><p>JeÅ›li miejsce siÄ™ znajdzie, zapisuje pozycjÄ™ w <code class="docutils literal notranslate"><span class="pre">m_cache</span></code>, ustawia <code class="docutils literal notranslate"><span class="pre">draw</span> <span class="pre">=</span> <span class="pre">true</span></code> (sygnalizujÄ…c, Å¼e tekstura musi zostaÄ‡ narysowana w atlasie) i zwraca pozycjÄ™.</p></li>
</ol>
</section>
<section id="void-atlas-bind-i-void-atlas-release">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::release()</span></code><a class="headerlink" href="#void-atlas-bind-i-void-atlas-release" title="Link to this heading">#</a></h1>
<p>Metody do bindowania i zwalniania <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> gÅ‚Ã³wnego atlasu, aby umoÅ¼liwiÄ‡ rysowanie w nim nowych tekstur.</p>
</section>
<section id="point-atlas-cachefont-const-textureptr-fonttexture">
<h1><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">Atlas::cacheFont(const</span> <span class="pre">TexturePtr&amp;</span> <span class="pre">fontTexture)</span></code><a class="headerlink" href="#point-atlas-cachefont-const-textureptr-fonttexture" title="Link to this heading">#</a></h1>
<p>Specjalna metoda do cachowania tekstur fontÃ³w w drugim atlasie (<code class="docutils literal notranslate"><span class="pre">m_atlas[1]</span></code>). DziaÅ‚a podobnie do <code class="docutils literal notranslate"><span class="pre">cache</span></code>, ale od razu rysuje teksturÄ™ fontu w znalezionym miejscu.</p>
</section>
<section id="int-atlas-calculateindex-const-size-size">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Atlas::calculateIndex(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code><a class="headerlink" href="#int-atlas-calculateindex-const-size-size" title="Link to this heading">#</a></h1>
<p>Oblicza indeks (od 0 do 6) odpowiadajÄ…cy rozmiarowi bloku potrzebnego do przechowania tekstury (np. 32x32, 64x64, â€¦, 2048x2048).</p>
</section>
<section id="bool-atlas-findspace-int-location-int-index">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Atlas::findSpace(int</span> <span class="pre">location,</span> <span class="pre">int</span> <span class="pre">index)</span></code><a class="headerlink" href="#bool-atlas-findspace-int-location-int-index" title="Link to this heading">#</a></h1>
<p>Rekurencyjna metoda, ktÃ³ra prÃ³buje znaleÅºÄ‡ wolne miejsce dla bloku o danym <code class="docutils literal notranslate"><span class="pre">index</span></code>. JeÅ›li nie ma wolnych blokÃ³w tego rozmiaru, prÃ³buje znaleÅºÄ‡ i podzieliÄ‡ wiÄ™kszy blok (o <code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">+</span> <span class="pre">1</span></code>).</p>
</section>
<section id="std-string-atlas-getstats">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Atlas::getStats()</span></code><a class="headerlink" href="#std-string-atlas-getstats" title="Link to this heading">#</a></h1>
<p>Zwraca informacje debugowania o liczbie wolnych miejsc w poszczegÃ³lnych blokach atlasu.</p>
</section>
<section id="id277">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id277" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/atlas.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffermanager.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code> do tworzenia <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> dla atlasÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do rysowania w atlasie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do pobierania maksymalnego rozmiaru tekstury.</p></li>
<li><p>Jest uÅ¼ywany przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> i <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code> do optymalizacji renderowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="bitmapfont-cpp">
<h1>ğŸ“„ bitmapfont.cpp<a class="headerlink" href="#bitmapfont-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id278">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id278" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">bitmapfont.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>, ktÃ³ra zarzÄ…dza fontami opartymi na bitmapach (obrazach). Taki font skÅ‚ada siÄ™ z pojedynczej tekstury zawierajÄ…cej wszystkie glify (znaki) uÅ‚oÅ¼one w siatce.</p>
</section>
<section id="klasa-bitmapfont">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code><a class="headerlink" href="#klasa-bitmapfont" title="Link to this heading">#</a></h1>
</section>
<section id="void-bitmapfont-load-const-otmlnodeptr-fontnode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::load(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">fontNode)</span></code><a class="headerlink" href="#void-bitmapfont-load-const-otmlnodeptr-fontnode" title="Link to this heading">#</a></h1>
</section>
<section id="id279">
<h1>Opis semantyczny<a class="headerlink" href="#id279" title="Link to this heading">#</a></h1>
<p>Åaduje definicjÄ™ fontu z wÄ™zÅ‚a OTML (zazwyczaj z pliku <code class="docutils literal notranslate"><span class="pre">.otfont</span></code>).</p>
</section>
<section id="id280">
<h1>DziaÅ‚anie<a class="headerlink" href="#id280" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Odczytuje z wÄ™zÅ‚a OTML podstawowe atrybuty fontu:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">texture</span></code>: ÅšcieÅ¼ka do pliku z obrazem fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">glyph-size</span></code>: Rozmiar pojedynczego glifu w siatce.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">height</span></code>: Rzeczywista wysokoÅ›Ä‡ glifu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y-offset</span></code>: PrzesuniÄ™cie w osi Y.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">first-glyph</span></code>: Kod ASCII pierwszego znaku w siatce (zwykle 32 - spacja).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spacing</span></code>: OdstÄ™py miÄ™dzy glifami.</p></li>
</ul>
</li>
<li><p>Oblicza szerokoÅ›ci poszczegÃ³lnych glifÃ³w:</p>
<ul class="simple">
<li><p>JeÅ›li zdefiniowano <code class="docutils literal notranslate"><span class="pre">fixed-glyph-width</span></code>, wszystkie glify majÄ… tÄ™ samÄ… szerokoÅ›Ä‡.</p></li>
<li><p>W przeciwnym razie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">calculateGlyphsWidthsAutomatically</span></code>, aby automatycznie wykryÄ‡ szerokoÅ›Ä‡ kaÅ¼dego znaku.</p></li>
</ul>
</li>
<li><p>Ustawia specjalne szerokoÅ›ci dla spacji (32) i znaku nowej linii (<code class="docutils literal notranslate"><span class="pre">\n</span></code>).</p></li>
<li><p>Åaduje teksturÄ™ fontu za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_textures.getTexture()</span></code>.</p></li>
<li><p>JeÅ›li fonty sÄ… cachowane w atlasie (<code class="docutils literal notranslate"><span class="pre">!DONT_CACHE_FONTS</span></code>), wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">g_atlas.cacheFont()</span></code> i ustawia teksturÄ™ atlasu jako ÅºrÃ³dÅ‚owÄ….</p></li>
<li><p>Oblicza i zapisuje wspÃ³Å‚rzÄ™dne tekstury dla kaÅ¼dego glifu w <code class="docutils literal notranslate"><span class="pre">m_glyphsTextureCoords</span></code>.</p></li>
</ol>
</section>
<section id="void-bitmapfont-drawtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::drawText(...)</span></code><a class="headerlink" href="#void-bitmapfont-drawtext" title="Link to this heading">#</a></h1>
<p>Metody te nie rysujÄ… tekstu bezpoÅ›rednio, lecz dodajÄ… zadanie rysowania do globalnej kolejki <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code>.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawText(...,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color,</span> <span class="pre">...)</span></code></strong>: Dodaje zadanie rysowania tekstu jednokolorowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawColoredText(...,</span> <span class="pre">const</span> <span class="pre">std::vector&lt;std::pair&lt;int,</span> <span class="pre">Color&gt;&gt;&amp;</span> <span class="pre">colors,</span> <span class="pre">...)</span></code></strong>: Dodaje zadanie rysowania tekstu z wieloma kolorami.</p></li>
</ul>
</section>
<section id="void-bitmapfont-calculatedrawtextcoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::calculateDrawTextCoords(...)</span></code><a class="headerlink" href="#void-bitmapfont-calculatedrawtextcoords" title="Link to this heading">#</a></h1>
<p>Oblicza wspÃ³Å‚rzÄ™dne ekranowe i tekstury dla kaÅ¼dego glifu w podanym tekÅ›cie, uwzglÄ™dniajÄ…c wyrÃ³wnanie i przycinanie do podanego prostokÄ…ta. Wyniki sÄ… zapisywane w <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>.</p>
</section>
<section id="const-std-vector-point-bitmapfont-calculateglyphspositions">
<h1><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::vector&lt;Point&gt;&amp;</span> <span class="pre">BitmapFont::calculateGlyphsPositions(...)</span></code><a class="headerlink" href="#const-std-vector-point-bitmapfont-calculateglyphspositions" title="Link to this heading">#</a></h1>
<p>Oblicza pozycje (lewy gÃ³rny rÃ³g) kaÅ¼dego glifu w tekÅ›cie, uwzglÄ™dniajÄ…d wyrÃ³wnanie. UÅ¼ywa statycznych, lokalnych dla wÄ…tku wektorÃ³w w celu optymalizacji. Zwraca rÃ³wnieÅ¼ obliczony rozmiar caÅ‚ego bloku tekstu.</p>
</section>
<section id="size-bitmapfont-calculatetextrectsize-const-std-string-text">
<h1><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">BitmapFont::calculateTextRectSize(const</span> <span class="pre">std::string&amp;</span> <span class="pre">text)</span></code><a class="headerlink" href="#size-bitmapfont-calculatetextrectsize-const-std-string-text" title="Link to this heading">#</a></h1>
<p>Zwraca rozmiar prostokÄ…ta, jaki zajmie podany tekst, uÅ¼ywajÄ…c <code class="docutils literal notranslate"><span class="pre">calculateGlyphsPositions</span></code>.</p>
</section>
<section id="std-string-bitmapfont-wraptext">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">BitmapFont::wrapText(...)</span></code><a class="headerlink" href="#std-string-bitmapfont-wraptext" title="Link to this heading">#</a></h1>
<p>Implementuje zawijanie tekstu. Dzieli tekst na linie, tak aby Å¼adna nie przekraczaÅ‚a <code class="docutils literal notranslate"><span class="pre">maxWidth</span></code>. ObsÅ‚uguje rÃ³wnieÅ¼ przenoszenie definicji kolorÃ³w (<code class="docutils literal notranslate"><span class="pre">m_textColors</span></code>) do nowych linii.</p>
</section>
<section id="void-bitmapfont-calculateglyphswidthsautomatically">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::calculateGlyphsWidthsAutomatically(...)</span></code><a class="headerlink" href="#void-bitmapfont-calculateglyphswidthsautomatically" title="Link to this heading">#</a></h1>
<p>Prywatna metoda, ktÃ³ra analizuje obraz tekstury fontu piksel po pikselu. Dla kaÅ¼dego glifu znajduje ostatniÄ… nieprzezroczystÄ… kolumnÄ™ pikseli, aby precyzyjnie okreÅ›liÄ‡ jego szerokoÅ›Ä‡.</p>
</section>
<section id="id281">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id281" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/atlas.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_atlas</span></code> do cachowania tekstur fontÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/bitmapfont.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texturemanager.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_textures</span></code> do Å‚adowania obrazu fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/image.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">Image</span></code> do analizy pikseli w <code class="docutils literal notranslate"><span class="pre">calculateGlyphsWidthsAutomatically</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code>: Dodaje zadania rysowania tekstu do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code>.</p></li>
<li><p>Jest zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">FontManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="atlas-h">
<h1>ğŸ“„ atlas.h<a class="headerlink" href="#atlas-h" title="Link to this heading">#</a></h1>
</section>
<section id="id282">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id282" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">atlas.h</span></code> deklaruje interfejs klasy <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>, ktÃ³ra implementuje mechanizm atlasu tekstur. Celem atlasu jest optymalizacja renderowania poprzez grupowanie wielu maÅ‚ych tekstur w jednÄ… duÅ¼Ä… teksturÄ™, co redukuje liczbÄ™ wywoÅ‚aÅ„ <code class="docutils literal notranslate"><span class="pre">glBindTexture</span></code> w OpenGL.</p>
</section>
<section id="id283">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Atlas</span></code><a class="headerlink" href="#id283" title="Link to this heading">#</a></h1>
</section>
<section id="id284">
<h1>Opis semantyczny<a class="headerlink" href="#id284" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Atlas</span></code> zarzÄ…dza jednym lub kilkoma duÅ¼ymi obiektami <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>, ktÃ³re dziaÅ‚ajÄ… jak â€œpÅ‚Ã³tnaâ€. Kiedy system renderujÄ…cy potrzebuje narysowaÄ‡ maÅ‚Ä… teksturÄ™, <code class="docutils literal notranslate"><span class="pre">Atlas</span></code> znajduje dla niej wolne miejsce w jednym z pÅ‚Ã³cien, kopiuje tam jej zawartoÅ›Ä‡ (jeÅ›li jeszcze jej tam nie ma) i zwraca wspÃ³Å‚rzÄ™dne wewnÄ…trz atlasu. PÃ³Åºniejsze odwoÅ‚ania do tej samej tekstury uÅ¼ywajÄ… juÅ¼ skopiowanej wersji z atlasu.</p>
</section>
<section id="id285">
<h1>Metody publiczne<a class="headerlink" href="#id285" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje atlas, tworzÄ…c <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> o maksymalnym moÅ¼liwym rozmiarze.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia zasoby atlasu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">reload()</span></code></p></td>
<td class="text-left"><p>Resetuje i czyÅ›ci zawartoÅ›Ä‡ atlasÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">cache(uint64_t</span> <span class="pre">hash,</span> <span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">bool&amp;</span> <span class="pre">draw)</span></code></p></td>
<td class="text-left"><p>GÅ‚Ã³wna metoda cachujÄ…ca. Sprawdza, czy tekstura o danym hashu jest juÅ¼ w atlasie. JeÅ›li nie, znajduje wolne miejsce i zwraca jego koordynaty. Parametr <code class="docutils literal notranslate"><span class="pre">draw</span></code> jest ustawiany na <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li teksturÄ™ trzeba narysowaÄ‡ w atlasie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">cacheFont(const</span> <span class="pre">TexturePtr&amp;</span> <span class="pre">fontTexture)</span></code></p></td>
<td class="text-left"><p>Specjalna metoda do cachowania tekstur fontÃ³w w dedykowanym atlasie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">get(int</span> <span class="pre">location)</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik na teksturÄ™ atlasu o danym indeksie (0 - gÅ‚Ã³wny, 1 - fonty).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bind()</span></code></p></td>
<td class="text-left"><p>Bindowanie <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasu jako celu renderowania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">release()</span></code></p></td>
<td class="text-left"><p>Odpinanie <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getStats()</span></code></p></td>
<td class="text-left"><p>Zwraca informacje diagnostyczne o stanie atlasu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id286">
<h1>Zmienne prywatne<a class="headerlink" href="#id286" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_atlas[2]</span></code>: Tablica wskaÅºnikÃ³w na <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> (dla ogÃ³lnych tekstur i fontÃ³w).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cache</span></code>: Mapa (<code class="docutils literal notranslate"><span class="pre">std::map</span></code>) przechowujÄ…ca hashe skachowanych tekstur i ich pozycje w atlasie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_locations[2][7]</span></code>: Tablica list przechowujÄ…ca pozycje wolnych blokÃ³w o rÃ³Å¼nych rozmiarach (od 32x32 do 2048x2048) dla obu atlasÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Rozmiar boku tekstury atlasu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_doReset</span></code>: Flaga sygnalizujÄ…ca koniecznoÅ›Ä‡ zresetowania atlasu (gdy zabraknie miejsca).</p></li>
</ul>
</section>
<section id="id287">
<h1>Zmienne globalne<a class="headerlink" href="#id287" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_atlas</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>.</p></li>
</ul>
</section>
<section id="id288">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id288" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code>: Potencjalnie uÅ¼ywany, ale gÅ‚Ã³wnie to <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffer.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> jako â€œpÅ‚Ã³tnaâ€ dla atlasu.</p></li>
<li><p>UÅ¼ywany przez system renderowania (<code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>, <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>) do optymalizacji rysowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FontManager</span></code> uÅ¼ywa go do cachowania tekstur fontÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="bitmapfont-h">
<h1>ğŸ“„ bitmapfont.h<a class="headerlink" href="#bitmapfont-h" title="Link to this heading">#</a></h1>
</section>
<section id="id289">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id289" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">bitmapfont.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>, ktÃ³ra reprezentuje font oparty na bitmapie. Jest to kluczowy element systemu renderowania tekstu w aplikacji.</p>
</section>
<section id="id290">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code><a class="headerlink" href="#id290" title="Link to this heading">#</a></h1>
</section>
<section id="id291">
<h1>Opis semantyczny<a class="headerlink" href="#id291" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code> zarzÄ…dza pojedynczym fontem, ktÃ³ry jest zdefiniowany jako obraz (tekstura) zawierajÄ…cy siatkÄ™ znakÃ³w (glifÃ³w). Klasa przechowuje informacje o rozmiarze glifÃ³w, ich pozycjach na teksturze oraz szerokoÅ›ciach poszczegÃ³lnych znakÃ³w. Dostarcza metody do rysowania tekstu (ktÃ³re w rzeczywistoÅ›ci delegujÄ… zadanie do <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>) oraz do obliczania wymiarÃ³w i zawijania tekstu.</p>
</section>
<section id="id292">
<h1>Metody publiczne<a class="headerlink" href="#id292" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">BitmapFont(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></p></td>
<td class="text-left"><p>Konstruktor, ustawia nazwÄ™ fontu i unikalne ID.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">load(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">fontNode)</span></code></p></td>
<td class="text-left"><p>Åaduje definicjÄ™ fontu z wÄ™zÅ‚a OTML.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">drawText(...)</span></code></p></td>
<td class="text-left"><p>Dodaje do kolejki renderowania zadanie narysowania tekstu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">drawColoredText(...)</span></code></p></td>
<td class="text-left"><p>Dodaje zadanie narysowania tekstu z wieloma kolorami.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">calculateDrawTextCoords(...)</span></code></p></td>
<td class="text-left"><p>Oblicza wspÃ³Å‚rzÄ™dne wierzchoÅ‚kÃ³w i tekstur dla renderowanego tekstu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::vector&lt;Point&gt;&amp;</span> <span class="pre">calculateGlyphsPositions(...)</span></code></p></td>
<td class="text-left"><p>Oblicza pozycje poszczegÃ³lnych glifÃ³w w tekÅ›cie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">calculateTextRectSize(...)</span></code></p></td>
<td class="text-left"><p>Oblicza rozmiar prostokÄ…ta zajmowanego przez tekst.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">wrapText(...)</span></code></p></td>
<td class="text-left"><p>ZÅ‚amuje tekst na wiele linii, aby zmieÅ›ciÅ‚ siÄ™ w podanej szerokoÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getId()</span></code></p></td>
<td class="text-left"><p>Zwraca unikalne ID fontu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ fontu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getGlyphHeight()</span></code></p></td>
<td class="text-left"><p>Zwraca wysokoÅ›Ä‡ glifÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Rect*</span> <span class="pre">getGlyphsTextureCoords()</span></code></p></td>
<td class="text-left"><p>Zwraca tablicÄ™ wspÃ³Å‚rzÄ™dnych tekstur dla wszystkich glifÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Size*</span> <span class="pre">getGlyphsSize()</span></code></p></td>
<td class="text-left"><p>Zwraca tablicÄ™ rozmiarÃ³w dla wszystkich glifÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">TexturePtr&amp;</span> <span class="pre">getTexture()</span></code></p></td>
<td class="text-left"><p>Zwraca teksturÄ™ fontu (moÅ¼e to byÄ‡ tekstura atlasu).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getYOffset()</span></code></p></td>
<td class="text-left"><p>Zwraca przesuniÄ™cie Y.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">getGlyphSpacing()</span></code></p></td>
<td class="text-left"><p>Zwraca odstÄ™py miÄ™dzy glifami.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id293">
<h1>Zmienne prywatne<a class="headerlink" href="#id293" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>: Nazwa fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphHeight</span></code>: WysokoÅ›Ä‡ glifu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_firstGlyph</span></code>: Kod ASCII pierwszego znaku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_yOffset</span></code>: PrzesuniÄ™cie w osi Y.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_id</span></code>: Unikalne ID fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphSpacing</span></code>: OdstÄ™py miÄ™dzy glifami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_texture</span></code>: WskaÅºnik na teksturÄ™ fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphsTextureCoords[256]</span></code>: Tablica wspÃ³Å‚rzÄ™dnych tekstur dla kaÅ¼dego glifu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphsSize[256]</span></code>: Tablica rozmiarÃ³w dla kaÅ¼dego glifu.</p></li>
</ul>
</section>
<section id="id294">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id294" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Deklaracje typÃ³w graficznych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">Texture</span></code> do przechowywania obrazu fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code> w metodzie <code class="docutils literal notranslate"><span class="pre">load</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/coordsbuffer.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> do przechowywania geometrii tekstu.</p></li>
<li><p>Jest zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">FontManager</span></code>.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> i inne komponenty do renderowania tekstu.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="cachedtext-cpp">
<h1>ğŸ“„ cachedtext.cpp<a class="headerlink" href="#cachedtext-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id295">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id295" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">cachedtext.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">CachedText</span></code>, ktÃ³ra sÅ‚uÅ¼y do optymalizacji renderowania tekstu, ktÃ³ry nie zmienia siÄ™ czÄ™sto.</p>
</section>
<section id="klasa-cachedtext">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code><a class="headerlink" href="#klasa-cachedtext" title="Link to this heading">#</a></h1>
</section>
<section id="cachedtext-cachedtext">
<h1><code class="docutils literal notranslate"><span class="pre">CachedText::CachedText()</span></code><a class="headerlink" href="#cachedtext-cachedtext" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domyÅ›lny font, wyrÃ³wnanie do Å›rodka (<code class="docutils literal notranslate"><span class="pre">Fw::AlignCenter</span></code>) i inne wartoÅ›ci domyÅ›lne.</p>
</section>
<section id="void-cachedtext-draw-const-rect-rect-const-color-color">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">rect,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code><a class="headerlink" href="#void-cachedtext-draw-const-rect-rect-const-color-color" title="Link to this heading">#</a></h1>
</section>
<section id="id296">
<h1>Opis semantyczny<a class="headerlink" href="#id296" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda rysujÄ…ca. Renderuje tekst w podanym prostokÄ…cie z danym kolorem.</p>
</section>
<section id="id297">
<h1>DziaÅ‚anie<a class="headerlink" href="#id297" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy font jest ustawiony.</p></li>
<li><p>Sprawdza, czy tekst musi zostaÄ‡ â€œprzekeshowanyâ€ (<code class="docutils literal notranslate"><span class="pre">m_textMustRecache</span></code>) lub czy zmieniÅ‚ siÄ™ prostokÄ…t docelowy (<code class="docutils literal notranslate"><span class="pre">m_textCachedScreenCoords</span></code>). JeÅ›li tak, aktualizuje buforowane koordynaty.</p></li>
<li><p>WywoÅ‚uje metodÄ™ <code class="docutils literal notranslate"><span class="pre">m_fontâ†’drawText()</span></code> lub <code class="docutils literal notranslate"><span class="pre">m_fontâ†’drawColoredText()</span></code> w celu dodania zadania rysowania do <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>.</p></li>
</ol>
<blockquote>
<div><p>NOTE: Nazwa â€œcachedâ€ moÅ¼e byÄ‡ nieco mylÄ…ca. Klasa nie renderuje tekstu do tekstury. Zamiast tego, â€œkeszujeâ€ obliczenia zwiÄ…zane z pozycjonowaniem glifÃ³w, ale samo rysowanie odbywa siÄ™ dynamicznie w kaÅ¼dej klatce za pomocÄ… <code class="docutils literal notranslate"><span class="pre">BitmapFont::drawText</span></code>.</p>
</div></blockquote>
</section>
<section id="void-cachedtext-setcoloredtext-const-std-vector-std-string-texts">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::setColoredText(const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">texts)</span></code><a class="headerlink" href="#void-cachedtext-setcoloredtext-const-std-vector-std-string-texts" title="Link to this heading">#</a></h1>
<p>Ustawia tekst skÅ‚adajÄ…cy siÄ™ z fragmentÃ³w o rÃ³Å¼nych kolorach. Parsuje wektor, tworzÄ…c wewnÄ™trznÄ… reprezentacjÄ™ <code class="docutils literal notranslate"><span class="pre">m_text</span></code> i <code class="docutils literal notranslate"><span class="pre">m_textColors</span></code>, a nastÄ™pnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">update()</span></code>.</p>
</section>
<section id="void-cachedtext-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::update()</span></code><a class="headerlink" href="#void-cachedtext-update" title="Link to this heading">#</a></h1>
<p>Prywatna metoda pomocnicza. Oblicza rozmiar tekstu za pomocÄ… <code class="docutils literal notranslate"><span class="pre">m_fontâ†’calculateTextRectSize()</span></code> i ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_textMustRecache</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>, co wymusza przeliczenie geometrii przy nastÄ™pnym wywoÅ‚aniu <code class="docutils literal notranslate"><span class="pre">draw()</span></code>.</p>
</section>
<section id="void-cachedtext-wraptext-int-maxwidth">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::wrapText(int</span> <span class="pre">maxWidth)</span></code><a class="headerlink" href="#void-cachedtext-wraptext-int-maxwidth" title="Link to this heading">#</a></h1>
<p>Zawija tekst, aby zmieÅ›ciÅ‚ siÄ™ w podanej szerokoÅ›ci, uÅ¼ywajÄ…c metody <code class="docutils literal notranslate"><span class="pre">m_fontâ†’wrapText()</span></code>, a nastÄ™pnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">update()</span></code>.</p>
</section>
<section id="id298">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id298" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/cachedtext.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: PoÅ›rednio, poprzez <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/fontmanager.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_fonts</span></code> do pobrania domyÅ›lnego fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/bitmapfont.h</span></code>: Kluczowa zaleÅ¼noÅ›Ä‡; uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code> do wszystkich operacji na tekÅ›cie.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="colorarray-h">
<h1>ğŸ“„ colorarray.h<a class="headerlink" href="#colorarray-h" title="Link to this heading">#</a></h1>
</section>
<section id="id299">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id299" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">colorarray.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">ColorArray</span></code>, ktÃ³ra jest prostym kontenerem na tablicÄ™ kolorÃ³w w formacie <code class="docutils literal notranslate"><span class="pre">float</span></code>. Jest uÅ¼ywana do przekazywania kolorÃ³w dla poszczegÃ³lnych wierzchoÅ‚kÃ³w do systemu renderujÄ…cego.</p>
</section>
<section id="klasa-colorarray">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ColorArray</span></code><a class="headerlink" href="#klasa-colorarray" title="Link to this heading">#</a></h1>
</section>
<section id="id300">
<h1>Opis semantyczny<a class="headerlink" href="#id300" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ColorArray</span></code> dziaÅ‚a jako bufor dla kolorÃ³w. KaÅ¼dy kolor jest reprezentowany przez cztery wartoÅ›ci <code class="docutils literal notranslate"><span class="pre">float</span></code> (R, G, B, A) w zakresie od 0.0 do 1.0. Klasa udostÄ™pnia metody do dodawania kolorÃ³w i dostÄ™pu do surowego wskaÅºnika na dane, co jest potrzebne do przekazania ich do OpenGL.</p>
</section>
<section id="id301">
<h1>Metody publiczne<a class="headerlink" href="#id301" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addColor(float</span> <span class="pre">r,</span> <span class="pre">float</span> <span class="pre">g,</span> <span class="pre">float</span> <span class="pre">b,</span> <span class="pre">float</span> <span class="pre">a)</span></code></p></td>
<td class="text-left"><p>Dodaje kolor do bufora, podajÄ…c skÅ‚adowe jako <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addColor(const</span> <span class="pre">Color&amp;</span> <span class="pre">c)</span></code></p></td>
<td class="text-left"><p>Dodaje kolor do bufora, pobierajÄ…c skÅ‚adowe z obiektu <code class="docutils literal notranslate"><span class="pre">Color</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci bufor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*colors()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik na poczÄ…tek danych (alias dla <code class="docutils literal notranslate"><span class="pre">data()</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*data()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik na surowe dane bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">colorCount()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ peÅ‚nych kolorÃ³w w buforze (alias dla <code class="docutils literal notranslate"><span class="pre">count()</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">count()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ kolorÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">size()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca caÅ‚kowitÄ… liczbÄ™ wartoÅ›ci <code class="docutils literal notranslate"><span class="pre">float</span></code> w buforze (tj. <code class="docutils literal notranslate"><span class="pre">colorCount()</span> <span class="pre">*</span> <span class="pre">4</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id302">
<h1>Zmienne prywatne<a class="headerlink" href="#id302" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Obiekt <code class="docutils literal notranslate"><span class="pre">DataBuffer&lt;float&gt;</span></code>, ktÃ³ry przechowuje dane kolorÃ³w.</p></li>
</ul>
</section>
<section id="id303">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id303" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">DataBuffer</span></code> jako wewnÄ™trznego kontenera.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do przekazywania tablicy kolorÃ³w do shadera, co pozwala na rysowanie gradientÃ³w lub wielokolorowych ksztaÅ‚tÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="cachedtext-h">
<h1>ğŸ“„ cachedtext.h<a class="headerlink" href="#cachedtext-h" title="Link to this heading">#</a></h1>
</section>
<section id="id304">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id304" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">cachedtext.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">CachedText</span></code>, ktÃ³ra jest opakowaniem (wrapperem) uÅ‚atwiajÄ…cym zarzÄ…dzanie i renderowanie tekstu, ktÃ³ry moÅ¼e byÄ‡ keszowany.</p>
</section>
<section id="id305">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code><a class="headerlink" href="#id305" title="Link to this heading">#</a></h1>
</section>
<section id="id306">
<h1>Opis semantyczny<a class="headerlink" href="#id306" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code> przechowuje tekst, font, wyrÃ³wnanie i inne wÅ‚aÅ›ciwoÅ›ci. Jej gÅ‚Ã³wnym celem jest optymalizacja renderowania poprzez unikanie ponownych obliczeÅ„ geometrii tekstu w kaÅ¼dej klatce. Kiedy tekst lub jego parametry siÄ™ zmieniajÄ…, metoda <code class="docutils literal notranslate"><span class="pre">update()</span></code> jest wywoÅ‚ywana, aby przeliczyÄ‡ rozmiar i ustawiÄ‡ flagÄ™ koniecznoÅ›ci ponownego buforowania wspÃ³Å‚rzÄ™dnych.</p>
</section>
<section id="id307">
<h1>Metody publiczne<a class="headerlink" href="#id307" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CachedText()</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">rect,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></p></td>
<td class="text-left"><p>Rysuje skeszowany tekst w podanym prostokÄ…cie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">wrapText(int</span> <span class="pre">maxWidth)</span></code></p></td>
<td class="text-left"><p>Zawija tekst do podanej szerokoÅ›ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setFont(...)</span></code></p></td>
<td class="text-left"><p>Ustawia font i aktualizuje tekst.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setText(...)</span></code></p></td>
<td class="text-left"><p>Ustawia tekst i aktualizuje go.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setColoredText(...)</span></code></p></td>
<td class="text-left"><p>Ustawia tekst skÅ‚adajÄ…cy siÄ™ z fragmentÃ³w o rÃ³Å¼nych kolorach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setAlign(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wyrÃ³wnanie tekstu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">getTextSize()</span></code></p></td>
<td class="text-left"><p>Zwraca obliczony rozmiar tekstu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getText()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca przechowywany tekst.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">BitmapFontPtr</span> <span class="pre">getFont()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca uÅ¼ywany font.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span> <span class="pre">getAlign()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wyrÃ³wnanie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">hasText()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li tekst nie jest pusty.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id308">
<h1>Zmienne prywatne<a class="headerlink" href="#id308" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_text</span></code>: GÅ‚Ã³wny, niezmieniony tekst.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textColors</span></code>: Wektor par przechowujÄ…cy pozycje i kolory dla tekstu wielokolorowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textSize</span></code>: Obliczony rozmiar tekstu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textMustRecache</span></code>: Flaga wskazujÄ…ca, Å¼e geometria tekstu musi zostaÄ‡ przeliczona.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textCachedScreenCoords</span></code>: Ostatni prostokÄ…t, w ktÃ³rym tekst byÅ‚ rysowany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_font</span></code>: UÅ¼ywany <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_align</span></code>: WyrÃ³wnanie tekstu.</p></li>
</ul>
</section>
<section id="id309">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id309" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/coordsbuffer.h</span></code>: PoÅ›rednio, przez <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code>: PoÅ›rednio, przez <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>.</p></li>
<li><p>Klasa ta jest prawdopodobnie uÅ¼ywana w komponentach UI, ktÃ³re wyÅ›wietlajÄ… tekst, aby uproÅ›ciÄ‡ i zoptymalizowaÄ‡ jego renderowanie.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="coordsbuffer-h">
<h1>ğŸ“„ coordsbuffer.h<a class="headerlink" href="#coordsbuffer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id310">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id310" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>, ktÃ³ra jest specjalizowanym kontenerem do przechowywania wspÃ³Å‚rzÄ™dnych wierzchoÅ‚kÃ³w (<code class="docutils literal notranslate"><span class="pre">vertex</span></code>) i tekstur (<code class="docutils literal notranslate"><span class="pre">texture</span> <span class="pre">coord</span></code>). Jest to kluczowy element optymalizacyjny, pozwalajÄ…cy na grupowanie geometrii wielu obiektÃ³w i rysowanie ich w jednym wywoÅ‚aniu (batching).</p>
</section>
<section id="klasa-coordsbuffer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code><a class="headerlink" href="#klasa-coordsbuffer" title="Link to this heading">#</a></h1>
</section>
<section id="id311">
<h1>Opis semantyczny<a class="headerlink" href="#id311" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> przechowuje dwie tablice wierzchoÅ‚kÃ³w (<code class="docutils literal notranslate"><span class="pre">VertexArray</span></code>): jednÄ… dla pozycji na ekranie i drugÄ… dla pozycji na teksturze. Dostarcza metody do dodawania prostych prymitywÃ³w geometrycznych (trÃ³jkÄ…ty, prostokÄ…ty). Posiada mechanizm â€œkeszowaniaâ€ danych w sprzÄ™towym buforze VBO (Vertex Buffer Object) w celu dalszej optymalizacji.</p>
<blockquote>
<div><p><strong>NOTE</strong>: Mimo nazwy, <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> jest jednorazowego uÅ¼ytku dla <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>. Po przekazaniu do kolejki, jego zawartoÅ›Ä‡ jest przenoszona (<code class="docutils literal notranslate"><span class="pre">std::move</span></code>), a oryginaÅ‚ staje siÄ™ pusty. To zachowanie jest wymuszone przez usuniÄ™cie konstruktora kopiujÄ…cego i operatora przypisania, a zdefiniowanie konstruktora przenoszÄ…cego.</p>
</div></blockquote>
</section>
<section id="id312">
<h1>Metody publiczne<a class="headerlink" href="#id312" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CoordsBuffer()</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy wewnÄ™trzne obiekty <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~CoordsBuffer()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CoordsBuffer(CoordsBuffer&amp;&amp;</span> <span class="pre">c)</span></code></p></td>
<td class="text-left"><p>Konstruktor przenoszÄ…cy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci oba bufory wierzchoÅ‚kÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addTriangle(...)</span></code></p></td>
<td class="text-left"><p>Dodaje trÃ³jkÄ…t (tylko wspÃ³Å‚rzÄ™dne wierzchoÅ‚kÃ³w).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code></p></td>
<td class="text-left"><p>Dodaje prostokÄ…t (tylko wspÃ³Å‚rzÄ™dne wierzchoÅ‚kÃ³w).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">src)</span></code></p></td>
<td class="text-left"><p>Dodaje prostokÄ…t z teksturÄ….</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addQuad(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">addUpsideDownQuad(...)</span></code></p></td>
<td class="text-left"><p>Dodaje czworokÄ…t (quad) - przydatne do renderowania w trybie <code class="docutils literal notranslate"><span class="pre">TriangleStrip</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addBoudingRect(...)</span></code></p></td>
<td class="text-left"><p>Dodaje geometriÄ™ ramki o okreÅ›lonej gruboÅ›ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addRepeatedRects(...)</span></code></p></td>
<td class="text-left"><p>WypeÅ‚nia prostokÄ…t docelowy powtarzajÄ…cÄ… siÄ™ teksturÄ….</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*getVertexArray()</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik na dane wierzchoÅ‚kÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*getTextureCoordArray()</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik na dane wspÃ³Å‚rzÄ™dnych tekstury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getVertexCount()</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ wierzchoÅ‚kÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HardwareBuffer*</span> <span class="pre">getVertexHardwareCache()</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik na sprzÄ™towy bufor VBO dla wierzchoÅ‚kÃ³w (jeÅ›li istnieje).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">cache()</span></code></p></td>
<td class="text-left"><p>Tworzy i wypeÅ‚nia sprzÄ™towe bufory VBO na podstawie bieÅ¼Ä…cych danych.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Rect</span> <span class="pre">getTextureRect()</span></code></p></td>
<td class="text-left"><p>Oblicza i zwraca prostokÄ…t ograniczajÄ…cy wszystkie wspÃ³Å‚rzÄ™dne tekstury.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id313">
<h1>Zmienne prywatne<a class="headerlink" href="#id313" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_locked</span></code>: Flaga uÅ¼ywana do optymalizacji (zapobiega niepotrzebnemu kopiowaniu danych).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_vertexArray</span></code>: WskaÅºnik na <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> przechowujÄ…cy pozycje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textureCoordArray</span></code>: WskaÅºnik na <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> przechowujÄ…cy wspÃ³Å‚rzÄ™dne tekstury.</p></li>
</ul>
</section>
<section id="id314">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id314" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/vertexarray.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> jako podstawowego kontenera na dane.</p></li>
<li><p>Jest intensywnie uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> i jego podklasy do generowania geometrii, ktÃ³ra nastÄ™pnie jest przekazywana do <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> w celu renderowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="deptharray-h">
<h1>ğŸ“„ deptharray.h<a class="headerlink" href="#deptharray-h" title="Link to this heading">#</a></h1>
</section>
<section id="id315">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id315" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">deptharray.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">DepthArray</span></code>, ktÃ³ra jest prostym kontenerem na tablicÄ™ wartoÅ›ci gÅ‚Ä™bokoÅ›ci (depth) w formacie <code class="docutils literal notranslate"><span class="pre">float</span></code>. Jest to prawdopodobnie czÄ™Å›Ä‡ eksperymentalnego lub nie w peÅ‚ni zaimplementowanego mechanizmu renderowania 3D lub sortowania gÅ‚Ä™bokoÅ›ci.</p>
</section>
<section id="klasa-deptharray">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">DepthArray</span></code><a class="headerlink" href="#klasa-deptharray" title="Link to this heading">#</a></h1>
</section>
<section id="id316">
<h1>Opis semantyczny<a class="headerlink" href="#id316" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">DepthArray</span></code> dziaÅ‚a jako bufor dla wartoÅ›ci gÅ‚Ä™bokoÅ›ci (wspÃ³Å‚rzÄ™dna Z). KaÅ¼da wartoÅ›Ä‡ <code class="docutils literal notranslate"><span class="pre">float</span></code> w buforze odpowiada jednemu wierzchoÅ‚kowi. Klasa udostÄ™pnia metody do dodawania wartoÅ›ci i dostÄ™pu do surowego wskaÅºnika na dane, co jest potrzebne do przekazania ich do OpenGL jako atrybut wierzchoÅ‚ka.</p>
</section>
<section id="id317">
<h1>Metody publiczne<a class="headerlink" href="#id317" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addDepth(float</span> <span class="pre">depth)</span></code></p></td>
<td class="text-left"><p>Dodaje nowÄ… wartoÅ›Ä‡ gÅ‚Ä™bokoÅ›ci do bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci bufor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*depths()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik na poczÄ…tek danych (alias dla <code class="docutils literal notranslate"><span class="pre">data()</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*data()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik na surowe dane bufora.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">depthCount()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ wartoÅ›ci w buforze (alias dla <code class="docutils literal notranslate"><span class="pre">count()</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">count()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ wartoÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">size()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ wartoÅ›ci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id318">
<h1>Zmienne prywatne<a class="headerlink" href="#id318" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Obiekt <code class="docutils literal notranslate"><span class="pre">DataBuffer&lt;float&gt;</span></code>, ktÃ³ry przechowuje dane gÅ‚Ä™bokoÅ›ci.</p></li>
</ul>
</section>
<section id="id319">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id319" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">DataBuffer</span></code> jako wewnÄ™trznego kontenera.</p></li>
<li><p>W obecnym kodzie jest uÅ¼ywana w <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, ale funkcjonalnoÅ›Ä‡ zwiÄ…zana z buforem gÅ‚Ä™bi jest wykomentowana lub nie w peÅ‚ni zaimplementowana (<code class="docutils literal notranslate"><span class="pre">WITH_DEPTH_BUFFER</span></code>).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="id320">
<h1>ğŸ“„ declarations.h<a class="headerlink" href="#id320" title="Link to this heading">#</a></h1>
</section>
<section id="id321">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id321" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">graphics</span></code> sÅ‚uÅ¼y jako centralny punkt dla wczesnych deklaracji (forward declarations) i definicji typÃ³w (<code class="docutils literal notranslate"><span class="pre">typedef</span></code>) zwiÄ…zanych z systemem graficznym. Jego gÅ‚Ã³wnym celem jest unikanie zaleÅ¼noÅ›ci cyklicznych miÄ™dzy plikami nagÅ‚Ã³wkowymi i minimalizowanie liczby doÅ‚Ä…czanych plikÃ³w.</p>
</section>
<section id="id322">
<h1>Wczesne deklaracje (Forward Declarations)<a class="headerlink" href="#id322" title="Link to this heading">#</a></h1>
<p>Plik deklaruje istnienie nastÄ™pujÄ…cych klas, co pozwala na uÅ¼ywanie wskaÅºnikÃ³w i referencji do nich bez potrzeby doÅ‚Ä…czania ich peÅ‚nych definicji:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Texture</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TextureManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Image</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CachedText</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Shader</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code></p></li>
</ul>
</section>
<section id="id323">
<h1>Definicje typÃ³w (Typedefs)<a class="headerlink" href="#id323" title="Link to this heading">#</a></h1>
<p>Plik definiuje aliasy dla inteligentnych wskaÅºnikÃ³w (<code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>) do klas graficznych, co uÅ‚atwia ich uÅ¼ycie i poprawia czytelnoÅ›Ä‡ kodu.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ImagePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Image&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Texture&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedTexturePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;AnimatedTexture&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BitmapFontPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;BitmapFont&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CachedTextPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;CachedText&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FrameBufferPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;FrameBuffer&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShaderPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Shader&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShaderProgramPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;ShaderProgram&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;PainterShaderProgram&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShaderList</span></code>: <code class="docutils literal notranslate"><span class="pre">std::vector&lt;ShaderPtr&gt;</span></code></p></li>
</ul>
</section>
<section id="id324">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id324" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: DoÅ‚Ä…cza podstawowe definicje i typy, w tym <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/glutil.h</span></code>: DoÅ‚Ä…cza nagÅ‚Ã³wki OpenGL/GLES.</p></li>
<li><p>Ten plik jest intensywnie uÅ¼ywany w caÅ‚ym module graficznym i w innych moduÅ‚ach, ktÃ³re wchodzÄ… w interakcjÄ™ z grafikÄ… (np. <code class="docutils literal notranslate"><span class="pre">UI</span></code>).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="coordsbuffer-cpp">
<h1>ğŸ“„ coordsbuffer.cpp<a class="headerlink" href="#coordsbuffer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id325">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id325" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">coordsbuffer.cpp</span></code> zawiera implementacjÄ™ metod klasy <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>, ktÃ³ra jest buforem na dane geometryczne do renderowania.</p>
</section>
<section id="id326">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code><a class="headerlink" href="#id326" title="Link to this heading">#</a></h1>
</section>
<section id="coordsbuffer-coordsbuffer">
<h1><code class="docutils literal notranslate"><span class="pre">CoordsBuffer::CoordsBuffer()</span></code><a class="headerlink" href="#coordsbuffer-coordsbuffer" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje dwa wewnÄ™trzne bufory: <code class="docutils literal notranslate"><span class="pre">m_vertexArray</span></code> (dla wspÃ³Å‚rzÄ™dnych pozycji) i <code class="docutils literal notranslate"><span class="pre">m_textureCoordArray</span></code> (dla wspÃ³Å‚rzÄ™dnych tekstury).</p>
</section>
<section id="void-coordsbuffer-addboudingrect-const-rect-dest-int-innerlinewidth">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::addBoudingRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">int</span> <span class="pre">innerLineWidth)</span></code><a class="headerlink" href="#void-coordsbuffer-addboudingrect-const-rect-dest-int-innerlinewidth" title="Link to this heading">#</a></h1>
<p>Dodaje geometriÄ™ czterech prostokÄ…tÃ³w, ktÃ³re razem tworzÄ… ramkÄ™ (border) wewnÄ…trz podanego prostokÄ…ta <code class="docutils literal notranslate"><span class="pre">dest</span></code> o gruboÅ›ci <code class="docutils literal notranslate"><span class="pre">innerLineWidth</span></code>.</p>
</section>
<section id="void-coordsbuffer-addrepeatedrects-const-rect-dest-const-rect-src">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::addRepeatedRects(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">src)</span></code><a class="headerlink" href="#void-coordsbuffer-addrepeatedrects-const-rect-dest-const-rect-src" title="Link to this heading">#</a></h1>
<p>WypeÅ‚nia prostokÄ…t docelowy (<code class="docutils literal notranslate"><span class="pre">dest</span></code>) powtarzajÄ…cym siÄ™ wzorem z tekstury (<code class="docutils literal notranslate"><span class="pre">src</span></code>). Dzieli obszar <code class="docutils literal notranslate"><span class="pre">dest</span></code> na mniejsze prostokÄ…ty o rozmiarze <code class="docutils literal notranslate"><span class="pre">src</span></code> i dodaje je do bufora, odpowiednio przycinajÄ…c wspÃ³Å‚rzÄ™dne tekstury na krawÄ™dziach.</p>
</section>
<section id="void-coordsbuffer-unlock-bool-clear">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::unlock(bool</span> <span class="pre">clear)</span></code><a class="headerlink" href="#void-coordsbuffer-unlock-bool-clear" title="Link to this heading">#</a></h1>
<p>Metoda zwiÄ…zana z wewnÄ™trznym mechanizmem â€œblokowaniaâ€ bufora. Kiedy bufor jest zablokowany (<code class="docutils literal notranslate"><span class="pre">m_locked</span></code>), kaÅ¼da operacja dodawania geometrii powoduje jego odblokowanie. Odblokowanie tworzy kopiÄ™ wewnÄ™trznych <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code>, aby zapobiec modyfikacji danych, ktÃ³re mogÅ‚y juÅ¼ zostaÄ‡ przesÅ‚ane do VBO. JeÅ›li <code class="docutils literal notranslate"><span class="pre">clear</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, zamiast kopiowania tworzone sÄ… nowe, puste <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code>.</p>
</section>
<section id="rect-coordsbuffer-gettexturerect">
<h1><code class="docutils literal notranslate"><span class="pre">Rect</span> <span class="pre">CoordsBuffer::getTextureRect()</span></code><a class="headerlink" href="#rect-coordsbuffer-gettexturerect" title="Link to this heading">#</a></h1>
<p>Przechodzi przez wszystkie wspÃ³Å‚rzÄ™dne tekstury w buforze, aby znaleÅºÄ‡ minimalny i maksymalny punkt, a nastÄ™pnie zwraca prostokÄ…t ograniczajÄ…cy (bounding box) dla uÅ¼ywanego fragmentu tekstury.</p>
</section>
<section id="id327">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id327" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/coordsbuffer.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Potencjalnie do funkcji zwiÄ…zanych z grafikÄ….</p></li>
<li><p>Jest uÅ¼ywana do budowania geometrii przez klasy takie jak <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, a nastÄ™pnie konsumowana przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> i <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do renderowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="drawcache-cpp">
<h1>ğŸ“„ drawcache.cpp<a class="headerlink" href="#drawcache-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id328">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id328" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">drawcache.cpp</span></code> implementuje klasÄ™ <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>, ktÃ³ra jest kluczowym elementem systemu optymalizacji renderowania. Jej zadaniem jest grupowanie (batching) operacji rysowania, ktÃ³re uÅ¼ywajÄ… tej samej tekstury (atlasu), aby zminimalizowaÄ‡ liczbÄ™ wywoÅ‚aÅ„ rysujÄ…cych (draw calls) do OpenGL.</p>
</section>
<section id="id329">
<h1>Zmienne globalne<a class="headerlink" href="#id329" title="Link to this heading">#</a></h1>
</section>
<section id="g-drawcache">
<h1><code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code><a class="headerlink" href="#g-drawcache" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>, uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do buforowania operacji.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">DrawCache</span><span class="w"> </span><span class="n">g_drawCache</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-drawcache">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code><a class="headerlink" href="#klasa-drawcache" title="Link to this heading">#</a></h1>
</section>
<section id="void-drawcache-draw">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::draw()</span></code><a class="headerlink" href="#void-drawcache-draw" title="Link to this heading">#</a></h1>
</section>
<section id="id330">
<h1>Opis semantyczny<a class="headerlink" href="#id330" title="Link to this heading">#</a></h1>
<p>Wykonuje zgrupowane operacje rysowania.</p>
</section>
<section id="id331">
<h1>DziaÅ‚anie<a class="headerlink" href="#id331" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Upewnia siÄ™, Å¼e atlas tekstur jest odÅ‚Ä…czony (<code class="docutils literal notranslate"><span class="pre">release()</span></code>).</p></li>
<li><p>JeÅ›li bufor nie jest pusty (<code class="docutils literal notranslate"><span class="pre">m_size</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>), wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">g_painterâ†’drawCache()</span></code>, przekazujÄ…c jej wszystkie zebrane dane wierzchoÅ‚kÃ³w, wspÃ³Å‚rzÄ™dnych tekstur i kolorÃ³w.</p></li>
<li><p>Resetuje licznik <code class="docutils literal notranslate"><span class="pre">m_size</span></code> do zera.</p></li>
</ol>
</section>
<section id="void-drawcache-bind-i-void-drawcache-release">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::release()</span></code><a class="headerlink" href="#void-drawcache-bind-i-void-drawcache-release" title="Link to this heading">#</a></h1>
<p>Metody te zarzÄ…dzajÄ… bindowaniem i zwalnianiem <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasu. <code class="docutils literal notranslate"><span class="pre">bind()</span></code> jest wywoÅ‚ywane, gdy do atlasu musi zostaÄ‡ narysowana nowa tekstura. <code class="docutils literal notranslate"><span class="pre">release()</span></code> jest wywoÅ‚ywane przed wykonaniem <code class="docutils literal notranslate"><span class="pre">draw()</span></code>.</p>
</section>
<section id="metody-dodawania-do-bufora">
<h1>Metody dodawania do bufora<a class="headerlink" href="#metody-dodawania-do-bufora" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">addRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></strong>: Dodaje prostokÄ…t wypeÅ‚niony jednolitym kolorem. WspÃ³Å‚rzÄ™dne tekstury sÄ… ustawiane na <code class="docutils literal notranslate"><span class="pre">(-10,</span> <span class="pre">-10)</span></code>, co jest sygnaÅ‚em dla shadera, aby nie uÅ¼ywaÅ‚ tekstury.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">addTexturedRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">src,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></strong>: Dodaje teksturowany prostokÄ…t.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">addCoords(CoordsBuffer&amp;</span> <span class="pre">coords,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></strong>: Dodaje geometriÄ™ z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> (bez tekstury).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">addTexturedCoords(CoordsBuffer&amp;</span> <span class="pre">coords,</span> <span class="pre">const</span> <span class="pre">Point&amp;</span> <span class="pre">offset,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></strong>: Dodaje geometriÄ™ z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z teksturÄ…. Przesuwa wspÃ³Å‚rzÄ™dne tekstury o podany <code class="docutils literal notranslate"><span class="pre">offset</span></code>, ktÃ³ry jest pozycjÄ… tekstury w atlasie.</p></li>
</ul>
</section>
<section id="metody-pomocnicze-addrectraw-addcolorraw">
<h1>Metody pomocnicze (<code class="docutils literal notranslate"><span class="pre">addRectRaw</span></code>, <code class="docutils literal notranslate"><span class="pre">addColorRaw</span></code>)<a class="headerlink" href="#metody-pomocnicze-addrectraw-addcolorraw" title="Link to this heading">#</a></h1>
<p>Prywatne metody <code class="docutils literal notranslate"><span class="pre">inline</span></code> do szybkiego zapisu danych do wewnÄ™trznych wektorÃ³w (<code class="docutils literal notranslate"><span class="pre">m_destCoord</span></code>, <code class="docutils literal notranslate"><span class="pre">m_srcCoord</span></code>, <code class="docutils literal notranslate"><span class="pre">m_color</span></code>).</p>
</section>
<section id="id332">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id332" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawcache.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/atlas.h</span></code>: ÅšciÅ›le wspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">g_atlas</span></code> w celu bindowania i zwalniania bufora ramki atlasu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">g_painterâ†’drawCache()</span></code> do finalnego narysowania zgrupowanej geometrii.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code>, aby sprÃ³bowaÄ‡ zbuforowaÄ‡ operacjÄ™ rysowania zamiast wykonywaÄ‡ jÄ… natychmiast.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="drawcache-h">
<h1>ğŸ“„ drawcache.h<a class="headerlink" href="#drawcache-h" title="Link to this heading">#</a></h1>
</section>
<section id="id333">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id333" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">drawcache.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>, ktÃ³ra sÅ‚uÅ¼y jako bufor dla operacji rysowania. Jest to mechanizm optymalizacyjny, ktÃ³ry agreguje wiele maÅ‚ych operacji rysowania (np. prostokÄ…tÃ³w) w jedno duÅ¼e wywoÅ‚anie, co znaczÄ…co poprawia wydajnoÅ›Ä‡ renderowania.</p>
</section>
<section id="id334">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code><a class="headerlink" href="#id334" title="Link to this heading">#</a></h1>
</section>
<section id="id335">
<h1>Opis semantyczny<a class="headerlink" href="#id335" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">DrawCache</span></code> przechowuje trzy duÅ¼e, prealokowane wektory: na wspÃ³Å‚rzÄ™dne wierzchoÅ‚kÃ³w (<code class="docutils literal notranslate"><span class="pre">m_destCoord</span></code>), wspÃ³Å‚rzÄ™dne tekstur (<code class="docutils literal notranslate"><span class="pre">m_srcCoord</span></code>) i kolory (<code class="docutils literal notranslate"><span class="pre">m_color</span></code>). Metody <code class="docutils literal notranslate"><span class="pre">add...</span></code> dodajÄ… dane do tych buforÃ³w. Gdy bufor jest peÅ‚ny lub gdy operacja rysowania nie moÅ¼e byÄ‡ zbuforowana, metoda <code class="docutils literal notranslate"><span class="pre">draw()</span></code> jest wywoÅ‚ywana, aby oprÃ³Å¼niÄ‡ bufor i narysowaÄ‡ jego zawartoÅ›Ä‡ za pomocÄ… jednego wywoÅ‚ania <code class="docutils literal notranslate"><span class="pre">g_painterâ†’drawCache()</span></code>.</p>
</section>
<section id="stale">
<h1>StaÅ‚e<a class="headerlink" href="#stale" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_SIZE</span></code>: Maksymalna liczba wierzchoÅ‚kÃ³w, jakÄ… moÅ¼e przechowaÄ‡ bufor (65536).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HALF_MAX_SIZE</span></code>: PoÅ‚owa maksymalnego rozmiaru, uÅ¼ywana jako prÃ³g do oprÃ³Å¼nienia bufora.</p></li>
</ul>
</section>
<section id="id336">
<h1>Metody publiczne<a class="headerlink" href="#id336" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">draw()</span></code></p></td>
<td class="text-left"><p>Rysuje zawartoÅ›Ä‡ bufora na ekranie i go czyÅ›ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bind()</span></code></p></td>
<td class="text-left"><p>Bindowanie <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasu (gdy trzeba do niego coÅ› dorysowaÄ‡).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">release()</span></code></p></td>
<td class="text-left"><p>Odpinanie <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">hasSpace(int</span> <span class="pre">size)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy w buforze jest wystarczajÄ…co miejsca na <code class="docutils literal notranslate"><span class="pre">size</span></code> wierzchoÅ‚kÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">inline</span> <span class="pre">int</span> <span class="pre">getSize()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualnÄ… liczbÄ™ wierzchoÅ‚kÃ³w w buforze.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addRect(...)</span></code></p></td>
<td class="text-left"><p>Dodaje prostokÄ…t wypeÅ‚niony kolorem.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addTexturedRect(...)</span></code></p></td>
<td class="text-left"><p>Dodaje teksturowany prostokÄ…t.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addCoords(...)</span></code></p></td>
<td class="text-left"><p>Dodaje geometriÄ™ z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> (bez tekstury).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addTexturedCoords(...)</span></code></p></td>
<td class="text-left"><p>Dodaje geometriÄ™ z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> (z teksturÄ…).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id337">
<h1>Zmienne prywatne<a class="headerlink" href="#id337" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_destCoord</span></code>: Wektor na wspÃ³Å‚rzÄ™dne docelowe (pozycji).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_srcCoord</span></code>: Wektor na wspÃ³Å‚rzÄ™dne ÅºrÃ³dÅ‚owe (tekstury).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_color</span></code>: Wektor na kolory wierzchoÅ‚kÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_bound</span></code>: Flaga wskazujÄ…ca, czy atlas jest zbindowany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Aktualna liczba wierzchoÅ‚kÃ³w w buforze.</p></li>
</ul>
</section>
<section id="id338">
<h1>Zmienne globalne<a class="headerlink" href="#id338" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>.</p></li>
</ul>
</section>
<section id="id339">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id339" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/atlas.h</span></code>: Do zarzÄ…dzania atlasem tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/coordsbuffer.h</span></code>: Do przyjmowania geometrii.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>, <code class="docutils literal notranslate"><span class="pre">painter.h</span></code>: Do operacji renderowania.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>, aby grupowaÄ‡ operacje rysowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="drawqueue-cpp">
<h1>ğŸ“„ drawqueue.cpp<a class="headerlink" href="#drawqueue-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id340">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id340" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">drawqueue.cpp</span></code> implementuje logikÄ™ dla <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> oraz poszczegÃ³lnych typÃ³w zadaÅ„ rysowania (<code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code>). Jest to centralny element systemu renderowania, ktÃ³ry kolekcjonuje wszystkie operacje rysowania w jednej klatce, a nastÄ™pnie wykonuje je w odpowiedniej kolejnoÅ›ci, z uwzglÄ™dnieniem warunkÃ³w takich jak przycinanie, przezroczystoÅ›Ä‡ czy rotacja.</p>
</section>
<section id="id341">
<h1>Zmienne globalne<a class="headerlink" href="#id341" title="Link to this heading">#</a></h1>
</section>
<section id="g-drawqueue">
<h1><code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code><a class="headerlink" href="#g-drawqueue" title="Link to this heading">#</a></h1>
<p>Globalny wskaÅºnik na aktualnie aktywnÄ… kolejkÄ™ rysowania. WÄ…tek logiki tworzy nowe instancje <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>, wypeÅ‚nia je i przypisuje do tego wskaÅºnika, a wÄ…tek renderowania je konsumuje.</p>
</section>
<section id="klasy-drawqueueitem-implementacje">
<h1>Klasy <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> (implementacje)<a class="headerlink" href="#klasy-drawqueueitem-implementacje" title="Link to this heading">#</a></h1>
<p>KaÅ¼da klasa dziedziczÄ…ca po <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> implementuje dwie kluczowe metody:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">draw()</span></code></strong>: Wykonuje faktycznÄ… operacjÄ™ rysowania za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_painter</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">cache()</span></code></strong>: PrÃ³buje zoptymalizowaÄ‡ operacjÄ™, dodajÄ…c jÄ… do <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code> zamiast rysowaÄ‡ natychmiast. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li keszowanie siÄ™ powiodÅ‚o.</p></li>
</ul>
</section>
<section id="przyklady-implementacji">
<h1>PrzykÅ‚ady implementacji:<a class="headerlink" href="#przyklady-implementacji" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueItemTextureCoords::cache()</span></code></strong>:</p>
<ol class="arabic simple">
<li><p>Sprawdza, czy tekstura moÅ¼e byÄ‡ skeszowana.</p></li>
<li><p>Pobiera pozycjÄ™ dla tekstury w atlasie za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_atlas.cache()</span></code>.</p></li>
<li><p>JeÅ›li tekstury nie byÅ‚o w atlasie (<code class="docutils literal notranslate"><span class="pre">drawNow</span> <span class="pre">==</span> <span class="pre">true</span></code>), rysuje jÄ… do atlasu.</p></li>
<li><p>JeÅ›li w <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code> jest miejsce, dodaje do niego geometriÄ™ z przesuniÄ™tymi wspÃ³Å‚rzÄ™dnymi tekstury.</p></li>
</ol>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueItemFilledRect::cache()</span></code></strong>:</p>
<ol class="arabic simple">
<li><p>Sprawdza, czy jest miejsce w <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code>.</p></li>
<li><p>JeÅ›li tak, dodaje prostokÄ…t za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_drawCache.addRect()</span></code>.</p></li>
</ol>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueItemText::draw()</span></code></strong>: WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">g_text.drawText()</span></code>, ktÃ³ra jest zoptymalizowana do renderowania tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueCondition...::start()</span></code> i <code class="docutils literal notranslate"><span class="pre">end()</span></code></strong>: ImplementujÄ… zmiany stanu <code class="docutils literal notranslate"><span class="pre">g_painter</span></code> na poczÄ…tku i na koÅ„cu bloku warunkowego. Na przykÅ‚ad <code class="docutils literal notranslate"><span class="pre">DrawQueueConditionClip</span></code> zmienia i przywraca prostokÄ…t przycinania.</p></li>
</ul>
</section>
<section id="klasa-drawqueue">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code><a class="headerlink" href="#klasa-drawqueue" title="Link to this heading">#</a></h1>
</section>
<section id="void-drawqueue-setframebuffer">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::setFrameBuffer(...)</span></code><a class="headerlink" href="#void-drawqueue-setframebuffer" title="Link to this heading">#</a></h1>
<p>Konfiguruje <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do renderowania do bufora ramki (off-screen). Ustawia docelowy i ÅºrÃ³dÅ‚owy prostokÄ…t oraz oblicza skalowanie, jeÅ›li rozmiar bufora przekracza <code class="docutils literal notranslate"><span class="pre">2048x2048</span></code>.</p>
</section>
<section id="void-drawqueue-addtext-i-void-drawqueue-addcoloredtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::addText(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::addColoredText(...)</span></code><a class="headerlink" href="#void-drawqueue-addtext-i-void-drawqueue-addcoloredtext" title="Link to this heading">#</a></h1>
<p>TworzÄ… zadanie rysowania tekstu. Najpierw dodajÄ… tekst do <code class="docutils literal notranslate"><span class="pre">g_text</span></code> (systemu keszujÄ…cego geometriÄ™ tekstu), uzyskujÄ…c hash, a nastÄ™pnie tworzÄ… odpowiedni <code class="docutils literal notranslate"><span class="pre">DrawQueueItemText</span></code>.</p>
</section>
<section id="void-drawqueue-correctoutfit">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::correctOutfit(...)</span></code><a class="headerlink" href="#void-drawqueue-correctoutfit" title="Link to this heading">#</a></h1>
<p>Specjalna metoda do skalowania i pozycjonowania wielu <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> (czÄ™Å›ci stroju postaci), tak aby caÅ‚oÅ›Ä‡ zmieÅ›ciÅ‚a siÄ™ w podanym prostokÄ…cie docelowym, zachowujÄ…c proporcje.</p>
</section>
<section id="void-drawqueue-draw-drawtype-drawtype">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::draw(DrawType</span> <span class="pre">drawType)</span></code><a class="headerlink" href="#void-drawqueue-draw-drawtype-drawtype" title="Link to this heading">#</a></h1>
</section>
<section id="id342">
<h1>Opis semantyczny<a class="headerlink" href="#id342" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda wykonujÄ…ca wszystkie zebrane zadania rysowania.</p>
</section>
<section id="id343">
<h1>DziaÅ‚anie<a class="headerlink" href="#id343" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>OkreÅ›la zakres zadaÅ„ do narysowania na podstawie <code class="docutils literal notranslate"><span class="pre">drawType</span></code> (wszystkie, przed mapÄ…, po mapie).</p></li>
<li><p>Sortuje warunki (<code class="docutils literal notranslate"><span class="pre">m_conditions</span></code>) po ich pozycjach poczÄ…tkowych.</p></li>
<li><p>JeÅ›li ustawiono skalowanie, modyfikuje macierz projekcji <code class="docutils literal notranslate"><span class="pre">g_painter</span></code>.</p></li>
<li><p>Iteruje po zadaniach w kolejce (<code class="docutils literal notranslate"><span class="pre">m_queue</span></code>):</p>
<ul class="simple">
<li><p>Przed kaÅ¼dym zadaniem, aktywuje i dezaktywuje odpowiednie warunki (<code class="docutils literal notranslate"><span class="pre">start()</span></code>/<code class="docutils literal notranslate"><span class="pre">end()</span></code>).</p></li>
<li><p>PrÃ³buje skeszowaÄ‡ zadanie za pomocÄ… <code class="docutils literal notranslate"><span class="pre">itemâ†’cache()</span></code>.</p></li>
<li><p>JeÅ›li keszowanie siÄ™ nie powiedzie, oprÃ³Å¼nia <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code> i prÃ³buje ponownie.</p></li>
<li><p>JeÅ›li ponowne keszowanie siÄ™ nie powiedzie, wykonuje <code class="docutils literal notranslate"><span class="pre">itemâ†’draw()</span></code>.</p></li>
<li><p>Regularnie oprÃ³Å¼nia <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code>, gdy osiÄ…gnie poÅ‚owÄ™ pojemnoÅ›ci.</p></li>
</ul>
</li>
<li><p>Po zakoÅ„czeniu pÄ™tli, oprÃ³Å¼nia <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code> i deaktywuje wszystkie pozostaÅ‚e warunki.</p></li>
<li><p>Przywraca oryginalnÄ… macierz projekcji i stan <code class="docutils literal notranslate"><span class="pre">g_painter</span></code>.</p></li>
</ol>
</section>
<section id="id344">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id344" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>ÅšciÅ›le wspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">g_painter</span></code>, <code class="docutils literal notranslate"><span class="pre">g_atlas</span></code>, <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code> i <code class="docutils literal notranslate"><span class="pre">g_text</span></code>, orkiestrujÄ…c proces renderowania.</p></li>
<li><p>Jest tworzona i wypeÅ‚niana przez <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> i inne moduÅ‚y logiki gry.</p></li>
<li><p>Jest konsumowana przez <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> w wÄ…tku renderowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="fontmanager-cpp">
<h1>ğŸ“„ fontmanager.cpp<a class="headerlink" href="#fontmanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id345">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id345" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">fontmanager.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">FontManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_fonts</span></code>) odpowiedzialnym za zarzÄ…dzanie wszystkimi fontami bitmapowymi w aplikacji.</p>
</section>
<section id="id346">
<h1>Zmienne globalne<a class="headerlink" href="#id346" title="Link to this heading">#</a></h1>
</section>
<section id="g-fonts">
<h1><code class="docutils literal notranslate"><span class="pre">g_fonts</span></code><a class="headerlink" href="#g-fonts" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">FontManager</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">FontManager</span><span class="w"> </span><span class="n">g_fonts</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-fontmanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FontManager</span></code><a class="headerlink" href="#klasa-fontmanager" title="Link to this heading">#</a></h1>
</section>
<section id="fontmanager-fontmanager">
<h1><code class="docutils literal notranslate"><span class="pre">FontManager::FontManager()</span></code><a class="headerlink" href="#fontmanager-fontmanager" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domyÅ›lny font (<code class="docutils literal notranslate"><span class="pre">m_defaultFont</span></code>) jako pusty obiekt <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>, aby uniknÄ…Ä‡ bÅ‚Ä™dÃ³w, gdy Å¼aden font nie zostaÅ‚ jeszcze zaÅ‚adowany.</p>
</section>
<section id="void-fontmanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::terminate()</span></code><a class="headerlink" href="#void-fontmanager-terminate" title="Link to this heading">#</a></h1>
<p>Zwalnia wszystkie zaÅ‚adowane fonty, czyszczÄ…c wektor <code class="docutils literal notranslate"><span class="pre">m_fonts</span></code> i resetujÄ…c wskaÅºnik na domyÅ›lny font.</p>
</section>
<section id="void-fontmanager-clearfonts">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::clearFonts()</span></code><a class="headerlink" href="#void-fontmanager-clearfonts" title="Link to this heading">#</a></h1>
<p>CzyÅ›ci wszystkie zaÅ‚adowane fonty i przywraca pusty font domyÅ›lny. UÅ¼ywane np. przy przeÅ‚adowywaniu zasobÃ³w.</p>
</section>
<section id="void-fontmanager-importfont-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::importFont(std::string</span> <span class="pre">file)</span></code><a class="headerlink" href="#void-fontmanager-importfont-std-string-file" title="Link to this heading">#</a></h1>
</section>
<section id="id347">
<h1>Opis semantyczny<a class="headerlink" href="#id347" title="Link to this heading">#</a></h1>
<p>Åaduje definicjÄ™ fontu z pliku <code class="docutils literal notranslate"><span class="pre">.otfont</span></code>. Metoda jest bezpieczna wÄ…tkowo â€“ jeÅ›li jest wywoÅ‚ana z innego wÄ…tku niÅ¼ graficzny, deleguje zadanie do <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>.</p>
</section>
<section id="id348">
<h1>DziaÅ‚anie<a class="headerlink" href="#id348" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>RozwiÄ…zuje Å›cieÅ¼kÄ™ do pliku.</p></li>
<li><p>Parsuje plik OTML.</p></li>
<li><p>Odczytuje nazwÄ™ fontu z wÄ™zÅ‚a <code class="docutils literal notranslate"><span class="pre">Font</span></code>.</p></li>
<li><p>Sprawdza, czy font o tej nazwie juÅ¼ nie istnieje.</p></li>
<li><p>Tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code> i wywoÅ‚uje jego metodÄ™ <code class="docutils literal notranslate"><span class="pre">load()</span></code>.</p></li>
<li><p>Dodaje nowo zaÅ‚adowany font do wektora <code class="docutils literal notranslate"><span class="pre">m_fonts</span></code>.</p></li>
<li><p>JeÅ›li font jest oznaczony jako domyÅ›lny (<code class="docutils literal notranslate"><span class="pre">default="true"</span></code>), ustawia go jako <code class="docutils literal notranslate"><span class="pre">m_defaultFont</span></code>.</p></li>
</ol>
</section>
<section id="bool-fontmanager-fontexists-const-std-string-fontname">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">FontManager::fontExists(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fontName)</span></code><a class="headerlink" href="#bool-fontmanager-fontexists-const-std-string-fontname" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy font o podanej nazwie zostaÅ‚ juÅ¼ zaÅ‚adowany.</p>
</section>
<section id="bitmapfontptr-fontmanager-getfont-const-std-string-fontname">
<h1><code class="docutils literal notranslate"><span class="pre">BitmapFontPtr</span> <span class="pre">FontManager::getFont(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fontName)</span></code><a class="headerlink" href="#bitmapfontptr-fontmanager-getfont-const-std-string-fontname" title="Link to this heading">#</a></h1>
<p>Wyszukuje i zwraca wskaÅºnik do fontu o podanej nazwie. JeÅ›li font nie zostanie znaleziony, loguje bÅ‚Ä…d i zwraca font domyÅ›lny, aby zapobiec awarii.</p>
</section>
<section id="id349">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id349" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/fontmanager.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/atlas.h</span></code>: PoÅ›rednio, przez <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>, ktÃ³ry uÅ¼ywa atlasu do cachowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code> do zapewnienia bezpieczeÅ„stwa wÄ…tkowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do znajdowania i odczytywania plikÃ³w <code class="docutils literal notranslate"><span class="pre">.otfont</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code>: Do parsowania plikÃ³w definicji fontÃ³w.</p></li>
<li><p>Jest uÅ¼ywany przez <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> i <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> do uzyskiwania dostÄ™pu do fontÃ³w potrzebnych do renderowania tekstu.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="drawqueue-h">
<h1>ğŸ“„ drawqueue.h<a class="headerlink" href="#drawqueue-h" title="Link to this heading">#</a></h1>
</section>
<section id="id350">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id350" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">drawqueue.h</span></code> deklaruje hierarchiÄ™ klas <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> oraz klasÄ™ <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>, ktÃ³re razem tworzÄ… system kolejkowania operacji rysowania. Jest to centralny mechanizm, ktÃ³ry pozwala na zbieranie wszystkich poleceÅ„ rysowania w jednej klatce, a nastÄ™pnie ich zoptymalizowane wykonanie.</p>
</section>
<section id="typ-wyliczeniowy-drawtype">
<h1>Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">DrawType</span></code><a class="headerlink" href="#typ-wyliczeniowy-drawtype" title="Link to this heading">#</a></h1>
<p>OkreÅ›la, ktÃ³ra czÄ™Å›Ä‡ kolejki ma zostaÄ‡ narysowana. UÅ¼ywane do renderowania warstwowego (np. interfejs za mapÄ… i przed mapÄ…).</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>WartoÅ›Ä‡</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">DRAW_ALL</span></code></p></td>
<td class="text-left"><p>Rysuje caÅ‚Ä… kolejkÄ™.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">DRAW_BEFORE_MAP</span></code></p></td>
<td class="text-left"><p>Rysuje zadania dodane przed <code class="docutils literal notranslate"><span class="pre">markMapPosition()</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">DRAW_AFTER_MAP</span></code></p></td>
<td class="text-left"><p>Rysuje zadania dodane po <code class="docutils literal notranslate"><span class="pre">markMapPosition()</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="hierarchia-klas-drawqueueitem">
<h1>Hierarchia klas <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code><a class="headerlink" href="#hierarchia-klas-drawqueueitem" title="Link to this heading">#</a></h1>
</section>
<section id="struct-drawqueueitem-baza">
<h1><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">DrawQueueItem</span></code> (baza)<a class="headerlink" href="#struct-drawqueueitem-baza" title="Link to this heading">#</a></h1>
<p>Abstrakcyjna klasa bazowa dla wszystkich zadaÅ„ w kolejce.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">draw()</span></code></strong>: Metoda wirtualna do wykonania operacji rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">cache()</span></code></strong>: Metoda wirtualna do prÃ³by zbuforowania operacji w <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>.</p></li>
</ul>
</section>
<section id="klasy-pochodne">
<h1>Klasy pochodne<a class="headerlink" href="#klasy-pochodne" title="Link to this heading">#</a></h1>
<p>KaÅ¼da klasa reprezentuje konkretnÄ… operacjÄ™ rysowania:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemTexturedRect</span></code>: Rysowanie prostokÄ…ta z teksturÄ….</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemTextureCoords</span></code>: Rysowanie geometrii z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z teksturÄ….</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemColoredTextureCoords</span></code>: Rysowanie geometrii z teksturÄ… i wieloma kolorami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemImageWithShader</span></code>: Rysowanie geometrii z teksturÄ… i niestandardowym shaderem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemFilledRect</span></code>: Rysowanie wypeÅ‚nionego prostokÄ…ta.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemClearRect</span></code>: Czyszczenie prostokÄ…tnego obszaru.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemFillCoords</span></code>: WypeÅ‚nianie geometrii z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> kolorem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemText</span></code>, <code class="docutils literal notranslate"><span class="pre">DrawQueueItemTextColored</span></code>: Rysowanie tekstu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemLine</span></code>: Rysowanie linii.</p></li>
</ul>
</section>
<section id="hierarchia-klas-drawqueuecondition">
<h1>Hierarchia klas <code class="docutils literal notranslate"><span class="pre">DrawQueueCondition</span></code><a class="headerlink" href="#hierarchia-klas-drawqueuecondition" title="Link to this heading">#</a></h1>
</section>
<section id="struct-drawqueuecondition-baza">
<h1><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">DrawQueueCondition</span></code> (baza)<a class="headerlink" href="#struct-drawqueuecondition-baza" title="Link to this heading">#</a></h1>
<p>Abstrakcyjna klasa bazowa dla warunkÃ³w modyfikujÄ…cych stan renderowania dla grupy zadaÅ„.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">m_start</span></code>, <code class="docutils literal notranslate"><span class="pre">m_end</span></code></strong>: Indeksy w <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> okreÅ›lajÄ…ce zakres dziaÅ‚ania warunku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">start(DrawQueue*)</span></code></strong>: Metoda wywoÅ‚ywana przed pierwszym zadaniem objÄ™tym warunkiem.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">end(DrawQueue*)</span></code></strong>: Metoda wywoÅ‚ywana po ostatnim zadaniu objÄ™tym warunkiem.</p></li>
</ul>
</section>
<section id="id351">
<h1>Klasy pochodne<a class="headerlink" href="#id351" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueConditionClip</span></code>: Ustawia prostokÄ…t przycinania (clipping).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueConditionRotation</span></code>: Stosuje transformacjÄ™ rotacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueConditionMark</span></code>: Specjalny warunek do rysowania zaznaczenia (np. na przedmiotach).</p></li>
</ul>
</section>
<section id="id352">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code><a class="headerlink" href="#id352" title="Link to this heading">#</a></h1>
</section>
<section id="id353">
<h1>Opis semantyczny<a class="headerlink" href="#id353" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna klasa zarzÄ…dzajÄ…ca kolejkÄ…. Przechowuje listÄ™ zadaÅ„ (<code class="docutils literal notranslate"><span class="pre">m_queue</span></code>) i warunkÃ³w (<code class="docutils literal notranslate"><span class="pre">m_conditions</span></code>). Dostarcza metody do dodawania rÃ³Å¼nych operacji rysowania i do finalnego wykonania caÅ‚ej kolejki.</p>
</section>
<section id="id354">
<h1>Metody publiczne<a class="headerlink" href="#id354" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">draw(DrawType)</span></code></p></td>
<td class="text-left"><p>Wykonuje wszystkie (lub czÄ™Å›Ä‡) operacje rysowania z kolejki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">add...(...)</span></code></p></td>
<td class="text-left"><p>Metody do dodawania rÃ³Å¼nych typÃ³w <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> do kolejki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setFrameBuffer(...)</span></code></p></td>
<td class="text-left"><p>Konfiguruje renderowanie do bufora ramki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setOpacity(start,</span> <span class="pre">opacity)</span></code></p></td>
<td class="text-left"><p>Stosuje przezroczystoÅ›Ä‡ do zadaÅ„ od indeksu <code class="docutils literal notranslate"><span class="pre">start</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setClip(start,</span> <span class="pre">clip)</span></code></p></td>
<td class="text-left"><p>Dodaje warunek <code class="docutils literal notranslate"><span class="pre">DrawQueueConditionClip</span></code> dla zadaÅ„ od <code class="docutils literal notranslate"><span class="pre">start</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="framebuffer-cpp">
<h1>ğŸ“„ framebuffer.cpp<a class="headerlink" href="#framebuffer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id355">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id355" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">framebuffer.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>, ktÃ³ra jest opakowaniem (wrapperem) na obiekt bufora ramki (FBO) w OpenGL. UmoÅ¼liwia renderowanie sceny do tekstury zamiast bezpoÅ›rednio na ekran (tzw. off-screen rendering), co jest kluczowe dla efektÃ³w post-processingu, skalowania interfejsu i implementacji atlasu tekstur.</p>
</section>
<section id="id356">
<h1>Zmienne globalne<a class="headerlink" href="#id356" title="Link to this heading">#</a></h1>
</section>
<section id="uint-framebuffer-boundfbo">
<h1><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">FrameBuffer::boundFbo</span></code><a class="headerlink" href="#uint-framebuffer-boundfbo" title="Link to this heading">#</a></h1>
<p>Statyczna zmienna czÅ‚onkowska, ktÃ³ra Å›ledzi ID aktualnie zwiÄ…zanego (aktywnego) FBO. SÅ‚uÅ¼y do optymalizacji poprzez unikanie zbÄ™dnych wywoÅ‚aÅ„sk <code class="docutils literal notranslate"><span class="pre">glBindFramebuffer</span></code>, jeÅ›li ten sam FBO jest juÅ¼ aktywny.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">uint</span><span class="w"> </span><span class="n">FrameBuffer</span><span class="o">::</span><span class="n">boundFbo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-framebuffer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code><a class="headerlink" href="#klasa-framebuffer" title="Link to this heading">#</a></h1>
</section>
<section id="framebuffer-framebuffer-bool-withdepth">
<h1><code class="docutils literal notranslate"><span class="pre">FrameBuffer::FrameBuffer(bool</span> <span class="pre">withDepth)</span></code><a class="headerlink" href="#framebuffer-framebuffer-bool-withdepth" title="Link to this heading">#</a></h1>
<p>Konstruktor. WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">internalCreate()</span></code> w celu utworzenia zasobÃ³w OpenGL.</p>
<ul class="simple">
<li><p><strong>Parametr <code class="docutils literal notranslate"><span class="pre">withDepth</span></code></strong>: JeÅ›li <code class="docutils literal notranslate"><span class="pre">true</span></code> i zdefiniowano <code class="docutils literal notranslate"><span class="pre">WITH_DEPTH_BUFFER</span></code>, tworzony jest rÃ³wnieÅ¼ bufor gÅ‚Ä™bi, co pozwala na testowanie gÅ‚Ä™bi podczas renderowania do tego bufora.</p></li>
</ul>
</section>
<section id="framebuffer-framebuffer">
<h1><code class="docutils literal notranslate"><span class="pre">FrameBuffer::~FrameBuffer()</span></code><a class="headerlink" href="#framebuffer-framebuffer" title="Link to this heading">#</a></h1>
<p>Destruktor. Zwalnia zasoby OpenGL (<code class="docutils literal notranslate"><span class="pre">glDeleteFramebuffers</span></code>, <code class="docutils literal notranslate"><span class="pre">glDeleteRenderbuffers</span></code>) w sposÃ³b bezpieczny wÄ…tkowo, dodajÄ…c zadanie do kolejki dyspozytora graficznego (<code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>).</p>
</section>
<section id="void-framebuffer-resize-const-size-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-framebuffer-resize-const-size-size" title="Link to this heading">#</a></h1>
</section>
<section id="id357">
<h1>Opis semantyczny<a class="headerlink" href="#id357" title="Link to this heading">#</a></h1>
<p>Zmienia rozmiar bufora ramki. Tworzy nowÄ… teksturÄ™ o podanych wymiarach, ktÃ³ra bÄ™dzie sÅ‚uÅ¼yÄ‡ jako â€œpÅ‚Ã³tnoâ€ do rysowania.</p>
</section>
<section id="id358">
<h1>DziaÅ‚anie<a class="headerlink" href="#id358" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy zmiana rozmiaru jest konieczna.</p></li>
<li><p>Tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">Texture</span></code> o podanym rozmiarze.</p></li>
<li><p>JeÅ›li bufor gÅ‚Ä™bi jest wÅ‚Ä…czony, alokuje dla niego pamiÄ™Ä‡ (<code class="docutils literal notranslate"><span class="pre">glRenderbufferStorage</span></code>).</p></li>
<li><p>WiÄ…Å¼e FBO, a nastÄ™pnie doÅ‚Ä…cza do niego nowÄ… teksturÄ™ jako bufor koloru (<code class="docutils literal notranslate"><span class="pre">glFramebufferTexture2D</span></code>) oraz opcjonalnie bufor gÅ‚Ä™bi (<code class="docutils literal notranslate"><span class="pre">glFramebufferRenderbuffer</span></code>).</p></li>
<li><p>Sprawdza status FBO (<code class="docutils literal notranslate"><span class="pre">glCheckFramebufferStatus</span></code>), aby upewniÄ‡ siÄ™, Å¼e jest on kompletny i gotowy do uÅ¼ycia.</p></li>
</ol>
</section>
<section id="void-framebuffer-bind-const-framebufferptr-depthframebuffer">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::bind(const</span> <span class="pre">FrameBufferPtr&amp;</span> <span class="pre">depthFramebuffer)</span></code><a class="headerlink" href="#void-framebuffer-bind-const-framebufferptr-depthframebuffer" title="Link to this heading">#</a></h1>
<p>Aktywuje bufor ramki jako cel renderowania. Wszystkie kolejne operacje rysowania bÄ™dÄ… kierowane do tekstury tego bufora.</p>
<ul class="simple">
<li><p>Zapisuje i resetuje stan <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">internalBind()</span></code>.</p></li>
<li><p>Ustawia rozdzielczoÅ›Ä‡ <code class="docutils literal notranslate"><span class="pre">Painter</span></code> na rozmiar bufora.</p></li>
</ul>
</section>
<section id="void-framebuffer-release">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::release()</span></code><a class="headerlink" href="#void-framebuffer-release" title="Link to this heading">#</a></h1>
<p>Deaktywuje bufor ramki i przywraca poprzedni cel renderowania (zazwyczaj bufor ekranu).</p>
<ul class="simple">
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">internalRelease()</span></code>.</p></li>
<li><p>Przywraca poprzedni stan <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
</ul>
</section>
<section id="void-framebuffer-draw">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::draw(...)</span></code><a class="headerlink" href="#void-framebuffer-draw" title="Link to this heading">#</a></h1>
<p>Metody te sÅ‚uÅ¼Ä… do rysowania <em>zawartoÅ›ci</em> (tekstury) bufora ramki na aktualnie aktywnym celu renderowania.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">draw()</span></code>: Rysuje caÅ‚Ä… teksturÄ™.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">src)</span></code>: Rysuje fragment (<code class="docutils literal notranslate"><span class="pre">src</span></code>) tekstury w docelowym prostokÄ…cie (<code class="docutils literal notranslate"><span class="pre">dest</span></code>).</p></li>
</ul>
</section>
<section id="void-framebuffer-doscreenshot-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::doScreenshot(std::string</span> <span class="pre">fileName)</span></code><a class="headerlink" href="#void-framebuffer-doscreenshot-std-string-filename" title="Link to this heading">#</a></h1>
<p>Odczytuje zawartoÅ›Ä‡ pikseli z bufora ramki za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glReadPixels</span></code>, a nastÄ™pnie w osobnym wÄ…tku (<code class="docutils literal notranslate"><span class="pre">g_asyncDispatcher</span></code>) zapisuje je do pliku PNG, odwracajÄ…c obraz w osi Y (konwersja z ukÅ‚adu wspÃ³Å‚rzÄ™dnych OpenGL).</p>
</section>
<section id="metody-internal">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">internal...</span></code><a class="headerlink" href="#metody-internal" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internalCreate()</span></code>: Generuje obiekty FBO i RBO.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalBind()</span></code> / <code class="docutils literal notranslate"><span class="pre">internalRelease()</span></code>: BezpoÅ›rednio wywoÅ‚ujÄ… <code class="docutils literal notranslate"><span class="pre">glBindFramebuffer</span></code> i zarzÄ…dzajÄ… statycznÄ… zmiennÄ… <code class="docutils literal notranslate"><span class="pre">boundFbo</span></code>.</p></li>
</ul>
</section>
<section id="id359">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id359" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffer.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do sprawdzania bÅ‚Ä™dÃ³w OpenGL i dostÄ™pu do <code class="docutils literal notranslate"><span class="pre">g_graphics</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> uÅ¼ywa obiektu <code class="docutils literal notranslate"><span class="pre">Texture</span></code> jako swojego bufora koloru.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platformwindow.h</span></code>: DostÄ™p do <code class="docutils literal notranslate"><span class="pre">g_window</span></code> (potencjalnie).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/asyncdispatcher.h</span></code>: UÅ¼ywany do asynchronicznego zapisu zrzutÃ³w ekranu.</p></li>
<li><p>Jest zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="framebuffer-h">
<h1>ğŸ“„ framebuffer.h<a class="headerlink" href="#framebuffer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id360">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id360" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">framebuffer.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>, ktÃ³ra jest obiektowym interfejsem do zarzÄ…dzania buforami ramki (FBO) w OpenGL. Pozwala na renderowanie sceny do tekstury zamiast bezpoÅ›rednio na ekran.</p>
</section>
<section id="id361">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code><a class="headerlink" href="#id361" title="Link to this heading">#</a></h1>
</section>
<section id="id362">
<h1>Opis semantyczny<a class="headerlink" href="#id362" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> enkapsuluje obiekt FBO z OpenGL oraz powiÄ…zanÄ… z nim teksturÄ™ (jako bufor koloru) i opcjonalnie bufor gÅ‚Ä™bi. UdostÄ™pnia metody do bindowania (aktywacji), zwalniania, zmiany rozmiaru i rysowania zawartoÅ›ci bufora.</p>
</section>
<section id="id363">
<h1>Metody publiczne<a class="headerlink" href="#id363" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">FrameBuffer(bool</span> <span class="pre">withDepth</span> <span class="pre">=</span> <span class="pre">false)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~FrameBuffer()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></p></td>
<td class="text-left"><p>Zmienia rozmiar bufora i powiÄ…zanej tekstury.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bind(...)</span></code></p></td>
<td class="text-left"><p>Ustawia ten bufor jako aktywny cel renderowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">release()</span></code></p></td>
<td class="text-left"><p>Przywraca poprzedni cel renderowania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">draw()</span></code> / <code class="docutils literal notranslate"><span class="pre">draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code> / <code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td class="text-left"><p>Rysuje teksturÄ™ tego bufora na aktualnie aktywnym celu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setSmooth(bool</span> <span class="pre">enabled)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza/wyÅ‚Ä…cza wygÅ‚adzanie (filtrowanie liniowe) dla tekstury bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">getTexture()</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik do tekstury, do ktÃ³rej renderuje bufor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">getSize()</span></code></p></td>
<td class="text-left"><p>Zwraca rozmiar bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isSmooth()</span></code></p></td>
<td class="text-left"><p>Zwraca stan wygÅ‚adzania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getDepthRenderBuffer()</span></code></p></td>
<td class="text-left"><p>(Tylko z <code class="docutils literal notranslate"><span class="pre">WITH_DEPTH_BUFFER</span></code>) Zwraca ID bufora gÅ‚Ä™bi.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">hasDepth()</span></code></p></td>
<td class="text-left"><p>(Tylko z <code class="docutils literal notranslate"><span class="pre">WITH_DEPTH_BUFFER</span></code>) Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li bufor posiada bufor gÅ‚Ä™bi.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint32_t&gt;</span> <span class="pre">readPixels()</span></code></p></td>
<td class="text-left"><p>Odczytuje zawartoÅ›Ä‡ bufora do pamiÄ™ci systemowej.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">doScreenshot(std::string</span> <span class="pre">fileName)</span></code></p></td>
<td class="text-left"><p>Zapisuje zawartoÅ›Ä‡ bufora do pliku PNG.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id364">
<h1>Zmienne prywatne<a class="headerlink" href="#id364" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_texture</span></code>: WskaÅºnik na obiekt <code class="docutils literal notranslate"><span class="pre">Texture</span></code> uÅ¼ywany jako bufor koloru.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_fbo</span></code>: ID obiektu FBO w OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_prevBoundFbo</span></code>: Przechowuje ID poprzednio aktywnego FBO, aby moÅ¼na byÅ‚o go przywrÃ³ciÄ‡.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_smooth</span></code>: Flaga wygÅ‚adzania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_depthRbo</span></code>, <code class="docutils literal notranslate"><span class="pre">m_depth</span></code>: (Tylko z <code class="docutils literal notranslate"><span class="pre">WITH_DEPTH_BUFFER</span></code>) ID bufora gÅ‚Ä™bi i flaga jego istnienia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boundFbo</span></code>: Statyczna zmienna Å›ledzÄ…ca globalnie aktywny FBO.</p></li>
</ul>
</section>
<section id="id365">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id365" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Definicje typÃ³w, np. <code class="docutils literal notranslate"><span class="pre">TexturePtr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: Wymaga peÅ‚nej definicji <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>. UÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">Atlas</span></code> i w gÅ‚Ã³wnej pÄ™tli renderowania w <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="framebuffermanager-cpp">
<h1>ğŸ“„ framebuffermanager.cpp<a class="headerlink" href="#framebuffermanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id366">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id366" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">framebuffermanager.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code>) odpowiedzialnym za tworzenie i zarzÄ…dzanie obiektami <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p>
</section>
<section id="id367">
<h1>Zmienne globalne<a class="headerlink" href="#id367" title="Link to this heading">#</a></h1>
</section>
<section id="g-framebuffers">
<h1><code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code><a class="headerlink" href="#g-framebuffers" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">FrameBufferManager</span><span class="w"> </span><span class="n">g_framebuffers</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-framebuffermanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code><a class="headerlink" href="#klasa-framebuffermanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-framebuffermanager-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBufferManager::init()</span></code><a class="headerlink" href="#void-framebuffermanager-init" title="Link to this heading">#</a></h1>
</section>
<section id="id368">
<h1>Opis semantyczny<a class="headerlink" href="#id368" title="Link to this heading">#</a></h1>
<p>Inicjalizuje menedÅ¼era. Tworzy dwa predefiniowane, â€œtymczasoweâ€ bufory ramki, ktÃ³re mogÄ… byÄ‡ uÅ¼ywane przez rÃ³Å¼ne czÄ™Å›ci systemu do krÃ³tkotrwaÅ‚ych operacji renderowania poza ekranem, bez potrzeby tworzenia i niszczenia wÅ‚asnych buforÃ³w.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_temporaryFramebuffer</span></code>: OgÃ³lnego przeznaczenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawQueueTemporaryFramebuffer</span></code>: Prawdopodobnie uÅ¼ywany przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do specyficznych operacji.</p></li>
</ul>
</section>
<section id="void-framebuffermanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBufferManager::terminate()</span></code><a class="headerlink" href="#void-framebuffermanager-terminate" title="Link to this heading">#</a></h1>
<p>Zwalnia wszystkie utworzone bufory ramki, w tym tymczasowe, czyszczÄ…c listÄ™ <code class="docutils literal notranslate"><span class="pre">m_framebuffers</span></code>.</p>
</section>
<section id="framebufferptr-framebuffermanager-createframebuffer-bool-withdepth">
<h1><code class="docutils literal notranslate"><span class="pre">FrameBufferPtr</span> <span class="pre">FrameBufferManager::createFrameBuffer(bool</span> <span class="pre">withDepth)</span></code><a class="headerlink" href="#framebufferptr-framebuffermanager-createframebuffer-bool-withdepth" title="Link to this heading">#</a></h1>
</section>
<section id="id369">
<h1>Opis semantyczny<a class="headerlink" href="#id369" title="Link to this heading">#</a></h1>
<p>Metoda fabryczna do tworzenia nowych obiektÃ³w <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p>
</section>
<section id="id370">
<h1>DziaÅ‚anie<a class="headerlink" href="#id370" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzy nowÄ… instancjÄ™ <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>, przekazujÄ…c flagÄ™ <code class="docutils literal notranslate"><span class="pre">withDepth</span></code>.</p></li>
<li><p>Dodaje nowo utworzony bufor do wewnÄ™trznej listy <code class="docutils literal notranslate"><span class="pre">m_framebuffers</span></code> w celu Å›ledzenia.</p></li>
<li><p>Zwraca wskaÅºnik na nowo utworzony obiekt.</p></li>
</ol>
</section>
<section id="id371">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id371" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffermanager.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p>Klasa ta jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Atlas</span></code> do tworzenia swoich â€œpÅ‚Ã³cienâ€ oraz przez <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> do tworzenia buforÃ³w dla gÅ‚Ã³wnej sceny i mapy.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="graph-cpp">
<h1>ğŸ“„ graph.cpp<a class="headerlink" href="#graph-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id372">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id372" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graph.cpp</span></code> implementuje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Graph</span></code>, ktÃ³ra sÅ‚uÅ¼y do wizualizacji danych w czasie rzeczywistym w formie prostego wykresu liniowego. Jest to narzÄ™dzie gÅ‚Ã³wnie do celÃ³w debugowania i profilowania wydajnoÅ›ci.</p>
</section>
<section id="id373">
<h1>Zmienne globalne<a class="headerlink" href="#id373" title="Link to this heading">#</a></h1>
</section>
<section id="g-graphs-graph-last-1">
<h1><code class="docutils literal notranslate"><span class="pre">g_graphs[GRAPH_LAST</span> <span class="pre">+</span> <span class="pre">1]</span></code><a class="headerlink" href="#g-graphs-graph-last-1" title="Link to this heading">#</a></h1>
<p>Globalna tablica instancji <code class="docutils literal notranslate"><span class="pre">Graph</span></code>, gdzie kaÅ¼da instancja odpowiada za Å›ledzenie i rysowanie innego parametru (np. czasu klatki, liczby wywoÅ‚aÅ„ rysujÄ…cych, opÃ³Åºnienia sieciowego).</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Graph</span><span class="w"> </span><span class="n">g_graphs</span><span class="p">[</span><span class="n">GRAPH_LAST</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">{</span><span class="s">"Total frame time"</span><span class="p">},</span>
<span class="w">    </span><span class="c1">// ... inne definicje</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="klasa-graph">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Graph</span></code><a class="headerlink" href="#klasa-graph" title="Link to this heading">#</a></h1>
</section>
<section id="graph-graph-const-std-string-name-size-t-capacity">
<h1><code class="docutils literal notranslate"><span class="pre">Graph::Graph(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">size_t</span> <span class="pre">capacity)</span></code><a class="headerlink" href="#graph-graph-const-std-string-name-size-t-capacity" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje wykres z podanÄ… nazwÄ… i maksymalnÄ… liczbÄ… prÃ³bek do przechowywania.</p>
</section>
<section id="void-graph-draw-const-rect-dest">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code><a class="headerlink" href="#void-graph-draw-const-rect-dest" title="Link to this heading">#</a></h1>
</section>
<section id="id374">
<h1>Opis semantyczny<a class="headerlink" href="#id374" title="Link to this heading">#</a></h1>
<p>Rysuje wykres w podanym prostokÄ…cie ekranu. Metoda musi byÄ‡ wywoÅ‚ywana z wÄ…tku graficznego.</p>
</section>
<section id="id375">
<h1>DziaÅ‚anie<a class="headerlink" href="#id375" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Rysuje tÅ‚o i ramkÄ™ wykresu.</p></li>
<li><p>Rysuje nazwÄ™ wykresu.</p></li>
<li><p>Pobiera <code class="docutils literal notranslate"><span class="pre">elements</span></code> ostatnich prÃ³bek z <code class="docutils literal notranslate"><span class="pre">m_values</span></code> (tyle, ile zmieÅ›ci siÄ™ w <code class="docutils literal notranslate"><span class="pre">dest</span></code>).</p></li>
<li><p>Znajduje minimalnÄ… i maksymalnÄ… wartoÅ›Ä‡ w pobranym zakresie.</p></li>
<li><p>Normalizuje wartoÅ›ci i tworzy geometriÄ™ linii wykresu.</p></li>
<li><p>Rysuje etykiety z wartoÅ›ciÄ… minimalnÄ…, maksymalnÄ… i ostatniÄ….</p></li>
<li><p>Rysuje liniÄ™ wykresu za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_painterâ†’drawLine()</span></code>.</p></li>
</ol>
</section>
<section id="void-graph-clear">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::clear()</span></code><a class="headerlink" href="#void-graph-clear" title="Link to this heading">#</a></h1>
<p>CzyÅ›ci wszystkie zebrane dane z wykresu.</p>
</section>
<section id="void-graph-addvalue-int-value-bool-ignoresmallvalues">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::addValue(int</span> <span class="pre">value,</span> <span class="pre">bool</span> <span class="pre">ignoreSmallValues)</span></code><a class="headerlink" href="#void-graph-addvalue-int-value-bool-ignoresmallvalues" title="Link to this heading">#</a></h1>
</section>
<section id="id376">
<h1>Opis semantyczny<a class="headerlink" href="#id376" title="Link to this heading">#</a></h1>
<p>Dodaje nowÄ… prÃ³bkÄ™ danych do wykresu. Metoda jest bezpieczna wÄ…tkowo dziÄ™ki uÅ¼yciu <code class="docutils literal notranslate"><span class="pre">std::mutex</span></code>.</p>
</section>
<section id="id377">
<h1>DziaÅ‚anie<a class="headerlink" href="#id377" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Opcjonalnie ignoruje maÅ‚e, powtarzajÄ…ce siÄ™ wartoÅ›ci, aby wykres byÅ‚ bardziej czytelny.</p></li>
<li><p>Dodaje nowÄ… wartoÅ›Ä‡ na koniec kolejki <code class="docutils literal notranslate"><span class="pre">m_values</span></code>.</p></li>
<li><p>JeÅ›li kolejka przekracza pojemnoÅ›Ä‡, usuwa najstarszÄ… wartoÅ›Ä‡.</p></li>
</ol>
</section>
<section id="id378">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id378" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graph.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_painter</span></code> do rysowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/textrender.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_text</span></code> do rysowania etykiet.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: UÅ¼ywany do walidacji wÄ…tku.</p></li>
<li><p>Jest uÅ¼ywana w rÃ³Å¼nych czÄ™Å›ciach aplikacji (<code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>) do zbierania danych o wydajnoÅ›ci, ktÃ³re sÄ… nastÄ™pnie rysowane w gÅ‚Ã³wnej pÄ™tli renderowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="graph-h">
<h1>ğŸ“„ graph.h<a class="headerlink" href="#graph-h" title="Link to this heading">#</a></h1>
</section>
<section id="id379">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id379" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graph.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Graph</span></code> oraz powiÄ…zane z niÄ… typy wyliczeniowe. Jest to narzÄ™dzie do wizualizacji danych w czasie rzeczywistym, przeznaczone do debugowania i profilowania.</p>
</section>
<section id="typ-wyliczeniowy-graphtype">
<h1>Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">GraphType</span></code><a class="headerlink" href="#typ-wyliczeniowy-graphtype" title="Link to this heading">#</a></h1>
<p>Definiuje staÅ‚e dla rÃ³Å¼nych typÃ³w wykresÃ³w, ktÃ³re mogÄ… byÄ‡ Å›ledzone w aplikacji.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_TOTAL_FRAME_TIME</span></code></p></td>
<td class="text-left"><p>CaÅ‚kowity czas klatki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_CPU_FRAME_TIME</span></code></p></td>
<td class="text-left"><p>Czas renderowania po stronie CPU.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_GPU_CALLS</span></code></p></td>
<td class="text-left"><p>Liczba wywoÅ‚aÅ„ do API graficznego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_GPU_DRAWS</span></code></p></td>
<td class="text-left"><p>Liczba operacji rysowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_PROCESSING_POLL</span></code></p></td>
<td class="text-left"><p>Czas przetwarzania zdarzeÅ„ w wÄ…tku logiki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_GRAPHICS_POLL</span></code></p></td>
<td class="text-left"><p>Czas przetwarzania zdarzeÅ„ w wÄ…tku graficznym.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_DISPATCHER_EVENTS</span></code></p></td>
<td class="text-left"><p>Liczba zdarzeÅ„ w gÅ‚Ã³wnym dyspozytorze.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_GRAPHICS_EVENTS</span></code></p></td>
<td class="text-left"><p>Liczba zdarzeÅ„ w dyspozytorze graficznym.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_LATENCY</span></code></p></td>
<td class="text-left"><p>OpÃ³Åºnienie sieciowe (ping).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id380">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Graph</span></code><a class="headerlink" href="#id380" title="Link to this heading">#</a></h1>
</section>
<section id="id381">
<h1>Opis semantyczny<a class="headerlink" href="#id381" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">Graph</span></code> przechowuje kolejkÄ™ (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) ostatnich wartoÅ›ci liczbowych i udostÄ™pnia metodÄ™ do narysowania ich w postaci prostego wykresu liniowego. Jest bezpieczna wÄ…tkowo przy dodawaniu wartoÅ›ci.</p>
</section>
<section id="id382">
<h1>StaÅ‚e<a class="headerlink" href="#id382" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_CAPACITY</span></code>: Maksymalna liczba prÃ³bek, jakÄ… moÅ¼e przechowaÄ‡ wykres.</p></li>
</ul>
</section>
<section id="id383">
<h1>Metody publiczne<a class="headerlink" href="#id383" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Graph(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code></p></td>
<td class="text-left"><p>Rysuje wykres w podanym prostokÄ…cie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci dane wykresu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addValue(int</span> <span class="pre">value,</span> <span class="pre">bool</span> <span class="pre">ignoreSmallValues</span> <span class="pre">=</span> <span class="pre">false)</span></code></p></td>
<td class="text-left"><p>Dodaje nowÄ… wartoÅ›Ä‡ do wykresu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id384">
<h1>Zmienne prywatne<a class="headerlink" href="#id384" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>: Nazwa wykresu, wyÅ›wietlana jako tytuÅ‚.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_capacity</span></code>: Maksymalna liczba przechowywanych prÃ³bek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_ignores</span></code>: Licznik ignorowanych maÅ‚ych wartoÅ›ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_values</span></code>: Kolejka przechowujÄ…ca dane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>: Mutex chroniÄ…cy dostÄ™p do <code class="docutils literal notranslate"><span class="pre">m_values</span></code>.</p></li>
</ul>
</section>
<section id="id385">
<h1>Zmienne globalne<a class="headerlink" href="#id385" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_graphs[GRAPH_LAST</span> <span class="pre">+</span> <span class="pre">1]</span></code>: Globalna tablica, w ktÃ³rej przechowywane sÄ… instancje <code class="docutils literal notranslate"><span class="pre">Graph</span></code> dla kaÅ¼dego typu z <code class="docutils literal notranslate"><span class="pre">GraphType</span></code>.</p></li>
</ul>
</section>
<section id="id386">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id386" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> do rysowania informacji debugowania. Dane sÄ… do niej dodawane z rÃ³Å¼nych czÄ™Å›ci systemu, np. z pÄ™tli gÅ‚Ã³wnej, <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>, <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="glutil-h">
<h1>ğŸ“„ glutil.h<a class="headerlink" href="#glutil-h" title="Link to this heading">#</a></h1>
</section>
<section id="id387">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id387" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">glutil.h</span></code> (GL Utility) jest plikiem nagÅ‚Ã³wkowym, ktÃ³rego jedynym zadaniem jest wÅ‚Ä…czenie odpowiednich nagÅ‚Ã³wkÃ³w OpenGL, OpenGL ES, EGL lub GLEW, w zaleÅ¼noÅ›ci od platformy i opcji kompilacji. DziaÅ‚a jako centralny punkt doÅ‚Ä…czania bibliotek graficznych, co upraszcza zarzÄ…dzanie zaleÅ¼noÅ›ciami w innych plikach.</p>
</section>
<section id="logika-warunkowego-dolaczania">
<h1>Logika warunkowego doÅ‚Ä…czania<a class="headerlink" href="#logika-warunkowego-dolaczania" title="Link to this heading">#</a></h1>
<p>Plik uÅ¼ywa dyrektyw preprocesora do wyboru odpowiednich nagÅ‚Ã³wkÃ³w:</p>
<ol class="arabic simple">
<li><p><strong>Android lub Emscripten (<code class="docutils literal notranslate"><span class="pre">ANDROID</span></code> || <code class="docutils literal notranslate"><span class="pre">__EMSCRIPTEN__</span></code>)</strong>:</p>
<ul class="simple">
<li><p>DoÅ‚Ä…czane sÄ… nagÅ‚Ã³wki <strong>OpenGL ES 2.0</strong> (<code class="docutils literal notranslate"><span class="pre">&lt;GLES2/gl2.h&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;GLES2/gl2ext.h&gt;</span></code>) oraz <strong>EGL</strong> (<code class="docutils literal notranslate"><span class="pre">&lt;EGL/egl.h&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;EGL/eglext.h&gt;</span></code>). EGL jest interfejsem, ktÃ³ry Å‚Ä…czy API renderowania (jak OpenGL ES) z natywnym systemem okienkowym platformy.</p></li>
</ul>
</li>
<li><p><strong>Inne platformy z <code class="docutils literal notranslate"><span class="pre">OPENGL_ES</span></code></strong>:</p>
<ul class="simple">
<li><p>Podobnie jak wyÅ¼ej, doÅ‚Ä…czane sÄ… nagÅ‚Ã³wki OpenGL ES 2.0 i EGL. Definiowane sÄ… rÃ³wnieÅ¼ makra <code class="docutils literal notranslate"><span class="pre">GL_GLEXT_PROTOTYPES</span></code>, <code class="docutils literal notranslate"><span class="pre">EGL_EGL_PROTOTYPES</span></code>, aby zapewniÄ‡ dostÄ™p do prototypÃ³w funkcji.</p></li>
</ul>
</li>
<li><p><strong>DomyÅ›lnie (Desktop - Windows/Linux/macOS)</strong>:</p>
<ul class="simple">
<li><p>DoÅ‚Ä…czana jest biblioteka <strong>GLEW</strong> (<code class="docutils literal notranslate"><span class="pre">&lt;GL/glew.h&gt;</span></code>). GLEW (OpenGL Extension Wrangler) jest bibliotekÄ…, ktÃ³ra upraszcza zarzÄ…dzanie i Å‚adowanie rozszerzeÅ„ OpenGL, co jest konieczne na platformach desktopowych.</p></li>
<li><p>Na systemach innych niÅ¼ Windows, <code class="docutils literal notranslate"><span class="pre">GLEW_STATIC</span></code> jest definiowane, aby linkowaÄ‡ GLEW statycznie.</p></li>
</ul>
</li>
</ol>
</section>
<section id="id388">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id388" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Ten plik nie ma zaleÅ¼noÅ›ci od innych plikÃ³w projektu.</p></li>
<li><p>Jest doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>, co sprawia, Å¼e definicje OpenGL sÄ… dostÄ™pne we wszystkich plikach moduÅ‚u graficznego.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="graphics-cpp">
<h1>ğŸ“„ graphics.cpp<a class="headerlink" href="#graphics-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id389">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id389" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graphics.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_graphics</span></code>) odpowiedzialnym za inicjalizacjÄ™ i zarzÄ…dzanie globalnym stanem silnika graficznego opartego na OpenGL.</p>
</section>
<section id="id390">
<h1>Zmienne globalne<a class="headerlink" href="#id390" title="Link to this heading">#</a></h1>
</section>
<section id="g-graphics">
<h1><code class="docutils literal notranslate"><span class="pre">g_graphics</span></code><a class="headerlink" href="#g-graphics" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Graphics</span><span class="w"> </span><span class="n">g_graphics</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-graphics">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Graphics</span></code><a class="headerlink" href="#klasa-graphics" title="Link to this heading">#</a></h1>
</section>
<section id="graphics-graphics">
<h1><code class="docutils literal notranslate"><span class="pre">Graphics::Graphics()</span></code><a class="headerlink" href="#graphics-graphics" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domyÅ›lnÄ… maksymalnÄ… wielkoÅ›Ä‡ tekstury na <code class="docutils literal notranslate"><span class="pre">2048</span></code>.</p>
</section>
<section id="void-graphics-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::init()</span></code><a class="headerlink" href="#void-graphics-init" title="Link to this heading">#</a></h1>
</section>
<section id="id391">
<h1>Opis semantyczny<a class="headerlink" href="#id391" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda inicjalizujÄ…ca. Uruchamia i konfiguruje kontekst OpenGL oraz inicjalizuje wszystkie pod-menedÅ¼ery graficzne.</p>
</section>
<section id="id392">
<h1>DziaÅ‚anie<a class="headerlink" href="#id392" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Odczytuje i zapisuje informacje o sterowniku graficznym (<code class="docutils literal notranslate"><span class="pre">GL_VENDOR</span></code>, <code class="docutils literal notranslate"><span class="pre">GL_RENDERER</span></code>, <code class="docutils literal notranslate"><span class="pre">GL_VERSION</span></code>, <code class="docutils literal notranslate"><span class="pre">GL_EXTENSIONS</span></code>) za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glGetString</span></code>.</p></li>
<li><p>Loguje te informacje.</p></li>
<li><p><strong>Na platformach desktopowych</strong>:</p>
<ul class="simple">
<li><p>Sprawdza, czy wersja OpenGL jest co najmniej 2.0.</p></li>
<li><p>Inicjalizuje GLEW (<code class="docutils literal notranslate"><span class="pre">glewInit()</span></code>).</p></li>
<li><p>Sprawdza, czy dostÄ™pne sÄ… rozszerzenia FBO (Framebuffer Object) i w razie potrzeby mapuje funkcje <code class="docutils literal notranslate"><span class="pre">...EXT</span></code> na standardowe nazwy.</p></li>
</ul>
</li>
<li><p>WÅ‚Ä…cza globalnie mieszanie kolorÃ³w (<code class="docutils literal notranslate"><span class="pre">glEnable(GL_BLEND)</span></code>).</p></li>
<li><p>Pobiera maksymalny obsÅ‚ugiwany rozmiar tekstury z <code class="docutils literal notranslate"><span class="pre">GL_MAX_TEXTURE_SIZE</span></code>.</p></li>
<li><p>(Opcjonalnie) Sprawdza wsparcie dla bufora gÅ‚Ä™bi.</p></li>
<li><p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_ok</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>, sygnalizujÄ…c pomyÅ›lnÄ… inicjalizacjÄ™.</p></li>
<li><p>Tworzy i bindowanie globalny obiekt <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p>Inicjalizuje menedÅ¼ery: <code class="docutils literal notranslate"><span class="pre">g_textures</span></code>, <code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code>, <code class="docutils literal notranslate"><span class="pre">g_atlas</span></code>, <code class="docutils literal notranslate"><span class="pre">g_text</span></code>.</p></li>
</ol>
</section>
<section id="void-graphics-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::terminate()</span></code><a class="headerlink" href="#void-graphics-terminate" title="Link to this heading">#</a></h1>
<p>Zwalnia zasoby w odwrotnej kolejnoÅ›ci do inicjalizacji, wywoÅ‚ujÄ…c <code class="docutils literal notranslate"><span class="pre">terminate()</span></code> na wszystkich pod-menedÅ¼erach oraz niszczÄ…c obiekt <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p>
</section>
<section id="void-graphics-resize-const-size-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-graphics-resize-const-size-size" title="Link to this heading">#</a></h1>
<p>Aktualizuje rozmiar viewportu. Ustawia <code class="docutils literal notranslate"><span class="pre">m_viewportSize</span></code> i przekazuje nowy rozmiar do <code class="docutils literal notranslate"><span class="pre">g_painter</span></code>, ktÃ³ry z kolei aktualizuje macierz projekcji i <code class="docutils literal notranslate"><span class="pre">glViewport</span></code>.</p>
</section>
<section id="void-graphics-checkforerror">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::checkForError(...)</span></code><a class="headerlink" href="#void-graphics-checkforerror" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza, ktÃ³ra sprawdza bÅ‚Ä™dy OpenGL za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glGetError()</span></code>. JeÅ›li wystÄ…piÅ‚ bÅ‚Ä…d, loguje go wraz z informacjÄ… o funkcji, pliku i numerze linii, w ktÃ³rej zostaÅ‚ wykryty. W trybie debugowania powoduje to bÅ‚Ä…d krytyczny.</p>
</section>
<section id="id393">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id393" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fontmanager.h</span></code>, <code class="docutils literal notranslate"><span class="pre">painter.h</span></code>, <code class="docutils literal notranslate"><span class="pre">atlas.h</span></code>, <code class="docutils literal notranslate"><span class="pre">texturemanager.h</span></code>, <code class="docutils literal notranslate"><span class="pre">framebuffermanager.h</span></code>, <code class="docutils literal notranslate"><span class="pre">textrender.h</span></code>: Inicjalizuje i zarzÄ…dza tymi kluczowymi komponentami graficznymi.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platformwindow.h</span></code>: PoÅ›rednio, poprzez <code class="docutils literal notranslate"><span class="pre">g_window</span></code>, od ktÃ³rego zaleÅ¼y kontekst OpenGL.</p></li>
<li><p>Jest to centralna klasa-menedÅ¼er dla caÅ‚ego podsystemu graficznego.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="graphics-h">
<h1>ğŸ“„ graphics.h<a class="headerlink" href="#graphics-h" title="Link to this heading">#</a></h1>
</section>
<section id="id394">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id394" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graphics.h</span></code> deklaruje interfejs klasy <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_graphics</span></code>) zarzÄ…dzajÄ…cym globalnym stanem i inicjalizacjÄ… silnika graficznego.</p>
</section>
<section id="id395">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Graphics</span></code><a class="headerlink" href="#id395" title="Link to this heading">#</a></h1>
</section>
<section id="id396">
<h1>Opis semantyczny<a class="headerlink" href="#id396" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Graphics</span></code> peÅ‚ni rolÄ™ gÅ‚Ã³wnego menedÅ¼era podsystemu graficznego. Odpowiada za inicjalizacjÄ™ OpenGL/GLES, odpytywanie o moÅ¼liwoÅ›ci sprzÄ™towe (wersja, rozszerzenia, maksymalny rozmiar tekstury) oraz za zarzÄ…dzanie cyklem Å¼ycia innych menedÅ¼erÃ³w graficznych, takich jak <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code> czy <code class="docutils literal notranslate"><span class="pre">FontManager</span></code>.</p>
</section>
<section id="id397">
<h1>Metody publiczne<a class="headerlink" href="#id397" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Graphics()</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje silnik graficzny (kontekst OpenGL, menedÅ¼ery).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia zasoby silnika graficznego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></p></td>
<td class="text-left"><p>Aktualizuje rozmiar viewportu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">checkDepthSupport()</span></code></p></td>
<td class="text-left"><p>Sprawdza wsparcie dla bufora gÅ‚Ä™bi.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getMaxTextureSize()</span></code></p></td>
<td class="text-left"><p>Zwraca maksymalny obsÅ‚ugiwany rozmiar tekstury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">getViewportSize()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny rozmiar viewportu (okna/ekranu).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getVendor()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ producenta karty graficznej.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getRenderer()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ modelu karty graficznej/sterownika.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getVersion()</span></code></p></td>
<td class="text-left"><p>Zwraca wersjÄ™ OpenGL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getExtensions()</span></code></p></td>
<td class="text-left"><p>Zwraca listÄ™ dostÄ™pnych rozszerzeÅ„ OpenGL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ok()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li inicjalizacja grafiki przebiegÅ‚a pomyÅ›lnie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">checkForError(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza i loguje bÅ‚Ä™dy OpenGL.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id398">
<h1>Zmienne prywatne<a class="headerlink" href="#id398" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_viewportSize</span></code>: Aktualny rozmiar obszaru renderowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_vendor</span></code>, <code class="docutils literal notranslate"><span class="pre">m_renderer</span></code>, <code class="docutils literal notranslate"><span class="pre">m_version</span></code>, <code class="docutils literal notranslate"><span class="pre">m_extensions</span></code>: Informacje o sterowniku graficznym.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_maxTextureSize</span></code>: Maksymalny rozmiar tekstury obsÅ‚ugiwany przez sprzÄ™t.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_ok</span></code>: Flaga pomyÅ›lnej inicjalizacji.</p></li>
</ul>
</section>
<section id="id399">
<h1>Zmienne globalne<a class="headerlink" href="#id399" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_graphics</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>.</p></li>
</ul>
</section>
<section id="id400">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id400" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">painter.h</span></code>: Podstawowe deklaracje i klasa <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindsingleton</span> <span class="pre">g_graphics</span></code>, co udostÄ™pnia jej metody (np. <code class="docutils literal notranslate"><span class="pre">getVendor</span></code>) w Lua.</p></li>
<li><p>Jest inicjalizowana i zamykana przez <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="image-cpp">
<h1>ğŸ“„ image.cpp<a class="headerlink" href="#image-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id401">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id401" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">image.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Image</span></code>, ktÃ³ra reprezentuje obraz rastrowy w pamiÄ™ci RAM. Jest to podstawowa klasa do Å‚adowania, manipulowania i zapisywania danych obrazÃ³w, zanim zostanÄ… one przesÅ‚ane do pamiÄ™ci karty graficznej jako tekstury.</p>
</section>
<section id="klasa-image">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Image</span></code><a class="headerlink" href="#klasa-image" title="Link to this heading">#</a></h1>
</section>
<section id="image-image-const-size-size-int-bpp-uint8-pixels">
<h1><code class="docutils literal notranslate"><span class="pre">Image::Image(const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">int</span> <span class="pre">bpp,</span> <span class="pre">uint8</span> <span class="pre">*pixels)</span></code><a class="headerlink" href="#image-image-const-size-size-int-bpp-uint8-pixels" title="Link to this heading">#</a></h1>
<p>Konstruktor. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">Image</span></code> o podanych wymiarach i gÅ‚Ä™bi bitowej (bpp - bits per pixel). Opcjonalnie kopiuje dane pikseli z podanego bufora.</p>
</section>
<section id="imageptr-image-load-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::load(std::string</span> <span class="pre">file)</span></code><a class="headerlink" href="#imageptr-image-load-std-string-file" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna do Å‚adowania obrazu z pliku. Obecnie obsÅ‚uguje tylko format PNG, wywoÅ‚ujÄ…c <code class="docutils literal notranslate"><span class="pre">loadPNG</span></code>.</p>
</section>
<section id="imageptr-image-loadpng">
<h1><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::loadPNG(...)</span></code><a class="headerlink" href="#imageptr-image-loadpng" title="Link to this heading">#</a></h1>
<p>Statyczne metody do Å‚adowania obrazu w formacie PNG z pliku lub z bufora w pamiÄ™ci. UÅ¼ywajÄ… funkcji <code class="docutils literal notranslate"><span class="pre">load_apng</span></code> z <code class="docutils literal notranslate"><span class="pre">apngloader.cpp</span></code> do parsowania danych.</p>
</section>
<section id="void-image-savepng-const-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::savePNG(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code><a class="headerlink" href="#void-image-savepng-const-std-string-filename" title="Link to this heading">#</a></h1>
<p>Zapisuje obraz do pliku w formacie PNG, uÅ¼ywajÄ…c funkcji <code class="docutils literal notranslate"><span class="pre">save_png</span></code> z <code class="docutils literal notranslate"><span class="pre">apngloader.cpp</span></code>.</p>
</section>
<section id="void-image-blit-const-point-dest-const-imageptr-other">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::blit(const</span> <span class="pre">Point&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">other)</span></code><a class="headerlink" href="#void-image-blit-const-point-dest-const-imageptr-other" title="Link to this heading">#</a></h1>
<p>Kopiuje piksele z innego obrazu (<code class="docutils literal notranslate"><span class="pre">other</span></code>) do tego obrazu w podane miejsce (<code class="docutils literal notranslate"><span class="pre">dest</span></code>). Kopiowanie odbywa siÄ™ z uwzglÄ™dnieniem przezroczystoÅ›ci â€“ piksele w peÅ‚ni przezroczyste w obrazie ÅºrÃ³dÅ‚owym nie sÄ… kopiowane.</p>
</section>
<section id="void-image-paste-const-imageptr-other">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::paste(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">other)</span></code><a class="headerlink" href="#void-image-paste-const-imageptr-other" title="Link to this heading">#</a></h1>
<p>NakÅ‚ada inny obraz (<code class="docutils literal notranslate"><span class="pre">other</span></code>) na ten obraz, zastÄ™pujÄ…c istniejÄ…ce piksele. Nie uwzglÄ™dnia przezroczystoÅ›ci.</p>
</section>
<section id="imageptr-image-upscale">
<h1><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::upscale()</span></code><a class="headerlink" href="#imageptr-image-upscale" title="Link to this heading">#</a></h1>
<p>Tworzy i zwraca nowy obraz, ktÃ³ry jest dwukrotnie wiÄ™kszy od oryginalnego. KaÅ¼dy piksel z obrazu ÅºrÃ³dÅ‚owego jest powielany do bloku 2x2 w obrazie docelowym (skalowanie metodÄ… â€œnajbliÅ¼szego sÄ…siadaâ€).</p>
</section>
<section id="bool-image-nextmipmap">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Image::nextMipmap()</span></code><a class="headerlink" href="#bool-image-nextmipmap" title="Link to this heading">#</a></h1>
<p>Generuje nastÄ™pny, mniejszy poziom mipmapy na podstawie bieÅ¼Ä…cych danych pikseli. Oblicza Å›redniÄ… z bloku 2x2 pikseli, aby stworzyÄ‡ jeden piksel dla mniejszego obrazu. Jest to prosta implementacja filtrowania biliniowego. Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>, gdy obraz osiÄ…gnie rozmiar 1x1.</p>
</section>
<section id="imageptr-image-fromqrcode-const-std-string-code-int-border">
<h1><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::fromQRCode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">code,</span> <span class="pre">int</span> <span class="pre">border)</span></code><a class="headerlink" href="#imageptr-image-fromqrcode-const-std-string-code-int-border" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna, ktÃ³ra generuje obraz kodu QR na podstawie podanego tekstu, uÅ¼ywajÄ…c biblioteki <code class="docutils literal notranslate"><span class="pre">qrcodegen</span></code>.</p>
</section>
<section id="id402">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id402" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/image.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do otwierania i odczytywania plikÃ³w obrazÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/apngloader.h</span></code>: Do obsÅ‚ugi formatu PNG/APNG.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/qrcodegen.h</span></code>: Do generowania kodÃ³w QR.</p></li>
<li><p>Obiekty <code class="docutils literal notranslate"><span class="pre">Image</span></code> sÄ… zazwyczaj krÃ³tkotrwaÅ‚e â€“ istniejÄ… od momentu zaÅ‚adowania z pliku do momentu utworzenia z nich obiektu <code class="docutils literal notranslate"><span class="pre">Texture</span></code> i przesÅ‚ania danych do GPU.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="hardwarebuffer-h">
<h1>ğŸ“„ hardwarebuffer.h<a class="headerlink" href="#hardwarebuffer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id403">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id403" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">hardwarebuffer.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code>, ktÃ³ra jest opakowaniem na sprzÄ™towe bufory wierzchoÅ‚kÃ³w (Vertex Buffer Objects - VBO) w OpenGL. UmoÅ¼liwia przechowywanie danych geometrycznych (np. wspÃ³Å‚rzÄ™dnych wierzchoÅ‚kÃ³w) w pamiÄ™ci karty graficznej w celu uzyskania wysokiej wydajnoÅ›ci renderowania.</p>
</section>
<section id="klasa-hardwarebuffer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code><a class="headerlink" href="#klasa-hardwarebuffer" title="Link to this heading">#</a></h1>
</section>
<section id="id404">
<h1>Opis semantyczny<a class="headerlink" href="#id404" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code> enkapsuluje ID bufora VBO w OpenGL i dostarcza podstawowe metody do jego obsÅ‚ugi: bindowania, odpinania i zapisu danych. UÅ¼ycie VBO jest znacznie wydajniejsze niÅ¼ przesyÅ‚anie danych wierzchoÅ‚kÃ³w z pamiÄ™ci RAM do GPU w kaÅ¼dej klatce.</p>
</section>
<section id="id405">
<h1>Typy wyliczeniowe (Enums)<a class="headerlink" href="#id405" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">Type</span></code></strong>: OkreÅ›la typ bufora.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">VertexBuffer</span></code> (<code class="docutils literal notranslate"><span class="pre">GL_ARRAY_BUFFER</span></code>): Przechowuje atrybuty wierzchoÅ‚kÃ³w (np. pozycje, kolory, wspÃ³Å‚rzÄ™dne tekstur).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IndexBuffer</span></code> (<code class="docutils literal notranslate"><span class="pre">GL_ELEMENT_ARRAY_BUFFER</span></code>): Przechowuje indeksy wierzchoÅ‚kÃ³w (nieuÅ¼ywane w tym kodzie).</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">UsagePattern</span></code></strong>: WskazÃ³wka dla sterownika OpenGL, jak dane bÄ™dÄ… uÅ¼ywane.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">StreamDraw</span></code> (<code class="docutils literal notranslate"><span class="pre">GL_STREAM_DRAW</span></code>): Dane zmieniane czÄ™sto, uÅ¼ywane rzadko.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StaticDraw</span></code> (<code class="docutils literal notranslate"><span class="pre">GL_STATIC_DRAW</span></code>): Dane ustawiane raz, uÅ¼ywane czÄ™sto.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DynamicDraw</span></code> (<code class="docutils literal notranslate"><span class="pre">GL_DYNAMIC_DRAW</span></code>): Dane zmieniane i uÅ¼ywane czÄ™sto.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id406">
<h1>Metody publiczne<a class="headerlink" href="#id406" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HardwareBuffer(Type</span> <span class="pre">type)</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy nowy obiekt bufora w OpenGL (<code class="docutils literal notranslate"><span class="pre">glGenBuffers</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~HardwareBuffer()</span></code></p></td>
<td class="text-left"><p>Destruktor, zwalnia obiekt bufora (<code class="docutils literal notranslate"><span class="pre">glDeleteBuffers</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bind()</span></code></p></td>
<td class="text-left"><p>Bindowanie (aktywuje) bufor w kontekÅ›cie OpenGL (<code class="docutils literal notranslate"><span class="pre">glBindBuffer</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">unbind(Type</span> <span class="pre">type)</span></code></p></td>
<td class="text-left"><p>Odpina jakikolwiek bufor danego typu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">write(...)</span></code></p></td>
<td class="text-left"><p>Kopiuje dane z pamiÄ™ci RAM do bufora w pamiÄ™ci GPU (<code class="docutils literal notranslate"><span class="pre">glBufferData</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id407">
<h1>Zmienne prywatne<a class="headerlink" href="#id407" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_type</span></code>: Typ bufora (<code class="docutils literal notranslate"><span class="pre">VertexBuffer</span></code> lub <code class="docutils literal notranslate"><span class="pre">IndexBuffer</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_id</span></code>: ID (uchwyt) bufora w OpenGL.</p></li>
</ul>
</section>
<section id="id408">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id408" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Zawiera <code class="docutils literal notranslate"><span class="pre">glutil.h</span></code> z definicjami OpenGL.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> (w <code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code>) do opcjonalnego keszowania geometrii na GPU.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Painter</span></code> uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code> do ustawiania atrybutÃ³w wierzchoÅ‚kÃ³w podczas rysowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="image-h">
<h1>ğŸ“„ image.h<a class="headerlink" href="#image-h" title="Link to this heading">#</a></h1>
</section>
<section id="id409">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id409" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">image.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Image</span></code>, ktÃ³ra reprezentuje obraz rastrowy przechowywany w pamiÄ™ci systemowej (RAM). Jest to podstawowa struktura danych do manipulacji pikselami przed ich wysÅ‚aniem do karty graficznej jako tekstura.</p>
</section>
<section id="id410">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Image</span></code><a class="headerlink" href="#id410" title="Link to this heading">#</a></h1>
</section>
<section id="id411">
<h1>Opis semantyczny<a class="headerlink" href="#id411" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Image</span></code> to kontener na surowe dane pikseli. Przechowuje wymiary obrazu, liczbÄ™ bitÃ³w na piksel oraz sam bufor pikseli. UdostÄ™pnia metody do Å‚adowania obrazÃ³w z plikÃ³w, zapisywania ich, a takÅ¼e do podstawowych operacji graficznych, takich jak kopiowanie fragmentÃ³w (<code class="docutils literal notranslate"><span class="pre">blit</span></code>), generowanie mipmap czy skalowanie.</p>
</section>
<section id="id412">
<h1>Metody publiczne<a class="headerlink" href="#id412" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Image(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">ImagePtr</span> <span class="pre">load(...)</span></code></p></td>
<td class="text-left"><p>Statyczna metoda fabryczna do Å‚adowania obrazu z pliku (obecnie tylko PNG).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">ImagePtr</span> <span class="pre">loadPNG(...)</span></code></p></td>
<td class="text-left"><p>Åaduje obraz PNG z pliku lub bufora w pamiÄ™ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">savePNG(...)</span></code></p></td>
<td class="text-left"><p>Zapisuje obraz do pliku w formacie PNG.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">blit(...)</span></code></p></td>
<td class="text-left"><p>Kopiuje inny obraz na ten obraz z uwzglÄ™dnieniem przezroczystoÅ›ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">paste(...)</span></code></p></td>
<td class="text-left"><p>NakÅ‚ada inny obraz na ten obraz, zastÄ™pujÄ…c piksele.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">upscale()</span></code></p></td>
<td class="text-left"><p>Zwraca nowÄ…, dwukrotnie wiÄ™kszÄ… wersjÄ™ obrazu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(...)</span></code></p></td>
<td class="text-left"><p>Zmienia rozmiar obrazu, realokujÄ…c bufor pikseli.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">nextMipmap()</span></code></p></td>
<td class="text-left"><p>Generuje kolejny poziom mipmapy, zmniejszajÄ…c obraz o poÅ‚owÄ™.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setPixel(...)</span></code></p></td>
<td class="text-left"><p>Ustawia kolor pojedynczego piksela.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint8&gt;&amp;</span> <span class="pre">getPixels()</span></code></p></td>
<td class="text-left"><p>Zwraca referencjÄ™ do wektora pikseli.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint8*</span> <span class="pre">getPixelData()</span></code></p></td>
<td class="text-left"><p>Zwraca surowy wskaÅºnik na dane pikseli.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getPixelCount()</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ pikseli.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">getSize()</span></code></p></td>
<td class="text-left"><p>Zwraca wymiary obrazu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getBpp()</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ bajtÃ³w na piksel.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">ImagePtr</span> <span class="pre">fromQRCode(...)</span></code></p></td>
<td class="text-left"><p>Tworzy obraz z kodu QR.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id413">
<h1>Zmienne prywatne<a class="headerlink" href="#id413" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_pixels</span></code>: Wektor przechowujÄ…cy dane pikseli.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Wymiary obrazu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_bpp</span></code>: Liczba bajtÃ³w na piksel.</p></li>
</ul>
</section>
<section id="id414">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id414" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: Potencjalnie, chociaÅ¼ tutaj uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">std::vector</span></code>.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Texture</span></code> i <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code> jako ÅºrÃ³dÅ‚o danych pikseli podczas tworzenia tekstur.</p></li>
<li><p>Wykorzystywana przez <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> do Å‚adowania ikon i kursorÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="framebuffermanager-h">
<h1>ğŸ“„ framebuffermanager.h<a class="headerlink" href="#framebuffermanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id415">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id415" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">framebuffermanager.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code>) sÅ‚uÅ¼Ä…cym do zarzÄ…dzania i tworzenia obiektÃ³w <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p>
</section>
<section id="id416">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code><a class="headerlink" href="#id416" title="Link to this heading">#</a></h1>
</section>
<section id="id417">
<h1>Opis semantyczny<a class="headerlink" href="#id417" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code> peÅ‚ni rolÄ™ fabryki i menedÅ¼era dla obiektÃ³w <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>. Upraszcza ich tworzenie i zarzÄ…dzanie cyklem Å¼ycia. UdostÄ™pnia rÃ³wnieÅ¼ dwa predefiniowane, â€œtymczasoweâ€ bufory, ktÃ³re mogÄ… byÄ‡ uÅ¼ywane w caÅ‚ym systemie do krÃ³tkotrwaÅ‚ych operacji renderowania poza ekranem, co pozwala uniknÄ…Ä‡ kosztownego tworzenia i niszczenia FBO.</p>
</section>
<section id="id418">
<h1>Metody publiczne<a class="headerlink" href="#id418" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje menedÅ¼era i tworzy tymczasowe bufory ramki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia wszystkie zarzÄ…dzane bufory ramki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>(Brak implementacji) Prawdopodobnie miaÅ‚a sÅ‚uÅ¼yÄ‡ do zwolnienia wszystkich buforÃ³w poza tymczasowymi.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">FrameBufferPtr</span> <span class="pre">createFrameBuffer(bool</span> <span class="pre">withDepth</span> <span class="pre">=</span> <span class="pre">false)</span></code></p></td>
<td class="text-left"><p>Metoda fabryczna tworzÄ…ca i zwracajÄ…ca nowy obiekt <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">FrameBufferPtr&amp;</span> <span class="pre">getTemporaryFrameBuffer()</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik do pierwszego tymczasowego bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">FrameBufferPtr&amp;</span> <span class="pre">getDrawQueueTemporaryFrameBuffer()</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik do drugiego tymczasowego bufora, prawdopodobnie uÅ¼ywanego przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id419">
<h1>Zmienne chronione<a class="headerlink" href="#id419" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_temporaryFramebuffer</span></code>: Pierwszy tymczasowy <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawQueueTemporaryFramebuffer</span></code>: Drugi tymczasowy <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_framebuffers</span></code>: Wektor przechowujÄ…cy wskaÅºniki do wszystkich utworzonych (i niezwolnionych) buforÃ³w ramki. |</p></li>
</ul>
</section>
<section id="id420">
<h1>Zmienne globalne<a class="headerlink" href="#id420" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>.</p></li>
</ul>
</section>
<section id="id421">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id421" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffer.h</span></code>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p></li>
<li><p>Jest to kluczowy komponent, od ktÃ³rego zaleÅ¼Ä… inne czÄ™Å›ci systemu graficznego, takie jak <code class="docutils literal notranslate"><span class="pre">Atlas</span></code> i <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, ktÃ³re potrzebujÄ… tworzyÄ‡ wÅ‚asne bufory ramki.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="painter-h">
<h1>ğŸ“„ painter.h<a class="headerlink" href="#painter-h" title="Link to this heading">#</a></h1>
</section>
<section id="id422">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id422" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">painter.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, ktÃ³ra jest centralnym interfejsem do wszystkich operacji rysowania w 2D. Abstrakcjonuje ona niskopoziomowe wywoÅ‚ania OpenGL, dostarczajÄ…c prostsze API do rysowania prostokÄ…tÃ³w, tekstur, linii i zarzÄ…dzania stanem renderowania.</p>
</section>
<section id="klasa-painter">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Painter</span></code><a class="headerlink" href="#klasa-painter" title="Link to this heading">#</a></h1>
</section>
<section id="id423">
<h1>Opis semantyczny<a class="headerlink" href="#id423" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Painter</span></code> dziaÅ‚a jak maszyna stanÃ³w. Przechowuje aktualny stan renderowania, taki jak macierze transformacji, kolor, tryb mieszania, aktywny shader, tekstura, itp. KaÅ¼da operacja rysowania jest wykonywana w kontekÅ›cie tego stanu. <code class="docutils literal notranslate"><span class="pre">Painter</span></code> zarzÄ…dza rÃ³wnieÅ¼ wÅ‚asnymi, domyÅ›lnymi programami shaderÃ³w do podstawowych operacji.</p>
</section>
<section id="id424">
<h1>Typy wyliczeniowe (Enums)<a class="headerlink" href="#id424" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BlendEquation</span></code>: OkreÅ›la, jak kolory sÄ… mieszane (np. dodawanie, odejmowanie).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CompositionMode</span></code>: Definiuje predefiniowane tryby mieszania (<code class="docutils literal notranslate"><span class="pre">glBlendFunc</span></code>), np. normalne (z przezroczystoÅ›ciÄ…), addytywne, mnoÅ¼enie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DepthFunc</span></code>: OkreÅ›la funkcjÄ™ testu gÅ‚Ä™bi.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawMode</span></code>: OkreÅ›la prymityw do rysowania (trÃ³jkÄ…ty, paski trÃ³jkÄ…tÃ³w).</p></li>
</ul>
</section>
<section id="struktura-painterstate">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">PainterState</span></code><a class="headerlink" href="#struktura-painterstate" title="Link to this heading">#</a></h1>
<p>Przechowuje peÅ‚ny stan <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, co pozwala na jego zapisywanie i przywracanie.</p>
</section>
<section id="id425">
<h1>Metody publiczne<a class="headerlink" href="#id425" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>ZarzÄ…dzanie stanem</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">resetState()</span></code></p></td>
<td class="text-left"><p>Przywraca wszystkie ustawienia do wartoÅ›ci domyÅ›lnych.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">saveState()</span></code> / <code class="docutils literal notranslate"><span class="pre">restoreSavedState()</span></code></p></td>
<td class="text-left"><p>Zapisuje/przywraca stan na wewnÄ™trznym stosie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setTransformMatrix(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">setProjectionMatrix(...)</span></code>, â€¦</p></td>
<td class="text-left"><p>UstawiajÄ… poszczegÃ³lne elementy stanu (macierze, tryb mieszania, etc.).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">scale()</span></code>, <code class="docutils literal notranslate"><span class="pre">translate()</span></code>, <code class="docutils literal notranslate"><span class="pre">rotate()</span></code></p></td>
<td class="text-left"><p>ModyfikujÄ… bieÅ¼Ä…cÄ… macierz transformacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Operacje rysowania</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">clear(const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci caÅ‚y bufor ramki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawCoords(...)</span></code></p></td>
<td class="text-left"><p>Niskopoziomowa metoda rysujÄ…ca geometriÄ™ z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawFilledRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code></p></td>
<td class="text-left"><p>Rysuje wypeÅ‚niony prostokÄ…t.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawTexturedRect(...)</span></code></p></td>
<td class="text-left"><p>Rysuje prostokÄ…t z teksturÄ….</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawText(...)</span></code></p></td>
<td class="text-left"><p>Rysuje tekst (przez <code class="docutils literal notranslate"><span class="pre">TextRender</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawLine(...)</span></code></p></td>
<td class="text-left"><p>Rysuje liniÄ™.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawCache(...)</span></code></p></td>
<td class="text-left"><p>Rysuje dane zbuforowane w <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Gettery</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTransformMatrix()</span></code>, <code class="docutils literal notranslate"><span class="pre">getColor()</span></code>, <code class="docutils literal notranslate"><span class="pre">getClipRect()</span></code>, â€¦</p></td>
<td class="text-left"><p>ZwracajÄ… aktualne wartoÅ›ci stanu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">draws()</span></code>, <code class="docutils literal notranslate"><span class="pre">calls()</span></code></p></td>
<td class="text-left"><p>ZwracajÄ… statystyki renderowania dla bieÅ¼Ä…cej klatki.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zmienne-chronione-prywatne">
<h1>Zmienne chronione/prywatne<a class="headerlink" href="#zmienne-chronione-prywatne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_transformMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">m_projectionMatrix</span></code>, â€¦: Zmienne przechowujÄ…ce aktualny stan.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_transformMatrixStack</span></code>: Stos do zapisywania macierzy transformacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_olderStates</span></code>: Stos do zapisywania peÅ‚nego stanu <code class="docutils literal notranslate"><span class="pre">PainterState</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_draw...Program</span></code>: WskaÅºniki na domyÅ›lne programy shaderÃ³w.</p></li>
</ul>
</section>
<section id="id426">
<h1>Zmienne globalne<a class="headerlink" href="#id426" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_painter</span></code>: Globalny wskaÅºnik na instancjÄ™ <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
</ul>
</section>
<section id="id427">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id427" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code>, <code class="docutils literal notranslate"><span class="pre">paintershaderprogram.h</span></code>, <code class="docutils literal notranslate"><span class="pre">texture.h</span></code>, <code class="docutils literal notranslate"><span class="pre">colorarray.h</span></code>, <code class="docutils literal notranslate"><span class="pre">drawqueue.h</span></code>: Deklaracje typÃ³w, z ktÃ³rymi <code class="docutils literal notranslate"><span class="pre">Painter</span></code> wspÃ³Å‚pracuje.</p></li>
<li><p>Jest to centralny komponent renderujÄ…cy, uÅ¼ywany bezpoÅ›rednio lub poÅ›rednio przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>, <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">TextRender</span></code> i inne.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="painter-cpp">
<h1>ğŸ“„ painter.cpp<a class="headerlink" href="#painter-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id428">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id428" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">painter.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, ktÃ³ra jest sercem silnika renderujÄ…cego. Odpowiada za bezpoÅ›redniÄ… komunikacjÄ™ z API graficznym (OpenGL) w celu rysowania prymitywÃ³w 2D.</p>
</section>
<section id="id429">
<h1>Zmienne globalne<a class="headerlink" href="#id429" title="Link to this heading">#</a></h1>
</section>
<section id="g-painter">
<h1><code class="docutils literal notranslate"><span class="pre">g_painter</span></code><a class="headerlink" href="#g-painter" title="Link to this heading">#</a></h1>
<p>Globalny wskaÅºnik na jedynÄ… instancjÄ™ <code class="docutils literal notranslate"><span class="pre">Painter</span></code>. Jest inicjalizowany w <code class="docutils literal notranslate"><span class="pre">Graphics::init()</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Painter</span><span class="o">*</span><span class="w"> </span><span class="n">g_painter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id430">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Painter</span></code><a class="headerlink" href="#id430" title="Link to this heading">#</a></h1>
</section>
<section id="painter-painter">
<h1><code class="docutils literal notranslate"><span class="pre">Painter::Painter()</span></code><a class="headerlink" href="#painter-painter" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domyÅ›lne wartoÅ›ci stanu, takie jak macierze, kolory i tryby mieszania. Co najwaÅ¼niejsze, tworzy i kompiluje zestaw domyÅ›lnych programÃ³w shaderÃ³w, ktÃ³re sÄ… uÅ¼ywane do podstawowych operacji rysowania:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawTexturedProgram</span></code>: Do rysowania tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawSolidColorProgram</span></code>: Do rysowania jednolitych kolorÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawSolidColorOnTextureProgram</span></code>: Do rysowania jednolitego koloru na wierzchu tekstury.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawOutfitLayersProgram</span></code>: Specjalny shader do rysowania strojÃ³w postaci z kolorowaniem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawNewProgram</span></code>: Shader uÅ¼ywany przez <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code> do zoptymalizowanego rysowania wsadowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawTextProgram</span></code>, <code class="docutils literal notranslate"><span class="pre">m_drawLineProgram</span></code>: Specjalne shadery do rysowania tekstu i linii.</p></li>
</ul>
</section>
<section id="void-painter-bind-i-void-painter-unbind">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::unbind()</span></code><a class="headerlink" href="#void-painter-bind-i-void-painter-unbind" title="Link to this heading">#</a></h1>
<p>Metody wywoÅ‚ywane na poczÄ…tku i na koÅ„cu cyklu Å¼ycia <code class="docutils literal notranslate"><span class="pre">Painter</span></code>. <code class="docutils literal notranslate"><span class="pre">bind()</span></code> wÅ‚Ä…cza podstawowe atrybuty wierzchoÅ‚kÃ³w, ktÃ³re sÄ… zawsze aktywne.</p>
</section>
<section id="void-painter-resetstate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::resetState()</span></code><a class="headerlink" href="#void-painter-resetstate" title="Link to this heading">#</a></h1>
<p>Przywraca wszystkie parametry <code class="docutils literal notranslate"><span class="pre">Painter</span></code> (kolor, macierze, tryby mieszania itp.) do ich wartoÅ›ci domyÅ›lnych.</p>
</section>
<section id="void-painter-savestate-i-void-painter-restoresavedstate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::saveState()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::restoreSavedState()</span></code><a class="headerlink" href="#void-painter-savestate-i-void-painter-restoresavedstate" title="Link to this heading">#</a></h1>
<p>ImplementujÄ… mechanizm stosu do zapisywania i przywracania stanu renderowania. Pozwala to na tymczasowÄ… zmianÄ™ stanu (np. ustawienie przycinania) i Å‚atwy powrÃ³t do poprzedniego stanu.</p>
</section>
<section id="metody-updategl">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">updateGl...()</span></code><a class="headerlink" href="#metody-updategl" title="Link to this heading">#</a></h1>
<p>Prywatne metody pomocnicze (<code class="docutils literal notranslate"><span class="pre">updateGlTexture</span></code>, <code class="docutils literal notranslate"><span class="pre">updateGlCompositionMode</span></code>, <code class="docutils literal notranslate"><span class="pre">updateGlClipRect</span></code> itd.), ktÃ³re aplikujÄ… zmiany stanu <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do rzeczywistego stanu OpenGL. SÄ… wywoÅ‚ywane, gdy odpowiednia wÅ‚aÅ›ciwoÅ›Ä‡ <code class="docutils literal notranslate"><span class="pre">Painter</span></code> (np. <code class="docutils literal notranslate"><span class="pre">m_compositionMode</span></code>) ulega zmianie.</p>
</section>
<section id="void-painter-setresolution-const-size-resolution">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::setResolution(const</span> <span class="pre">Size&amp;</span> <span class="pre">resolution)</span></code><a class="headerlink" href="#void-painter-setresolution-const-size-resolution" title="Link to this heading">#</a></h1>
<p>Aktualizuje rozdzielczoÅ›Ä‡ renderowania. NajwaÅ¼niejszÄ… czÄ™Å›ciÄ… jest przeliczenie macierzy projekcji (<code class="docutils literal notranslate"><span class="pre">m_projectionMatrix</span></code>), ktÃ³ra mapuje wspÃ³Å‚rzÄ™dne w pikselach na znormalizowane wspÃ³Å‚rzÄ™dne urzÄ…dzenia OpenGL (-1 do 1).</p>
</section>
<section id="void-painter-drawcoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::drawCoords(...)</span></code><a class="headerlink" href="#void-painter-drawcoords" title="Link to this heading">#</a></h1>
<p>Niskopoziomowa metoda, ktÃ³ra jest podstawÄ… wiÄ™kszoÅ›ci operacji rysowania.</p>
<ol class="arabic simple">
<li><p>Bindowanie i konfiguruje odpowiedni program shadera.</p></li>
<li><p>Przekazuje do shadera uniformy (macierze, kolor, czas itp.).</p></li>
<li><p>Ustawia wskaÅºniki na dane atrybutÃ³w wierzchoÅ‚kÃ³w (pozycja, wspÃ³Å‚rzÄ™dne tekstury, kolor).</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">glDrawArrays</span></code> w celu narysowania geometrii.</p></li>
<li><p>Zlicza statystyki (<code class="docutils literal notranslate"><span class="pre">m_draws</span></code>, <code class="docutils literal notranslate"><span class="pre">m_calls</span></code>).</p></li>
</ol>
</section>
<section id="metody-draw-rect-i-draw-coords">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">draw...Rect(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">draw...Coords(...)</span></code><a class="headerlink" href="#metody-draw-rect-i-draw-coords" title="Link to this heading">#</a></h1>
<p>Wysokopoziomowe metody rysujÄ…ce, ktÃ³re przygotowujÄ… <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z odpowiedniÄ… geometriÄ…, a nastÄ™pnie wywoÅ‚ujÄ… <code class="docutils literal notranslate"><span class="pre">drawCoords</span></code> do jej narysowania.</p>
</section>
<section id="void-painter-drawcache">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::drawCache(...)</span></code><a class="headerlink" href="#void-painter-drawcache" title="Link to this heading">#</a></h1>
<p>Specjalna, zoptymalizowana metoda do rysowania duÅ¼ej liczby wierzchoÅ‚kÃ³w na raz. UÅ¼ywa dedykowanego shadera (<code class="docutils literal notranslate"><span class="pre">m_drawNewProgram</span></code>), ktÃ³ry pobiera pozycjÄ™, wspÃ³Å‚rzÄ™dne tekstury i kolor jako osobne atrybuty dla kaÅ¼dego wierzchoÅ‚ka.</p>
</section>
<section id="id431">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id431" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to klasa niskiego poziomu, ktÃ³ra bezpoÅ›rednio zaleÅ¼y od API graficznego (OpenGL/GLES/GLEW).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shaders/shaders.h</span></code>: Zawiera kod ÅºrÃ³dÅ‚owy domyÅ›lnych shaderÃ³w.</p></li>
<li><p>WspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>, <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>, <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>, <code class="docutils literal notranslate"><span class="pre">TextRender</span></code> i innymi komponentami graficznymi.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do wykonywania wszystkich operacji rysowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="hardwarebuffer-cpp">
<h1>ğŸ“„ hardwarebuffer.cpp<a class="headerlink" href="#hardwarebuffer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id432">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id432" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">hardwarebuffer.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code>, ktÃ³ra jest opakowaniem na bufory VBO (Vertex Buffer Object) w OpenGL.</p>
</section>
<section id="id433">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code><a class="headerlink" href="#id433" title="Link to this heading">#</a></h1>
</section>
<section id="hardwarebuffer-hardwarebuffer-type-type">
<h1><code class="docutils literal notranslate"><span class="pre">HardwareBuffer::HardwareBuffer(Type</span> <span class="pre">type)</span></code><a class="headerlink" href="#hardwarebuffer-hardwarebuffer-type-type" title="Link to this heading">#</a></h1>
<p>Konstruktor.</p>
<ul class="simple">
<li><p><strong>Parametr <code class="docutils literal notranslate"><span class="pre">type</span></code></strong>: OkreÅ›la, czy ma to byÄ‡ bufor na wierzchoÅ‚ki (<code class="docutils literal notranslate"><span class="pre">VertexBuffer</span></code>) czy indeksy (<code class="docutils literal notranslate"><span class="pre">IndexBuffer</span></code>).</p></li>
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ol class="arabic simple">
<li><p>ZapamiÄ™tuje typ bufora.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">glGenBuffers(1,</span> <span class="pre">&amp;m_id)</span></code> w celu wygenerowania nowego, unikalnego ID dla bufora w kontekÅ›cie OpenGL.</p></li>
<li><p>Sprawdza, czy operacja siÄ™ powiodÅ‚a; w przeciwnym razie koÅ„czy aplikacjÄ™ bÅ‚Ä™dem krytycznym.</p></li>
</ol>
</li>
</ul>
</section>
<section id="hardwarebuffer-hardwarebuffer">
<h1><code class="docutils literal notranslate"><span class="pre">HardwareBuffer::~HardwareBuffer()</span></code><a class="headerlink" href="#hardwarebuffer-hardwarebuffer" title="Link to this heading">#</a></h1>
<p>Destruktor.</p>
<ul class="simple">
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ol class="arabic simple">
<li><p>Zwalnia zasÃ³b OpenGL w sposÃ³b bezpieczny wÄ…tkowo.</p></li>
<li><p>Zamiast bezpoÅ›rednio wywoÅ‚ywaÄ‡ <code class="docutils literal notranslate"><span class="pre">glDeleteBuffers</span></code>, dodaje zadanie do kolejki dyspozytora graficznego (<code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>). Gwarantuje to, Å¼e operacja usuniÄ™cia zostanie wykonana w wÄ…tku, ktÃ³ry ma aktywny kontekst OpenGL, nawet jeÅ›li destruktor jest wywoÅ‚ywany z innego wÄ…tku.</p></li>
</ol>
</li>
</ul>
</section>
<section id="id434">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id434" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/hardwarebuffer.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do sprawdzania bÅ‚Ä™dÃ³w OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>, <code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code>, <code class="docutils literal notranslate"><span class="pre">logger.h</span></code>: Do walidacji, planowania zdarzeÅ„ i logowania.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> (w <code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code>) do przechowywania danych geometrycznych w pamiÄ™ci karty graficznej, co znacznie przyspiesza renderowanie.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="paintershaderprogram-cpp">
<h1>ğŸ“„ paintershaderprogram.cpp<a class="headerlink" href="#paintershaderprogram-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id435">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id435" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">paintershaderprogram.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>, ktÃ³ra jest specjalizacjÄ… <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>. Jest ona dostosowana do wspÃ³Å‚pracy z klasÄ… <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, udostÄ™pniajÄ…c standardowy zestaw uniformÃ³w i atrybutÃ³w uÅ¼ywanych w procesie renderowania 2D.</p>
</section>
<section id="klasa-paintershaderprogram">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code><a class="headerlink" href="#klasa-paintershaderprogram" title="Link to this heading">#</a></h1>
</section>
<section id="paintershaderprogram-paintershaderprogram-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">PainterShaderProgram::PainterShaderProgram(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#paintershaderprogram-paintershaderprogram-const-std-string-name" title="Link to this heading">#</a></h1>
<p>Konstruktor. WywoÅ‚uje konstruktor klasy bazowej i inicjalizuje dodatkowe zmienne, takie jak <code class="docutils literal notranslate"><span class="pre">m_startTime</span></code>, ktÃ³ry jest uÅ¼ywany do animacji opartych na czasie w shaderach.</p>
</section>
<section id="void-paintershaderprogram-setupuniforms">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::setupUniforms()</span></code><a class="headerlink" href="#void-paintershaderprogram-setupuniforms" title="Link to this heading">#</a></h1>
</section>
<section id="id436">
<h1>Opis semantyczny<a class="headerlink" href="#id436" title="Link to this heading">#</a></h1>
<p>Wirtualna metoda, ktÃ³ra po zlinkowaniu programu shadera wyszukuje lokalizacje standardowych uniformÃ³w (<code class="docutils literal notranslate"><span class="pre">u_TransformMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">u_ProjectionMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">u_Color</span></code>, <code class="docutils literal notranslate"><span class="pre">u_Tex0</span></code> itd.) i przypisuje im domyÅ›lne wartoÅ›ci.</p>
</section>
<section id="bool-paintershaderprogram-link">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">PainterShaderProgram::link()</span></code><a class="headerlink" href="#bool-paintershaderprogram-link" title="Link to this heading">#</a></h1>
<p>PrzesÅ‚ania metodÄ™ z <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>.</p>
<ol class="arabic simple">
<li><p>Ustawia <code class="docutils literal notranslate"><span class="pre">m_startTime</span></code>.</p></li>
<li><p>WiÄ…Å¼e standardowe lokalizacje atrybutÃ³w (<code class="docutils literal notranslate"><span class="pre">VERTEX_ATTR</span></code>, <code class="docutils literal notranslate"><span class="pre">TEXCOORD_ATTR</span></code>, etc.) z ich nazwami w shaderze.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">ShaderProgram::link()</span></code>.</p></li>
<li><p>JeÅ›li linkowanie siÄ™ powiedzie, bindowanie program i wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">setupUniforms()</span></code>.</p></li>
</ol>
</section>
<section id="metody-set">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">set...()</span></code><a class="headerlink" href="#metody-set" title="Link to this heading">#</a></h1>
<p>SÄ… to metody do ustawiania wartoÅ›ci uniformÃ³w. KaÅ¼da z nich:</p>
<ol class="arabic simple">
<li><p>Sprawdza, czy nowa wartoÅ›Ä‡ rÃ³Å¼ni siÄ™ od aktualnie przechowywanej, aby uniknÄ…Ä‡ zbÄ™dnych wywoÅ‚aÅ„ <code class="docutils literal notranslate"><span class="pre">glUniform...</span></code>.</p></li>
<li><p>Bindowanie program shadera (<code class="docutils literal notranslate"><span class="pre">bind()</span></code>).</p></li>
<li><p>Ustawia nowÄ… wartoÅ›Ä‡ uniformu w OpenGL.</p></li>
<li><p>Aktualizuje przechowywanÄ… wartoÅ›Ä‡.</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setTransformMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">setProjectionMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">setTextureMatrix</span></code>: UstawiajÄ… macierze.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setColor</span></code>: Ustawia gÅ‚Ã³wny kolor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setMatrixColor</span></code>: Ustawia macierz kolorÃ³w (dla shadera strojÃ³w).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setResolution</span></code>: Ustawia rozdzielczoÅ›Ä‡ (przydatne do efektÃ³w zaleÅ¼nych od pikseli).</p></li>
<li><p>â€¦ i inne.</p></li>
</ul>
</section>
<section id="void-paintershaderprogram-updatetime">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::updateTime()</span></code><a class="headerlink" href="#void-paintershaderprogram-updatetime" title="Link to this heading">#</a></h1>
<p>Aktualizuje uniform <code class="docutils literal notranslate"><span class="pre">u_Time</span></code>, przekazujÄ…c do shadera czas, jaki upÅ‚ynÄ…Å‚ od jego utworzenia. Pozwala to na tworzenie animowanych efektÃ³w w shaderach.</p>
</section>
<section id="void-paintershaderprogram-addmultitexture-i-void-paintershaderprogram-bindmultitextures">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::addMultiTexture(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::bindMultiTextures()</span></code><a class="headerlink" href="#void-paintershaderprogram-addmultitexture-i-void-paintershaderprogram-bindmultitextures" title="Link to this heading">#</a></h1>
<p>Metody do obsÅ‚ugi dodatkowych tekstur (multi-texturing). <code class="docutils literal notranslate"><span class="pre">addMultiTexture</span></code> Å‚aduje teksturÄ™ i dodaje jÄ… do listy. <code class="docutils literal notranslate"><span class="pre">bindMultiTextures</span></code> aktywuje te tekstury na kolejnych jednostkach teksturujÄ…cych (od <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE1</span></code> wzwyÅ¼), aby mogÅ‚y byÄ‡ uÅ¼ywane w shaderze.</p>
</section>
<section id="id437">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id437" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/paintershaderprogram.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: ÅšciÅ›le wspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, ktÃ³ry ustawia jej uniformy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>, <code class="docutils literal notranslate"><span class="pre">texturemanager.h</span></code>: Do Å‚adowania i zarzÄ…dzania dodatkowymi teksturami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Do Å›ledzenia czasu dla animacji.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="paintershaderprogram-h">
<h1>ğŸ“„ paintershaderprogram.h<a class="headerlink" href="#paintershaderprogram-h" title="Link to this heading">#</a></h1>
</section>
<section id="id438">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id438" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">paintershaderprogram.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>, ktÃ³ra jest wyspecjalizowanÄ… wersjÄ… <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>, dostosowanÄ… do potrzeb <code class="docutils literal notranslate"><span class="pre">Painter</span></code>. Definiuje ona standardowy zestaw uniformÃ³w i atrybutÃ³w uÅ¼ywanych w shaderach 2D.</p>
</section>
<section id="id439">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code><a class="headerlink" href="#id439" title="Link to this heading">#</a></h1>
</section>
<section id="id440">
<h1>Opis semantyczny<a class="headerlink" href="#id440" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code> i dodaje do niej warstwÄ™ abstrakcji specyficznÄ… dla <code class="docutils literal notranslate"><span class="pre">Painter</span></code>. Zamiast odwoÅ‚ywaÄ‡ siÄ™ do uniformÃ³w po nazwach (stringach), udostÄ™pnia dedykowane metody <code class="docutils literal notranslate"><span class="pre">set...()</span></code>, ktÃ³re operujÄ… na predefiniowanych, zbuforowanych lokalizacjach. Upraszcza to kod <code class="docutils literal notranslate"><span class="pre">Painter</span></code> i potencjalnie zwiÄ™ksza wydajnoÅ›Ä‡.</p>
</section>
<section id="id441">
<h1>Typy wyliczeniowe (Enums)<a class="headerlink" href="#id441" title="Link to this heading">#</a></h1>
<p>Definiuje staÅ‚e dla lokalizacji standardowych atrybutÃ³w i uniformÃ³w, co pozwala na ich efektywne buforowanie.</p>
<ul class="simple">
<li><p><strong>Atrybuty</strong>: <code class="docutils literal notranslate"><span class="pre">VERTEX_ATTR</span></code>, <code class="docutils literal notranslate"><span class="pre">TEXCOORD_ATTR</span></code>, â€¦</p></li>
<li><p><strong>Uniformy</strong>: <code class="docutils literal notranslate"><span class="pre">PROJECTION_MATRIX_UNIFORM</span></code>, <code class="docutils literal notranslate"><span class="pre">TEXTURE_MATRIX_UNIFORM</span></code>, <code class="docutils literal notranslate"><span class="pre">COLOR_UNIFORM</span></code>, <code class="docutils literal notranslate"><span class="pre">TEX0_UNIFORM</span></code>, â€¦</p></li>
</ul>
</section>
<section id="id442">
<h1>Metody publiczne<a class="headerlink" href="#id442" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">PainterShaderProgram(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">link()</span></code></p></td>
<td class="text-left"><p>PrzesÅ‚ania metodÄ™ bazowÄ…, aby dodatkowo zmapowaÄ‡ standardowe atrybuty i uniformy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setTransformMatrix(...)</span></code></p></td>
<td class="text-left"><p>Ustawia macierz transformacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setProjectionMatrix(...)</span></code></p></td>
<td class="text-left"><p>Ustawia macierz projekcji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setTextureMatrix(...)</span></code></p></td>
<td class="text-left"><p>Ustawia macierz tekstury.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setColor(...)</span></code></p></td>
<td class="text-left"><p>Ustawia gÅ‚Ã³wny kolor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setMatrixColor(...)</span></code></p></td>
<td class="text-left"><p>Ustawia macierz kolorÃ³w (dla shadera strojÃ³w).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setDepth(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wartoÅ›Ä‡ gÅ‚Ä™bi.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setResolution(...)</span></code></p></td>
<td class="text-left"><p>Ustawia rozdzielczoÅ›Ä‡ renderowania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setOffset(...)</span></code></p></td>
<td class="text-left"><p>Ustawia przesuniÄ™cie (offset).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">updateTime()</span></code></p></td>
<td class="text-left"><p>Aktualizuje uniform czasu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addMultiTexture(...)</span></code></p></td>
<td class="text-left"><p>Dodaje dodatkowÄ… teksturÄ™ do shadera.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bindMultiTextures()</span></code></p></td>
<td class="text-left"><p>Bindowanie wszystkie dodatkowe tekstury.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">clearMultiTextures()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci listÄ™ dodatkowych tekstur.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">enableColorMatrix()</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza tryb macierzy kolorÃ³w (dla shadera strojÃ³w).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id443">
<h1>Zmienne prywatne<a class="headerlink" href="#id443" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_startTime</span></code>: Czas utworzenia shadera.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_color</span></code>, <code class="docutils literal notranslate"><span class="pre">m_depth</span></code>, <code class="docutils literal notranslate"><span class="pre">m_transformMatrix</span></code>, â€¦: PrzechowujÄ… aktualne wartoÅ›ci uniformÃ³w, aby uniknÄ…Ä‡ zbÄ™dnych wywoÅ‚aÅ„ <code class="docutils literal notranslate"><span class="pre">glUniform...</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_multiTextures</span></code>: Wektor dodatkowych tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_useColorMatrix</span></code>: Flaga wskazujÄ…ca, czy <code class="docutils literal notranslate"><span class="pre">u_Color</span></code> jest macierzÄ… 4x4.</p></li>
</ul>
</section>
<section id="id444">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id444" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shaderprogram.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/coordsbuffer.h</span></code>: PoÅ›rednio, poprzez <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code> jako podstawa dla wszystkich operacji rysowania opartych na shaderach.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="shader-cpp">
<h1>ğŸ“„ shader.cpp<a class="headerlink" href="#shader-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id445">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id445" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shader.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Shader</span></code>, ktÃ³ra jest opakowaniem na pojedynczy obiekt shadera w OpenGL (np. shader wierzchoÅ‚kÃ³w lub shader fragmentÃ³w).</p>
</section>
<section id="klasa-shader">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Shader</span></code><a class="headerlink" href="#klasa-shader" title="Link to this heading">#</a></h1>
</section>
<section id="shader-shader-shader-shadertype-shadertype">
<h1><code class="docutils literal notranslate"><span class="pre">Shader::Shader(Shader::ShaderType</span> <span class="pre">shaderType)</span></code><a class="headerlink" href="#shader-shader-shader-shadertype-shadertype" title="Link to this heading">#</a></h1>
<p>Konstruktor.</p>
<ul class="simple">
<li><p><strong>Parametr <code class="docutils literal notranslate"><span class="pre">shaderType</span></code></strong>: OkreÅ›la, czy tworzony jest shader wierzchoÅ‚kÃ³w (<code class="docutils literal notranslate"><span class="pre">Vertex</span></code>) czy fragmentÃ³w (<code class="docutils literal notranslate"><span class="pre">Fragment</span></code>).</p></li>
<li><p><strong>DziaÅ‚anie</strong>: WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">glCreateShader</span></code> z odpowiednim typem, aby utworzyÄ‡ obiekt shadera w sterowniku graficznym. W przypadku bÅ‚Ä™du, koÅ„czy aplikacjÄ™.</p></li>
</ul>
</section>
<section id="shader-shader">
<h1><code class="docutils literal notranslate"><span class="pre">Shader::~Shader()</span></code><a class="headerlink" href="#shader-shader" title="Link to this heading">#</a></h1>
<p>Destruktor. Zwalnia zasÃ³b shadera w OpenGL, wywoÅ‚ujÄ…c <code class="docutils literal notranslate"><span class="pre">glDeleteShader</span></code>.</p>
</section>
<section id="bool-shader-compilesourcecode-const-std-string-sourcecode">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Shader::compileSourceCode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">sourceCode)</span></code><a class="headerlink" href="#bool-shader-compilesourcecode-const-std-string-sourcecode" title="Link to this heading">#</a></h1>
</section>
<section id="id446">
<h1>Opis semantyczny<a class="headerlink" href="#id446" title="Link to this heading">#</a></h1>
<p>Kompiluje kod ÅºrÃ³dÅ‚owy shadera.</p>
</section>
<section id="id447">
<h1>DziaÅ‚anie<a class="headerlink" href="#id447" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Dla OpenGL ES, dodaje na poczÄ…tku kodu dyrektywÄ™ <code class="docutils literal notranslate"><span class="pre">precision</span> <span class="pre">highp</span> <span class="pre">float;</span></code>.</p></li>
<li><p>Przekazuje kod ÅºrÃ³dÅ‚owy do sterownika za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glShaderSource</span></code>.</p></li>
<li><p>Kompiluje shader za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glCompileShader</span></code>.</p></li>
<li><p>Sprawdza status kompilacji za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glGetShaderiv</span></code>.</p></li>
<li><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code> w przypadku sukcesu, <code class="docutils literal notranslate"><span class="pre">false</span></code> w przeciwnym razie.</p></li>
</ol>
</section>
<section id="bool-shader-compilesourcefile-const-std-string-sourcefile">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Shader::compileSourceFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">sourceFile)</span></code><a class="headerlink" href="#bool-shader-compilesourcefile-const-std-string-sourcefile" title="Link to this heading">#</a></h1>
<p>Åaduje kod ÅºrÃ³dÅ‚owy z pliku za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_resources</span></code>, a nastÄ™pnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">compileSourceCode</span></code>.</p>
</section>
<section id="std-string-shader-log">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Shader::log()</span></code><a class="headerlink" href="#std-string-shader-log" title="Link to this heading">#</a></h1>
<p>Pobiera i zwraca logi kompilatora shadera (<code class="docutils literal notranslate"><span class="pre">glGetShaderInfoLog</span></code>), ktÃ³re zawierajÄ… informacje o bÅ‚Ä™dach lub ostrzeÅ¼eniach.</p>
</section>
<section id="id448">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id448" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shader.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do dostÄ™pu do funkcji OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Do sprawdzania stanu aplikacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do Å‚adowania shaderÃ³w z plikÃ³w.</p></li>
<li><p>Obiekty <code class="docutils literal notranslate"><span class="pre">Shader</span></code> sÄ… tworzone i zarzÄ…dzane przez <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code> (lub <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>), ktÃ³ry nastÄ™pnie linkuje je w kompletny program shadera.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="shadermanager-h">
<h1>ğŸ“„ shadermanager.h<a class="headerlink" href="#shadermanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id449">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id449" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shadermanager.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_shaders</span></code>) odpowiedzialnym za zarzÄ…dzanie niestandardowymi programami shaderÃ³w tworzonymi w skryptach Lua.</p>
</section>
<section id="klasa-shadermanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code><a class="headerlink" href="#klasa-shadermanager" title="Link to this heading">#</a></h1>
</section>
<section id="id450">
<h1>Opis semantyczny<a class="headerlink" href="#id450" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code> dziaÅ‚a jako repozytorium dla <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code> tworzonych dynamicznie. Przechowuje je w mapie pod unikalnymi nazwami, co pozwala na ich pÃ³Åºniejsze pobieranie i uÅ¼ywanie w trakcie renderowania.</p>
</section>
<section id="id451">
<h1>Metody publiczne<a class="headerlink" href="#id451" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje menedÅ¼era.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci i zwalnia wszystkie zaÅ‚adowane shadery.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">createShader(...)</span></code></p></td>
<td class="text-left"><p>Tworzy, kompiluje i linkuje nowy <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code> z podanego kodu ÅºrÃ³dÅ‚owego (lub plikÃ³w). Zapisuje go pod danÄ… nazwÄ….</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">createOutfitShader(...)</span></code></p></td>
<td class="text-left"><p>SkrÃ³t do <code class="docutils literal notranslate"><span class="pre">createShader</span></code> z wÅ‚Ä…czonÄ… opcjÄ… macierzy kolorÃ³w, specjalnie dla shaderÃ³w strojÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addTexture(...)</span></code></p></td>
<td class="text-left"><p>Dodaje dodatkowÄ… teksturÄ™ do istniejÄ…cego programu shadera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span> <span class="pre">getShader(...)</span></code></p></td>
<td class="text-left"><p>Wyszukuje i zwraca wskaÅºnik do programu shadera o podanej nazwie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id452">
<h1>Zmienne prywatne<a class="headerlink" href="#id452" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_shaders</span></code>: Mapa (<code class="docutils literal notranslate"><span class="pre">std::unordered_map</span></code>) przechowujÄ…ca wszystkie niestandardowe programy shaderÃ³w.</p></li>
</ul>
</section>
<section id="id453">
<h1>Zmienne globalne<a class="headerlink" href="#id453" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_shaders</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>.</p></li>
</ul>
</section>
<section id="id454">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id454" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">paintershaderprogram.h</span></code>: Deklaracje klas shaderÃ³w.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindsingleton</span> <span class="pre">g_shaders</span></code>, co udostÄ™pnia jej API (<code class="docutils literal notranslate"><span class="pre">createShader</span></code>, <code class="docutils literal notranslate"><span class="pre">addTexture</span></code>) w skryptach Lua.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (w <code class="docutils literal notranslate"><span class="pre">uiwidgetimage.cpp</span></code>) do rysowania obrazÃ³w z niestandardowymi shaderami.</p></li>
<li><p>Wszystkie operacje tworzenia i modyfikacji shaderÃ³w sÄ… delegowane do wÄ…tku graficznego za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>, aby zapewniÄ‡ bezpieczeÅ„stwo wÄ…tkowe.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="shadermanager-cpp">
<h1>ğŸ“„ shadermanager.cpp<a class="headerlink" href="#shadermanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id455">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id455" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shadermanager.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>, ktÃ³ra zarzÄ…dza niestandardowymi programami shaderÃ³w.</p>
</section>
<section id="id456">
<h1>Zmienne globalne<a class="headerlink" href="#id456" title="Link to this heading">#</a></h1>
</section>
<section id="g-shaders">
<h1><code class="docutils literal notranslate"><span class="pre">g_shaders</span></code><a class="headerlink" href="#g-shaders" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ShaderManager</span><span class="w"> </span><span class="n">g_shaders</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id457">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code><a class="headerlink" href="#id457" title="Link to this heading">#</a></h1>
</section>
<section id="void-shadermanager-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::init()</span></code><a class="headerlink" href="#void-shadermanager-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje menedÅ¼era. W obecnej implementacji wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram::release()</span></code>, aby upewniÄ‡ siÄ™, Å¼e Å¼aden shader nie jest aktywny.</p>
</section>
<section id="void-shadermanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::terminate()</span></code><a class="headerlink" href="#void-shadermanager-terminate" title="Link to this heading">#</a></h1>
<p>CzyÅ›ci mapÄ™ <code class="docutils literal notranslate"><span class="pre">m_shaders</span></code>, co powoduje zwolnienie wszystkich niestandardowych programÃ³w shaderÃ³w.</p>
</section>
<section id="void-shadermanager-createshader-const-std-string-name-std-string-vertex-std-string-fragment-bool-colormatrix">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::createShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">std::string</span> <span class="pre">vertex,</span> <span class="pre">std::string</span> <span class="pre">fragment,</span> <span class="pre">bool</span> <span class="pre">colorMatrix)</span></code><a class="headerlink" href="#void-shadermanager-createshader-const-std-string-name-std-string-vertex-std-string-fragment-bool-colormatrix" title="Link to this heading">#</a></h1>
</section>
<section id="id458">
<h1>Opis semantyczny<a class="headerlink" href="#id458" title="Link to this heading">#</a></h1>
<p>Tworzy nowy program shadera. Metoda jest asynchroniczna - dodaje zadanie do dyspozytora graficznego.</p>
</section>
<section id="id459">
<h1>DziaÅ‚anie<a class="headerlink" href="#id459" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy podane stringi <code class="docutils literal notranslate"><span class="pre">vertex</span></code> i <code class="docutils literal notranslate"><span class="pre">fragment</span></code> sÄ… kodem ÅºrÃ³dÅ‚owym (zawierajÄ… znak nowej linii) czy Å›cieÅ¼kami do plikÃ³w.</p></li>
<li><p>JeÅ›li sÄ… to Å›cieÅ¼ki, odczytuje zawartoÅ›Ä‡ plikÃ³w za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_resources</span></code>.</p></li>
<li><p>Dodaje do <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code> zadanie (lambda), ktÃ³re:</p>
<ul class="simple">
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram::create</span></code> w celu skompilowania i zlinkowania shadera.</p></li>
<li><p>JeÅ›li operacja siÄ™ powiedzie, dodaje nowo utworzony program do mapy <code class="docutils literal notranslate"><span class="pre">m_shaders</span></code>.</p></li>
</ul>
</li>
</ol>
</section>
<section id="void-shadermanager-addtexture-const-std-string-name-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::addTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#void-shadermanager-addtexture-const-std-string-name-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Dodaje dodatkowÄ… teksturÄ™ do istniejÄ…cego shadera. Podobnie jak <code class="docutils literal notranslate"><span class="pre">createShader</span></code>, operacja jest wykonywana asynchronicznie w wÄ…tku graficznym.</p>
</section>
<section id="paintershaderprogramptr-shadermanager-getshader-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span> <span class="pre">ShaderManager::getShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#paintershaderprogramptr-shadermanager-getshader-const-std-string-name" title="Link to this heading">#</a></h1>
<p>Wyszukuje i zwraca program shadera o podanej nazwie. Ta metoda musi byÄ‡ wywoÅ‚ywana z wÄ…tku graficznego, co jest zapewnione przez <code class="docutils literal notranslate"><span class="pre">VALIDATE_GRAPHICS_THREAD()</span></code>.</p>
</section>
<section id="id460">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id460" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shadermanager.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/paintershaderprogram.h</span></code>: Do tworzenia obiektÃ³w shaderÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do Å‚adowania kodu shaderÃ³w z plikÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do zapewnienia, Å¼e operacje na OpenGL sÄ… wykonywane w wÄ…tku graficznym.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="shader-h">
<h1>ğŸ“„ shader.h<a class="headerlink" href="#shader-h" title="Link to this heading">#</a></h1>
</section>
<section id="id461">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id461" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shader.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Shader</span></code>, ktÃ³ra reprezentuje pojedynczy, skompilowany obiekt shadera w OpenGL (np. shader wierzchoÅ‚kÃ³w lub fragmentÃ³w), ale jeszcze nie zlinkowany w peÅ‚ny program.</p>
</section>
<section id="id462">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Shader</span></code><a class="headerlink" href="#id462" title="Link to this heading">#</a></h1>
</section>
<section id="id463">
<h1>Opis semantyczny<a class="headerlink" href="#id463" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Shader</span></code> jest niskopoziomowym opakowaniem na ID obiektu shadera w OpenGL. Jego gÅ‚Ã³wnym zadaniem jest przyjÄ™cie kodu ÅºrÃ³dÅ‚owego, skompilowanie go i przechowanie wyniku. Obiekty tej klasy sÄ… nastÄ™pnie Å‚Ä…czone w <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>.</p>
</section>
<section id="typ-wyliczeniowy-shadertype">
<h1>Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">ShaderType</span></code><a class="headerlink" href="#typ-wyliczeniowy-shadertype" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Vertex</span></code>: Oznacza shader wierzchoÅ‚kÃ³w (<code class="docutils literal notranslate"><span class="pre">GL_VERTEX_SHADER</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Fragment</span></code>: Oznacza shader fragmentÃ³w/pikseli (<code class="docutils literal notranslate"><span class="pre">GL_FRAGMENT_SHADER</span></code>).</p></li>
</ul>
</section>
<section id="id464">
<h1>Metody publiczne<a class="headerlink" href="#id464" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Shader(ShaderType</span> <span class="pre">shaderType)</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy obiekt shadera w OpenGL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~Shader()</span></code></p></td>
<td class="text-left"><p>Destruktor, zwalnia obiekt shadera.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">compileSourceCode(...)</span></code></p></td>
<td class="text-left"><p>Kompiluje shader z podanego kodu ÅºrÃ³dÅ‚owego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">compileSourceFile(...)</span></code></p></td>
<td class="text-left"><p>Åaduje kod z pliku i go kompiluje.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">log()</span></code></p></td>
<td class="text-left"><p>Zwraca logi kompilatora shadera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getShaderId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID obiektu shadera w OpenGL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ShaderType</span> <span class="pre">getShaderType()</span></code></p></td>
<td class="text-left"><p>Zwraca typ shadera.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id465">
<h1>Zmienne prywatne<a class="headerlink" href="#id465" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_shaderId</span></code>: ID obiektu shadera w OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_shaderType</span></code>: Typ shadera.</p></li>
</ul>
</section>
<section id="id466">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id466" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p>Jest tworzona i uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code> w procesie budowania kompletnego programu shadera.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="textrender-cpp">
<h1>ğŸ“„ textrender.cpp<a class="headerlink" href="#textrender-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id467">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id467" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">textrender.cpp</span></code> implementuje klasÄ™ <code class="docutils literal notranslate"><span class="pre">TextRender</span></code>, ktÃ³ra jest systemem do optymalizacji renderowania tekstu. DziaÅ‚a jako globalny cache dla geometrii tekstu, aby uniknÄ…Ä‡ ponownego obliczania pozycji glifÃ³w w kaÅ¼dej klatce dla tekstÃ³w, ktÃ³re siÄ™ nie zmieniajÄ….</p>
</section>
<section id="id468">
<h1>Zmienne globalne<a class="headerlink" href="#id468" title="Link to this heading">#</a></h1>
</section>
<section id="g-text">
<h1><code class="docutils literal notranslate"><span class="pre">g_text</span></code><a class="headerlink" href="#g-text" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">TextRender</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">TextRender</span><span class="w"> </span><span class="n">g_text</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-textrender">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">TextRender</span></code><a class="headerlink" href="#klasa-textrender" title="Link to this heading">#</a></h1>
</section>
<section id="id469">
<h1>Opis semantyczny<a class="headerlink" href="#id469" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">TextRender</span></code> przechowuje mapÄ™ (<code class="docutils literal notranslate"><span class="pre">m_cache</span></code>), w ktÃ³rej kluczem jest hash wygenerowany na podstawie treÅ›ci tekstu, jego rozmiaru, wyrÃ³wnania i fontu. WartoÅ›ciÄ… jest obiekt <code class="docutils literal notranslate"><span class="pre">TextRenderCache</span></code>, ktÃ³ry przechowuje <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z gotowÄ… geometriÄ… tekstu. Przy pierwszym Å¼Ä…daniu narysowania danego tekstu, geometria jest obliczana i zapisywana w cache. Przy kolejnych Å¼Ä…daniach, uÅ¼ywana jest juÅ¼ istniejÄ…ca geometria. System posiada rÃ³wnieÅ¼ mechanizm czyszczenia nieuÅ¼ywanych wpisÃ³w z cache.</p>
</section>
<section id="void-textrender-init-i-void-textrender-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::terminate()</span></code><a class="headerlink" href="#void-textrender-init-i-void-textrender-terminate" title="Link to this heading">#</a></h1>
<p>Metody inicjalizujÄ…ce i zwalniajÄ…ce cache.</p>
</section>
<section id="void-textrender-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::poll()</span></code><a class="headerlink" href="#void-textrender-poll" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana okresowo. Jej zadaniem jest czyszczenie cache z wpisÃ³w, ktÃ³re nie byÅ‚y uÅ¼ywane od pewnego czasu. Implementuje prosty mechanizm LRU (Least Recently Used) oparty na czasie ostatniego uÅ¼ycia (<code class="docutils literal notranslate"><span class="pre">lastUse</span></code>).</p>
</section>
<section id="uint64-t-textrender-addtext">
<h1><code class="docutils literal notranslate"><span class="pre">uint64_t</span> <span class="pre">TextRender::addText(...)</span></code><a class="headerlink" href="#uint64-t-textrender-addtext" title="Link to this heading">#</a></h1>
<p>Generuje unikalny hash dla kombinacji (font, tekst, rozmiar, wyrÃ³wnanie) i tworzy dla niego wpis w cache, jeÅ›li jeszcze nie istnieje. Zwraca wygenerowany hash.</p>
</section>
<section id="void-textrender-drawtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawText(...)</span></code><a class="headerlink" href="#void-textrender-drawtext" title="Link to this heading">#</a></h1>
<p>Wysokopoziomowa metoda do rysowania tekstu. Najpierw wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">addText</span></code>, aby uzyskaÄ‡/stworzyÄ‡ wpis w cache, a nastÄ™pnie wywoÅ‚uje drugÄ… wersjÄ™ <code class="docutils literal notranslate"><span class="pre">drawText</span></code> z hashem.</p>
</section>
<section id="void-textrender-drawtext-const-point-pos-uint64-t-hash">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawText(const</span> <span class="pre">Point&amp;</span> <span class="pre">pos,</span> <span class="pre">uint64_t</span> <span class="pre">hash,</span> <span class="pre">...)</span></code><a class="headerlink" href="#void-textrender-drawtext-const-point-pos-uint64-t-hash" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda rysujÄ…ca.</p>
<ol class="arabic simple">
<li><p>Znajduje wpis w cache na podstawie hasha.</p></li>
<li><p>JeÅ›li wpis jest nowy (<code class="docutils literal notranslate"><span class="pre">itâ†’font</span></code> nie jest <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>), wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">fontâ†’calculateDrawTextCoords</span></code>, aby wygenerowaÄ‡ geometriÄ™, keszuje jÄ… w <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> (<code class="docutils literal notranslate"><span class="pre">itâ†’coords.cache()</span></code>) i zwalnia referencje do fontu i tekstu, aby oszczÄ™dzaÄ‡ pamiÄ™Ä‡.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">g_painterâ†’drawText</span></code>, przekazujÄ…c mu gotowy <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z geometriÄ….</p></li>
<li><p>ObsÅ‚uguje rÃ³wnieÅ¼ rysowanie cienia.</p></li>
</ol>
</section>
<section id="void-textrender-drawcoloredtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawColoredText(...)</span></code><a class="headerlink" href="#void-textrender-drawcoloredtext" title="Link to this heading">#</a></h1>
<p>DziaÅ‚a analogicznie do <code class="docutils literal notranslate"><span class="pre">drawText</span></code>, ale wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">g_painterâ†’drawText</span></code> w wersji dla tekstu wielokolorowego.</p>
</section>
<section id="id470">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id470" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/textrender.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_painter</span></code> do finalnego rysowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do walidacji wÄ…tku.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueueItemText</span></code> do renderowania tekstu.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="shaderprogram-cpp">
<h1>ğŸ“„ shaderprogram.cpp<a class="headerlink" href="#shaderprogram-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id471">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id471" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shaderprogram.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>, ktÃ³ra jest podstawowym obiektem do zarzÄ…dzania programami shaderÃ³w w OpenGL.</p>
</section>
<section id="id472">
<h1>Zmienne globalne<a class="headerlink" href="#id472" title="Link to this heading">#</a></h1>
</section>
<section id="uint-shaderprogram-m-currentprogram">
<h1><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">ShaderProgram::m_currentProgram</span></code><a class="headerlink" href="#uint-shaderprogram-m-currentprogram" title="Link to this heading">#</a></h1>
<p>Statyczna zmienna czÅ‚onkowska, ktÃ³ra przechowuje ID aktualnie aktywnego (zbindowanego) programu shadera. SÅ‚uÅ¼y do unikania zbÄ™dnych wywoÅ‚aÅ„ <code class="docutils literal notranslate"><span class="pre">glUseProgram</span></code>, jeÅ›li ten sam program jest juÅ¼ aktywny.</p>
</section>
<section id="id473">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code><a class="headerlink" href="#id473" title="Link to this heading">#</a></h1>
</section>
<section id="shaderprogram-shaderprogram-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">ShaderProgram::ShaderProgram(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#shaderprogram-shaderprogram-const-std-string-name" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje nazwÄ™, ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_linked</span></code> na <code class="docutils literal notranslate"><span class="pre">false</span></code> i tworzy nowy, pusty obiekt programu shadera w OpenGL za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glCreateProgram()</span></code>.</p>
</section>
<section id="shaderprogram-shaderprogram">
<h1><code class="docutils literal notranslate"><span class="pre">ShaderProgram::~ShaderProgram()</span></code><a class="headerlink" href="#shaderprogram-shaderprogram" title="Link to this heading">#</a></h1>
<p>Destruktor. Zwalnia zasÃ³b programu shadera, wywoÅ‚ujÄ…c <code class="docutils literal notranslate"><span class="pre">glDeleteProgram()</span></code>.</p>
</section>
<section id="paintershaderprogramptr-shaderprogram-create">
<h1><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span> <span class="pre">ShaderProgram::create(...)</span></code><a class="headerlink" href="#paintershaderprogramptr-shaderprogram-create" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna, ktÃ³ra tworzy i konfiguruje <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>. Jest to gÅ‚Ã³wny sposÃ³b tworzenia shaderÃ³w w tym frameworku.</p>
</section>
<section id="id474">
<h1>DziaÅ‚anie<a class="headerlink" href="#id474" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>.</p></li>
<li><p>Dodaje i kompiluje shadery wierzchoÅ‚kÃ³w i fragmentÃ³w.</p></li>
<li><p>Opcjonalnie wÅ‚Ä…cza tryb macierzy kolorÃ³w.</p></li>
<li><p>Linkuje program.</p></li>
<li><p>W przypadku bÅ‚Ä™dÃ³w kompilacji lub linkowania, loguje szczegÃ³Å‚owe informacje i zwraca <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p></li>
</ol>
</section>
<section id="bool-shaderprogram-addshader">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::addShader(...)</span></code><a class="headerlink" href="#bool-shaderprogram-addshader" title="Link to this heading">#</a></h1>
<p>DoÅ‚Ä…cza wczeÅ›niej skompilowany obiekt <code class="docutils literal notranslate"><span class="pre">Shader</span></code> do programu za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glAttachShader</span></code>.</p>
</section>
<section id="bool-shaderprogram-addshaderfromsourcecode-i-addshaderfromsourcefile">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::addShaderFromSourceCode(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">addShaderFromSourceFile(...)</span></code><a class="headerlink" href="#bool-shaderprogram-addshaderfromsourcecode-i-addshaderfromsourcefile" title="Link to this heading">#</a></h1>
<p>Metody pomocnicze, ktÃ³re tworzÄ… obiekt <code class="docutils literal notranslate"><span class="pre">Shader</span></code>, kompilujÄ… go z kodu ÅºrÃ³dÅ‚owego lub pliku, a nastÄ™pnie dodajÄ… do programu.</p>
</section>
<section id="bool-shaderprogram-link">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::link()</span></code><a class="headerlink" href="#bool-shaderprogram-link" title="Link to this heading">#</a></h1>
</section>
<section id="id475">
<h1>Opis semantyczny<a class="headerlink" href="#id475" title="Link to this heading">#</a></h1>
<p>Linkuje wszystkie doÅ‚Ä…czone shadery w jeden wykonywalny program.</p>
</section>
<section id="id476">
<h1>DziaÅ‚anie<a class="headerlink" href="#id476" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">glLinkProgram()</span></code>.</p></li>
<li><p>Sprawdza status linkowania za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glGetProgramiv</span></code>.</p></li>
<li><p>JeÅ›li wystÄ…pi bÅ‚Ä…d, pobiera i loguje szczegÃ³Å‚owy komunikat bÅ‚Ä™du z <code class="docutils literal notranslate"><span class="pre">glGetProgramInfoLog</span></code>.</p></li>
<li><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code> w przypadku sukcesu.</p></li>
</ol>
</section>
<section id="bool-shaderprogram-bind">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::bind()</span></code><a class="headerlink" href="#bool-shaderprogram-bind" title="Link to this heading">#</a></h1>
<p>Aktywuje program shadera w potoku renderowania OpenGL za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glUseProgram</span></code>. DziÄ™ki <code class="docutils literal notranslate"><span class="pre">m_currentProgram</span></code>, faktyczne wywoÅ‚anie <code class="docutils literal notranslate"><span class="pre">glUseProgram</span></code> nastÄ™puje tylko wtedy, gdy zmieniany jest program.</p>
</section>
<section id="void-shaderprogram-release">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderProgram::release()</span></code><a class="headerlink" href="#void-shaderprogram-release" title="Link to this heading">#</a></h1>
<p>Deaktywuje jakikolwiek aktywny program shadera (<code class="docutils literal notranslate"><span class="pre">glUseProgram(0)</span></code>).</p>
</section>
<section id="metody-location-i-set-value">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">...Location(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">set...Value(...)</span></code><a class="headerlink" href="#metody-location-i-set-value" title="Link to this heading">#</a></h1>
<p>ImplementujÄ… interfejs do pracy z atrybutami i uniformami w shaderze, opakowujÄ…c odpowiednie funkcje OpenGL (<code class="docutils literal notranslate"><span class="pre">glGetAttribLocation</span></code>, <code class="docutils literal notranslate"><span class="pre">glBindAttribLocation</span></code>, <code class="docutils literal notranslate"><span class="pre">glGetUniformLocation</span></code>, <code class="docutils literal notranslate"><span class="pre">glUniform...</span></code>, <code class="docutils literal notranslate"><span class="pre">glVertexAttrib...</span></code>).</p>
</section>
<section id="id477">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id477" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shaderprogram.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do sprawdzania bÅ‚Ä™dÃ³w i dostÄ™pu do informacji o sterowniku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Do sprawdzania stanu aplikacji.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>.</p></li>
<li><p>Jest zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="texture-cpp">
<h1>ğŸ“„ texture.cpp<a class="headerlink" href="#texture-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id478">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id478" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">texture.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, ktÃ³ra jest obiektowym opakowaniem na teksturÄ™ w OpenGL. Odpowiada za tworzenie, Å‚adowanie danych, ustawianie parametrÃ³w i zwalnianie zasobÃ³w tekstury w pamiÄ™ci karty graficznej.</p>
</section>
<section id="id479">
<h1>Zmienne globalne<a class="headerlink" href="#id479" title="Link to this heading">#</a></h1>
</section>
<section id="uint-texture-uniqueid">
<h1><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">Texture::uniqueId</span></code><a class="headerlink" href="#uint-texture-uniqueid" title="Link to this heading">#</a></h1>
<p>Statyczny licznik uÅ¼ywany do przypisywania unikalnego ID kaÅ¼dej nowo utworzonej teksturze. Jest to przydatne do szybkiego porÃ³wnywania tekstur.</p>
</section>
<section id="klasa-texture">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Texture</span></code><a class="headerlink" href="#klasa-texture" title="Link to this heading">#</a></h1>
</section>
<section id="texture-texture">
<h1><code class="docutils literal notranslate"><span class="pre">Texture::Texture(...)</span></code><a class="headerlink" href="#texture-texture" title="Link to this heading">#</a></h1>
<p>Konstruktory.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Texture(const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">...)</span></code></strong>: Tworzy pustÄ… teksturÄ™ o podanych wymiarach.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Texture(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">image,</span> <span class="pre">...)</span></code></strong>: Tworzy teksturÄ™ na podstawie obiektu <code class="docutils literal notranslate"><span class="pre">Image</span></code>.</p></li>
<li><p><strong>DziaÅ‚anie</strong>: InicjalizujÄ… pola, przypisujÄ… unikalne ID i zwiÄ™kszajÄ… globalny licznik tekstur w <code class="docutils literal notranslate"><span class="pre">g_stats</span></code>.</p></li>
</ul>
</section>
<section id="id480">
<h1><code class="docutils literal notranslate"><span class="pre">Texture::~Texture()</span></code><a class="headerlink" href="#id480" title="Link to this heading">#</a></h1>
<p>Destruktor. Dodaje zadanie usuniÄ™cia tekstury z pamiÄ™ci GPU do kolejki dyspozytora graficznego (<code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>), co zapewnia bezpieczeÅ„stwo wÄ…tkowe. Zmniejsza globalny licznik tekstur.</p>
</section>
<section id="void-texture-replace-const-imageptr-image">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::replace(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">image)</span></code><a class="headerlink" href="#void-texture-replace-const-imageptr-image" title="Link to this heading">#</a></h1>
<p>ZastÄ™puje zawartoÅ›Ä‡ tekstury nowym obrazem. Stara tekstura w OpenGL jest zwalniana, a nowa zostanie utworzona przy nastÄ™pnym wywoÅ‚aniu <code class="docutils literal notranslate"><span class="pre">update()</span></code>.</p>
</section>
<section id="void-texture-resize-const-size-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-texture-resize-const-size-size" title="Link to this heading">#</a></h1>
<p>Zmienia rozmiar istniejÄ…cej tekstury, ponownie alokujÄ…c dla niej pamiÄ™Ä‡ w GPU za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glTexImage2D</span></code> z <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> jako danymi pikseli.</p>
</section>
<section id="void-texture-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::update()</span></code><a class="headerlink" href="#void-texture-update" title="Link to this heading">#</a></h1>
</section>
<section id="id481">
<h1>Opis semantyczny<a class="headerlink" href="#id481" title="Link to this heading">#</a></h1>
<p>Kluczowa metoda, ktÃ³ra dba o to, aby obiekt tekstury w OpenGL byÅ‚ poprawnie zainicjalizowany i skonfigurowany. Musi byÄ‡ wywoÅ‚ywana przed pierwszym uÅ¼yciem tekstury.</p>
</section>
<section id="id482">
<h1>DziaÅ‚anie<a class="headerlink" href="#id482" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>JeÅ›li tekstura nie istnieje (<code class="docutils literal notranslate"><span class="pre">m_id</span> <span class="pre">==</span> <span class="pre">0</span></code>)</strong>:</p>
<ul class="simple">
<li><p>Generuje nowe ID tekstury (<code class="docutils literal notranslate"><span class="pre">glGenTextures</span></code>).</p></li>
<li><p>Bindowanie teksturÄ™.</p></li>
<li><p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">m_image</span></code> istnieje, przesyÅ‚a jego dane pikseli do GPU za pomocÄ… <code class="docutils literal notranslate"><span class="pre">setupPixels</span></code>, generujÄ…c mipmapy, jeÅ›li to wymagane. NastÄ™pnie zwalnia <code class="docutils literal notranslate"><span class="pre">m_image</span></code>, aby oszczÄ™dzaÄ‡ RAM.</p></li>
<li><p>JeÅ›li nie ma obrazu, tworzy pustÄ… teksturÄ™.</p></li>
</ul>
</li>
<li><p><strong>JeÅ›li <code class="docutils literal notranslate"><span class="pre">m_needsUpdate</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code></strong>:</p>
<ul class="simple">
<li><p>Bindowanie teksturÄ™.</p></li>
<li><p>Ustawia parametry zawijania (<code class="docutils literal notranslate"><span class="pre">setupWrap</span></code>).</p></li>
<li><p>Ustawia parametry filtrowania (<code class="docutils literal notranslate"><span class="pre">setupFilters</span></code>).</p></li>
<li><p>Aktualizuje macierz transformacji (<code class="docutils literal notranslate"><span class="pre">setupTranformMatrix</span></code>).</p></li>
<li><p>Resetuje flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_needsUpdate</span></code>.</p></li>
</ul>
</li>
</ol>
</section>
<section id="void-texture-setsmooth-bool-smooth-i-void-texture-setrepeat-bool-repeat">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::setSmooth(bool</span> <span class="pre">smooth)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::setRepeat(bool</span> <span class="pre">repeat)</span></code><a class="headerlink" href="#void-texture-setsmooth-bool-smooth-i-void-texture-setrepeat-bool-repeat" title="Link to this heading">#</a></h1>
<p>UstawiajÄ… flagi, ktÃ³re zostanÄ… zastosowane do parametrÃ³w tekstury (<code class="docutils literal notranslate"><span class="pre">GL_TEXTURE_MIN/MAG_FILTER</span></code>, <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE_WRAP_S/T</span></code>) podczas nastÄ™pnego wywoÅ‚ania <code class="docutils literal notranslate"><span class="pre">update()</span></code>.</p>
</section>
<section id="metody-setup">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">setup...()</span></code><a class="headerlink" href="#metody-setup" title="Link to this heading">#</a></h1>
<p>Prywatne metody pomocnicze, ktÃ³re wywoÅ‚ujÄ… odpowiednie funkcje OpenGL do konfiguracji tekstury:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setupSize()</span></code>: Sprawdza, czy rozmiar nie przekracza limitÃ³w GPU.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setupWrap()</span></code>: Ustawia <code class="docutils literal notranslate"><span class="pre">glTexParameteri</span></code> dla <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE_WRAP_S/T</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setupFilters()</span></code>: Ustawia <code class="docutils literal notranslate"><span class="pre">glTexParameteri</span></code> dla <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE_MIN/MAG_FILTER</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setupTranformMatrix()</span></code>: Oblicza macierz do transformacji wspÃ³Å‚rzÄ™dnych tekstury (np. w celu odwrÃ³cenia jej w osi Y).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setupPixels()</span></code>: WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">glTexImage2D</span></code> do przesÅ‚ania danych pikseli.</p></li>
</ul>
</section>
<section id="id483">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id483" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do operacji OpenGL i sprawdzania limitÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/image.h</span></code>: UÅ¼ywana jako ÅºrÃ³dÅ‚o danych pikseli.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="texture-h">
<h1>ğŸ“„ texture.h<a class="headerlink" href="#texture-h" title="Link to this heading">#</a></h1>
</section>
<section id="id484">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id484" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">texture.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, ktÃ³ra jest obiektowym interfejsem do zarzÄ…dzania teksturami w OpenGL.</p>
</section>
<section id="id485">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Texture</span></code><a class="headerlink" href="#id485" title="Link to this heading">#</a></h1>
</section>
<section id="id486">
<h1>Opis semantyczny<a class="headerlink" href="#id486" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Texture</span></code> enkapsuluje ID tekstury w OpenGL oraz jej wÅ‚aÅ›ciwoÅ›ci, takie jak rozmiar, wygÅ‚adzanie (filtrowanie), powtarzanie (wrapping) i mipmapy. Dostarcza metody do tworzenia tekstury z obiektu <code class="docutils literal notranslate"><span class="pre">Image</span></code> lub jako pustej tekstury (np. dla bufora ramki). Metoda <code class="docutils literal notranslate"><span class="pre">update()</span></code> jest kluczowa i synchronizuje stan obiektu C++ z rzeczywistym stanem tekstury w pamiÄ™ci GPU.</p>
</section>
<section id="id487">
<h1>Metody publiczne<a class="headerlink" href="#id487" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Texture(...)</span></code></p></td>
<td class="text-left"><p>Konstruktory.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~Texture()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">replace(...)</span></code></p></td>
<td class="text-left"><p>ZastÄ™puje zawartoÅ›Ä‡ tekstury nowym obrazem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(...)</span></code></p></td>
<td class="text-left"><p>Zmienia rozmiar tekstury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">update()</span></code></p></td>
<td class="text-left"><p>Tworzy lub aktualizuje parametry tekstury w OpenGL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setUpsideDown(...)</span></code></p></td>
<td class="text-left"><p>Ustawia, czy tekstura ma byÄ‡ odwrÃ³cona.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setSmooth(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wygÅ‚adzanie (filtrowanie liniowe/najbliÅ¼szego sÄ…siada).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setRepeat(...)</span></code></p></td>
<td class="text-left"><p>Ustawia tryb powtarzania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">buildHardwareMipmaps()</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza generowanie mipmap przez GPU.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID tekstury w OpenGL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getUniqueId()</span></code></p></td>
<td class="text-left"><p>Zwraca unikalne ID obiektu w aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">getSize()</span></code></p></td>
<td class="text-left"><p>Zwraca rozmiar tekstury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Matrix3&amp;</span> <span class="pre">getTransformMatrix()</span></code></p></td>
<td class="text-left"><p>Zwraca macierz transformacji dla wspÃ³Å‚rzÄ™dnych tekstury.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isEmpty()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy tekstura jest pusta.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">canCache()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li teksturÄ™ moÅ¼na umieÅ›ciÄ‡ w atlasie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">isAnimatedTexture()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code> (przesÅ‚aniane przez <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id488">
<h1>Zmienne chronione<a class="headerlink" href="#id488" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_id</span></code>: ID tekstury w OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_uniqueId</span></code>: Unikalne ID w aplikacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Rozmiar tekstury.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_transformMatrix</span></code>: Macierz transformacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_hasMipmaps</span></code>, <code class="docutils literal notranslate"><span class="pre">m_smooth</span></code>, <code class="docutils literal notranslate"><span class="pre">m_upsideDown</span></code>, <code class="docutils literal notranslate"><span class="pre">m_repeat</span></code>, â€¦: Flagi stanu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_image</span></code>: WskaÅºnik na <code class="docutils literal notranslate"><span class="pre">Image</span></code>, uÅ¼ywany tylko podczas tworzenia tekstury.</p></li>
</ul>
</section>
<section id="id489">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id489" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Definicje typÃ³w, np. <code class="docutils literal notranslate"><span class="pre">ImagePtr</span></code>.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>, <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> i inne komponenty do rysowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="texturemanager-cpp">
<h1>ğŸ“„ texturemanager.cpp<a class="headerlink" href="#texturemanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id490">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id490" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">texturemanager.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_textures</span></code>) odpowiedzialnym za zarzÄ…dzanie teksturami w aplikacji. DziaÅ‚a jako cache, aby zapobiec wielokrotnemu Å‚adowaniu tych samych tekstur z dysku.</p>
</section>
<section id="id491">
<h1>Zmienne globalne<a class="headerlink" href="#id491" title="Link to this heading">#</a></h1>
</section>
<section id="g-textures">
<h1><code class="docutils literal notranslate"><span class="pre">g_textures</span></code><a class="headerlink" href="#g-textures" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">TextureManager</span><span class="w"> </span><span class="n">g_textures</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-texturemanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code><a class="headerlink" href="#klasa-texturemanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-texturemanager-init-i-void-texturemanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::terminate()</span></code><a class="headerlink" href="#void-texturemanager-init-i-void-texturemanager-terminate" title="Link to this heading">#</a></h1>
<p>Metody do inicjalizacji i zwalniania menedÅ¼era. <code class="docutils literal notranslate"><span class="pre">terminate()</span></code> czyÅ›ci wszystkie zbuforowane tekstury.</p>
</section>
<section id="void-texturemanager-clearcache">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::clearCache()</span></code><a class="headerlink" href="#void-texturemanager-clearcache" title="Link to this heading">#</a></h1>
<p>CzyÅ›ci wszystkie zbuforowane tekstury, w tym animowane.</p>
</section>
<section id="void-texturemanager-reload">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::reload()</span></code><a class="headerlink" href="#void-texturemanager-reload" title="Link to this heading">#</a></h1>
<p>PrzeÅ‚adowuje wszystkie zaÅ‚adowane tekstury z ich oryginalnych plikÃ³w. Jest to przydatne do â€œhot-reloadingâ€ zasobÃ³w.</p>
</section>
<section id="textureptr-texturemanager-gettexture-const-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">TextureManager::getTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code><a class="headerlink" href="#textureptr-texturemanager-gettexture-const-std-string-filename" title="Link to this heading">#</a></h1>
</section>
<section id="id492">
<h1>Opis semantyczny<a class="headerlink" href="#id492" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda do pobierania tekstury. DziaÅ‚a jak â€œget-or-loadâ€.</p>
</section>
<section id="id493">
<h1>DziaÅ‚anie<a class="headerlink" href="#id493" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy tekstura o podanej nazwie (<code class="docutils literal notranslate"><span class="pre">fileName</span></code>) jest juÅ¼ w cache (<code class="docutils literal notranslate"><span class="pre">m_textures</span></code>). JeÅ›li tak, zwraca jÄ….</p></li>
<li><p>JeÅ›li nie, rozwiÄ…zuje peÅ‚nÄ… Å›cieÅ¼kÄ™ do pliku za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_resources</span></code>.</p></li>
<li><p>Ponownie sprawdza cache, tym razem z peÅ‚nÄ… Å›cieÅ¼kÄ….</p></li>
<li><p>JeÅ›li tekstury wciÄ…Å¼ nie ma, prÃ³buje jÄ… zaÅ‚adowaÄ‡ z pliku:</p>
<ul class="simple">
<li><p>Odczytuje plik do strumienia w pamiÄ™ci.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">loadTexture()</span></code>, aby sparsowaÄ‡ dane (APNG) i utworzyÄ‡ obiekt <code class="docutils literal notranslate"><span class="pre">Texture</span></code> lub <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>.</p></li>
</ul>
</li>
<li><p>JeÅ›li Å‚adowanie siÄ™ powiedzie, dodaje nowÄ… teksturÄ™ do cache pod obiema nazwami (oryginalnÄ… i peÅ‚nÄ… Å›cieÅ¼kÄ…) i zwraca jÄ….</p></li>
<li><p>W przypadku bÅ‚Ä™du, loguje go i zwraca <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p></li>
</ol>
</section>
<section id="textureptr-texturemanager-loadtexture-std-stringstream-file-const-std-string-source">
<h1><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">TextureManager::loadTexture(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code><a class="headerlink" href="#textureptr-texturemanager-loadtexture-std-stringstream-file-const-std-string-source" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza, ktÃ³ra parsuje strumieÅ„ danych APNG za pomocÄ… <code class="docutils literal notranslate"><span class="pre">load_apng</span></code>.</p>
<ul class="simple">
<li><p>JeÅ›li plik zawiera jednÄ… klatkÄ™, tworzy <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p>JeÅ›li plik zawiera wiele klatek, tworzy <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>.</p></li>
</ul>
</section>
<section id="id494">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id494" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texturemanager.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/animatedtexture.h</span></code>, <code class="docutils literal notranslate"><span class="pre">image.h</span></code>: Do tworzenia obiektÃ³w tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do odczytywania plikÃ³w tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/apngloader.h</span></code>: Do parsowania formatu APNG.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code> i inne komponenty, ktÃ³re potrzebujÄ… wyÅ›wietlaÄ‡ obrazy.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="vertexarray-h">
<h1>ğŸ“„ vertexarray.h<a class="headerlink" href="#vertexarray-h" title="Link to this heading">#</a></h1>
</section>
<section id="id495">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id495" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">vertexarray.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code>, ktÃ³ra jest prostym, dynamicznym buforem na wspÃ³Å‚rzÄ™dne wierzchoÅ‚kÃ³w (<code class="docutils literal notranslate"><span class="pre">float</span></code>). SÅ‚uÅ¼y do gromadzenia geometrii przed wysÅ‚aniem jej do renderowania.</p>
</section>
<section id="klasa-vertexarray">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code><a class="headerlink" href="#klasa-vertexarray" title="Link to this heading">#</a></h1>
</section>
<section id="id496">
<h1>Opis semantyczny<a class="headerlink" href="#id496" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> to opakowanie na <code class="docutils literal notranslate"><span class="pre">DataBuffer&lt;float&gt;</span></code>, zoptymalizowane do przechowywania par wspÃ³Å‚rzÄ™dnych (X, Y). UdostÄ™pnia metody do dodawania popularnych prymitywÃ³w 2D (trÃ³jkÄ…ty, prostokÄ…ty) i moÅ¼e opcjonalnie przenieÅ›Ä‡ swoje dane do sprzÄ™towego bufora VBO (<code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code>) w celu zwiÄ™kszenia wydajnoÅ›ci.</p>
</section>
<section id="id497">
<h1>Metody publiczne<a class="headerlink" href="#id497" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">VertexArray()</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~VertexArray()</span></code></p></td>
<td class="text-left"><p>Destruktor, zwalnia <code class="docutils literal notranslate"><span class="pre">m_hardwareBuffer</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">VertexArray(VertexArray&amp;</span> <span class="pre">c)</span></code></p></td>
<td class="text-left"><p>Konstruktor kopiujÄ…cy (kopiuje tylko dane z <code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>, nie <code class="docutils literal notranslate"><span class="pre">m_hardwareBuffer</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addVertex(float</span> <span class="pre">x,</span> <span class="pre">float</span> <span class="pre">y)</span></code></p></td>
<td class="text-left"><p>Dodaje pojedynczy wierzchoÅ‚ek.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addTriangle(...)</span></code></p></td>
<td class="text-left"><p>Dodaje trzy wierzchoÅ‚ki tworzÄ…ce trÃ³jkÄ…t.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addRect(...)</span></code></p></td>
<td class="text-left"><p>Dodaje szeÅ›Ä‡ wierzchoÅ‚kÃ³w tworzÄ…cych dwa trÃ³jkÄ…ty (prostokÄ…t).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addQuad(...)</span></code></p></td>
<td class="text-left"><p>Dodaje cztery wierzchoÅ‚ki tworzÄ…ce czworokÄ…t (dla <code class="docutils literal notranslate"><span class="pre">TriangleStrip</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci bufor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*vertices()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik na surowe dane.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">vertexCount()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ wierzchoÅ‚kÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">cache()</span></code></p></td>
<td class="text-left"><p>Kopiuje dane z bufora RAM do bufora VBO na karcie graficznej.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isCached()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li dane zostaÅ‚y skopiowane do VBO.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HardwareBuffer*</span> <span class="pre">getHardwareCache()</span></code></p></td>
<td class="text-left"><p>Zwraca wskaÅºnik na obiekt <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id498">
<h1>Zmienne prywatne<a class="headerlink" href="#id498" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Bufor <code class="docutils literal notranslate"><span class="pre">DataBuffer&lt;float&gt;</span></code> przechowujÄ…cy wspÃ³Å‚rzÄ™dne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_hardwareBuffer</span></code>: WskaÅºnik na opcjonalny bufor VBO.</p></li>
</ul>
</section>
<section id="id499">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id499" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/hardwarebuffer.h</span></code>: Do sprzÄ™towego keszowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: UÅ¼ywana jako wewnÄ™trzny kontener.</p></li>
<li><p>Jest podstawowym skÅ‚adnikiem <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>, ktÃ³ry uÅ¼ywa dwÃ³ch instancji <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> (jednej na pozycje, drugiej na wspÃ³Å‚rzÄ™dne tekstur).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="texturemanager-h">
<h1>ğŸ“„ texturemanager.h<a class="headerlink" href="#texturemanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id500">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id500" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">texturemanager.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_textures</span></code>) odpowiedzialnym za zarzÄ…dzanie (Å‚adowanie, cachowanie, zwalnianie) teksturami w aplikacji.</p>
</section>
<section id="id501">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code><a class="headerlink" href="#id501" title="Link to this heading">#</a></h1>
</section>
<section id="id502">
<h1>Opis semantyczny<a class="headerlink" href="#id502" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">TextureManager</span></code> dziaÅ‚a jako centralne repozytorium tekstur. Gdy jakaÅ› czÄ™Å›Ä‡ kodu prosi o teksturÄ™ z pliku, menedÅ¼er najpierw sprawdza, czy nie zostaÅ‚a ona juÅ¼ zaÅ‚adowana. JeÅ›li tak, zwraca istniejÄ…cÄ… instancjÄ™. JeÅ›li nie, Å‚aduje jÄ… z dysku, zapisuje w swojej pamiÄ™ci podrÄ™cznej (cache) i zwraca. Zapobiega to wielokrotnemu Å‚adowaniu tych samych zasobÃ³w i marnowaniu pamiÄ™ci.</p>
</section>
<section id="id503">
<h1>Metody publiczne<a class="headerlink" href="#id503" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje menedÅ¼era.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia wszystkie zaÅ‚adowane tekstury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clearCache()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci pamiÄ™Ä‡ podrÄ™cznÄ… tekstur.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">reload()</span></code></p></td>
<td class="text-left"><p>PrzeÅ‚adowuje wszystkie tekstury z plikÃ³w, umoÅ¼liwiajÄ…c â€œhot-reloadingâ€.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">preload(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td class="text-left"><p>SkrÃ³t do <code class="docutils literal notranslate"><span class="pre">getTexture</span></code>, ktÃ³ry Å‚aduje teksturÄ™ do cache, ale nie zwraca jej.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">getTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td class="text-left"><p>Pobiera teksturÄ™. JeÅ›li nie ma jej w cache, Å‚aduje jÄ….</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">loadTexture(...)</span></code></p></td>
<td class="text-left"><p>Niskopoziomowa metoda do tworzenia tekstury ze strumienia danych.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id504">
<h1>Zmienne prywatne<a class="headerlink" href="#id504" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_textures</span></code>: Mapa (<code class="docutils literal notranslate"><span class="pre">std::unordered_map</span></code>) przechowujÄ…ca zaÅ‚adowane tekstury, gdzie kluczem jest nazwa pliku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_animatedTextures</span></code>: Wektor przechowujÄ…cy wskaÅºniki do animowanych tekstur, prawdopodobnie w celu ich aktualizacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_liveReloadEvent</span></code>: WskaÅºnik na zdarzenie, prawdopodobnie do implementacji â€œlive reloadâ€.</p></li>
</ul>
</section>
<section id="id505">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id505" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: Definicja <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Deklaracje <code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span></code>.</p></li>
<li><p>Jest to kluczowy menedÅ¼er w systemie graficznym, uÅ¼ywany przez wszystkie komponenty, ktÃ³re muszÄ… wyÅ›wietlaÄ‡ obrazy, takie jak <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> czy <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="textrender-h">
<h1>ğŸ“„ textrender.h<a class="headerlink" href="#textrender-h" title="Link to this heading">#</a></h1>
</section>
<section id="id506">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id506" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">textrender.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">TextRender</span></code>, ktÃ³ra jest systemem do optymalizacji renderowania tekstu. DziaÅ‚a jako globalny cache dla geometrii tekstu.</p>
</section>
<section id="struktura-textrendercache">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">TextRenderCache</span></code><a class="headerlink" href="#struktura-textrendercache" title="Link to this heading">#</a></h1>
<p>Przechowuje wszystkie informacje potrzebne do narysowania tekstu, w tym gotowy <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z geometriÄ….</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">font</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">BitmapFontPtr</span></code></p></td>
<td class="text-left"><p>Font uÅ¼yty do wygenerowania geometrii (zwalniany po pierwszym uÅ¼yciu).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Tekst (zwalniany po pierwszym uÅ¼yciu).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Size</span></code></p></td>
<td class="text-left"><p>Rozmiar obszaru, w ktÃ³rym tekst ma byÄ‡ rysowany.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">align</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span></code></p></td>
<td class="text-left"><p>WyrÃ³wnanie tekstu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">texture</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span></code></p></td>
<td class="text-left"><p>Tekstura fontu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">coords</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code></p></td>
<td class="text-left"><p>Zbuforowana geometria tekstu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">lastUse</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span></code></p></td>
<td class="text-left"><p>Czas ostatniego uÅ¼ycia (do czyszczenia cache).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id507">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">TextRender</span></code><a class="headerlink" href="#id507" title="Link to this heading">#</a></h1>
</section>
<section id="id508">
<h1>Opis semantyczny<a class="headerlink" href="#id508" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">TextRender</span></code> minimalizuje narzut na CPU zwiÄ…zany z obliczaniem pozycji poszczegÃ³lnych glifÃ³w dla czÄ™sto wyÅ›wietlanych tekstÃ³w. Zamiast przeliczaÄ‡ geometriÄ™ w kaÅ¼dej klatce, robi to tylko raz, a nastÄ™pnie przechowuje wynik w cache.</p>
</section>
<section id="id509">
<h1>StaÅ‚e<a class="headerlink" href="#id509" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">INDEXES</span></code>: Liczba â€œkubeÅ‚kÃ³wâ€ w hash mapie. UÅ¼ycie wielu map z osobnymi mutexami ma na celu zmniejszenie rywalizacji o zasoby w Å›rodowisku wielowÄ…tkowym.</p></li>
</ul>
</section>
<section id="id510">
<h1>Metody publiczne<a class="headerlink" href="#id510" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje i zwalnia system.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci cache z nieuÅ¼ywanych wpisÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint64_t</span> <span class="pre">addText(...)</span></code></p></td>
<td class="text-left"><p>Generuje hash dla tekstu i tworzy dla niego wpis w cache.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">drawText(...)</span></code></p></td>
<td class="text-left"><p>Rysuje tekst, uÅ¼ywajÄ…c skeszowanej geometrii.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">drawColoredText(...)</span></code></p></td>
<td class="text-left"><p>Rysuje tekst wielokolorowy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id511">
<h1>Zmienne prywatne<a class="headerlink" href="#id511" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_cache[INDEXES]</span></code>: Tablica map, ktÃ³ra przechowuje skeszowane dane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex[INDEXES]</span></code>: Tablica mutexÃ³w, po jednym dla kaÅ¼dej mapy w <code class="docutils literal notranslate"><span class="pre">m_cache</span></code>.</p></li>
</ul>
</section>
<section id="id512">
<h1>Zmienne globalne<a class="headerlink" href="#id512" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_text</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">TextRender</span></code>.</p></li>
</ul>
</section>
<section id="id513">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id513" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/bitmapfont.h</span></code>, <code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code>: Kluczowe struktury danych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Do Å›ledzenia czasu ostatniego uÅ¼ycia.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueueItemText</span></code> do renderowania tekstu w zoptymalizowany sposÃ³b.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="outfits-h">
<h1>ğŸ“„ outfits.h<a class="headerlink" href="#outfits-h" title="Link to this heading">#</a></h1>
</section>
<section id="id514">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id514" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">outfits.h</span></code> zawiera kod ÅºrÃ³dÅ‚owy shaderÃ³w w postaci staÅ‚ych stringÃ³w, ktÃ³re sÄ… uÅ¼ywane do renderowania strojÃ³w postaci z niestandardowymi kolorami.</p>
</section>
<section id="shadery">
<h1>Shadery<a class="headerlink" href="#shadery" title="Link to this heading">#</a></h1>
</section>
<section id="glsladvancedoutfitvertexshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslAdvancedOutfitVertexShader</span></code><a class="headerlink" href="#glsladvancedoutfitvertexshader" title="Link to this heading">#</a></h1>
</section>
<section id="opis">
<h1>Opis<a class="headerlink" href="#opis" title="Link to this heading">#</a></h1>
<p>Shader wierzchoÅ‚kÃ³w dla zaawansowanego renderowania strojÃ³w.</p>
</section>
<section id="id515">
<h1>DziaÅ‚anie<a class="headerlink" href="#id515" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>Atrybuty</strong>: Przyjmuje pozycjÄ™ wierzchoÅ‚ka (<code class="docutils literal notranslate"><span class="pre">a_Vertex</span></code>) i jego wspÃ³Å‚rzÄ™dne na teksturze (<code class="docutils literal notranslate"><span class="pre">a_TexCoord</span></code>).</p></li>
<li><p><strong>Uniformy</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">u_ProjectionMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">u_TransformMatrix</span></code>: Standardowe macierze do transformacji pozycji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u_TextureMatrix</span></code>: Do transformacji wspÃ³Å‚rzÄ™dnych tekstury.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u_Offset</span></code>, <code class="docutils literal notranslate"><span class="pre">u_Resolution</span></code>: Dodatkowe dane, prawdopodobnie do efektÃ³w.</p></li>
</ul>
</li>
<li><p><strong>Varying</strong>:</p>
<ul class="simple">
<li><p>Przekazuje do shadera fragmentÃ³w trzy zestawy wspÃ³Å‚rzÄ™dnych tekstury:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">v_TexCoord</span></code>: Podstawowe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v_TexCoord2</span></code>: PrzesuniÄ™te o <code class="docutils literal notranslate"><span class="pre">u_Offset</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v_TexCoord3</span></code>: WspÃ³Å‚rzÄ™dne oparte na rozdzielczoÅ›ci.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Oblicza finalnÄ… pozycjÄ™ wierzchoÅ‚ka na ekranie (<code class="docutils literal notranslate"><span class="pre">gl_Position</span></code>).</p></li>
</ol>
</section>
<section id="glsladvancedoutfitfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslAdvancedOutfitFragmentShader</span></code><a class="headerlink" href="#glsladvancedoutfitfragmentshader" title="Link to this heading">#</a></h1>
</section>
<section id="id516">
<h1>Opis<a class="headerlink" href="#id516" title="Link to this heading">#</a></h1>
<p>Shader fragmentÃ³w (pikseli) dla zaawansowanego renderowania strojÃ³w.</p>
</section>
<section id="id517">
<h1>DziaÅ‚anie<a class="headerlink" href="#id517" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera kolor piksela z gÅ‚Ã³wnej tekstury (<code class="docutils literal notranslate"><span class="pre">u_Tex0</span></code>) na podstawie <code class="docutils literal notranslate"><span class="pre">v_TexCoord</span></code>.</p></li>
<li><p>Sprawdza kolor piksela z tej samej tekstury, ale w przesuniÄ™tym miejscu (<code class="docutils literal notranslate"><span class="pre">v_TexCoord2</span></code>). JeÅ›li alfa tego piksela jest wiÄ™ksza od progu, mnoÅ¼y finalny kolor przez Å¼Ã³Å‚ty (<code class="docutils literal notranslate"><span class="pre">vec4(1.0,</span> <span class="pre">1.0,</span> <span class="pre">0.0,</span> <span class="pre">1.0)</span></code>), tworzÄ…c efekt podÅ›wietlenia lub konturu.</p></li>
<li><p>Odrzuca piksel (<code class="docutils literal notranslate"><span class="pre">discard</span></code>), jeÅ›li jego alfa jest zbyt niska.</p></li>
</ol>
<blockquote>
<div><p><strong>NOTE</strong>: Kod shaderÃ³w w tym pliku wydaje siÄ™ byÄ‡ eksperymentalny lub nie w peÅ‚ni zaimplementowany w reszcie kodu. Prawdziwy shader do strojÃ³w znajduje siÄ™ w <code class="docutils literal notranslate"><span class="pre">shadersources.h</span></code>.</p>
</div></blockquote>
</section>
<section id="id518">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id518" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">shaders.h</span></code>.</p></li>
<li><p>Kod jest przeznaczony do uÅ¼ycia przez <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="newshader-h">
<h1>ğŸ“„ newshader.h<a class="headerlink" href="#newshader-h" title="Link to this heading">#</a></h1>
</section>
<section id="id519">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id519" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">newshader.h</span></code> zawiera kod ÅºrÃ³dÅ‚owy dla nowego, zoptymalizowanego systemu renderowania opartego na <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>. Definiuje shadery wierzchoÅ‚kÃ³w i fragmentÃ³w do rysowania geometrii wsadowej, tekstu i linii.</p>
</section>
<section id="id520">
<h1>Shadery<a class="headerlink" href="#id520" title="Link to this heading">#</a></h1>
</section>
<section id="newvertexshader">
<h1><code class="docutils literal notranslate"><span class="pre">newVertexShader</span></code><a class="headerlink" href="#newvertexshader" title="Link to this heading">#</a></h1>
</section>
<section id="id521">
<h1>Opis<a class="headerlink" href="#id521" title="Link to this heading">#</a></h1>
<p>Shader wierzchoÅ‚kÃ³w dla <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>.</p>
</section>
<section id="id522">
<h1>DziaÅ‚anie<a class="headerlink" href="#id522" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>Atrybuty</strong>: Przyjmuje pozycjÄ™ (<code class="docutils literal notranslate"><span class="pre">a_Vertex</span></code>), wspÃ³Å‚rzÄ™dne tekstury (<code class="docutils literal notranslate"><span class="pre">a_TexCoord</span></code>) i <strong>kolor (<code class="docutils literal notranslate"><span class="pre">a_Color</span></code>)</strong> dla kaÅ¼dego wierzchoÅ‚ka.</p></li>
<li><p><strong>Varying</strong>: Przekazuje wspÃ³Å‚rzÄ™dne tekstury i kolor do shadera fragmentÃ³w.</p></li>
<li><p>Oblicza pozycjÄ™ wierzchoÅ‚ka.</p></li>
</ol>
</section>
<section id="newfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">newFragmentShader</span></code><a class="headerlink" href="#newfragmentshader" title="Link to this heading">#</a></h1>
</section>
<section id="id523">
<h1>Opis<a class="headerlink" href="#id523" title="Link to this heading">#</a></h1>
<p>Shader fragmentÃ³w dla <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>.</p>
</section>
<section id="id524">
<h1>DziaÅ‚anie<a class="headerlink" href="#id524" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy wspÃ³Å‚rzÄ™dna X tekstury jest mniejsza od 0. JeÅ›li tak, oznacza to, Å¼e wierzchoÅ‚ek nie ma tekstury i jego kolorem jest po prostu <code class="docutils literal notranslate"><span class="pre">v_Color</span></code>.</p></li>
<li><p>W przeciwnym razie, pobiera kolor z tekstury atlasu (<code class="docutils literal notranslate"><span class="pre">u_Atlas</span></code>) i mnoÅ¼y go przez kolor wierzchoÅ‚ka (<code class="docutils literal notranslate"><span class="pre">v_Color</span></code>).</p></li>
</ol>
</section>
<section id="textvertexshader-i-textfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">textVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">textFragmentShader</span></code><a class="headerlink" href="#textvertexshader-i-textfragmentshader" title="Link to this heading">#</a></h1>
<p>Shadery zoptymalizowane do rysowania tekstu. WierzchoÅ‚ki sÄ… przesuwane o <code class="docutils literal notranslate"><span class="pre">u_Offset</span></code> (pozycja tekstu na ekranie), a kolor jest jednolity dla caÅ‚ego tekstu (<code class="docutils literal notranslate"><span class="pre">u_Color</span></code>).</p>
</section>
<section id="linevertexshader-i-linefragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">lineVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">lineFragmentShader</span></code><a class="headerlink" href="#linevertexshader-i-linefragmentshader" title="Link to this heading">#</a></h1>
<p>Proste shadery do rysowania linii. Shader fragmentÃ³w po prostu ustawia jednolity kolor <code class="docutils literal notranslate"><span class="pre">u_Color</span></code>.</p>
</section>
<section id="id525">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id525" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">shaders.h</span></code>.</p></li>
<li><p>Shadery te sÄ… kompilowane i uÅ¼ywane przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do implementacji <code class="docutils literal notranslate"><span class="pre">drawCache</span></code>, <code class="docutils literal notranslate"><span class="pre">drawText</span></code> i <code class="docutils literal notranslate"><span class="pre">drawLine</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="shaders-h">
<h1>ğŸ“„ shaders.h<a class="headerlink" href="#shaders-h" title="Link to this heading">#</a></h1>
</section>
<section id="id526">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id526" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shaders.h</span></code> jest plikiem nagÅ‚Ã³wkowym, ktÃ³ry agreguje wszystkie pliki zawierajÄ…ce kod ÅºrÃ³dÅ‚owy shaderÃ³w. SÅ‚uÅ¼y jako pojedynczy punkt doÅ‚Ä…czania dla wszystkich predefiniowanych shaderÃ³w w systemie.</p>
</section>
<section id="zawartosc">
<h1>ZawartoÅ›Ä‡<a class="headerlink" href="#zawartosc" title="Link to this heading">#</a></h1>
<p>DoÅ‚Ä…cza nastÄ™pujÄ…ce pliki:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newshader.h</span></code>: Zawiera shadery dla nowego, wsadowego systemu renderowania (<code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shadersources.h</span></code>: Zawiera kod ÅºrÃ³dÅ‚owy dla standardowych shaderÃ³w uÅ¼ywanych przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code> (rysowanie tekstur, jednolitych kolorÃ³w, strojÃ³w).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">outfits.h</span></code>: Zawiera eksperymentalne/alternatywne shadery do strojÃ³w.</p></li>
</ul>
</section>
<section id="id527">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id527" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">painter.cpp</span></code> w celu uzyskania dostÄ™pu do kodu ÅºrÃ³dÅ‚owego shaderÃ³w, ktÃ³re sÄ… kompilowane podczas inicjalizacji <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="shadersources-h">
<h1>ğŸ“„ shadersources.h<a class="headerlink" href="#shadersources-h" title="Link to this heading">#</a></h1>
</section>
<section id="id528">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id528" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shadersources.h</span></code> zawiera kod ÅºrÃ³dÅ‚owy w GLSL dla standardowych shaderÃ³w uÅ¼ywanych przez klasÄ™ <code class="docutils literal notranslate"><span class="pre">Painter</span></code>. SÄ… one zdefiniowane jako staÅ‚e stringi i kompilowane w trakcie dziaÅ‚ania programu.</p>
</section>
<section id="id529">
<h1>Shadery<a class="headerlink" href="#id529" title="Link to this heading">#</a></h1>
</section>
<section id="glslmainvertexshader-i-glslmainwithtexcoordsvertexshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslMainVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">glslMainWithTexCoordsVertexShader</span></code><a class="headerlink" href="#glslmainvertexshader-i-glslmainwithtexcoordsvertexshader" title="Link to this heading">#</a></h1>
<p>SÄ… to â€œszablonyâ€ dla shaderÃ³w wierzchoÅ‚kÃ³w. DefiniujÄ… one funkcjÄ™ <code class="docutils literal notranslate"><span class="pre">main</span></code>, ktÃ³ra wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">calculatePosition()</span></code>. Wersja <code class="docutils literal notranslate"><span class="pre">WithTexCoords</span></code> dodatkowo przekazuje wspÃ³Å‚rzÄ™dne tekstury do shadera fragmentÃ³w.</p>
</section>
<section id="glslpositiononlyvertexshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslPositionOnlyVertexShader</span></code><a class="headerlink" href="#glslpositiononlyvertexshader" title="Link to this heading">#</a></h1>
<p>Jest to implementacja <code class="docutils literal notranslate"><span class="pre">calculatePosition()</span></code>. Oblicza ona finalnÄ… pozycjÄ™ wierzchoÅ‚ka, mnoÅ¼Ä…c jego pozycjÄ™ przez macierze transformacji i projekcji. UwzglÄ™dnia rÃ³wnieÅ¼ gÅ‚Ä™biÄ™ (<code class="docutils literal notranslate"><span class="pre">u_Depth</span></code>).</p>
</section>
<section id="glslmainfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslMainFragmentShader</span></code><a class="headerlink" href="#glslmainfragmentshader" title="Link to this heading">#</a></h1>
<p>Szablon dla shaderÃ³w fragmentÃ³w. WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">calculatePixel()</span></code> i odrzuca piksele o niskiej wartoÅ›ci alfa, jeÅ›li <code class="docutils literal notranslate"><span class="pre">u_Depth</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>.</p>
</section>
<section id="glsltexturesrcfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslTextureSrcFragmentShader</span></code><a class="headerlink" href="#glsltexturesrcfragmentshader" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">calculatePixel()</span></code>, ktÃ³ra pobiera kolor z tekstury (<code class="docutils literal notranslate"><span class="pre">u_Tex0</span></code>) i mnoÅ¼y go przez jednolity kolor (<code class="docutils literal notranslate"><span class="pre">u_Color</span></code>).</p>
</section>
<section id="glslsolidcolorfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslSolidColorFragmentShader</span></code><a class="headerlink" href="#glslsolidcolorfragmentshader" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">calculatePixel()</span></code>, ktÃ³ra zwraca jednolity kolor (<code class="docutils literal notranslate"><span class="pre">u_Color</span></code>).</p>
</section>
<section id="glslsolidcolorontexturefragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslSolidColorOnTextureFragmentShader</span></code><a class="headerlink" href="#glslsolidcolorontexturefragmentshader" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">calculatePixel()</span></code>, ktÃ³ra rysuje jednolity kolor (<code class="docutils literal notranslate"><span class="pre">u_Color</span></code>) tylko tam, gdzie tekstura (<code class="docutils literal notranslate"><span class="pre">u_Tex0</span></code>) nie jest w peÅ‚ni przezroczysta.</p>
</section>
<section id="glsloutfitvertexshader-i-glsloutfitfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslOutfitVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">glslOutfitFragmentShader</span></code><a class="headerlink" href="#glsloutfitvertexshader-i-glsloutfitfragmentshader" title="Link to this heading">#</a></h1>
<p>Shadery do renderowania strojÃ³w.</p>
<ul class="simple">
<li><p><strong>Shader wierzchoÅ‚kÃ³w</strong>: Przekazuje dwie pary wspÃ³Å‚rzÄ™dnych tekstury â€“ normalne (<code class="docutils literal notranslate"><span class="pre">v_TexCoord</span></code>) i przesuniÄ™te o <code class="docutils literal notranslate"><span class="pre">u_Offset</span></code> (<code class="docutils literal notranslate"><span class="pre">v_TexCoord2</span></code>).</p></li>
<li><p><strong>Shader fragmentÃ³w</strong>:</p>
<ol class="arabic simple">
<li><p>Pobiera kolor bazowy z <code class="docutils literal notranslate"><span class="pre">v_TexCoord</span></code>.</p></li>
<li><p>Pobiera kolor â€œmaskiâ€ z <code class="docutils literal notranslate"><span class="pre">v_TexCoord2</span></code>.</p></li>
<li><p>Na podstawie koloru maski (sprawdzajÄ…c, ktÃ³ry kanaÅ‚ R, G lub B jest dominujÄ…cy), mnoÅ¼y kolor bazowy przez jeden z czterech kolorÃ³w przekazanych w macierzy <code class="docutils literal notranslate"><span class="pre">u_Color</span></code>. Pozwala to na dynamiczne kolorowanie rÃ³Å¼nych czÄ™Å›ci stroju.</p></li>
</ol>
</li>
</ul>
</section>
<section id="id530">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id530" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">shaders.h</span></code>.</p></li>
<li><p>Kod jest uÅ¼ywany w <code class="docutils literal notranslate"><span class="pre">painter.cpp</span></code> do tworzenia domyÅ›lnych programÃ³w shaderÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="http-cpp">
<h1>ğŸ“„ http.cpp<a class="headerlink" href="#http-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id531">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id531" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">http.cpp</span></code> implementuje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Http</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_http</span></code>) odpowiedzialnym za obsÅ‚ugÄ™ zapytaÅ„ HTTP/HTTPS oraz poÅ‚Ä…czeÅ„ WebSocket. DziaÅ‚a asynchronicznie, wykorzystujÄ…c bibliotekÄ™ Boost.Asio do operacji sieciowych w osobnym wÄ…tku.</p>
</section>
<section id="id532">
<h1>Zmienne globalne<a class="headerlink" href="#id532" title="Link to this heading">#</a></h1>
</section>
<section id="g-http">
<h1><code class="docutils literal notranslate"><span class="pre">g_http</span></code><a class="headerlink" href="#g-http" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p>
</section>
<section id="klasa-http">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Http</span></code><a class="headerlink" href="#klasa-http" title="Link to this heading">#</a></h1>
</section>
<section id="void-http-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Http::init()</span></code><a class="headerlink" href="#void-http-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje menedÅ¼era. Tworzy i uruchamia osobny wÄ…tek, w ktÃ³rym bÄ™dzie dziaÅ‚aÄ‡ <code class="docutils literal notranslate"><span class="pre">boost::asio::io_service</span></code> (<code class="docutils literal notranslate"><span class="pre">m_ios</span></code>), obsÅ‚ugujÄ…c wszystkie operacje sieciowe.</p>
</section>
<section id="void-http-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Http::terminate()</span></code><a class="headerlink" href="#void-http-terminate" title="Link to this heading">#</a></h1>
<p>Zamyka menedÅ¼era. Zatrzymuje <code class="docutils literal notranslate"><span class="pre">io_service</span></code>, anuluje wszystkie bieÅ¼Ä…ce operacje i czeka na zakoÅ„czenie wÄ…tku sieciowego.</p>
</section>
<section id="int-http-get-const-std-string-url-int-timeout">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url,</span> <span class="pre">int</span> <span class="pre">timeout)</span></code><a class="headerlink" href="#int-http-get-const-std-string-url-int-timeout" title="Link to this heading">#</a></h1>
</section>
<section id="id533">
<h1>Opis semantyczny<a class="headerlink" href="#id533" title="Link to this heading">#</a></h1>
<p>WysyÅ‚a asynchroniczne zapytanie HTTP GET.</p>
</section>
<section id="id534">
<h1>DziaÅ‚anie<a class="headerlink" href="#id534" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Generuje unikalne ID operacji.</p></li>
<li><p>Dodaje zadanie do <code class="docutils literal notranslate"><span class="pre">m_ios</span></code>, ktÃ³re tworzy obiekt <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> wykonuje zapytanie w wÄ…tku sieciowym.</p></li>
<li><p>Wyniki (postÄ™p, bÅ‚Ä…d, odpowiedÅº) sÄ… przekazywane z powrotem do gÅ‚Ã³wnego wÄ…tku za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> i wywoÅ‚ywane sÄ… odpowiednie callbacki w Lua (<code class="docutils literal notranslate"><span class="pre">g_http.onGetProgress</span></code>, <code class="docutils literal notranslate"><span class="pre">g_http.onGet</span></code>).</p></li>
</ol>
</section>
<section id="int-http-post">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::post(...)</span></code><a class="headerlink" href="#int-http-post" title="Link to this heading">#</a></h1>
<p>DziaÅ‚a analogicznie do <code class="docutils literal notranslate"><span class="pre">get</span></code>, ale wysyÅ‚a zapytanie HTTP POST z podanymi danymi (<code class="docutils literal notranslate"><span class="pre">data</span></code>).</p>
</section>
<section id="int-http-download">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::download(...)</span></code><a class="headerlink" href="#int-http-download" title="Link to this heading">#</a></h1>
<p>Specjalna wersja <code class="docutils literal notranslate"><span class="pre">get</span></code>, ktÃ³ra dodatkowo zapisuje pobrane dane w wewnÄ™trznej mapie <code class="docutils literal notranslate"><span class="pre">m_downloads</span></code>. Pozwala to na dostÄ™p do pobranych plikÃ³w przez <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> za pomocÄ… wirtualnej Å›cieÅ¼ki <code class="docutils literal notranslate"><span class="pre">/downloads/...</span></code>.</p>
</section>
<section id="int-http-ws">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::ws(...)</span></code><a class="headerlink" href="#int-http-ws" title="Link to this heading">#</a></h1>
<p>Inicjuje asynchroniczne poÅ‚Ä…czenie WebSocket. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code>, ktÃ³ry zarzÄ…dza cyklem Å¼ycia poÅ‚Ä…czenia. Callbacki Lua (<code class="docutils literal notranslate"><span class="pre">onWsOpen</span></code>, <code class="docutils literal notranslate"><span class="pre">onWsMessage</span></code>, <code class="docutils literal notranslate"><span class="pre">onWsClose</span></code>, <code class="docutils literal notranslate"><span class="pre">onWsError</span></code>) sÄ… wywoÅ‚ywane w odpowiedzi na zdarzenia z gniazda.</p>
</section>
<section id="bool-http-wssend-int-operationid-std-string-message">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Http::wsSend(int</span> <span class="pre">operationId,</span> <span class="pre">std::string</span> <span class="pre">message)</span></code><a class="headerlink" href="#bool-http-wssend-int-operationid-std-string-message" title="Link to this heading">#</a></h1>
<p>WysyÅ‚a wiadomoÅ›Ä‡ przez istniejÄ…ce poÅ‚Ä…czenie WebSocket o danym <code class="docutils literal notranslate"><span class="pre">operationId</span></code>.</p>
</section>
<section id="bool-http-cancel-int-id">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Http::cancel(int</span> <span class="pre">id)</span></code><a class="headerlink" href="#bool-http-cancel-int-id" title="Link to this heading">#</a></h1>
<p>Anuluje operacjÄ™ (HTTP lub WebSocket) o podanym ID.</p>
</section>
<section id="id535">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id535" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/http.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/session.h</span></code>, <code class="docutils literal notranslate"><span class="pre">websocket.h</span></code>: Implementacje sesji HTTP i WebSocket (niedostÄ™pne dla Emscripten).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: Do wywoÅ‚ywania callbackÃ³w w Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do przekazywania wynikÃ³w z wÄ…tku sieciowego do wÄ…tku gÅ‚Ã³wnego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>, <code class="docutils literal notranslate"><span class="pre">boost/beast</span></code>: Podstawowe biblioteki do obsÅ‚ugi sieci.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="websocket-h">
<h1>ğŸ“„ websocket.h<a class="headerlink" href="#websocket-h" title="Link to this heading">#</a></h1>
</section>
<section id="id536">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id536" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">websocket.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code>, ktÃ³ra zarzÄ…dza pojedynczym poÅ‚Ä…czeniem WebSocket. Plik ten (i jego implementacja) jest wyÅ‚Ä…czony z kompilacji dla Emscripten.</p>
</section>
<section id="typy-wyliczeniowe-i-definicje">
<h1>Typy wyliczeniowe i definicje<a class="headerlink" href="#typy-wyliczeniowe-i-definicje" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">WebsocketCallbackType</span></code>: Definiuje typy zdarzeÅ„ dla callbacka (<code class="docutils literal notranslate"><span class="pre">WEBSOCKET_OPEN</span></code>, <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_MESSAGE</span></code>, <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_ERROR</span></code>, <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_CLOSE</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">WebsocketSession_cb</span></code>: Alias dla typu funkcji zwrotnej.</p></li>
</ul>
</section>
<section id="klasa-websocketsession">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code><a class="headerlink" href="#klasa-websocketsession" title="Link to this heading">#</a></h1>
</section>
<section id="id537">
<h1>Opis semantyczny<a class="headerlink" href="#id537" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code> enkapsuluje caÅ‚Ä… logikÄ™ zwiÄ…zanÄ… z nawiÄ…zywaniem, utrzymywaniem i zamykaniem poÅ‚Ä…czenia WebSocket, wÅ‚Ä…czajÄ…c w to obsÅ‚ugÄ™ protokoÅ‚u (handshake) i szyfrowania (WSS). DziaÅ‚a w peÅ‚ni asynchronicznie w oparciu o Boost.Asio.</p>
</section>
<section id="id538">
<h1>Metody publiczne<a class="headerlink" href="#id538" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">WebsocketSession(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">start()</span></code></p></td>
<td class="text-left"><p>Rozpoczyna proces nawiÄ…zywania poÅ‚Ä…czenia (rozwiÄ…zywanie nazwy DNS, Å‚Ä…czenie, handshake).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">send(std::string</span> <span class="pre">data)</span></code></p></td>
<td class="text-left"><p>Dodaje wiadomoÅ›Ä‡ do kolejki wysyÅ‚ania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">close()</span></code></p></td>
<td class="text-left"><p>Zamyka poÅ‚Ä…czenie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id539">
<h1>Zmienne prywatne<a class="headerlink" href="#id539" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_service</span></code>: Referencja do <code class="docutils literal notranslate"><span class="pre">io_service</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_url</span></code>, <code class="docutils literal notranslate"><span class="pre">m_agent</span></code>: URL i User-Agent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_resolver</span></code>: Do rozwiÄ…zywania nazw DNS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_callback</span></code>: Funkcja zwrotna do powiadamiania o zdarzeniach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_result</span></code>: WskaÅºnik na <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code> do przechowywania stanu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_timer</span></code>: Timer do obsÅ‚ugi timeoutÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_socket</span></code>: Gniazdo WebSocket dla poÅ‚Ä…czeÅ„ nieszyfrowanych (WS).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_ssl</span></code>: Gniazdo WebSocket dla poÅ‚Ä…czeÅ„ szyfrowanych (WSS).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_context</span></code>: Kontekst SSL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_streambuf</span></code>: Bufor na przychodzÄ…ce dane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_sendQueue</span></code>: Kolejka wiadomoÅ›ci do wysÅ‚ania.</p></li>
</ul>
</section>
<section id="metody-prywatne-on">
<h1>Metody prywatne (<code class="docutils literal notranslate"><span class="pre">on_...</span></code>)<a class="headerlink" href="#metody-prywatne-on" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>SÄ… to handlery wywoÅ‚ywane przez Boost.Asio po zakoÅ„czeniu operacji asynchronicznych (np. <code class="docutils literal notranslate"><span class="pre">on_resolve</span></code>, <code class="docutils literal notranslate"><span class="pre">on_connect</span></code>, <code class="docutils literal notranslate"><span class="pre">on_handshake</span></code>, <code class="docutils literal notranslate"><span class="pre">on_read</span></code>, <code class="docutils literal notranslate"><span class="pre">on_send</span></code>). ImplementujÄ… one logikÄ™ maszyny stanÃ³w poÅ‚Ä…czenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onError</span></code>: Centralna funkcja do obsÅ‚ugi bÅ‚Ä™dÃ³w.</p></li>
</ul>
</section>
<section id="id540">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id540" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/result.h</span></code>: Definicja <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>, <code class="docutils literal notranslate"><span class="pre">boost/beast</span></code>: Kluczowe biblioteki do obsÅ‚ugi sieci.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez klasÄ™ <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="http-h">
<h1>ğŸ“„ http.h<a class="headerlink" href="#http-h" title="Link to this heading">#</a></h1>
</section>
<section id="id541">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id541" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">http.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Http</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_http</span></code>) i stanowi gÅ‚Ã³wny interfejs do wykonywania operacji sieciowych opartych na protokoÅ‚ach HTTP/HTTPS i WebSocket.</p>
</section>
<section id="id542">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Http</span></code><a class="headerlink" href="#id542" title="Link to this heading">#</a></h1>
</section>
<section id="id543">
<h1>Opis semantyczny<a class="headerlink" href="#id543" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Http</span></code> zarzÄ…dza pulÄ… operacji sieciowych, ktÃ³re sÄ… wykonywane asynchronicznie w dedykowanym wÄ…tku. UdostÄ™pnia proste API do wysyÅ‚ania zapytaÅ„ GET, POST, pobierania plikÃ³w oraz nawiÄ…zywania poÅ‚Ä…czeÅ„ WebSocket. Interakcja z resztÄ… aplikacji (gÅ‚Ã³wnie ze skryptami Lua) odbywa siÄ™ poprzez system callbackÃ³w.</p>
</section>
<section id="id544">
<h1>Metody publiczne<a class="headerlink" href="#id544" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Http()</span></code></p></td>
<td class="text-left"><p>Konstruktor, inicjalizuje <code class="docutils literal notranslate"><span class="pre">io_context</span></code> i <code class="docutils literal notranslate"><span class="pre">work_guard</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Uruchamia wÄ…tek sieciowy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje wÄ…tek sieciowy i anuluje wszystkie operacje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">get(...)</span></code></p></td>
<td class="text-left"><p>Inicjuje asynchroniczne zapytanie GET.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">post(...)</span></code></p></td>
<td class="text-left"><p>Inicjuje asynchroniczne zapytanie POST.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">download(...)</span></code></p></td>
<td class="text-left"><p>Inicjuje asynchroniczne pobieranie pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ws(...)</span></code></p></td>
<td class="text-left"><p>Inicjuje asynchroniczne poÅ‚Ä…czenie WebSocket.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">wsSend(...)</span></code></p></td>
<td class="text-left"><p>WysyÅ‚a dane przez istniejÄ…ce poÅ‚Ä…czenie WebSocket.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">wsClose(...)</span></code></p></td>
<td class="text-left"><p>Zamyka poÅ‚Ä…czenie WebSocket.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">cancel(int</span> <span class="pre">id)</span></code></p></td>
<td class="text-left"><p>Anuluje operacjÄ™ o podanym ID.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::map&lt;...&gt;&amp;</span> <span class="pre">downloads()</span></code></p></td>
<td class="text-left"><p>Zwraca mapÄ™ pobranych plikÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clearDownloads()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci mapÄ™ pobranych plikÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HttpResult_ptr</span> <span class="pre">getFile(...)</span></code></p></td>
<td class="text-left"><p>Pobiera dane pobranego pliku na podstawie jego Å›cieÅ¼ki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setUserAgent(...)</span></code></p></td>
<td class="text-left"><p>Ustawia nagÅ‚Ã³wek User-Agent dla wszystkich zapytaÅ„.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id545">
<h1>Zmienne prywatne<a class="headerlink" href="#id545" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_working</span></code>: Flaga kontrolujÄ…ca dziaÅ‚anie wÄ…tku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_operationId</span></code>: Licznik do generowania unikalnych ID dla operacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_thread</span></code>: WÄ…tek roboczy dla operacji sieciowych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_ios</span></code>: Kontekst <code class="docutils literal notranslate"><span class="pre">io_context</span></code> z Boost.Asio.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_guard</span></code>: <code class="docutils literal notranslate"><span class="pre">work_guard</span></code> zapobiegajÄ…cy zakoÅ„czeniu <code class="docutils literal notranslate"><span class="pre">m_ios.run()</span></code>, dopÃ³ki nie ma pracy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_operations</span></code>: Mapa przechowujÄ…ca stan wszystkich aktywnych operacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_websockets</span></code>: Mapa przechowujÄ…ca aktywne sesje WebSocket.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_downloads</span></code>: Mapa przechowujÄ…ca pobrane pliki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_userAgent</span></code>: String User-Agent.</p></li>
</ul>
</section>
<section id="id546">
<h1>Zmienne globalne<a class="headerlink" href="#id546" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_http</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p></li>
</ul>
</section>
<section id="id547">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id547" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/result.h</span></code>: Definicja <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code>.</p></li>
<li><p>Jest uÅ¼ywana w skryptach Lua (poprzez bindowania w <code class="docutils literal notranslate"><span class="pre">luafunctions.cpp</span></code>) do komunikacji z serwerami WWW, np. do pobierania aktualizacji, sprawdzania statusu serwerÃ³w itp.</p></li>
<li><p>WspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> w celu udostÄ™pnienia pobranych plikÃ³w przez wirtualny system plikÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="result-h">
<h1>ğŸ“„ result.h<a class="headerlink" href="#result-h" title="Link to this heading">#</a></h1>
</section>
<section id="id548">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id548" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">result.h</span></code> deklaruje strukturÄ™ <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code>, ktÃ³ra sÅ‚uÅ¼y do przechowywania stanu i wyniku pojedynczej operacji HTTP lub WebSocket. Definiuje rÃ³wnieÅ¼ aliasy typÃ³w dla inteligentnych wskaÅºnikÃ³w i funkcji zwrotnych.</p>
</section>
<section id="struktura-httpresult">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code><a class="headerlink" href="#struktura-httpresult" title="Link to this heading">#</a></h1>
</section>
<section id="id549">
<h1>Opis semantyczny<a class="headerlink" href="#id549" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">HttpResult</span></code> jest kontenerem danych przekazywanym miÄ™dzy wÄ…tkiem sieciowym a wÄ…tkiem gÅ‚Ã³wnym. Agreguje wszystkie informacje zwiÄ…zane z danym zapytaniem, takie jak URL, status, postÄ™p, dane odpowiedzi i ewentualne bÅ‚Ä™dy.</p>
</section>
<section id="id550">
<h1>Pola struktury<a class="headerlink" href="#id550" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">url</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Adres URL zapytania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">operationId</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Unikalny identyfikator operacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">status</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Kod statusu odpowiedzi HTTP (np. 200, 404).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>CaÅ‚kowity rozmiar odpowiedzi (z nagÅ‚Ã³wka Content-Length).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">progress</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>PostÄ™p pobierania w procentach (0-100).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">redirects</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Licznik przekierowaÅ„.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">connected</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td class="text-left"><p>Flaga wskazujÄ…ca, czy poÅ‚Ä…czenie jest aktywne.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">finished</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td class="text-left"><p>Flaga wskazujÄ…ca, czy operacja zostaÅ‚a zakoÅ„czona.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">canceled</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td class="text-left"><p>Flaga wskazujÄ…ca, czy operacja zostaÅ‚a anulowana.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">postData</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Dane wysÅ‚ane w zapytaniu POST.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">response</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint8_t&gt;</span></code></p></td>
<td class="text-left"><p>Surowe bajty odpowiedzi.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">error</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Komunikat bÅ‚Ä™du, jeÅ›li wystÄ…piÅ‚.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">session</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::weak_ptr&lt;HttpSession&gt;</span></code></p></td>
<td class="text-left"><p>SÅ‚aby wskaÅºnik do obiektu sesji, aby uniknÄ…Ä‡ cyklicznych referencji.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="definicje-typow">
<h1>Definicje typÃ³w<a class="headerlink" href="#definicje-typow" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HttpResult_ptr</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::shared_ptr&lt;HttpResult&gt;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HttpResult_cb</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::function&lt;void(HttpResult_ptr)&gt;</span></code>.</p></li>
</ul>
</section>
<section id="id551">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id551" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to podstawowa struktura danych uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Http</span></code>, <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> i <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code> do komunikacji i przekazywania wynikÃ³w.</p></li>
<li><p>Zawiera <code class="docutils literal notranslate"><span class="pre">std::weak_ptr</span></code> do <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code>, aby umoÅ¼liwiÄ‡ anulowanie operacji z zewnÄ…trz bez tworzenia cyklu referencji.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="session-cpp">
<h1>ğŸ“„ session.cpp<a class="headerlink" href="#session-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id552">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id552" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">session.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code>, ktÃ³ra zarzÄ…dza pojedynczÄ… sesjÄ… HTTP/HTTPS. Jest on wyÅ‚Ä…czony z kompilacji dla platformy Emscripten.</p>
</section>
<section id="klasa-httpsession">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code><a class="headerlink" href="#klasa-httpsession" title="Link to this heading">#</a></h1>
</section>
<section id="void-httpsession-start">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">HttpSession::start()</span></code><a class="headerlink" href="#void-httpsession-start" title="Link to this heading">#</a></h1>
</section>
<section id="id553">
<h1>Opis semantyczny<a class="headerlink" href="#id553" title="Link to this heading">#</a></h1>
<p>Rozpoczyna proces wysyÅ‚ania zapytania HTTP.</p>
</section>
<section id="id554">
<h1>DziaÅ‚anie<a class="headerlink" href="#id554" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza limit przekierowaÅ„.</p></li>
<li><p>Parsuje URL, aby uzyskaÄ‡ protokÃ³Å‚, domenÄ™, port i Å›cieÅ¼kÄ™.</p></li>
<li><p>Ustawia timer (<code class="docutils literal notranslate"><span class="pre">m_timer</span></code>) na obsÅ‚ugÄ™ timeoutu.</p></li>
<li><p>Konfiguruje obiekt Å¼Ä…dania <code class="docutils literal notranslate"><span class="pre">boost::beast::http::request</span></code> (metoda, nagÅ‚Ã³wki, treÅ›Ä‡).</p></li>
<li><p>Uruchamia asynchroniczne rozwiÄ…zywanie nazwy DNS za pomocÄ… <code class="docutils literal notranslate"><span class="pre">m_resolver.async_resolve</span></code>.</p></li>
</ol>
</section>
<section id="metody-on">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">on_...()</span></code><a class="headerlink" href="#metody-on" title="Link to this heading">#</a></h1>
<p>SÄ… to handlery (funkcje zwrotne) dla operacji asynchronicznych Boost.Asio, ktÃ³re implementujÄ… maszynÄ™ stanÃ³w sesji HTTP:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_resolve</span></code></strong>: WywoÅ‚ywana po rozwiÄ…zaniu nazwy DNS. Inicjuje <code class="docutils literal notranslate"><span class="pre">async_connect</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_connect</span></code></strong>: WywoÅ‚ywana po nawiÄ…zaniu poÅ‚Ä…czenia TCP.</p>
<ul>
<li><p>JeÅ›li protokÃ³Å‚ to HTTPS, inicjalizuje kontekst SSL i wykonuje <code class="docutils literal notranslate"><span class="pre">async_handshake</span></code>.</p></li>
<li><p>WysyÅ‚a Å¼Ä…danie HTTP za pomocÄ… <code class="docutils literal notranslate"><span class="pre">boost::beast::http::async_write</span></code>.</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_request_sent</span></code></strong>: WywoÅ‚ywana po wysÅ‚aniu Å¼Ä…dania. Rozpoczyna odczytywanie nagÅ‚Ã³wkÃ³w odpowiedzi za pomocÄ… <code class="docutils literal notranslate"><span class="pre">async_read_header</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_read_header</span></code></strong>: WywoÅ‚ywana po odczytaniu nagÅ‚Ã³wkÃ³w.</p>
<ul>
<li><p>Sprawdza kod statusu.</p></li>
<li><p>JeÅ›li jest to przekierowanie (np. 301, 302), tworzy nowÄ… <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> dla nowego URL.</p></li>
<li><p>JeÅ›li status jest niepoprawny, zgÅ‚asza bÅ‚Ä…d.</p></li>
<li><p>Rozpoczyna odczytywanie treÅ›ci odpowiedzi za pomocÄ… <code class="docutils literal notranslate"><span class="pre">async_read_some</span></code>.</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_read</span></code></strong>: WywoÅ‚ywana wielokrotnie podczas odczytywania treÅ›ci odpowiedzi.</p>
<ul>
<li><p>Aktualizuje postÄ™p pobierania i wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> progresu.</p></li>
<li><p>Gdy caÅ‚a treÅ›Ä‡ zostanie odczytana (<code class="docutils literal notranslate"><span class="pre">end_of_stream</span></code>), finalizuje operacjÄ™, zapisuje odpowiedÅº w <code class="docutils literal notranslate"><span class="pre">m_result</span></code> i wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> koÅ„cowy.</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">onTimeout</span></code></strong>: Handler dla timera, ktÃ³ry zgÅ‚asza bÅ‚Ä…d timeoutu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">onError</span></code></strong>: Centralna funkcja do obsÅ‚ugi bÅ‚Ä™dÃ³w. Zamyka gniazdo, anuluje timer i wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> z informacjÄ… o bÅ‚Ä™dzie.</p></li>
</ul>
</section>
<section id="void-httpsession-close">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">HttpSession::close()</span></code><a class="headerlink" href="#void-httpsession-close" title="Link to this heading">#</a></h1>
<p>Zamyka poÅ‚Ä…czenie, anuluje timer i, w przypadku HTTPS, wykonuje <code class="docutils literal notranslate"><span class="pre">async_shutdown</span></code> dla strumienia SSL.</p>
</section>
<section id="id555">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id555" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/session.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/uri.h</span></code>: Do parsowania URL.</p></li>
<li><p><strong>Boost.Asio</strong> i <strong>Boost.Beast</strong>: Kluczowe biblioteki do obsÅ‚ugi sieci.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez klasÄ™ <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="session-h">
<h1>ğŸ“„ session.h<a class="headerlink" href="#session-h" title="Link to this heading">#</a></h1>
</section>
<section id="id556">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id556" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">session.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code>, ktÃ³ra enkapsuluje logikÄ™ pojedynczej sesji HTTP/HTTPS. Plik ten jest wyÅ‚Ä…czony z kompilacji dla Emscripten.</p>
</section>
<section id="id557">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code><a class="headerlink" href="#id557" title="Link to this heading">#</a></h1>
</section>
<section id="id558">
<h1>Opis semantyczny<a class="headerlink" href="#id558" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> zarzÄ…dza caÅ‚ym cyklem Å¼ycia zapytania HTTP, od rozwiÄ…zania nazwy DNS, przez nawiÄ…zanie poÅ‚Ä…czenia (w tym SSL/TLS handshake), wysÅ‚anie Å¼Ä…dania, aÅ¼ po odczytanie odpowiedzi. Jest zaprojektowana do dziaÅ‚ania asynchronicznego w ramach <code class="docutils literal notranslate"><span class="pre">boost::asio::io_service</span></code>.</p>
</section>
<section id="id559">
<h1>Metody publiczne<a class="headerlink" href="#id559" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HttpSession(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">start()</span></code></p></td>
<td class="text-left"><p>Rozpoczyna sesjÄ™ HTTP.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">cancel()</span></code></p></td>
<td class="text-left"><p>Anuluje bieÅ¼Ä…cÄ… operacjÄ™.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id560">
<h1>Zmienne prywatne<a class="headerlink" href="#id560" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_service</span></code>: Referencja do <code class="docutils literal notranslate"><span class="pre">io_service</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_url</span></code>, <code class="docutils literal notranslate"><span class="pre">m_agent</span></code>: URL i User-Agent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_socket</span></code>: Gniazdo TCP.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_resolver</span></code>: Resolver DNS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_callback</span></code>: Funkcja zwrotna do powiadamiania o wyniku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_result</span></code>: WskaÅºnik na obiekt <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code> przechowujÄ…cy stan.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_timer</span></code>: Timer do obsÅ‚ugi timeoutÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_timeout</span></code>: Czas timeoutu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_isJson</span></code>: Flaga wskazujÄ…ca, czy treÅ›Ä‡ POST jest w formacie JSON.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_ssl</span></code>, <code class="docutils literal notranslate"><span class="pre">m_context</span></code>: Do obsÅ‚ugi HTTPS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_streambuf</span></code>: Bufor na dane przychodzÄ…ce.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_request</span></code>: Obiekt Å¼Ä…dania z Boost.Beast.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_response</span></code>: Parser odpowiedzi z Boost.Beast.</p></li>
</ul>
</section>
<section id="metody-prywatne-on-close-onerror">
<h1>Metody prywatne (<code class="docutils literal notranslate"><span class="pre">on_...</span></code>, <code class="docutils literal notranslate"><span class="pre">close</span></code>, <code class="docutils literal notranslate"><span class="pre">onError</span></code>)<a class="headerlink" href="#metody-prywatne-on-close-onerror" title="Link to this heading">#</a></h1>
<p>Deklaracje handlerÃ³w dla operacji asynchronicznych i funkcji pomocniczych.</p>
</section>
<section id="id561">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id561" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/result.h</span></code>: Definicja <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code>.</p></li>
<li><p>Jest tworzona i uÅ¼ywana przez klasÄ™ <code class="docutils literal notranslate"><span class="pre">Http</span></code> do realizacji zapytaÅ„ GET i POST.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="websocket-cpp">
<h1>ğŸ“„ websocket.cpp<a class="headerlink" href="#websocket-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id562">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id562" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">websocket.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code>, ktÃ³ra zarzÄ…dza pojedynczym poÅ‚Ä…czeniem WebSocket. Plik ten jest wyÅ‚Ä…czony z kompilacji dla Emscripten.</p>
</section>
<section id="id563">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code><a class="headerlink" href="#id563" title="Link to this heading">#</a></h1>
</section>
<section id="void-websocketsession-start">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::start()</span></code><a class="headerlink" href="#void-websocketsession-start" title="Link to this heading">#</a></h1>
</section>
<section id="id564">
<h1>Opis semantyczny<a class="headerlink" href="#id564" title="Link to this heading">#</a></h1>
<p>Rozpoczyna proces nawiÄ…zywania poÅ‚Ä…czenia WebSocket.</p>
</section>
<section id="id565">
<h1>DziaÅ‚anie<a class="headerlink" href="#id565" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza limit przekierowaÅ„.</p></li>
<li><p>Parsuje URL, aby uzyskaÄ‡ protokÃ³Å‚, domenÄ™, port i Å›cieÅ¼kÄ™.</p></li>
<li><p>Ustawia timer na obsÅ‚ugÄ™ timeoutu.</p></li>
<li><p>Tworzy odpowiedni obiekt gniazda (<code class="docutils literal notranslate"><span class="pre">m_socket</span></code> dla WS lub <code class="docutils literal notranslate"><span class="pre">m_ssl</span></code> dla WSS).</p></li>
<li><p>Uruchamia asynchroniczne rozwiÄ…zywanie nazwy DNS.</p></li>
</ol>
</section>
<section id="void-websocketsession-send-std-string-data">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::send(std::string</span> <span class="pre">data)</span></code><a class="headerlink" href="#void-websocketsession-send-std-string-data" title="Link to this heading">#</a></h1>
<p>Dodaje wiadomoÅ›Ä‡ do kolejki <code class="docutils literal notranslate"><span class="pre">m_sendQueue</span></code>. JeÅ›li kolejka byÅ‚a pusta i poÅ‚Ä…czenie jest aktywne, natychmiast inicjuje operacjÄ™ wysyÅ‚ania.</p>
</section>
<section id="id566">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">on_...()</span></code><a class="headerlink" href="#id566" title="Link to this heading">#</a></h1>
<p>SÄ… to handlery dla operacji asynchronicznych, ktÃ³re implementujÄ… maszynÄ™ stanÃ³w poÅ‚Ä…czenia WebSocket:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_resolve</span></code></strong>: WywoÅ‚ywana po rozwiÄ…zaniu nazwy DNS. Inicjuje <code class="docutils literal notranslate"><span class="pre">async_connect</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_connect</span></code></strong>: WywoÅ‚ywana po nawiÄ…zaniu poÅ‚Ä…czenia TCP. W przypadku WSS, wykonuje handshake SSL. NastÄ™pnie inicjuje handshake protokoÅ‚u WebSocket za pomocÄ… <code class="docutils literal notranslate"><span class="pre">async_handshake</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_handshake</span></code></strong>: WywoÅ‚ywana po pomyÅ›lnym handshakeâ€™u WebSocket. Ustawia stan na <code class="docutils literal notranslate"><span class="pre">connected</span></code>, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_OPEN</span></code>, rozpoczyna nasÅ‚uchiwanie wiadomoÅ›ci (<code class="docutils literal notranslate"><span class="pre">async_read</span></code>) i wysyÅ‚a wiadomoÅ›ci z kolejki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_send</span></code></strong>: WywoÅ‚ywana po wysÅ‚aniu wiadomoÅ›ci. Usuwa wysÅ‚anÄ… wiadomoÅ›Ä‡ z kolejki i, jeÅ›li kolejka nie jest pusta, inicjuje wysyÅ‚anie nastÄ™pnej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_read</span></code></strong>: WywoÅ‚ywana po otrzymaniu nowej wiadomoÅ›ci. Resetuje timer, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_MESSAGE</span></code> i ponownie nasÅ‚uchuje.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">onTimeout</span></code></strong>: ZgÅ‚asza bÅ‚Ä…d timeoutu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">onError</span></code></strong>: ObsÅ‚uguje bÅ‚Ä™dy i wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_ERROR</span></code>.</p></li>
</ul>
</section>
<section id="void-websocketsession-close">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::close()</span></code><a class="headerlink" href="#void-websocketsession-close" title="Link to this heading">#</a></h1>
<p>Zamyka poÅ‚Ä…czenie, anuluje timer i wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_CLOSE</span></code>.</p>
</section>
<section id="id567">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id567" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/websocket.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/uri.h</span></code>: Do parsowania URL.</p></li>
<li><p><strong>Boost.Asio</strong> i <strong>Boost.Beast</strong>: Kluczowe biblioteki do obsÅ‚ugi sieci i protokoÅ‚u WebSocket.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez klasÄ™ <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="mouse-cpp">
<h1>ğŸ“„ mouse.cpp<a class="headerlink" href="#mouse-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id568">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id568" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">mouse.cpp</span></code> implementuje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Mouse</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_mouse</span></code>) odpowiedzialnym za zarzÄ…dzanie kursorami myszy.</p>
</section>
<section id="id569">
<h1>Zmienne globalne<a class="headerlink" href="#id569" title="Link to this heading">#</a></h1>
</section>
<section id="g-mouse">
<h1><code class="docutils literal notranslate"><span class="pre">g_mouse</span></code><a class="headerlink" href="#g-mouse" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">Mouse</span></code>.</p>
</section>
<section id="klasa-mouse">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Mouse</span></code><a class="headerlink" href="#klasa-mouse" title="Link to this heading">#</a></h1>
</section>
<section id="void-mouse-init-i-void-mouse-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::terminate()</span></code><a class="headerlink" href="#void-mouse-init-i-void-mouse-terminate" title="Link to this heading">#</a></h1>
<p>Metody do inicjalizacji i zwalniania zasobÃ³w. <code class="docutils literal notranslate"><span class="pre">terminate()</span></code> czyÅ›ci listÄ™ zaÅ‚adowanych kursorÃ³w.</p>
</section>
<section id="void-mouse-loadcursors-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::loadCursors(std::string</span> <span class="pre">filename)</span></code><a class="headerlink" href="#void-mouse-loadcursors-std-string-filename" title="Link to this heading">#</a></h1>
<p>Åaduje definicje kursorÃ³w z pliku OTML. Parsuje plik i dla kaÅ¼dego wpisu w sekcji <code class="docutils literal notranslate"><span class="pre">Cursors</span></code> wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">addCursor</span></code>.</p>
</section>
<section id="void-mouse-addcursor-const-std-string-name-const-std-string-file-const-point-hotspot">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::addCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">file,</span> <span class="pre">const</span> <span class="pre">Point&amp;</span> <span class="pre">hotSpot)</span></code><a class="headerlink" href="#void-mouse-addcursor-const-std-string-name-const-std-string-file-const-point-hotspot" title="Link to this heading">#</a></h1>
</section>
<section id="id570">
<h1>Opis semantyczny<a class="headerlink" href="#id570" title="Link to this heading">#</a></h1>
<p>Åaduje obraz kursora z pliku i tworzy z niego natywny kursor systemowy. Jest bezpieczna wÄ…tkowo.</p>
</section>
<section id="id571">
<h1>DziaÅ‚anie<a class="headerlink" href="#id571" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>JeÅ›li jest wywoÅ‚ana z wÄ…tku innego niÅ¼ graficzny, deleguje zadanie do <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">g_window.loadMouseCursor</span></code>, ktÃ³ra wykonuje operacje specyficzne dla platformy.</p></li>
<li><p>Zapisuje zwrÃ³cone ID kursora w mapie <code class="docutils literal notranslate"><span class="pre">m_cursors</span></code> pod podanÄ… nazwÄ….</p></li>
</ol>
</section>
<section id="void-mouse-pushcursor-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::pushCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#void-mouse-pushcursor-const-std-string-name" title="Link to this heading">#</a></h1>
</section>
<section id="id572">
<h1>Opis semantyczny<a class="headerlink" href="#id572" title="Link to this heading">#</a></h1>
<p>Ustawia nowy kursor i dodaje go na stos aktywnych kursorÃ³w.</p>
</section>
<section id="id573">
<h1>DziaÅ‚anie<a class="headerlink" href="#id573" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Deleguje do wÄ…tku graficznego, jeÅ›li to konieczne.</p></li>
<li><p>Znajduje ID kursora w <code class="docutils literal notranslate"><span class="pre">m_cursors</span></code>.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">g_window.setMouseCursor</span></code> z znalezionym ID.</p></li>
<li><p>Dodaje ID na koniec stosu <code class="docutils literal notranslate"><span class="pre">m_cursorStack</span></code>.</p></li>
</ol>
</section>
<section id="void-mouse-popcursor-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::popCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#void-mouse-popcursor-const-std-string-name" title="Link to this heading">#</a></h1>
</section>
<section id="id574">
<h1>Opis semantyczny<a class="headerlink" href="#id574" title="Link to this heading">#</a></h1>
<p>Usuwa kursor ze stosu i przywraca poprzedni.</p>
</section>
<section id="id575">
<h1>DziaÅ‚anie<a class="headerlink" href="#id575" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Deleguje do wÄ…tku graficznego.</p></li>
<li><p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">name</span></code> jest puste, usuwa ostatni kursor ze stosu.</p></li>
<li><p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">name</span></code> jest podane, wyszukuje i usuwa konkretny kursor ze stosu.</p></li>
<li><p>JeÅ›li stos nie jest pusty, ustawia kursor, ktÃ³ry jest teraz na jego szczycie.</p></li>
<li><p>JeÅ›li stos jest pusty, przywraca domyÅ›lny kursor systemowy.</p></li>
</ol>
</section>
<section id="bool-mouse-iscursorchanged">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Mouse::isCursorChanged()</span></code><a class="headerlink" href="#bool-mouse-iscursorchanged" title="Link to this heading">#</a></h1>
<p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li stos kursorÃ³w nie jest pusty, co oznacza, Å¼e aktualny kursor jest niestandardowy.</p>
</section>
<section id="bool-mouse-ispressed-fw-mousebutton-mousebutton">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Mouse::isPressed(Fw::MouseButton</span> <span class="pre">mouseButton)</span></code><a class="headerlink" href="#bool-mouse-ispressed-fw-mousebutton-mousebutton" title="Link to this heading">#</a></h1>
<p>Sprawdza i zwraca stan wciÅ›niÄ™cia danego przycisku myszy, delegujÄ…c zapytanie do <code class="docutils literal notranslate"><span class="pre">g_window</span></code>.</p>
</section>
<section id="id576">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id576" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/input/mouse.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Widgety mogÄ… zmieniaÄ‡ kursor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platformwindow.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_window</span></code> do niskopoziomowych operacji na kursorach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do zapewnienia bezpieczeÅ„stwa wÄ…tkowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do Å‚adowania plikÃ³w definicji kursorÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="mouse-h">
<h1>ğŸ“„ mouse.h<a class="headerlink" href="#mouse-h" title="Link to this heading">#</a></h1>
</section>
<section id="id577">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id577" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">mouse.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Mouse</span></code>, ktÃ³ra jest interfejsem wysokiego poziomu do zarzÄ…dzania kursorami myszy w aplikacji.</p>
</section>
<section id="id578">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Mouse</span></code><a class="headerlink" href="#id578" title="Link to this heading">#</a></h1>
</section>
<section id="id579">
<h1>Opis semantyczny<a class="headerlink" href="#id579" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Mouse</span></code> zarzÄ…dza kolekcjÄ… niestandardowych kursorÃ³w, ktÃ³re mogÄ… byÄ‡ Å‚adowane z plikÃ³w. Implementuje mechanizm stosu (<code class="docutils literal notranslate"><span class="pre">m_cursorStack</span></code>), ktÃ³ry pozwala na tymczasowÄ… zmianÄ™ kursora (np. gdy kursor znajduje siÄ™ nad widgetem) i Å‚atwy powrÃ³t do poprzedniego stanu.</p>
</section>
<section id="id580">
<h1>Metody publiczne<a class="headerlink" href="#id580" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje menedÅ¼era.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia zasoby.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">loadCursors(...)</span></code></p></td>
<td class="text-left"><p>Åaduje definicje kursorÃ³w z pliku OTML.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addCursor(...)</span></code></p></td>
<td class="text-left"><p>Dodaje nowy niestandardowy kursor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">pushCursor(...)</span></code></p></td>
<td class="text-left"><p>Ustawia nowy kursor, dodajÄ…c go na szczyt stosu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">popCursor(...)</span></code></p></td>
<td class="text-left"><p>Usuwa kursor ze stosu i przywraca poprzedni.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isCursorChanged()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy aktualny kursor jest niestandardowy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isPressed(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza stan wciÅ›niÄ™cia przycisku myszy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id581">
<h1>Zmienne prywatne<a class="headerlink" href="#id581" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursors</span></code>: Mapa przechowujÄ…ca nazwy kursorÃ³w i ich ID specyficzne dla platformy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursorStack</span></code>: Stos (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) przechowujÄ…cy ID aktywnych kursorÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>: Mutex do ochrony dostÄ™pu do <code class="docutils literal notranslate"><span class="pre">m_cursorStack</span></code> z rÃ³Å¼nych wÄ…tkÃ³w.</p></li>
</ul>
</section>
<section id="id582">
<h1>Zmienne globalne<a class="headerlink" href="#id582" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_mouse</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Mouse</span></code>.</p></li>
</ul>
</section>
<section id="id583">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id583" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> do zmiany wyglÄ…du kursora, gdy znajduje siÄ™ on nad widgetem.</p></li>
<li><p>WspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> w celu faktycznego ustawiania kursora w systemie operacyjnym.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="id584">
<h1>ğŸ“„ declarations.h<a class="headerlink" href="#id584" title="Link to this heading">#</a></h1>
</section>
<section id="id585">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id585" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">luaengine</span></code> sÅ‚uÅ¼y do wczesnych deklaracji (forward declarations) i definicji typÃ³w zwiÄ…zanych z silnikiem Lua. Jego celem jest unikanie zaleÅ¼noÅ›ci cyklicznych i zmniejszenie liczby doÅ‚Ä…czanych nagÅ‚Ã³wkÃ³w.</p>
</section>
<section id="wczesne-deklaracje">
<h1>Wczesne deklaracje<a class="headerlink" href="#wczesne-deklaracje" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>: GÅ‚Ã³wna klasa interfejsu Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>: Bazowa klasa dla wszystkich obiektÃ³w eksportowanych do Lua.</p></li>
</ul>
</section>
<section id="id586">
<h1>Definicje typÃ³w<a class="headerlink" href="#id586" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">LuaCppFunction</span></code></strong>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::function&lt;int(LuaInterface*)&gt;</span></code>. Jest to typ funkcji C++, ktÃ³ra moÅ¼e byÄ‡ wywoÅ‚ana z Lua. Przyjmuje wskaÅºnik do <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code> i zwraca liczbÄ™ wartoÅ›ci zwrÃ³conych na stos Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">LuaCppFunctionPtr</span></code></strong>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::unique_ptr&lt;LuaCppFunction&gt;</span></code>. UÅ¼ywany wewnÄ™trznie do zarzÄ…dzania czasem Å¼ycia funkcji bindowanych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">LuaObjectPtr</span></code></strong>: Alias dla <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;LuaObject&gt;</span></code>. Standardowy sposÃ³b przekazywania i przechowywania obiektÃ³w C++ w Lua.</p></li>
</ul>
</section>
<section id="id587">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id587" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Zawiera podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;memory&gt;</span></code>: Dla <code class="docutils literal notranslate"><span class="pre">std::unique_ptr</span></code>.</p></li>
<li><p>Jest to fundamentalny plik dla caÅ‚ego silnika Lua, doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">luainterface.h</span></code>, <code class="docutils literal notranslate"><span class="pre">luaobject.h</span></code> i inne.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="lbitlib-cpp">
<h1>ğŸ“„ lbitlib.cpp<a class="headerlink" href="#lbitlib-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id588">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id588" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">lbitlib.cpp</span></code> zawiera kod ÅºrÃ³dÅ‚owy biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code> z Lua 5.2.0, przeniesiony (backported) do uÅ¼ytku z Lua 5.1.4 (lub LuaJIT, ktÃ³ry jest kompatybilny z 5.1). Biblioteka ta dostarcza operacje bitowe na 32-bitowych liczbach caÅ‚kowitych bez znaku.</p>
</section>
<section id="id589">
<h1>ZawartoÅ›Ä‡<a class="headerlink" href="#id589" title="Link to this heading">#</a></h1>
<p>Plik skÅ‚ada siÄ™ z kilku czÄ™Å›ci:</p>
<ol class="arabic simple">
<li><p><strong>Adaptacje i definicje kompatybilnoÅ›ci</strong>:</p>
<ul class="simple">
<li><p>Zawiera kod przeniesiony z <code class="docutils literal notranslate"><span class="pre">luaconf.h</span></code> i <code class="docutils literal notranslate"><span class="pre">llimits.h</span></code> z Lua 5.2, ktÃ³ry definiuje makra (<code class="docutils literal notranslate"><span class="pre">lua_number2unsigned</span></code>) do bezpiecznej konwersji miÄ™dzy <code class="docutils literal notranslate"><span class="pre">lua_Number</span></code> (zwykle <code class="docutils literal notranslate"><span class="pre">double</span></code>) a <code class="docutils literal notranslate"><span class="pre">lua_Unsigned</span></code> (32-bitowy <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code>). Jest to konieczne, poniewaÅ¼ Lua 5.1 nie ma wbudowanego typu caÅ‚kowitoliczbowego.</p></li>
<li><p>Definiuje funkcjÄ™ <code class="docutils literal notranslate"><span class="pre">lua_pushunsigned</span></code> i <code class="docutils literal notranslate"><span class="pre">luaL_checkunsigned</span></code> do obsÅ‚ugi tego typu na stosie Lua.</p></li>
<li><p>Definiuje makro <code class="docutils literal notranslate"><span class="pre">luaL_newlib</span></code> dla kompatybilnoÅ›ci z <code class="docutils literal notranslate"><span class="pre">luaL_register</span></code> z Lua 5.1.</p></li>
</ul>
</li>
<li><p><strong>Oryginalny kod <code class="docutils literal notranslate"><span class="pre">lbitlib.c</span></code> z Lua 5.2.0</strong>:</p>
<ul class="simple">
<li><p>Zawiera implementacje wszystkich funkcji z biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code>.</p></li>
</ul>
</li>
</ol>
</section>
<section id="funkcje-biblioteki-bit32">
<h1>Funkcje biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code><a class="headerlink" href="#funkcje-biblioteki-bit32" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja Lua</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.band(...)</span></code></p></td>
<td class="text-left"><p>Wykonuje bitowe AND na wszystkich argumentach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.btest(...)</span></code></p></td>
<td class="text-left"><p>Wykonuje bitowe AND i zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li wynik jest rÃ³Å¼ny od zera.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.bor(...)</span></code></p></td>
<td class="text-left"><p>Wykonuje bitowe OR na wszystkich argumentach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.bxor(...)</span></code></p></td>
<td class="text-left"><p>Wykonuje bitowe XOR na wszystkich argumentach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.bnot(x)</span></code></p></td>
<td class="text-left"><p>Wykonuje bitowÄ… negacjÄ™.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.lshift(x,</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>PrzesuniÄ™cie bitowe w lewo.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.rshift(x,</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>PrzesuniÄ™cie bitowe w prawo (logiczne).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.arshift(x,</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>PrzesuniÄ™cie bitowe w prawo (arytmetyczne).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.lrotate(x,</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>Rotacja bitowa w lewo.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.rrotate(x,</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>Rotacja bitowa w prawo.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.extract(n,</span> <span class="pre">field,</span> <span class="pre">width)</span></code></p></td>
<td class="text-left"><p>Ekstrahuje <code class="docutils literal notranslate"><span class="pre">width</span></code> bitÃ³w z liczby <code class="docutils literal notranslate"><span class="pre">n</span></code>, zaczynajÄ…c od bitu <code class="docutils literal notranslate"><span class="pre">field</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.replace(n,</span> <span class="pre">v,</span> <span class="pre">field,</span> <span class="pre">width)</span></code></p></td>
<td class="text-left"><p>ZastÄ™puje bity w liczbie <code class="docutils literal notranslate"><span class="pre">n</span></code> bitami z <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="int-luaopen-bit32-lua-state-l">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">luaopen_bit32</span> <span class="pre">(lua_State</span> <span class="pre">*L)</span></code><a class="headerlink" href="#int-luaopen-bit32-lua-state-l" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna funkcja, ktÃ³ra rejestruje bibliotekÄ™ <code class="docutils literal notranslate"><span class="pre">bit32</span></code> w podanym stanie Lua.</p>
</section>
<section id="id590">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id590" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lbitlib.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p>NagÅ‚Ã³wki Lua/LuaJIT (<code class="docutils literal notranslate"><span class="pre">lua.h</span></code>, <code class="docutils literal notranslate"><span class="pre">lualib.h</span></code>, <code class="docutils literal notranslate"><span class="pre">lauxlib.h</span></code>).</p></li>
<li><p>Jest Å‚adowana w <code class="docutils literal notranslate"><span class="pre">LuaInterface::createLuaState</span></code>, aby udostÄ™pniÄ‡ operacje bitowe w skryptach.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="lbitlib-h">
<h1>ğŸ“„ lbitlib.h<a class="headerlink" href="#lbitlib-h" title="Link to this heading">#</a></h1>
</section>
<section id="id591">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id591" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">lbitlib.h</span></code> jest plikiem nagÅ‚Ã³wkowym dla biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code> z Lua 5.2, ktÃ³ra zostaÅ‚a przeniesiona do uÅ¼ytku w tym projekcie.</p>
</section>
<section id="deklaracje">
<h1>Deklaracje<a class="headerlink" href="#deklaracje" title="Link to this heading">#</a></h1>
</section>
<section id="id592">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">luaopen_bit32</span> <span class="pre">(lua_State</span> <span class="pre">*L)</span></code><a class="headerlink" href="#id592" title="Link to this heading">#</a></h1>
<p>Deklaruje funkcjÄ™, ktÃ³ra jest punktem wejÅ›cia do zaÅ‚adowania biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code> w stanie Lua. Zgodnie z konwencjÄ… Lua, funkcje <code class="docutils literal notranslate"><span class="pre">luaopen_*</span></code> sÄ… uÅ¼ywane do rejestrowania moduÅ‚Ã³w.</p>
</section>
<section id="id593">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id593" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Wymaga definicji <code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">lua_State</span></code>.</p></li>
<li><p>Jest doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">luainterface.cpp</span></code>, aby umoÅ¼liwiÄ‡ zaÅ‚adowanie biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code> podczas inicjalizacji <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="luabinder-h">
<h1>ğŸ“„ luabinder.h<a class="headerlink" href="#luabinder-h" title="Link to this heading">#</a></h1>
</section>
<section id="id594">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id594" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luabinder.h</span></code> jest sercem mechanizmu bindowania C++ do Lua. Zawiera on zestaw zaawansowanych szablonÃ³w metaprogramowania, ktÃ³re umoÅ¼liwiajÄ… automatyczne generowanie funkcji-opakowaÅ„ (wrapperÃ³w) dla niemal dowolnych funkcji C++, w tym funkcji globalnych, statycznych, metod klas, funkcji <code class="docutils literal notranslate"><span class="pre">std::function</span></code> i lambd.</p>
</section>
<section id="namespace-luabinder">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">luabinder</span></code><a class="headerlink" href="#namespace-luabinder" title="Link to this heading">#</a></h1>
</section>
<section id="id595">
<h1>Opis semantyczny<a class="headerlink" href="#id595" title="Link to this heading">#</a></h1>
<p>PrzestrzeÅ„ nazw <code class="docutils literal notranslate"><span class="pre">luabinder</span></code> zawiera szablony, ktÃ³re dziaÅ‚ajÄ… jak â€œfabrykaâ€ funkcji typu <code class="docutils literal notranslate"><span class="pre">LuaCppFunction</span></code>. AnalizujÄ… one sygnaturÄ™ funkcji C++ (typ zwracany i typy argumentÃ³w), a nastÄ™pnie generujÄ… lambdÄ™, ktÃ³ra:</p>
<ol class="arabic simple">
<li><p>Pobiera argumenty z stosu Lua i konwertuje je na odpowiednie typy C++.</p></li>
<li><p>WywoÅ‚uje oryginalnÄ… funkcjÄ™ C++ z tymi argumentami.</p></li>
<li><p>Pobiera wartoÅ›Ä‡ zwracanÄ… przez funkcjÄ™ C++.</p></li>
<li><p>Konwertuje tÄ™ wartoÅ›Ä‡ na typ zrozumiaÅ‚y dla Lua i umieszcza jÄ… na stosie.</p></li>
<li><p>Zwraca liczbÄ™ wartoÅ›ci umieszczonych na stosie.</p></li>
</ol>
</section>
<section id="glowne-szablony">
<h1>GÅ‚Ã³wne szablony<a class="headerlink" href="#glowne-szablony" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pack_values_into_tuple</span></code></strong>: Szablon rekurencyjny, ktÃ³ry pobiera <code class="docutils literal notranslate"><span class="pre">N</span></code> wartoÅ›ci ze stosu Lua i umieszcza je w <code class="docutils literal notranslate"><span class="pre">std::tuple</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">expand_fun_arguments</span></code></strong>: Szablon rekurencyjny, ktÃ³ry rozpakowuje <code class="docutils literal notranslate"><span class="pre">std::tuple</span></code> z argumentami i wywoÅ‚uje z nimi docelowÄ… funkcjÄ™ C++.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">call_fun_and_push_result</span></code></strong>: Szablon, ktÃ³ry wywoÅ‚uje funkcjÄ™ i obsÅ‚uguje wartoÅ›Ä‡ zwracanÄ… (specjalizacje dla <code class="docutils literal notranslate"><span class="pre">void</span></code> i typÃ³w nie-<code class="docutils literal notranslate"><span class="pre">void</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">bind_fun_specializer</span></code></strong>: GÅ‚Ã³wny szablon, ktÃ³ry Å‚Ä…czy powyÅ¼sze, generujÄ…c finalnÄ… lambdÄ™.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">bind_fun(...)</span></code></strong>: PrzeciÄ…Å¼one funkcje, ktÃ³re sÄ… publicznym API tego namespace. PrzyjmujÄ… rÃ³Å¼ne typy funkcji (wskaÅºniki, <code class="docutils literal notranslate"><span class="pre">std::function</span></code>, lambdy) i przekierowujÄ… je do odpowiednich specjalizacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">make_mem_func(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">make_mem_func_singleton(...)</span></code></strong>: Funkcje pomocnicze, ktÃ³re konwertujÄ… wskaÅºniki na metody klas na obiekty <code class="docutils literal notranslate"><span class="pre">std::function</span></code> (lambdy), ktÃ³re moÅ¼na nastÄ™pnie zbindowaÄ‡.</p></li>
</ul>
</section>
<section id="id596">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id596" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to plik wewnÄ™trzny, doÅ‚Ä…czany tylko przez <code class="docutils literal notranslate"><span class="pre">luainterface.h</span></code>.</p></li>
<li><p>Intensywnie korzysta z zaawansowanych cech C++11/14/17, takich jak szablony wariadyczne, <code class="docutils literal notranslate"><span class="pre">std::tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">std::function</span></code>, <code class="docutils literal notranslate"><span class="pre">std::enable_if</span></code>, <code class="docutils literal notranslate"><span class="pre">decltype</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/traits.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">remove_const_ref</span></code> do normalizacji typÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">luaexception.h</span></code>: MoÅ¼e rzucaÄ‡ wyjÄ…tki w przypadku bÅ‚Ä™dÃ³w (np. wywoÅ‚anie metody na obiekcie <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>).</p></li>
<li><p>Jest podstawÄ… dla wszystkich metod <code class="docutils literal notranslate"><span class="pre">bind...</span></code> w <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, ktÃ³re automatyzujÄ… proces tworzenia bindowaÅ„.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="luaexception-h">
<h1>ğŸ“„ luaexception.h<a class="headerlink" href="#luaexception-h" title="Link to this heading">#</a></h1>
</section>
<section id="id597">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id597" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luaexception.h</span></code> deklaruje hierarchiÄ™ klas wyjÄ…tkÃ³w specyficznych dla interakcji z silnikiem Lua. Te klasy wyjÄ…tkÃ³w sÄ… uÅ¼ywane do sygnalizowania bÅ‚Ä™dÃ³w, ktÃ³re wystÄ™pujÄ… podczas operacji na stosie Lua, rzutowania typÃ³w lub wywoÅ‚ywania funkcji.</p>
</section>
<section id="klasa-luaexception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaException</span></code><a class="headerlink" href="#klasa-luaexception" title="Link to this heading">#</a></h1>
</section>
<section id="id598">
<h1>Opis semantyczny<a class="headerlink" href="#id598" title="Link to this heading">#</a></h1>
<p>Jest to bazowa klasa dla wszystkich wyjÄ…tkÃ³w zwiÄ…zanych z Lua. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>. Jej gÅ‚Ã³wnym zadaniem jest sformatowanie komunikatu o bÅ‚Ä™dzie, opcjonalnie doÅ‚Ä…czajÄ…c do niego Å›lad stosu (traceback) z Lua.</p>
</section>
<section id="id599">
<h1>Metody<a class="headerlink" href="#id599" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LuaException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">traceLevel</span> <span class="pre">=</span> <span class="pre">-1)</span></code>: Konstruktor, ktÃ³ry generuje komunikat bÅ‚Ä™du.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">const</span> <span class="pre">char*</span> <span class="pre">what()</span> <span class="pre">const</span> <span class="pre">throw()</span></code>: Zwraca sformatowany komunikat bÅ‚Ä™du.</p></li>
</ul>
</section>
<section id="klasa-luabadnumberofargumentsexception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException</span></code><a class="headerlink" href="#klasa-luabadnumberofargumentsexception" title="Link to this heading">#</a></h1>
</section>
<section id="id600">
<h1>Opis semantyczny<a class="headerlink" href="#id600" title="Link to this heading">#</a></h1>
<p>Specjalistyczny wyjÄ…tek rzucany, gdy funkcja C++ bindowana do Lua zostanie wywoÅ‚ana z nieprawidÅ‚owÄ… liczbÄ… argumentÃ³w.</p>
</section>
<section id="id601">
<h1>Metody<a class="headerlink" href="#id601" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException(int</span> <span class="pre">expected</span> <span class="pre">=</span> <span class="pre">-1,</span> <span class="pre">int</span> <span class="pre">got</span> <span class="pre">=</span> <span class="pre">-1)</span></code>: Konstruktor, ktÃ³ry tworzy odpowiedni komunikat o bÅ‚Ä™dzie.</p></li>
</ul>
</section>
<section id="klasa-luabadvaluecastexception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException</span></code><a class="headerlink" href="#klasa-luabadvaluecastexception" title="Link to this heading">#</a></h1>
</section>
<section id="id602">
<h1>Opis semantyczny<a class="headerlink" href="#id602" title="Link to this heading">#</a></h1>
<p>Specjalistyczny wyjÄ…tek rzucany, gdy prÃ³ba rzutowania wartoÅ›ci ze stosu Lua na okreÅ›lony typ C++ (<code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code>) nie powiedzie siÄ™.</p>
</section>
<section id="id603">
<h1>Metody<a class="headerlink" href="#id603" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">luaTypeName,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">cppTypeName)</span></code>: Konstruktor, ktÃ³ry tworzy komunikat bÅ‚Ä™du informujÄ…cy o typach, miÄ™dzy ktÃ³rymi rzutowanie zawiodÅ‚o.</p></li>
</ul>
</section>
<section id="id604">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id604" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/exception.h</span></code>: Klasa bazowa <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>.</p></li>
<li><p>WyjÄ…tki te sÄ… rzucane przez <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code> i <code class="docutils literal notranslate"><span class="pre">luabinder</span></code>, a Å‚apane w bezpiecznych punktach wywoÅ‚aÅ„ (np. <code class="docutils literal notranslate"><span class="pre">luaCppFunctionCallback</span></code>), aby zapobiec awarii aplikacji i przekazaÄ‡ bÅ‚Ä…d do logÃ³w lub z powrotem do Å›rodowiska Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="luaexception-cpp">
<h1>ğŸ“„ luaexception.cpp<a class="headerlink" href="#luaexception-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id605">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id605" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luaexception.cpp</span></code> zawiera implementacjÄ™ klas wyjÄ…tkÃ³w zdefiniowanych w <code class="docutils literal notranslate"><span class="pre">luaexception.h</span></code>.</p>
</section>
<section id="id606">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaException</span></code><a class="headerlink" href="#id606" title="Link to this heading">#</a></h1>
</section>
<section id="luaexception-luaexception-const-std-string-error-int-tracelevel">
<h1><code class="docutils literal notranslate"><span class="pre">LuaException::LuaException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">traceLevel)</span></code><a class="headerlink" href="#luaexception-luaexception-const-std-string-error-int-tracelevel" title="Link to this heading">#</a></h1>
<p>Konstruktor. Jego gÅ‚Ã³wnym zadaniem jest wywoÅ‚anie <code class="docutils literal notranslate"><span class="pre">generateLuaErrorMessage</span></code>, aby przygotowaÄ‡ peÅ‚ny komunikat bÅ‚Ä™du.</p>
</section>
<section id="void-luaexception-generateluaerrormessage-const-std-string-error-int-tracelevel">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaException::generateLuaErrorMessage(const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">traceLevel)</span></code><a class="headerlink" href="#void-luaexception-generateluaerrormessage-const-std-string-error-int-tracelevel" title="Link to this heading">#</a></h1>
<p>Metoda ta formatuje finalny komunikat bÅ‚Ä™du, ktÃ³ry bÄ™dzie dostÄ™pny przez <code class="docutils literal notranslate"><span class="pre">what()</span></code>.</p>
<ul class="simple">
<li><p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">traceLevel</span></code> jest podany (wiÄ™kszy lub rÃ³wny 0), wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">g_lua.traceback</span></code>, aby doÅ‚Ä…czyÄ‡ do komunikatu Å›lad stosu wywoÅ‚aÅ„ Lua.</p></li>
<li><p>W przeciwnym razie, po prostu prefiksuje bÅ‚Ä…d napisem â€œLUA ERROR:â€.</p></li>
</ul>
</section>
<section id="id607">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException</span></code><a class="headerlink" href="#id607" title="Link to this heading">#</a></h1>
</section>
<section id="luabadnumberofargumentsexception-luabadnumberofargumentsexception-int-expected-int-got">
<h1><code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException::LuaBadNumberOfArgumentsException(int</span> <span class="pre">expected,</span> <span class="pre">int</span> <span class="pre">got)</span></code><a class="headerlink" href="#luabadnumberofargumentsexception-luabadnumberofargumentsexception-int-expected-int-got" title="Link to this heading">#</a></h1>
<p>Konstruktor. Tworzy specyficzny komunikat bÅ‚Ä™du informujÄ…cy o nieprawidÅ‚owej liczbie argumentÃ³w, a nastÄ™pnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">generateLuaErrorMessage</span></code> z poziomem Å›ledzenia <code class="docutils literal notranslate"><span class="pre">1</span></code>, aby pokazaÄ‡, ktÃ³ra funkcja w Lua zostaÅ‚a Åºle wywoÅ‚ana.</p>
</section>
<section id="id608">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException</span></code><a class="headerlink" href="#id608" title="Link to this heading">#</a></h1>
</section>
<section id="luabadvaluecastexception-luabadvaluecastexception-const-std-string-luatypename-const-std-string-cpptypename">
<h1><code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException::LuaBadValueCastException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">luaTypeName,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">cppTypeName)</span></code><a class="headerlink" href="#luabadvaluecastexception-luabadvaluecastexception-const-std-string-luatypename-const-std-string-cpptypename" title="Link to this heading">#</a></h1>
<p>Konstruktor. Tworzy komunikat bÅ‚Ä™du informujÄ…cy o niemoÅ¼noÅ›ci rzutowania miÄ™dzy danym typem Lua a typem C++, a nastÄ™pnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">generateLuaErrorMessage</span></code>.</p>
</section>
<section id="id609">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id609" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaexception.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do generowania Å›ladu stosu.</p></li>
<li><p>Implementuje logikÄ™ formatowania bÅ‚Ä™dÃ³w, ktÃ³ra jest kluczowa dla debugowania skryptÃ³w Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="luainterface-cpp">
<h1>ğŸ“„ luainterface.cpp<a class="headerlink" href="#luainterface-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id610">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id610" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luainterface.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, ktÃ³ra jest centralnym interfejsem do komunikacji z silnikiem Lua. Jest to jedna z najwaÅ¼niejszych klas w caÅ‚ym frameworku.</p>
</section>
<section id="id611">
<h1>Zmienne globalne<a class="headerlink" href="#id611" title="Link to this heading">#</a></h1>
</section>
<section id="g-lua">
<h1><code class="docutils literal notranslate"><span class="pre">g_lua</span></code><a class="headerlink" href="#g-lua" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>.</p>
</section>
<section id="klasa-luainterface">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code><a class="headerlink" href="#klasa-luainterface" title="Link to this heading">#</a></h1>
</section>
<section id="inicjalizacja-i-zamykanie">
<h1>Inicjalizacja i zamykanie<a class="headerlink" href="#inicjalizacja-i-zamykanie" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">init()</span></code></strong>: Inicjalizuje <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>.</p>
<ol class="arabic simple">
<li><p>Tworzy nowy stan Lua (<code class="docutils literal notranslate"><span class="pre">createLuaState</span></code>).</p></li>
<li><p>Zapisuje referencjÄ™ do globalnego Å›rodowiska.</p></li>
<li><p>Rejestruje bazowÄ… klasÄ™ <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code> i jej podstawowe metody.</p></li>
</ol>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">terminate()</span></code></strong>: Zamyka stan Lua, co powoduje zwolnienie wszystkich zasobÃ³w i wywoÅ‚anie garbage collectora.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">createLuaState()</span></code></strong>: Tworzy stan Lua (<code class="docutils literal notranslate"><span class="pre">luaL_newstate</span></code>), Å‚aduje standardowe biblioteki (<code class="docutils literal notranslate"><span class="pre">luaL_openlibs</span></code>), Å‚aduje bibliotekÄ™ <code class="docutils literal notranslate"><span class="pre">bit32</span></code>, tworzy specjalnÄ… â€œsÅ‚abÄ…â€ tabelÄ™ do przechowywania referencji i instaluje niestandardowe loadery (<code class="docutils literal notranslate"><span class="pre">dofile</span></code>, <code class="docutils literal notranslate"><span class="pre">loadfile</span></code>).</p></li>
</ul>
</section>
<section id="rejestracja-i-bindowanie">
<h1>Rejestracja i bindowanie<a class="headerlink" href="#rejestracja-i-bindowanie" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">registerSingletonClass(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">registerClass(...)</span></code></strong>: ImplementujÄ… logikÄ™ tworzenia tabel i metatabel w Lua, ktÃ³re reprezentujÄ… klasy C++. <code class="docutils literal notranslate"><span class="pre">registerClass</span></code> dodatkowo ustawia dziedziczenie, linkujÄ…c metatabelÄ™ klasy pochodnej do metatabeli klasy bazowej za pomocÄ… metametody <code class="docutils literal notranslate"><span class="pre">__index</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">register...Function(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">register...Field(...)</span></code></strong>: Metody te pobierajÄ… odpowiednie tabele (klasy, metody, fieldmethods) z globalnego Å›rodowiska Lua i umieszczajÄ… w nich funkcje C++ opakowane w <code class="docutils literal notranslate"><span class="pre">LuaCppFunction</span></code>.</p></li>
</ul>
</section>
<section id="metody-obslugi-metametod-obiektow">
<h1>Metody obsÅ‚ugi metametod obiektÃ³w<a class="headerlink" href="#metody-obslugi-metametod-obiektow" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaObjectGetEvent(__index)</span></code></strong>: Handler wywoÅ‚ywany przy prÃ³bie odczytu pola z obiektu C++ w Lua. Wyszukuje on kolejno: metodÄ™ â€œgetâ€, pole w tabeli <code class="docutils literal notranslate"><span class="pre">fields</span></code> obiektu, metodÄ™ w tabeli metod klasy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaObjectSetEvent(__newindex)</span></code></strong>: Handler wywoÅ‚ywany przy prÃ³bie zapisu pola. Wyszukuje i wywoÅ‚uje metodÄ™ â€œsetâ€ lub zapisuje wartoÅ›Ä‡ w tabeli <code class="docutils literal notranslate"><span class="pre">fields</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaObjectEqualEvent(__eq)</span></code></strong>: PorÃ³wnuje dwa obiekty C++.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaObjectCollectEvent(__gc)</span></code></strong>: Handler wywoÅ‚ywany przez garbage collector Lua. Zwalnia <code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code> do obiektu, dekrementujÄ…c jego licznik referencji.</p></li>
</ul>
</section>
<section id="wykonywanie-skryptow">
<h1>Wykonywanie skryptÃ³w<a class="headerlink" href="#wykonywanie-skryptow" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">runScript(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">loadScript(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">runBuffer(...)</span></code></strong>: Metody do Å‚adowania i wykonywania skryptÃ³w Lua z plikÃ³w lub buforÃ³w w pamiÄ™ci. <code class="docutils literal notranslate"><span class="pre">loadScript</span></code> uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_resources</span></code> do znalezienia i odczytania pliku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">safeCall(...)</span></code></strong>: Kluczowa metoda do bezpiecznego wywoÅ‚ywania funkcji Lua. Ustawia <code class="docutils literal notranslate"><span class="pre">luaErrorHandler</span></code> jako funkcjÄ™ obsÅ‚ugi bÅ‚Ä™dÃ³w, a nastÄ™pnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">lua_pcall</span></code>. W przypadku bÅ‚Ä™du, Å‚apie go i zwraca jako string lub rzuca wyjÄ…tek <code class="docutils literal notranslate"><span class="pre">LuaException</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">signalCall(...)</span></code></strong>: Wysokopoziomowa metoda, ktÃ³ra opakowuje <code class="docutils literal notranslate"><span class="pre">safeCall</span></code> i dodatkowo obsÅ‚uguje wywoÅ‚ywanie tabeli funkcji.</p></li>
</ul>
</section>
<section id="inne">
<h1>Inne<a class="headerlink" href="#inne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">traceback(...)</span></code></strong>: Generuje Å›lad stosu wywoÅ‚aÅ„ Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">getCurrentSourcePath(...)</span></code></strong>: Zwraca Å›cieÅ¼kÄ™ do pliku skryptu, w ktÃ³rym aktualnie wykonywany jest kod.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">newSandboxEnv()</span></code></strong>: Tworzy nowe, odizolowane Å›rodowisko Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lua...</span></code> (funkcje statyczne)</strong>: Implementacje funkcji C, ktÃ³re sÄ… bezpoÅ›rednio rejestrowane w Lua (np. <code class="docutils literal notranslate"><span class="pre">lua_dofile</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">...Callback</span></code></strong>: Implementacje handlerÃ³w dla <code class="docutils literal notranslate"><span class="pre">lua_pcall</span></code> i <code class="docutils literal notranslate"><span class="pre">__gc</span></code>.</p></li>
<li><p><strong>Metody opakowujÄ…ce API Lua</strong>: Plik zawiera dziesiÄ…tki metod (<code class="docutils literal notranslate"><span class="pre">getTop</span></code>, <code class="docutils literal notranslate"><span class="pre">pushNil</span></code>, <code class="docutils literal notranslate"><span class="pre">toString</span></code>, <code class="docutils literal notranslate"><span class="pre">isTable</span></code>, etc.), ktÃ³re sÄ… cienkimi, ale bezpieczniejszymi (dziÄ™ki <code class="docutils literal notranslate"><span class="pre">VALIDATE</span></code>) opakowaniami na funkcje z biblioteki Lua C API.</p></li>
</ul>
</section>
<section id="id612">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id612" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to centralna klasa, ktÃ³ra Å‚Ä…czy C++ z Lua. ZaleÅ¼y od <code class="docutils literal notranslate"><span class="pre">lua.h</span></code>, <code class="docutils literal notranslate"><span class="pre">lualib.h</span></code>, <code class="docutils literal notranslate"><span class="pre">lauxlib.h</span></code>.</p></li>
<li><p>ÅšciÅ›le wspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, <code class="docutils literal notranslate"><span class="pre">luabinder.h</span></code>, <code class="docutils literal notranslate"><span class="pre">luavaluecasts.h</span></code>.</p></li>
<li><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_resources</span></code> do Å‚adowania skryptÃ³w.</p></li>
<li><p>UÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Application</span></code> do inicjalizacji, <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code> do Å‚adowania moduÅ‚Ã³w i <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> do wywoÅ‚ywania callbackÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="luainterface-h">
<h1>ğŸ“„ luainterface.h<a class="headerlink" href="#luainterface-h" title="Link to this heading">#</a></h1>
</section>
<section id="id613">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id613" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luainterface.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, ktÃ³ra jest gÅ‚Ã³wnym interfejsem do interakcji z silnikiem Lua. Jest to klasa singletonowa (<code class="docutils literal notranslate"><span class="pre">g_lua</span></code>), ktÃ³ra enkapsuluje stan Lua (<code class="docutils literal notranslate"><span class="pre">lua_State*</span></code>) i dostarcza bogaty zestaw metod do manipulacji stosem, wywoÅ‚ywania funkcji, bindowania kodu C++ i zarzÄ…dzania obiektami.</p>
</section>
<section id="id614">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code><a class="headerlink" href="#id614" title="Link to this heading">#</a></h1>
</section>
<section id="id615">
<h1>Opis semantyczny<a class="headerlink" href="#id615" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code> stanowi most miÄ™dzy kodem C++ a skryptami Lua. UdostÄ™pnia wysokopoziomowe API, ktÃ³re ukrywa zÅ‚oÅ¼onoÅ›Ä‡ bezpoÅ›redniej pracy z Lua C API. Wszystkie operacje, takie jak umieszczanie wartoÅ›ci na stosie, odczytywanie ich, wywoÅ‚ywanie funkcji czy rejestrowanie klas, sÄ… opakowane w metody tej klasy.</p>
</section>
<section id="metody-publiczne-wybrane">
<h1>Metody publiczne (wybrane)<a class="headerlink" href="#metody-publiczne-wybrane" title="Link to this heading">#</a></h1>
</section>
<section id="inicjalizacja-i-zarzadzanie">
<h1>Inicjalizacja i zarzÄ…dzanie<a class="headerlink" href="#inicjalizacja-i-zarzadzanie" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code>: Uruchamia i zamyka silnik Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">collectGarbage()</span></code>: Wymusza uruchomienie garbage collectora.</p></li>
</ul>
</section>
<section id="id616">
<h1>Rejestracja i bindowanie<a class="headerlink" href="#id616" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">registerSingletonClass(...)</span></code>: Rejestruje globalny obiekt (singleton) w Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">registerClass(...)</span></code>: Rejestruje klasÄ™ C++ w Lua, umoÅ¼liwiajÄ…c tworzenie jej instancji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bind...Function(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">bind...Field(...)</span></code>: Szablonowe metody do bindowania funkcji i pÃ³l klas.</p></li>
</ul>
</section>
<section id="id617">
<h1>Wykonywanie skryptÃ³w<a class="headerlink" href="#id617" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">safeRunScript(...)</span></code>: Bezpiecznie wykonuje skrypt z pliku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">runScript(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">runBuffer(...)</span></code>: WykonujÄ… skrypt z pliku lub bufora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loadScript(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">loadFunction(...)</span></code>: ÅadujÄ… skrypt/funkcjÄ™ na stos bez jej wykonywania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">safeCall(...)</span></code>: Bezpiecznie wywoÅ‚uje funkcjÄ™ na stosie, z obsÅ‚ugÄ… bÅ‚Ä™dÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">signalCall(...)</span></code>: Wysokopoziomowa wersja <code class="docutils literal notranslate"><span class="pre">safeCall</span></code> z dodatkowymi funkcjami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">callGlobalField&lt;R,</span> <span class="pre">...T&gt;(...)</span></code>: Wygodna metoda do wywoÅ‚ywania globalnej funkcji Lua z C++ i otrzymywania wyniku.</p></li>
</ul>
</section>
<section id="manipulacja-stosem-i-typami">
<h1>Manipulacja stosem i typami<a class="headerlink" href="#manipulacja-stosem-i-typami" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">push...()</span></code> / <code class="docutils literal notranslate"><span class="pre">pop...()</span></code> / <code class="docutils literal notranslate"><span class="pre">to...()</span></code> / <code class="docutils literal notranslate"><span class="pre">is...()</span></code>: Zestaw metod do pracy ze stosem Lua dla rÃ³Å¼nych typÃ³w danych (np. <code class="docutils literal notranslate"><span class="pre">pushInteger</span></code>, <code class="docutils literal notranslate"><span class="pre">isString</span></code>, <code class="docutils literal notranslate"><span class="pre">toObject</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getTop()</span></code>: Zwraca rozmiar stosu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ref()</span></code> / <code class="docutils literal notranslate"><span class="pre">unref()</span></code>: Do tworzenia i zwalniania trwaÅ‚ych referencji do wartoÅ›ci Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">polymorphicPush&lt;T&gt;(...)</span></code>: Szablonowa metoda do umieszczania na stosie dowolnego typu, dla ktÃ³rego zdefiniowano <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">castValue&lt;T&gt;(...)</span></code>: Szablonowa metoda do rzutowania wartoÅ›ci ze stosu na typ C++, uÅ¼ywajÄ…c <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code>.</p></li>
</ul>
</section>
<section id="id618">
<h1>Zmienne prywatne<a class="headerlink" href="#id618" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: WskaÅºnik na <code class="docutils literal notranslate"><span class="pre">lua_State</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_weakTableRef</span></code>: Referencja do tabeli ze sÅ‚abymi referencjami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cppCallbackDepth</span></code>: Licznik zagnieÅ¼dÅ¼enia wywoÅ‚aÅ„ zwrotnych C++.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_totalObjRefs</span></code>, <code class="docutils literal notranslate"><span class="pre">m_totalFuncRefs</span></code>: Liczniki do Å›ledzenia alokacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_globalEnv</span></code>: Referencja do globalnego Å›rodowiska Lua.</p></li>
</ul>
</section>
<section id="dolaczane-pliki">
<h1>DoÅ‚Ä…czane pliki<a class="headerlink" href="#dolaczane-pliki" title="Link to this heading">#</a></h1>
<p>Plik ten na koÅ„cu doÅ‚Ä…cza trzy kluczowe pliki, ktÃ³re sÄ… od niego zaleÅ¼ne i rozszerzajÄ… jego funkcjonalnoÅ›Ä‡:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">luaexception.h</span></code>: Definicje wyjÄ…tkÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">luabinder.h</span></code>: Maszyneria do bindowania funkcji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">luavaluecasts.h</span></code>: Implementacje <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code> i <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code> dla rÃ³Å¼nych typÃ³w.</p></li>
</ul>
</section>
<section id="id619">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id619" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to centralny plik dla caÅ‚ego podsystemu Lua.</p></li>
<li><p>ZaleÅ¼ny od <code class="docutils literal notranslate"><span class="pre">framework/luaengine/declarations.h</span></code>.</p></li>
<li><p>UÅ¼ywany przez praktycznie kaÅ¼dÄ… czÄ™Å›Ä‡ aplikacji, ktÃ³ra wchodzi w interakcjÄ™ z Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="luaobject-cpp">
<h1>ğŸ“„ luaobject.cpp<a class="headerlink" href="#luaobject-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id620">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id620" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luaobject.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, ktÃ³ra jest klasÄ… bazowÄ… dla wszystkich obiektÃ³w C++, ktÃ³re majÄ… byÄ‡ dostÄ™pne w Å›rodowisku Lua.</p>
</section>
<section id="klasa-luaobject">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code><a class="headerlink" href="#klasa-luaobject" title="Link to this heading">#</a></h1>
</section>
<section id="luaobject-luaobject">
<h1><code class="docutils literal notranslate"><span class="pre">LuaObject::LuaObject()</span></code><a class="headerlink" href="#luaobject-luaobject" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje <code class="docutils literal notranslate"><span class="pre">m_fieldsTableRef</span></code> na -1, co oznacza, Å¼e obiekt nie ma jeszcze przypisanej tabeli pÃ³l w Lua.</p>
</section>
<section id="id621">
<h1><code class="docutils literal notranslate"><span class="pre">LuaObject::~LuaObject()</span></code><a class="headerlink" href="#id621" title="Link to this heading">#</a></h1>
<p>Destruktor. WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">releaseLuaFieldsTable()</span></code>, aby zwolniÄ‡ referencjÄ™ do tabeli pÃ³l w Lua, co pozwala garbage collectorowi na jej usuniÄ™cie. Sprawdza rÃ³wnieÅ¼, czy nie jest wywoÅ‚ywany podczas zamykania aplikacji.</p>
</section>
<section id="bool-luaobject-hasluafield-const-std-string-field">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">LuaObject::hasLuaField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">field)</span></code><a class="headerlink" href="#bool-luaobject-hasluafield-const-std-string-field" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy obiekt posiada pole o danej nazwie w swojej tabeli pÃ³l Lua.</p>
</section>
<section id="void-luaobject-releaseluafieldstable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::releaseLuaFieldsTable()</span></code><a class="headerlink" href="#void-luaobject-releaseluafieldstable" title="Link to this heading">#</a></h1>
<p>Zwalnia referencjÄ™ do tabeli pÃ³l (<code class="docutils literal notranslate"><span class="pre">m_fieldsTableRef</span></code>), jeÅ›li istnieje.</p>
</section>
<section id="void-luaobject-luasetfield-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaSetField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#void-luaobject-luasetfield-const-std-string-key" title="Link to this heading">#</a></h1>
</section>
<section id="id622">
<h1>Opis semantyczny<a class="headerlink" href="#id622" title="Link to this heading">#</a></h1>
<p>Ustawia pole w tabeli Lua powiÄ…zanej z tym obiektem. WartoÅ›Ä‡ do ustawienia musi znajdowaÄ‡ siÄ™ na szczycie stosu Lua.</p>
</section>
<section id="id623">
<h1>DziaÅ‚anie<a class="headerlink" href="#id623" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>JeÅ›li obiekt nie ma jeszcze tabeli pÃ³l (<code class="docutils literal notranslate"><span class="pre">m_fieldsTableRef</span> <span class="pre">==</span> <span class="pre">-1</span></code>), tworzy nowÄ… tabelÄ™ w Lua i zapisuje do niej referencjÄ™.</p></li>
<li><p>Pobiera tabelÄ™ pÃ³l na stos Lua.</p></li>
<li><p>Przenosi wartoÅ›Ä‡ ze szczytu stosu na odpowiednie miejsce.</p></li>
<li><p>Ustawia pole w tabeli za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_lua.setField(key)</span></code>.</p></li>
<li><p>Zdejmuje tabelÄ™ pÃ³l ze stosu.</p></li>
</ol>
</section>
<section id="void-luaobject-luagetfield-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#void-luaobject-luagetfield-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Pobiera wartoÅ›Ä‡ pola z tabeli Lua obiektu i umieszcza jÄ… na szczycie stosu. JeÅ›li tabela pÃ³l nie istnieje, umieszcza <code class="docutils literal notranslate"><span class="pre">nil</span></code>.</p>
</section>
<section id="void-luaobject-luagetmetatable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetMetatable()</span></code><a class="headerlink" href="#void-luaobject-luagetmetatable" title="Link to this heading">#</a></h1>
<p>Pobiera i umieszcza na stosie metatabelÄ™ dla klasy tego obiektu. UÅ¼ywa statycznej mapy (<code class="docutils literal notranslate"><span class="pre">metatableMap</span></code>) do cachowania referencji do metatabel dla kaÅ¼dego typu klasy, aby uniknÄ…Ä‡ wielokrotnego wyszukiwania ich w globalnym Å›rodowisku Lua.</p>
</section>
<section id="void-luaobject-luagetfieldstable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetFieldsTable()</span></code><a class="headerlink" href="#void-luaobject-luagetfieldstable" title="Link to this heading">#</a></h1>
<p>Umieszcza na stosie tabelÄ™ pÃ³l tego obiektu, lub <code class="docutils literal notranslate"><span class="pre">nil</span></code>, jeÅ›li ona nie istnieje.</p>
</section>
<section id="int-luaobject-getusecount">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">LuaObject::getUseCount()</span></code><a class="headerlink" href="#int-luaobject-getusecount" title="Link to this heading">#</a></h1>
<p>Zwraca liczbÄ™ referencji do obiektu (<code class="docutils literal notranslate"><span class="pre">shared_object::ref_count()</span></code>).</p>
</section>
<section id="std-string-luaobject-getclassname">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">LuaObject::getClassName()</span></code><a class="headerlink" href="#std-string-luaobject-getclassname" title="Link to this heading">#</a></h1>
<p>Zwraca zdemanglowanÄ… nazwÄ™ klasy obiektu, ktÃ³ra jest uÅ¼ywana do znalezienia odpowiedniej metatabeli w Lua.</p>
</section>
<section id="id624">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id624" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: Intensywnie korzysta z <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do wszystkich operacji na stanie Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Do sprawdzania stanu aplikacji.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla setek innych klas w projekcie, ktÃ³re sÄ… eksportowane do Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="luaobject-h">
<h1>ğŸ“„ luaobject.h<a class="headerlink" href="#luaobject-h" title="Link to this heading">#</a></h1>
</section>
<section id="id625">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id625" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luaobject.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, ktÃ³ra jest fundamentalnÄ… klasÄ… bazowÄ… dla wszystkich obiektÃ³w C++, ktÃ³re majÄ… byÄ‡ widoczne i zarzÄ…dzane przez silnik Lua.</p>
</section>
<section id="id626">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code><a class="headerlink" href="#id626" title="Link to this heading">#</a></h1>
</section>
<section id="id627">
<h1>Opis semantyczny<a class="headerlink" href="#id627" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">LuaObject</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">stdext::shared_object</span></code>, co zapewnia zarzÄ…dzanie czasem Å¼ycia obiektu za pomocÄ… licznika referencji. Dodaje funkcjonalnoÅ›Ä‡, ktÃ³ra pozwala na dynamiczne doÅ‚Ä…czanie do obiektu C++ pÃ³l i metod z poziomu Lua. KaÅ¼da instancja <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code> moÅ¼e posiadaÄ‡ wÅ‚asnÄ…, unikalnÄ… tabelÄ™ w Lua (<code class="docutils literal notranslate"><span class="pre">m_fieldsTableRef</span></code>), w ktÃ³rej przechowywane sÄ… te dynamiczne dane.</p>
</section>
<section id="id628">
<h1>Metody publiczne<a class="headerlink" href="#id628" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>Szablonowe metody do interakcji z Lua</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">connectLuaField(...)</span></code></p></td>
<td class="text-left"><p>ÅÄ…czy funkcjÄ™ C++ (<code class="docutils literal notranslate"><span class="pre">std::function</span></code>) z polem Lua, tworzÄ…c lub rozszerzajÄ…c tabelÄ™ callbackÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">luaCallLuaField(...)</span></code></p></td>
<td class="text-left"><p>WywoÅ‚uje funkcjÄ™ przechowywanÄ… w polu Lua tego obiektu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">callLuaField(...)</span></code></p></td>
<td class="text-left"><p>Wysokopoziomowe opakowanie na <code class="docutils literal notranslate"><span class="pre">luaCallLuaField</span></code>, ktÃ³re obsÅ‚uguje konwersjÄ™ typÃ³w zwracanych.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">hasLuaField(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy obiekt ma pole o danej nazwie w swojej tabeli Lua.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setLuaField(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wartoÅ›Ä‡ pola w tabeli Lua.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getLuaField(...)</span></code></p></td>
<td class="text-left"><p>Pobiera wartoÅ›Ä‡ pola z tabeli Lua.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Niskopoziomowe metody do interakcji z Lua</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">releaseLuaFieldsTable()</span></code></p></td>
<td class="text-left"><p>Zwalnia referencjÄ™ do tabeli pÃ³l.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">luaSetField(...)</span></code></p></td>
<td class="text-left"><p>Ustawia pole, pobierajÄ…c wartoÅ›Ä‡ ze szczytu stosu Lua.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">luaGetField(...)</span></code></p></td>
<td class="text-left"><p>Pobiera pole i umieszcza jego wartoÅ›Ä‡ na stosie Lua.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">luaGetMetatable()</span></code></p></td>
<td class="text-left"><p>Pobiera i umieszcza na stosie metatabelÄ™ klasy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">luaGetFieldsTable()</span></code></p></td>
<td class="text-left"><p>Umieszcza na stosie tabelÄ™ pÃ³l obiektu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Metody pomocnicze</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getUseCount()</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ referencji do obiektu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getClassName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ klasy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id629">
<h1>Zmienne prywatne<a class="headerlink" href="#id629" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_fieldsTableRef</span></code>: Przechowuje referencjÄ™ (indeks w rejestrze Lua) do tabeli pÃ³l tego obiektu.</p></li>
</ul>
</section>
<section id="funkcje-globalne-connect">
<h1>Funkcje globalne (<code class="docutils literal notranslate"><span class="pre">connect</span></code>)<a class="headerlink" href="#funkcje-globalne-connect" title="Link to this heading">#</a></h1>
<p>Szablonowe funkcje globalne, ktÃ³re sÄ… wygodnym opakowaniem na <code class="docutils literal notranslate"><span class="pre">LuaObject::connectLuaField</span></code>, pozwalajÄ…c na Å‚atwe Å‚Ä…czenie zarÃ³wno <code class="docutils literal notranslate"><span class="pre">std::function</span></code>, jak i lambd z polami obiektÃ³w.</p>
</section>
<section id="id630">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id630" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/stats.h</span></code>: Potencjalnie do statystyk.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla prawie kaÅ¼dej klasy w projekcie, ktÃ³ra jest eksportowana do Lua (np. <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, <code class="docutils literal notranslate"><span class="pre">Module</span></code>).</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, jej podstawowe metody (<code class="docutils literal notranslate"><span class="pre">getUseCount</span></code>, <code class="docutils literal notranslate"><span class="pre">getClassName</span></code>, <code class="docutils literal notranslate"><span class="pre">getFieldsTable</span></code>) sÄ… dostÄ™pne w Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="luavaluecasts-cpp">
<h1>ğŸ“„ luavaluecasts.cpp<a class="headerlink" href="#luavaluecasts-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id631">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id631" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luavaluecasts.cpp</span></code> zawiera implementacje specjalizacji szablonÃ³w <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code> i <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code> dla podstawowych typÃ³w danych. Te funkcje sÄ… sercem systemu konwersji typÃ³w miÄ™dzy C++ a Lua.</p>
</section>
<section id="funkcje-push-luavalue">
<h1>Funkcje <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code><a class="headerlink" href="#funkcje-push-luavalue" title="Link to this heading">#</a></h1>
</section>
<section id="id632">
<h1>Opis semantyczny<a class="headerlink" href="#id632" title="Link to this heading">#</a></h1>
<p>KaÅ¼da funkcja <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code> przyjmuje wartoÅ›Ä‡ typu C++ i umieszcza jej odpowiednik na szczycie stosu Lua. Zwraca liczbÄ™ wartoÅ›ci umieszczonych na stosie (zwykle 1).</p>
</section>
<section id="implementacje">
<h1>Implementacje:<a class="headerlink" href="#implementacje" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.pushBoolean(b)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.pushInteger(i)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">double</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.pushNumber(d)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span></code>, <code class="docutils literal notranslate"><span class="pre">std::string</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.pushString(str)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LuaCppFunction</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.pushCppFunction(func)</span></code></p></li>
<li><p><strong>Typy zÅ‚oÅ¼one (<code class="docutils literal notranslate"><span class="pre">Color</span></code>, <code class="docutils literal notranslate"><span class="pre">Rect</span></code>, <code class="docutils literal notranslate"><span class="pre">Point</span></code>, <code class="docutils literal notranslate"><span class="pre">Size</span></code>)</strong>: TworzÄ… nowÄ… tabelÄ™ w Lua i wypeÅ‚niajÄ… jÄ… odpowiednimi polami (np. <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">g</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">a</span></code> dla <code class="docutils literal notranslate"><span class="pre">Color</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code></strong>: Konwertuje wÄ™zeÅ‚ OTML na tabelÄ™ Lua, rekurencyjnie przetwarzajÄ…c jego dzieci.</p></li>
</ul>
</section>
<section id="funkcje-luavalue-cast">
<h1>Funkcje <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code><a class="headerlink" href="#funkcje-luavalue-cast" title="Link to this heading">#</a></h1>
</section>
<section id="id633">
<h1>Opis semantyczny<a class="headerlink" href="#id633" title="Link to this heading">#</a></h1>
<p>KaÅ¼da funkcja <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code> prÃ³buje odczytaÄ‡ wartoÅ›Ä‡ z podanego indeksu na stosie Lua i skonwertowaÄ‡ jÄ… na odpowiedni typ C++. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code> w przypadku sukcesu.</p>
</section>
<section id="id634">
<h1>Implementacje:<a class="headerlink" href="#id634" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.toBoolean(index)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.toInteger(index)</span></code>, <code class="docutils literal notranslate"><span class="pre">g_lua.toNumber(index)</span></code>. SprawdzajÄ… dodatkowo, czy wartoÅ›Ä‡ na stosie jest faktycznie liczbÄ….</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.toString(index)</span></code></p></li>
<li><p><strong>Typy zÅ‚oÅ¼one (<code class="docutils literal notranslate"><span class="pre">Color</span></code>, <code class="docutils literal notranslate"><span class="pre">Rect</span></code>, â€¦)</strong>: SprawdzajÄ…, czy na stosie jest tabela z odpowiednimi polami lub string, ktÃ³ry moÅ¼na sparsowaÄ‡. OdczytujÄ… wartoÅ›ci z tabeli i przypisujÄ… je do obiektu C++.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code></strong>: Konwertuje tabelÄ™ Lua z powrotem na strukturÄ™ wÄ™zÅ‚Ã³w OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">LuaObjectPtr</span></code></strong>: Sprawdza, czy na stosie jest <code class="docutils literal notranslate"><span class="pre">userdata</span></code> i rzutuje je na odpowiedni typ wskaÅºnika.</p></li>
</ul>
</section>
<section id="id635">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id635" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luavaluecasts.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: UÅ¼ywajÄ… metod <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do interakcji ze stosem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlnode.h</span></code>: Do konwersji wÄ™zÅ‚Ã³w OTML.</p></li>
<li><p>SÄ… to funkcje niskiego poziomu, uÅ¼ywane przez <code class="docutils literal notranslate"><span class="pre">LuaInterface::polymorphicPush</span></code> i <code class="docutils literal notranslate"><span class="pre">LuaInterface::castValue</span></code> do automatycznej konwersji typÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="luavaluecasts-h">
<h1>ğŸ“„ luavaluecasts.h<a class="headerlink" href="#luavaluecasts-h" title="Link to this heading">#</a></h1>
</section>
<section id="id636">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id636" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luavaluecasts.h</span></code> deklaruje zestaw szablonowych funkcji <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code> i <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code>, ktÃ³re definiujÄ…, w jaki sposÃ³b rÃ³Å¼ne typy danych C++ sÄ… konwertowane do i z wartoÅ›ci Lua. Jest to kluczowy element systemu bindowania, ktÃ³ry umoÅ¼liwia automatycznÄ… konwersjÄ™ argumentÃ³w funkcji i wartoÅ›ci zwracanych.</p>
</section>
<section id="szablony-i-funkcje">
<h1>Szablony i funkcje<a class="headerlink" href="#szablony-i-funkcje" title="Link to this heading">#</a></h1>
</section>
<section id="push-luavalue-t-const-t-v">
<h1><code class="docutils literal notranslate"><span class="pre">push_luavalue&lt;T&gt;(const</span> <span class="pre">T&amp;</span> <span class="pre">v)</span></code><a class="headerlink" href="#push-luavalue-t-const-t-v" title="Link to this heading">#</a></h1>
</section>
<section id="id637">
<h1>Opis<a class="headerlink" href="#id637" title="Link to this heading">#</a></h1>
<p>Szablon funkcji, ktÃ³ry przyjmuje wartoÅ›Ä‡ typu <code class="docutils literal notranslate"><span class="pre">T</span></code> i umieszcza jej reprezentacjÄ™ na stosie Lua. Dla kaÅ¼dego typu, ktÃ³ry ma byÄ‡ przekazywany miÄ™dzy C++ a Lua, musi istnieÄ‡ specjalizacja tej funkcji.</p>
</section>
<section id="luavalue-cast-t-int-index-t-v">
<h1><code class="docutils literal notranslate"><span class="pre">luavalue_cast&lt;T&gt;(int</span> <span class="pre">index,</span> <span class="pre">T&amp;</span> <span class="pre">v)</span></code><a class="headerlink" href="#luavalue-cast-t-int-index-t-v" title="Link to this heading">#</a></h1>
</section>
<section id="id638">
<h1>Opis<a class="headerlink" href="#id638" title="Link to this heading">#</a></h1>
<p>Szablon funkcji, ktÃ³ry prÃ³buje odczytaÄ‡ wartoÅ›Ä‡ z podanego indeksu <code class="docutils literal notranslate"><span class="pre">index</span></code> na stosie Lua i skonwertowaÄ‡ jÄ… do typu <code class="docutils literal notranslate"><span class="pre">T</span></code>. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li konwersja siÄ™ powiedzie.</p>
</section>
<section id="zadeklarowane-specjalizacje">
<h1>Zadeklarowane specjalizacje<a class="headerlink" href="#zadeklarowane-specjalizacje" title="Link to this heading">#</a></h1>
<p>Plik deklaruje (a w przypadku typÃ³w prostych, rÃ³wnieÅ¼ definiuje <code class="docutils literal notranslate"><span class="pre">inline</span></code>) specjalizacje dla:</p>
<ul class="simple">
<li><p><strong>TypÃ³w prostych</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, liczby caÅ‚kowite o staÅ‚ym rozmiarze (<code class="docutils literal notranslate"><span class="pre">int8</span></code>, <code class="docutils literal notranslate"><span class="pre">uint16</span></code>, itp.).</p></li>
<li><p><strong>StringÃ³w</strong>: <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span></code>, <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p></li>
<li><p><strong>Funkcji C++</strong>: <code class="docutils literal notranslate"><span class="pre">LuaCppFunction</span></code>, <code class="docutils literal notranslate"><span class="pre">std::function</span></code>.</p></li>
<li><p><strong>Struktur frameworka</strong>: <code class="docutils literal notranslate"><span class="pre">Color</span></code>, <code class="docutils literal notranslate"><span class="pre">Rect</span></code>, <code class="docutils literal notranslate"><span class="pre">Point</span></code>, <code class="docutils literal notranslate"><span class="pre">Size</span></code>.</p></li>
<li><p><strong>WÄ™zÅ‚Ã³w OTML</strong>: <code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code>.</p></li>
<li><p><strong>TypÃ³w wyliczeniowych (enum)</strong>.</p></li>
<li><p><strong>ObiektÃ³w C++</strong>: <code class="docutils literal notranslate"><span class="pre">LuaObjectPtr</span></code> i wskaÅºniki do klas pochodnych.</p></li>
<li><p><strong>KontenerÃ³w STL</strong>: <code class="docutils literal notranslate"><span class="pre">std::list</span></code>, <code class="docutils literal notranslate"><span class="pre">std::vector</span></code>, <code class="docutils literal notranslate"><span class="pre">std::set</span></code>, <code class="docutils literal notranslate"><span class="pre">std::deque</span></code>, <code class="docutils literal notranslate"><span class="pre">std::map</span></code>.</p></li>
<li><p><strong>Krotek</strong>: <code class="docutils literal notranslate"><span class="pre">std::tuple</span></code>.</p></li>
</ul>
</section>
<section id="przyklad-dzialania">
<h1>PrzykÅ‚ad dziaÅ‚ania<a class="headerlink" href="#przyklad-dzialania" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// C++</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">myFunction</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// Lua</span>
<span class="n">myFunction</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s">"hello"</span><span class="p">)</span>
</pre></div>
</div>
<p>Gdy <code class="docutils literal notranslate"><span class="pre">myFunction</span></code> jest wywoÅ‚ywana z Lua, <code class="docutils literal notranslate"><span class="pre">luabinder</span></code> uÅ¼yje:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(1,</span> <span class="pre">int&amp;)</span></code> do konwersji <code class="docutils literal notranslate"><span class="pre">10</span></code> z Lua na <code class="docutils literal notranslate"><span class="pre">int</span></code> w C++.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(2,</span> <span class="pre">std::string&amp;)</span></code> do konwersji <code class="docutils literal notranslate"><span class="pre">"hello"</span></code> z Lua na <code class="docutils literal notranslate"><span class="pre">std::string</span></code> w C++.</p></li>
</ul>
</section>
<section id="id639">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id639" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to plik wewnÄ™trzny, doÅ‚Ä…czany tylko przez <code class="docutils literal notranslate"><span class="pre">luainterface.h</span></code>.</p></li>
<li><p>Wymaga definicji <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, <code class="docutils literal notranslate"><span class="pre">LuaException</span></code>.</p></li>
<li><p>Jest podstawÄ… caÅ‚ego systemu automatycznej konwersji typÃ³w, uÅ¼ywanego przez <code class="docutils literal notranslate"><span class="pre">luabinder</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="connection-cpp">
<h1>ğŸ“„ connection.cpp<a class="headerlink" href="#connection-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id640">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id640" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">connection.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, ktÃ³ra jest niskopoziomowym opakowaniem na asynchroniczne gniazdo TCP (TCP socket) z biblioteki Boost.Asio. ZarzÄ…dza ona cyklem Å¼ycia poÅ‚Ä…czenia, operacjami odczytu i zapisu oraz obsÅ‚ugÄ… bÅ‚Ä™dÃ³w.</p>
</section>
<section id="id641">
<h1>Zmienne globalne<a class="headerlink" href="#id641" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">boost::asio::io_service</span></code>, ktÃ³ra jest sercem pÄ™tli zdarzeÅ„ dla wszystkich operacji sieciowych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Connection::m_outputStreams</span></code>: Statyczna lista, ktÃ³ra dziaÅ‚a jak pula buforÃ³w wyjÅ›ciowych. ZuÅ¼yte bufory sÄ… do niej zwracane, co pozwala na ich ponowne wykorzystanie i redukuje alokacjÄ™ pamiÄ™ci.</p></li>
</ul>
</section>
<section id="klasa-connection">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Connection</span></code><a class="headerlink" href="#klasa-connection" title="Link to this heading">#</a></h1>
</section>
<section id="connection-connection">
<h1><code class="docutils literal notranslate"><span class="pre">Connection::Connection()</span></code><a class="headerlink" href="#connection-connection" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje obiekty Boost.Asio (<code class="docutils literal notranslate"><span class="pre">timer</span></code>, <code class="docutils literal notranslate"><span class="pre">resolver</span></code>, <code class="docutils literal notranslate"><span class="pre">socket</span></code>) powiÄ…zane z <code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>.</p>
</section>
<section id="void-connection-poll-i-void-connection-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::poll()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::terminate()</span></code><a class="headerlink" href="#void-connection-poll-i-void-connection-terminate" title="Link to this heading">#</a></h1>
<p>Statyczne metody, ktÃ³re zarzÄ…dzajÄ… globalnym <code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>. <code class="docutils literal notranslate"><span class="pre">poll()</span></code> przetwarza zdarzenia sieciowe, a <code class="docutils literal notranslate"><span class="pre">terminate()</span></code> zatrzymuje <code class="docutils literal notranslate"><span class="pre">io_service</span></code>.</p>
</section>
<section id="void-connection-close">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::close()</span></code><a class="headerlink" href="#void-connection-close" title="Link to this heading">#</a></h1>
<p>Zamyka poÅ‚Ä…czenie. Anuluje wszystkie aktywne operacje asynchroniczne, zamyka gniazdo i resetuje callbacki.</p>
</section>
<section id="void-connection-connect">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::connect(...)</span></code><a class="headerlink" href="#void-connection-connect" title="Link to this heading">#</a></h1>
<p>Rozpoczyna proces nawiÄ…zywania poÅ‚Ä…czenia. WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">m_resolver.async_resolve</span></code> w celu przetÅ‚umaczenia nazwy hosta na adres IP.</p>
</section>
<section id="void-connection-write-uint8-buffer-size-t-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::write(uint8*</span> <span class="pre">buffer,</span> <span class="pre">size_t</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-connection-write-uint8-buffer-size-t-size" title="Link to this heading">#</a></h1>
<p>Dodaje dane do bufora wyjÅ›ciowego (<code class="docutils literal notranslate"><span class="pre">m_outputStream</span></code>). Aby uniknÄ…Ä‡ zatorÃ³w (congestion), faktyczne wysÅ‚anie danych jest opÃ³Åºniane o 0 milisekund za pomocÄ… <code class="docutils literal notranslate"><span class="pre">m_delayedWriteTimer</span></code>. Oznacza to, Å¼e wysÅ‚anie nastÄ…pi w nastÄ™pnej iteracji pÄ™tli <code class="docutils literal notranslate"><span class="pre">io_service</span></code>, co pozwala na zgrupowanie wielu maÅ‚ych zapisÃ³w w jeden wiÄ™kszy.</p>
</section>
<section id="metody-read-read-until-read-some">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">read(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">read_until(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">read_some(...)</span></code><a class="headerlink" href="#metody-read-read-until-read-some" title="Link to this heading">#</a></h1>
<p>InicjujÄ… asynchroniczne operacje odczytu danych z gniazda. UstawiajÄ… <code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code>, ktÃ³ry zostanie wywoÅ‚any po otrzymaniu danych, oraz <code class="docutils literal notranslate"><span class="pre">m_readTimer</span></code> do obsÅ‚ugi timeoutu.</p>
</section>
<section id="id642">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">on...()</span></code><a class="headerlink" href="#id642" title="Link to this heading">#</a></h1>
<p>SÄ… to handlery (funkcje zwrotne) dla operacji asynchronicznych Boost.Asio:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">onResolve</span></code>: WywoÅ‚ywana po rozwiÄ…zaniu nazwy DNS. Inicjuje poÅ‚Ä…czenie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onConnect</span></code>: WywoÅ‚ywana po nawiÄ…zaniu poÅ‚Ä…czenia. Ustawia opcje gniazda (np. <code class="docutils literal notranslate"><span class="pre">no_delay</span></code> - wyÅ‚Ä…czenie algorytmu Nagleâ€™a) i wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">m_connectCallback</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onCanWrite</span></code>: WywoÅ‚ywana przez <code class="docutils literal notranslate"><span class="pre">m_delayedWriteTimer</span></code>. Inicjuje faktyczne wysÅ‚anie danych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onWrite</span></code>: WywoÅ‚ywana po zakoÅ„czeniu operacji zapisu. Zwraca bufor do puli.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onRecv</span></code>: WywoÅ‚ywana po otrzymaniu danych. Przekazuje dane do <code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onTimeout</span></code>: WywoÅ‚ywana, gdy upÅ‚ynie czas oczekiwania na operacjÄ™.</p></li>
</ul>
</section>
<section id="void-connection-handleerror">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::handleError(...)</span></code><a class="headerlink" href="#void-connection-handleerror" title="Link to this heading">#</a></h1>
<p>Centralna funkcja do obsÅ‚ugi bÅ‚Ä™dÃ³w sieciowych. Zapisuje bÅ‚Ä…d, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">m_errorCallback</span></code> i zamyka poÅ‚Ä…czenie.</p>
</section>
<section id="id643">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id643" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/connection.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>, <code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code>: Do walidacji i planowania zdarzeÅ„.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>: Kluczowa zaleÅ¼noÅ›Ä‡ do obsÅ‚ugi sieci.</p></li>
<li><p>Jest uÅ¼ywana przez klasÄ™ <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do implementacji protokoÅ‚u komunikacyjnego z serwerem gry.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="server-h">
<h1>ğŸ“„ server.h<a class="headerlink" href="#server-h" title="Link to this heading">#</a></h1>
</section>
<section id="id644">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id644" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">server.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Server</span></code>, ktÃ³ra jest prostym opakowaniem na <code class="docutils literal notranslate"><span class="pre">boost::asio::ip::tcp::acceptor</span></code>. UmoÅ¼liwia tworzenie serwera TCP, ktÃ³ry nasÅ‚uchuje na przychodzÄ…ce poÅ‚Ä…czenia na okreÅ›lonym porcie.</p>
</section>
<section id="klasa-server">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Server</span></code><a class="headerlink" href="#klasa-server" title="Link to this heading">#</a></h1>
</section>
<section id="id645">
<h1>Opis semantyczny<a class="headerlink" href="#id645" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Server</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co pozwala na tworzenie i zarzÄ…dzanie serwerami z poziomu skryptÃ³w Lua. Jego gÅ‚Ã³wnym zadaniem jest akceptowanie nowych poÅ‚Ä…czeÅ„ i przekazywanie ich do obsÅ‚ugi (np. w formie obiektu <code class="docutils literal notranslate"><span class="pre">Connection</span></code>).</p>
</section>
<section id="id646">
<h1>Metody publiczne<a class="headerlink" href="#id646" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Server(int</span> <span class="pre">port)</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy i bindowanie akceptor do podanego portu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">ServerPtr</span> <span class="pre">create(int</span> <span class="pre">port)</span></code></p></td>
<td class="text-left"><p>Metoda fabryczna, ktÃ³ra tworzy <code class="docutils literal notranslate"><span class="pre">Server</span></code> i opakowuje go w <code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isOpen()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li serwer nasÅ‚uchuje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">close()</span></code></p></td>
<td class="text-left"><p>Zamyka akceptor, przestajÄ…c nasÅ‚uchiwaÄ‡.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">acceptNext()</span></code></p></td>
<td class="text-left"><p>Inicjuje asynchronicznÄ… operacjÄ™ oczekiwania na nastÄ™pne poÅ‚Ä…czenie. Po jego nadejÅ›ciu, wywoÅ‚ywany jest <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">onAccept</span></code> w Lua.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id647">
<h1>Zmienne prywatne<a class="headerlink" href="#id647" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_isOpen</span></code>: Flaga wskazujÄ…ca, czy serwer jest aktywny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_acceptor</span></code>: Obiekt <code class="docutils literal notranslate"><span class="pre">tcp::acceptor</span></code> z Boost.Asio.</p></li>
</ul>
</section>
<section id="id648">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id648" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">tcp::acceptor</span></code>.</p></li>
<li><p>Jest uÅ¼ywana do implementacji serwerÃ³w nasÅ‚uchujÄ…cych w Lua, np. do niestandardowych narzÄ™dzi lub protokoÅ‚Ã³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="connection-h">
<h1>ğŸ“„ connection.h<a class="headerlink" href="#connection-h" title="Link to this heading">#</a></h1>
</section>
<section id="id649">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id649" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">connection.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, ktÃ³ra jest interfejsem do asynchronicznego poÅ‚Ä…czenia TCP. Jest to kluczowy element podsystemu sieciowego.</p>
</section>
<section id="id650">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Connection</span></code><a class="headerlink" href="#id650" title="Link to this heading">#</a></h1>
</section>
<section id="id651">
<h1>Opis semantyczny<a class="headerlink" href="#id651" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Connection</span></code> enkapsuluje <code class="docutils literal notranslate"><span class="pre">boost::asio::ip::tcp::socket</span></code> i zarzÄ…dza caÅ‚ym cyklem Å¼ycia poÅ‚Ä…czenia: od nawiÄ…zywania, przez wysyÅ‚anie i odbieranie danych, aÅ¼ po zamykanie i obsÅ‚ugÄ™ bÅ‚Ä™dÃ³w. DziaÅ‚a w peÅ‚ni asynchronicznie, integrujÄ…c siÄ™ z globalnÄ… pÄ™tlÄ… zdarzeÅ„ <code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co umoÅ¼liwia jej uÅ¼ycie w Lua.</p>
</section>
<section id="id652">
<h1>StaÅ‚e<a class="headerlink" href="#id652" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">READ_TIMEOUT</span></code>, <code class="docutils literal notranslate"><span class="pre">WRITE_TIMEOUT</span></code>: Czas (w sekundach) na zakoÅ„czenie operacji odczytu/zapisu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SEND_BUFFER_SIZE</span></code>, <code class="docutils literal notranslate"><span class="pre">RECV_BUFFER_SIZE</span></code>: Rozmiary buforÃ³w.</p></li>
</ul>
</section>
<section id="id653">
<h1>Metody publiczne<a class="headerlink" href="#id653" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>Statyczne</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia w globalnym <code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje <code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Cykl Å¼ycia</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">connect(...)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna asynchroniczne nawiÄ…zywanie poÅ‚Ä…czenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">close()</span></code></p></td>
<td class="text-left"><p>Zamyka poÅ‚Ä…czenie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Operacje I/O</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">write(...)</span></code></p></td>
<td class="text-left"><p>Dodaje dane do kolejki wysyÅ‚ania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">read(...)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna asynchroniczny odczyt okreÅ›lonej liczby bajtÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">read_until(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje dane aÅ¼ do napotkania okreÅ›lonego separatora.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">read_some(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje dowolnÄ… iloÅ›Ä‡ dostÄ™pnych danych (nie wiÄ™cej niÅ¼ rozmiar bufora).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Callbacki i stan</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setErrorCallback(...)</span></code></p></td>
<td class="text-left"><p>Ustawia funkcjÄ™ zwrotnÄ… dla bÅ‚Ä™dÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getIp()</span></code></p></td>
<td class="text-left"><p>Zwraca adres IP zdalnego hosta.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">boost::system::error_code</span> <span class="pre">getError()</span></code></p></td>
<td class="text-left"><p>Zwraca ostatni bÅ‚Ä…d.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isConnecting()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li trwa nawiÄ…zywanie poÅ‚Ä…czenia.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isConnected()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li poÅ‚Ä…czenie jest aktywne.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">getElapsedTicksSinceLastRead()</span></code></p></td>
<td class="text-left"><p>Zwraca czas od ostatniej operacji odczytu (do wykrywania timeoutÃ³w na wyÅ¼szym poziomie).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id654">
<h1>Zmienne chronione<a class="headerlink" href="#id654" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_connectCallback</span></code>, <code class="docutils literal notranslate"><span class="pre">m_errorCallback</span></code>, <code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code>: Funkcje zwrotne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_readTimer</span></code>, <code class="docutils literal notranslate"><span class="pre">m_writeTimer</span></code>, â€¦: Obiekty Boost.Asio (timery, resolver, socket).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_outputStream</span></code>, <code class="docutils literal notranslate"><span class="pre">m_inputStream</span></code>: Bufory do zapisu i odczytu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_connected</span></code>, <code class="docutils literal notranslate"><span class="pre">m_connecting</span></code>: Flagi stanu.</p></li>
</ul>
</section>
<section id="id655">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id655" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/declarations.h</span></code>: Deklaracje typÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code>: Do Å›ledzenia aktywnoÅ›ci.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do komunikacji z serwerem gry.</p></li>
<li><p>Jest zwracana przez <code class="docutils literal notranslate"><span class="pre">Server</span></code> po zaakceptowaniu nowego poÅ‚Ä…czenia.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="id656">
<h1>ğŸ“„ declarations.h<a class="headerlink" href="#id656" title="Link to this heading">#</a></h1>
</section>
<section id="id657">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id657" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">net</span></code> sÅ‚uÅ¼y do wczesnych deklaracji (forward declarations) i definicji typÃ³w wskaÅºnikÃ³w dla klas zwiÄ…zanych z obsÅ‚ugÄ… sieci. Pomaga to unikaÄ‡ zaleÅ¼noÅ›ci cyklicznych i skraca czas kompilacji.</p>
</section>
<section id="id658">
<h1>Deklaracje<a class="headerlink" href="#id658" title="Link to this heading">#</a></h1>
</section>
<section id="namespace-asio">
<h1><code class="docutils literal notranslate"><span class="pre">namespace</span> <span class="pre">asio</span></code><a class="headerlink" href="#namespace-asio" title="Link to this heading">#</a></h1>
<p>Deklaruje, Å¼e <code class="docutils literal notranslate"><span class="pre">asio</span></code> jest aliasem dla <code class="docutils literal notranslate"><span class="pre">boost::asio</span></code>.</p>
</section>
<section id="wczesne-deklaracje-klas">
<h1>Wczesne deklaracje klas<a class="headerlink" href="#wczesne-deklaracje-klas" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">InputMessage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Connection</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Protocol</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Server</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code></p></li>
</ul>
</section>
<section id="id659">
<h1>Definicje typÃ³w<a class="headerlink" href="#id659" title="Link to this heading">#</a></h1>
<p>Definiuje aliasy dla inteligentnych wskaÅºnikÃ³w (<code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>) do klas sieciowych.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">InputMessagePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OutputMessagePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ConnectionPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ProtocolPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ServerPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PacketPlayerPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PacketRecorderPtr</span></code></p></li>
</ul>
</section>
<section id="id660">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id660" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest doÅ‚Ä…czany przez wiÄ™kszoÅ›Ä‡ plikÃ³w nagÅ‚Ã³wkowych w module <code class="docutils literal notranslate"><span class="pre">net</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="inputmessage-h">
<h1>ğŸ“„ inputmessage.h<a class="headerlink" href="#inputmessage-h" title="Link to this heading">#</a></h1>
</section>
<section id="id661">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id661" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">inputmessage.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code>, ktÃ³ra jest narzÄ™dziem do parsowania przychodzÄ…cych pakietÃ³w sieciowych.</p>
</section>
<section id="klasa-inputmessage">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code><a class="headerlink" href="#klasa-inputmessage" title="Link to this heading">#</a></h1>
</section>
<section id="id662">
<h1>Opis semantyczny<a class="headerlink" href="#id662" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">InputMessage</span></code> dziaÅ‚a jak bufor z wskaÅºnikiem odczytu. Przechowuje surowe dane pakietu i udostÄ™pnia metody do sekwencyjnego odczytywania z niego rÃ³Å¼nych typÃ³w danych (np. <code class="docutils literal notranslate"><span class="pre">getU8</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16</span></code>, <code class="docutils literal notranslate"><span class="pre">getString</span></code>). ZarzÄ…dza rÃ³wnieÅ¼ pozycjÄ… nagÅ‚Ã³wka, co pozwala na oddzielenie metadanych pakietu (rozmiar, suma kontrolna) od jego wÅ‚aÅ›ciwej zawartoÅ›ci (ciaÅ‚a).</p>
</section>
<section id="id663">
<h1>StaÅ‚e<a class="headerlink" href="#id663" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BUFFER_MAXSIZE</span></code>: Maksymalny rozmiar bufora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_HEADER_SIZE</span></code>: Maksymalny rozmiar nagÅ‚Ã³wka (rezerwowane miejsce na poczÄ…tku bufora).</p></li>
</ul>
</section>
<section id="id664">
<h1>Metody publiczne<a class="headerlink" href="#id664" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setBuffer(...)</span></code></p></td>
<td class="text-left"><p>Kopiuje dane z <code class="docutils literal notranslate"><span class="pre">std::string</span></code> do wewnÄ™trznego bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBuffer()</span></code></p></td>
<td class="text-left"><p>Zwraca caÅ‚y pakiet (nagÅ‚Ã³wek + ciaÅ‚o) jako <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBodyBuffer()</span></code></p></td>
<td class="text-left"><p>Zwraca tylko ciaÅ‚o pakietu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">skipBytes(uint32</span> <span class="pre">bytes)</span></code></p></td>
<td class="text-left"><p>Przesuwa wskaÅºnik odczytu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getU8()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU32()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU64()</span></code></p></td>
<td class="text-left"><p>OdczytujÄ… liczby caÅ‚kowite bez znaku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getString()</span></code></p></td>
<td class="text-left"><p>Odczytuje string (poprzedzony dÅ‚ugoÅ›ciÄ… U16).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getDouble()</span></code></p></td>
<td class="text-left"><p>Odczytuje liczbÄ™ zmiennoprzecinkowÄ… w niestandardowym formacie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">peekU8()</span></code>, â€¦</p></td>
<td class="text-left"><p>OdczytujÄ… wartoÅ›Ä‡ bez przesuwania wskaÅºnika.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">decryptRsa(...)</span></code></p></td>
<td class="text-left"><p>Deszyfruje fragment bufora za pomocÄ… RSA.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getHeaderSize()</span></code>, <code class="docutils literal notranslate"><span class="pre">getMessageSize()</span></code>, <code class="docutils literal notranslate"><span class="pre">getUnreadSize()</span></code></p></td>
<td class="text-left"><p>ZwracajÄ… informacje o rozmiarach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">eof()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li wszystkie dane zostaÅ‚y odczytane.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-chronione-uzywane-przez-protocol">
<h1>Metody chronione (uÅ¼ywane przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>)<a class="headerlink" href="#metody-chronione-uzywane-przez-protocol" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">reset()</span></code>: Resetuje stan wiadomoÅ›ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fillBuffer(...)</span></code>: Dopisuje dane do bufora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setHeaderSize(...)</span></code>: Ustawia rozmiar nagÅ‚Ã³wka.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">readChecksum()</span></code>: Odczytuje i weryfikuje sumÄ™ kontrolnÄ….</p></li>
</ul>
</section>
<section id="id665">
<h1>Zmienne prywatne<a class="headerlink" href="#id665" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_headerPos</span></code>: Pozycja startowa nagÅ‚Ã³wka.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_readPos</span></code>: Aktualna pozycja odczytu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_messageSize</span></code>: CaÅ‚kowity rozmiar wiadomoÅ›ci (bez nagÅ‚Ã³wka).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Bufor na dane.</p></li>
</ul>
</section>
<section id="id666">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id666" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, jest dostÄ™pna w Lua.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do parsowania danych otrzymanych z <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="outputmessage-cpp">
<h1>ğŸ“„ outputmessage.cpp<a class="headerlink" href="#outputmessage-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id667">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id667" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">outputmessage.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code>, ktÃ³ra sÅ‚uÅ¼y do budowania wychodzÄ…cych pakietÃ³w sieciowych.</p>
</section>
<section id="klasa-outputmessage">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code><a class="headerlink" href="#klasa-outputmessage" title="Link to this heading">#</a></h1>
</section>
<section id="outputmessage-outputmessage">
<h1><code class="docutils literal notranslate"><span class="pre">OutputMessage::OutputMessage()</span></code><a class="headerlink" href="#outputmessage-outputmessage" title="Link to this heading">#</a></h1>
<p>Konstruktor, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">reset()</span></code>.</p>
</section>
<section id="void-outputmessage-reset">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::reset()</span></code><a class="headerlink" href="#void-outputmessage-reset" title="Link to this heading">#</a></h1>
<p>Resetuje stan wiadomoÅ›ci, ustawiajÄ…c wskaÅºnik zapisu (<code class="docutils literal notranslate"><span class="pre">m_writePos</span></code>) i pozycjÄ™ nagÅ‚Ã³wka (<code class="docutils literal notranslate"><span class="pre">m_headerPos</span></code>) na poczÄ…tek obszaru na ciaÅ‚o wiadomoÅ›ci.</p>
</section>
<section id="void-outputmessage-setbuffer-const-std-string-buffer">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::setBuffer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code><a class="headerlink" href="#void-outputmessage-setbuffer-const-std-string-buffer" title="Link to this heading">#</a></h1>
<p>Kopiuje dane z <code class="docutils literal notranslate"><span class="pre">std::string</span></code> do bufora wiadomoÅ›ci.</p>
</section>
<section id="metody-add">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">add...()</span></code><a class="headerlink" href="#metody-add" title="Link to this heading">#</a></h1>
<p>SÅ‚uÅ¼Ä… do dodawania rÃ³Å¼nych typÃ³w danych na koniec wiadomoÅ›ci.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16</span></code>, <code class="docutils literal notranslate"><span class="pre">addU32</span></code>, <code class="docutils literal notranslate"><span class="pre">addU64</span></code>: DodajÄ… liczby caÅ‚kowite, konwertujÄ…c je do porzÄ…dku Little Endian.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addString</span></code>: Dodaje <code class="docutils literal notranslate"><span class="pre">std::string</span></code>, poprzedzajÄ…c go 2-bajtowÄ… dÅ‚ugoÅ›ciÄ….</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addRawString</span></code>: Dodaje <code class="docutils literal notranslate"><span class="pre">std::string</span></code> bez informacji o dÅ‚ugoÅ›ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addPaddingBytes</span></code>: Dodaje okreÅ›lonÄ… liczbÄ™ bajtÃ³w wypeÅ‚niajÄ…cych.</p></li>
<li><p>KaÅ¼da z tych metod wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">checkWrite</span></code> w celu sprawdzenia, czy jest wystarczajÄ…co miejsca w buforze.</p></li>
</ul>
</section>
<section id="void-outputmessage-encryptrsa">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::encryptRsa()</span></code><a class="headerlink" href="#void-outputmessage-encryptrsa" title="Link to this heading">#</a></h1>
<p>Szyfruje ostatnie <code class="docutils literal notranslate"><span class="pre">N</span></code> bajtÃ³w bufora za pomocÄ… klucza publicznego RSA, gdzie <code class="docutils literal notranslate"><span class="pre">N</span></code> to rozmiar klucza.</p>
</section>
<section id="metody-write">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">write...()</span></code><a class="headerlink" href="#metody-write" title="Link to this heading">#</a></h1>
<p>Metody te operujÄ… na zarezerwowanym miejscu na nagÅ‚Ã³wek (przed ciaÅ‚em wiadomoÅ›ci):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">writeChecksum()</span></code>: Oblicza sumÄ™ kontrolnÄ… Adler-32 dla ciaÅ‚a wiadomoÅ›ci i zapisuje jÄ… w nagÅ‚Ã³wku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">writeSequence()</span></code>: Zapisuje numer sekwencyjny pakietu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">writeMessageSize()</span></code>: Zapisuje caÅ‚kowity rozmiar ciaÅ‚a wiadomoÅ›ci w nagÅ‚Ã³wku.</p></li>
</ul>
</section>
<section id="void-outputmessage-checkwrite-int-bytes">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::checkWrite(int</span> <span class="pre">bytes)</span></code><a class="headerlink" href="#void-outputmessage-checkwrite-int-bytes" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy dodanie <code class="docutils literal notranslate"><span class="pre">bytes</span></code> bajtÃ³w nie przekroczy maksymalnego rozmiaru bufora. JeÅ›li tak, rzuca wyjÄ…tek.</p>
</section>
<section id="id668">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id668" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/outputmessage.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/crypt.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_crypt</span></code> do szyfrowania RSA i <code class="docutils literal notranslate"><span class="pre">stdext::adler32</span></code> do sum kontrolnych.</p></li>
<li><p>Jest tworzona przez kod logiki gry, wypeÅ‚niana danymi, a nastÄ™pnie przekazywana do <code class="docutils literal notranslate"><span class="pre">Protocol::send()</span></code> w celu wysÅ‚ania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="outputmessage-h">
<h1>ğŸ“„ outputmessage.h<a class="headerlink" href="#outputmessage-h" title="Link to this heading">#</a></h1>
</section>
<section id="id669">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id669" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">outputmessage.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code>, ktÃ³ra jest narzÄ™dziem do konstruowania wychodzÄ…cych pakietÃ³w sieciowych.</p>
</section>
<section id="id670">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code><a class="headerlink" href="#id670" title="Link to this heading">#</a></h1>
</section>
<section id="id671">
<h1>Opis semantyczny<a class="headerlink" href="#id671" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code> dziaÅ‚a jak bufor z wskaÅºnikiem zapisu. UdostÄ™pnia metody do dodawania rÃ³Å¼nych typÃ³w danych (<code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addString</span></code>, itp.), ktÃ³re sÄ… doÅ‚Ä…czane na koÅ„cu bufora. Posiada rÃ³wnieÅ¼ zarezerwowane miejsce na poczÄ…tku bufora na nagÅ‚Ã³wek, ktÃ³ry jest wypeÅ‚niany tuÅ¼ przed wysÅ‚aniem (np. rozmiarem wiadomoÅ›ci, sumÄ… kontrolnÄ…).</p>
</section>
<section id="id672">
<h1>StaÅ‚e<a class="headerlink" href="#id672" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BUFFER_MAXSIZE</span></code>: Maksymalny rozmiar bufora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_STRING_LENGTH</span></code>: Maksymalna dÅ‚ugoÅ›Ä‡ stringa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_HEADER_SIZE</span></code>: Rozmiar zarezerwowanego miejsca na nagÅ‚Ã³wek.</p></li>
</ul>
</section>
<section id="id673">
<h1>Metody publiczne<a class="headerlink" href="#id673" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">reset()</span></code></p></td>
<td class="text-left"><p>Resetuje wiadomoÅ›Ä‡ do stanu poczÄ…tkowego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setBuffer(...)</span></code></p></td>
<td class="text-left"><p>Ustawia zawartoÅ›Ä‡ ciaÅ‚a wiadomoÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBuffer()</span></code></p></td>
<td class="text-left"><p>Zwraca gotowy pakiet (nagÅ‚Ã³wek + ciaÅ‚o) jako <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addU8()</span></code>, â€¦, <code class="docutils literal notranslate"><span class="pre">addString()</span></code></p></td>
<td class="text-left"><p>DodajÄ… dane do ciaÅ‚a wiadomoÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">encryptRsa()</span></code></p></td>
<td class="text-left"><p>Szyfruje czÄ™Å›Ä‡ wiadomoÅ›ci za pomocÄ… RSA.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getWritePos()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualnÄ… pozycjÄ™ zapisu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMessageSize()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny rozmiar ciaÅ‚a wiadomoÅ›ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setWritePos(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">setMessageSize(...)</span></code></p></td>
<td class="text-left"><p>UstawiajÄ… pozycjÄ™ zapisu i rozmiar.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id674">
<h1>Metody chronione (uÅ¼ywane przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>)<a class="headerlink" href="#id674" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">getHeaderBuffer()</span></code>: Zwraca wskaÅºnik na poczÄ…tek gotowego pakietu (poczÄ…tek nagÅ‚Ã³wka).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">writeChecksum()</span></code>, <code class="docutils literal notranslate"><span class="pre">writeSequence()</span></code>, <code class="docutils literal notranslate"><span class="pre">writeMessageSize()</span></code>: WypeÅ‚niajÄ… nagÅ‚Ã³rek odpowiednimi metadanymi.</p></li>
</ul>
</section>
<section id="id675">
<h1>Zmienne prywatne<a class="headerlink" href="#id675" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_headerPos</span></code>: Aktualna pozycja poczÄ…tku nagÅ‚Ã³wka.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_writePos</span></code>: Aktualna pozycja zapisu w ciele wiadomoÅ›ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_messageSize</span></code>: Rozmiar caÅ‚ego pakietu (nagÅ‚Ã³wek + ciaÅ‚o).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Bufor na dane.</p></li>
</ul>
</section>
<section id="id676">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id676" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, jest dostÄ™pna w Lua do tworzenia pakietÃ³w.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do przygotowania pakietÃ³w do wysÅ‚ania przez <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="packet-player-cpp">
<h1>ğŸ“„ packet_player.cpp<a class="headerlink" href="#packet-player-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id677">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id677" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packet_player.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code>, ktÃ³ra umoÅ¼liwia odtwarzanie wczeÅ›niej nagranych sesji sieciowych. Jest to narzÄ™dzie do debugowania i testowania.</p>
</section>
<section id="klasa-packetplayer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code><a class="headerlink" href="#klasa-packetplayer" title="Link to this heading">#</a></h1>
</section>
<section id="packetplayer-packetplayer-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">PacketPlayer::PacketPlayer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#packetplayer-packetplayer-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Konstruktor.</p>
<ul class="simple">
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ol class="arabic simple">
<li><p>Otwiera plik nagrania z katalogu <code class="docutils literal notranslate"><span class="pre">records/</span></code>.</p></li>
<li><p>Czyta plik linia po linii.</p></li>
<li><p>KaÅ¼da linia zawiera typ pakietu (<code class="docutils literal notranslate"><span class="pre">&lt;</span></code> dla przychodzÄ…cego, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> dla wychodzÄ…cego), sygnaturÄ™ czasowÄ… i dane pakietu w formacie heksadecymalnym.</p></li>
<li><p>Dekoduje dane heksadecymalne do postaci binarnej i zapisuje pakiety w odpowiednich kolejkach (<code class="docutils literal notranslate"><span class="pre">m_input</span></code> lub <code class="docutils literal notranslate"><span class="pre">m_output</span></code>).</p></li>
</ol>
</li>
</ul>
</section>
<section id="packetplayer-packetplayer">
<h1><code class="docutils literal notranslate"><span class="pre">PacketPlayer::~PacketPlayer()</span></code><a class="headerlink" href="#packetplayer-packetplayer" title="Link to this heading">#</a></h1>
<p>Destruktor. Anuluje zaplanowane zdarzenie (<code class="docutils literal notranslate"><span class="pre">m_event</span></code>), jeÅ›li istnieje.</p>
</section>
<section id="void-packetplayer-start">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::start(...)</span></code><a class="headerlink" href="#void-packetplayer-start" title="Link to this heading">#</a></h1>
<p>Rozpoczyna odtwarzanie.</p>
<ul class="simple">
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ol class="arabic simple">
<li><p>Zapisuje czas startu (<code class="docutils literal notranslate"><span class="pre">m_start</span></code>).</p></li>
<li><p>Zapisuje callbacki do obsÅ‚ugi â€œotrzymanychâ€ pakietÃ³w i zdarzenia rozÅ‚Ä…czenia.</p></li>
<li><p>Planuje pierwsze wywoÅ‚anie metody <code class="docutils literal notranslate"><span class="pre">process()</span></code> za 50ms.</p></li>
</ol>
</li>
</ul>
</section>
<section id="void-packetplayer-stop">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::stop()</span></code><a class="headerlink" href="#void-packetplayer-stop" title="Link to this heading">#</a></h1>
<p>Zatrzymuje odtwarzanie, anulujÄ…c zdarzenie.</p>
</section>
<section id="void-packetplayer-onoutputpacket-const-outputmessageptr-packet">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::onOutputPacket(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">packet)</span></code><a class="headerlink" href="#void-packetplayer-onoutputpacket-const-outputmessageptr-packet" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, gdy prÃ³buje on wysÅ‚aÄ‡ pakiet. W trybie odtwarzania, pakiety wychodzÄ…ce sÄ… analizowane (np. w celu wykrycia wylogowania), ale nie sÄ… nigdzie wysyÅ‚ane.</p>
</section>
<section id="void-packetplayer-process">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::process()</span></code><a class="headerlink" href="#void-packetplayer-process" title="Link to this heading">#</a></h1>
</section>
<section id="id678">
<h1>Opis semantyczny<a class="headerlink" href="#id678" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda pÄ™tli odtwarzacza.</p>
</section>
<section id="id679">
<h1>DziaÅ‚anie<a class="headerlink" href="#id679" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Iteruje po kolejce pakietÃ³w przychodzÄ…cych (<code class="docutils literal notranslate"><span class="pre">m_input</span></code>).</p></li>
<li><p>Sprawdza sygnaturÄ™ czasowÄ… kaÅ¼dego pakietu. JeÅ›li czas odtworzenia pakietu (<code class="docutils literal notranslate"><span class="pre">packet.first</span> <span class="pre">+</span> <span class="pre">m_start</span></code>) juÅ¼ minÄ…Å‚, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code> z danymi pakietu i usuwa go z kolejki.</p></li>
<li><p>JeÅ›li kolejka nie jest pusta, planuje swoje nastÄ™pne wywoÅ‚anie z opÃ³Åºnieniem rÃ³wnym rÃ³Å¼nicy czasu do nastÄ™pnego pakietu.</p></li>
<li><p>JeÅ›li kolejka jest pusta, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">m_disconnectCallback</span></code>, symulujÄ…c koniec sesji.</p></li>
</ol>
</section>
<section id="id680">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id680" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/packet_player.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>, <code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code>: Do zarzÄ…dzania czasem i planowania zdarzeÅ„.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/hex.hpp</span></code>: Do dekodowania danych z formatu heksadecymalnego.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> w trybie odtwarzania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="packet-player-h">
<h1>ğŸ“„ packet_player.h<a class="headerlink" href="#packet-player-h" title="Link to this heading">#</a></h1>
</section>
<section id="id681">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id681" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packet_player.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code>, ktÃ³ra sÅ‚uÅ¼y do odtwarzania nagranych sesji sieciowych z plikÃ³w.</p>
</section>
<section id="id682">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code><a class="headerlink" href="#id682" title="Link to this heading">#</a></h1>
</section>
<section id="id683">
<h1>Opis semantyczny<a class="headerlink" href="#id683" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code> odczytuje plik z zarejestrowanymi pakietami i ich sygnaturami czasowymi. Po uruchomieniu, symuluje przychodzÄ…ce pakiety sieciowe, wywoÅ‚ujÄ…c <code class="docutils literal notranslate"><span class="pre">callback</span></code> w odpowiednich odstÄ™pach czasu, zgodnie z nagraniem. Pozwala to na debugowanie i testowanie logiki klienta bez potrzeby Å‚Ä…czenia siÄ™ z serwerem. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p>
</section>
<section id="id684">
<h1>Metody publiczne<a class="headerlink" href="#id684" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">PacketPlayer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Konstruktor, Å‚aduje nagranie z pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~PacketPlayer()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">start(...)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna odtwarzanie sesji. Przyjmuje callbacki na otrzymanie pakietu i na rozÅ‚Ä…czenie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">stop()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje odtwarzanie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">onOutputPacket(...)</span></code></p></td>
<td class="text-left"><p>Przechwytuje pakiety, ktÃ³re normalnie byÅ‚yby wysÅ‚ane, w celu symulacji (np. wykrycia wylogowania).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id685">
<h1>Zmienne prywatne<a class="headerlink" href="#id685" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_start</span></code>: Czas rozpoczÄ™cia odtwarzania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_event</span></code>: WskaÅºnik na zaplanowane zdarzenie do przetwarzania pakietÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_input</span></code>, <code class="docutils literal notranslate"><span class="pre">m_output</span></code>: Kolejki (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) przechowujÄ…ce pary (czas, dane pakietu) dla pakietÃ³w przychodzÄ…cych i wychodzÄ…cych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code>: <code class="docutils literal notranslate"><span class="pre">Callback</span></code> wywoÅ‚ywany z danymi â€œotrzymanegoâ€ pakietu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_disconnectCallback</span></code>: <code class="docutils literal notranslate"><span class="pre">Callback</span></code> wywoÅ‚ywany na koniec sesji.</p></li>
</ul>
</section>
<section id="id686">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id686" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do planowania zdarzeÅ„.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/outputmessage.h</span></code>: Do analizy pakietÃ³w wychodzÄ…cych.</p></li>
<li><p>Jest tworzona i uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> w trybie odtwarzania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="protocol-h">
<h1>ğŸ“„ protocol.h<a class="headerlink" href="#protocol-h" title="Link to this heading">#</a></h1>
</section>
<section id="id687">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id687" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">protocol.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, ktÃ³ra jest klasÄ… bazowÄ… do implementacji protokoÅ‚Ã³w komunikacji sieciowej.</p>
</section>
<section id="klasa-protocol">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Protocol</span></code><a class="headerlink" href="#klasa-protocol" title="Link to this heading">#</a></h1>
</section>
<section id="id688">
<h1>Opis semantyczny<a class="headerlink" href="#id688" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Protocol</span></code> jest abstrakcjÄ… wysokiego poziomu, ktÃ³ra zarzÄ…dza poÅ‚Ä…czeniem (<code class="docutils literal notranslate"><span class="pre">Connection</span></code>) i implementuje logikÄ™ specyficznÄ… dla danego protokoÅ‚u, takÄ… jak szyfrowanie XTEA, obsÅ‚uga sum kontrolnych, kompresja i sekwencjonowanie pakietÃ³w. Przetwarza surowe dane z <code class="docutils literal notranslate"><span class="pre">Connection</span></code> na obiekty <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code> i przygotowuje <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code> do wysÅ‚ania. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co pozwala na tworzenie implementacji protokoÅ‚Ã³w w Lua.</p>
</section>
<section id="id689">
<h1>Metody publiczne<a class="headerlink" href="#id689" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">connect(...)</span></code></p></td>
<td class="text-left"><p>NawiÄ…zuje poÅ‚Ä…czenie z serwerem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">disconnect()</span></code></p></td>
<td class="text-left"><p>Zamyka poÅ‚Ä…czenie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setRecorder(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">playRecord(...)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza tryb nagrywania lub odtwarzania sesji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isConnected()</span></code> / <code class="docutils literal notranslate"><span class="pre">isConnecting()</span></code></p></td>
<td class="text-left"><p>ZwracajÄ… stan poÅ‚Ä…czenia.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConnectionPtr</span> <span class="pre">getConnection()</span></code></p></td>
<td class="text-left"><p>Zwraca obiekt <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Konfiguracja protokoÅ‚u</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">generateXteaKey()</span></code>, <code class="docutils literal notranslate"><span class="pre">setXteaKey(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">enableXteaEncryption()</span></code></p></td>
<td class="text-left"><p>ZarzÄ…dzajÄ… szyfrowaniem XTEA.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">enableChecksum()</span></code>, <code class="docutils literal notranslate"><span class="pre">enabledSequencedPackets()</span></code>, <code class="docutils literal notranslate"><span class="pre">enableBigPackets()</span></code>, <code class="docutils literal notranslate"><span class="pre">enableCompression()</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…czajÄ… rÃ³Å¼ne cechy protokoÅ‚u.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Operacje I/O</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">send(...)</span></code></p></td>
<td class="text-left"><p>WysyÅ‚a <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code>, opcjonalnie szyfrujÄ…c i dodajÄ…c nagÅ‚Ã³wki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">recv()</span></code></p></td>
<td class="text-left"><p>Inicjuje proces odbierania nastÄ™pnego pakietu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id690">
<h1>Metody chronione<a class="headerlink" href="#id690" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">onConnect()</span></code>: Wirtualna metoda wywoÅ‚ywana po nawiÄ…zaniu poÅ‚Ä…czenia. DomyÅ›lnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">onConnect</span></code> w Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onRecv(...)</span></code>: Wirtualna metoda wywoÅ‚ywana po otrzymaniu i zdeserializowaniu peÅ‚nego pakietu. DomyÅ›lnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">onRecv</span></code> w Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onError(...)</span></code>: Wirtualna metoda wywoÅ‚ywana w przypadku bÅ‚Ä™du sieciowego.</p></li>
</ul>
</section>
<section id="zmienne">
<h1>Zmienne<a class="headerlink" href="#zmienne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_xteaKey</span></code>: Klucz XTEA.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_packetNumber</span></code>: Licznik dla pakietÃ³w sekwencyjnych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_player</span></code>, <code class="docutils literal notranslate"><span class="pre">m_recorder</span></code>: WskaÅºniki na obiekty do odtwarzania/nagrywania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_checksumEnabled</span></code>, <code class="docutils literal notranslate"><span class="pre">m_xteaEncryptionEnabled</span></code>, â€¦: Flagi konfiguracji protokoÅ‚u.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_connection</span></code>: WskaÅºnik na obiekt <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_inputMessage</span></code>: Bufor na przychodzÄ…ce dane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_zstream</span></code>: StrumieÅ„ ZLIB do dekompresji.</p></li>
</ul>
</section>
<section id="id691">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id691" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">inputmessage.h</span></code>, <code class="docutils literal notranslate"><span class="pre">outputmessage.h</span></code>, <code class="docutils literal notranslate"><span class="pre">connection.h</span></code>: Podstawowe klasy sieciowe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy.h</span></code>: Do integracji z systemem proxy.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, jest kluczowym elementem do implementacji logiki sieciowej w Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="packet-recorder-cpp">
<h1>ğŸ“„ packet_recorder.cpp<a class="headerlink" href="#packet-recorder-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id692">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id692" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packet_recorder.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code>, ktÃ³ra sÅ‚uÅ¼y do nagrywania sesji sieciowej do pliku tekstowego.</p>
</section>
<section id="klasa-packetrecorder">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code><a class="headerlink" href="#klasa-packetrecorder" title="Link to this heading">#</a></h1>
</section>
<section id="packetrecorder-packetrecorder-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">PacketRecorder::PacketRecorder(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#packetrecorder-packetrecorder-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Konstruktor.</p>
<ul class="simple">
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ol class="arabic simple">
<li><p>Zapisuje czas startu nagrywania (<code class="docutils literal notranslate"><span class="pre">m_start</span></code>).</p></li>
<li><p>Tworzy katalog <code class="docutils literal notranslate"><span class="pre">records/</span></code>, jeÅ›li nie istnieje.</p></li>
<li><p>Otwiera plik o podanej nazwie w tym katalogu do zapisu.</p></li>
</ol>
</li>
</ul>
</section>
<section id="void-packetrecorder-addinputpacket-const-inputmessageptr-packet">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketRecorder::addInputPacket(const</span> <span class="pre">InputMessagePtr&amp;</span> <span class="pre">packet)</span></code><a class="headerlink" href="#void-packetrecorder-addinputpacket-const-inputmessageptr-packet" title="Link to this heading">#</a></h1>
<p>Nagrywa pakiet przychodzÄ…cy.</p>
<ul class="simple">
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ol class="arabic simple">
<li><p>Zapisuje do pliku znacznik <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>.</p></li>
<li><p>Zapisuje rÃ³Å¼nicÄ™ czasu od startu nagrywania.</p></li>
<li><p>Zapisuje zawartoÅ›Ä‡ ciaÅ‚a pakietu w formacie heksadecymalnym.</p></li>
<li><p>Dodaje znak nowej linii.</p></li>
</ol>
</li>
</ul>
</section>
<section id="void-packetrecorder-addoutputpacket-const-outputmessageptr-packet">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketRecorder::addOutputPacket(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">packet)</span></code><a class="headerlink" href="#void-packetrecorder-addoutputpacket-const-outputmessageptr-packet" title="Link to this heading">#</a></h1>
<p>Nagrywa pakiet wychodzÄ…cy.</p>
<ul class="simple">
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ol class="arabic simple">
<li><p>Ignoruje pierwszy pakiet wychodzÄ…cy (ktÃ³ry zazwyczaj zawiera login i hasÅ‚o), aby nie zapisywaÄ‡ wraÅ¼liwych danych.</p></li>
<li><p>Zapisuje do pliku znacznik <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>.</p></li>
<li><p>Zapisuje rÃ³Å¼nicÄ™ czasu.</p></li>
<li><p>Zapisuje caÅ‚Ä… zawartoÅ›Ä‡ pakietu (wraz z nagÅ‚Ã³wkiem) w formacie heksadecymalnym.</p></li>
<li><p>Dodaje znak nowej linii.</p></li>
</ol>
</li>
</ul>
</section>
<section id="id693">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id693" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/packet_recorder.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>, <code class="docutils literal notranslate"><span class="pre">resourcemanager.h</span></code>: Do zarzÄ…dzania czasem i plikami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/hex.hpp</span></code>: Do konwersji danych binarnych na format heksadecymalny.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, gdy wÅ‚Ä…czony jest tryb nagrywania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="protocol-cpp">
<h1>ğŸ“„ protocol.cpp<a class="headerlink" href="#protocol-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id694">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id694" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">protocol.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, ktÃ³ra stanowi bazÄ™ dla protokoÅ‚Ã³w komunikacyjnych. Implementuje ona logikÄ™ niskiego poziomu, takÄ… jak szyfrowanie, sumy kontrolne i kompresjÄ™, delegujÄ…c obsÅ‚ugÄ™ samych pakietÃ³w do skryptÃ³w Lua.</p>
</section>
<section id="id695">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Protocol</span></code><a class="headerlink" href="#id695" title="Link to this heading">#</a></h1>
</section>
<section id="protocol-protocol">
<h1><code class="docutils literal notranslate"><span class="pre">Protocol::Protocol()</span></code><a class="headerlink" href="#protocol-protocol" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domyÅ›lne flagi protokoÅ‚u na <code class="docutils literal notranslate"><span class="pre">false</span></code> i przygotowuje strumieÅ„ ZLIB do dekompresji.</p>
</section>
<section id="void-protocol-connect-const-std-string-host-uint16-port">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::connect(const</span> <span class="pre">std::string&amp;</span> <span class="pre">host,</span> <span class="pre">uint16</span> <span class="pre">port)</span></code><a class="headerlink" href="#void-protocol-connect-const-std-string-host-uint16-port" title="Link to this heading">#</a></h1>
<p>Rozpoczyna poÅ‚Ä…czenie. JeÅ›li <code class="docutils literal notranslate"><span class="pre">host</span></code> to â€œproxyâ€ lub inny specjalny adres, uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_proxy</span></code>. W przeciwnym razie tworzy nowy <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p>
</section>
<section id="void-protocol-disconnect">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::disconnect()</span></code><a class="headerlink" href="#void-protocol-disconnect" title="Link to this heading">#</a></h1>
<p>Zamyka poÅ‚Ä…czenie, zwalniajÄ…c <code class="docutils literal notranslate"><span class="pre">Connection</span></code> lub sesjÄ™ proxy.</p>
</section>
<section id="void-protocol-send-const-outputmessageptr-outputmessage-bool-rawpacket">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::send(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">outputMessage,</span> <span class="pre">bool</span> <span class="pre">rawPacket)</span></code><a class="headerlink" href="#void-protocol-send-const-outputmessageptr-outputmessage-bool-rawpacket" title="Link to this heading">#</a></h1>
</section>
<section id="id696">
<h1>Opis semantyczny<a class="headerlink" href="#id696" title="Link to this heading">#</a></h1>
<p>Przygotowuje i wysyÅ‚a pakiet.</p>
</section>
<section id="id697">
<h1>DziaÅ‚anie<a class="headerlink" href="#id697" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>JeÅ›li wÅ‚Ä…czone jest nagrywanie, zapisuje pakiet.</p></li>
<li><p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">rawPacket</span></code> jest <code class="docutils literal notranslate"><span class="pre">false</span></code>:</p>
<ul class="simple">
<li><p>Szyfruje pakiet za pomocÄ… XTEA, jeÅ›li wÅ‚Ä…czone.</p></li>
<li><p>Dodaje sumÄ™ kontrolnÄ… lub numer sekwencyjny.</p></li>
<li><p>Dodaje rozmiar pakietu na poczÄ…tku.</p></li>
</ul>
</li>
<li><p>WysyÅ‚a gotowy pakiet przez <code class="docutils literal notranslate"><span class="pre">Connection</span></code> lub <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
<li><p>Resetuje <code class="docutils literal notranslate"><span class="pre">outputMessage</span></code>, aby mÃ³gÅ‚ byÄ‡ ponownie uÅ¼yty.</p></li>
</ol>
</section>
<section id="void-protocol-recv">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::recv()</span></code><a class="headerlink" href="#void-protocol-recv" title="Link to this heading">#</a></h1>
<p>Rozpoczyna proces odbierania nowego pakietu, instruujÄ…c <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, aby najpierw odczytaÅ‚ nagÅ‚Ã³wek o odpowiedniej dÅ‚ugoÅ›ci.</p>
</section>
<section id="void-protocol-internalrecvheader-i-internalrecvdata">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::internalRecvHeader(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">internalRecvData(...)</span></code><a class="headerlink" href="#void-protocol-internalrecvheader-i-internalrecvdata" title="Link to this heading">#</a></h1>
<p>Handlery wywoÅ‚ywane przez <code class="docutils literal notranslate"><span class="pre">Connection</span></code>. <code class="docutils literal notranslate"><span class="pre">internalRecvHeader</span></code> odczytuje rozmiar ciaÅ‚a pakietu, a <code class="docutils literal notranslate"><span class="pre">internalRecvData</span></code> odczytuje resztÄ™ danych. <code class="docutils literal notranslate"><span class="pre">internalRecvData</span></code> nastÄ™pnie wykonuje deszyfrowanie, weryfikacjÄ™ sumy kontrolnej i dekompresjÄ™, a na koÅ„cu wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">onRecv</span></code> z gotowym <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code>.</p>
</section>
<section id="void-protocol-generatexteakey-i-setxteakey">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::generateXteaKey()</span></code> i <code class="docutils literal notranslate"><span class="pre">setXteaKey(...)</span></code><a class="headerlink" href="#void-protocol-generatexteakey-i-setxteakey" title="Link to this heading">#</a></h1>
<p>Metody do zarzÄ…dzania kluczem szyfrowania XTEA.</p>
</section>
<section id="bool-protocol-xteadecrypt-i-void-protocol-xteaencrypt">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Protocol::xteaDecrypt(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::xteaEncrypt(...)</span></code><a class="headerlink" href="#bool-protocol-xteadecrypt-i-void-protocol-xteaencrypt" title="Link to this heading">#</a></h1>
<p>Implementacje algorytmu XTEA do szyfrowania i deszyfrowania buforÃ³w wiadomoÅ›ci.</p>
</section>
<section id="void-protocol-onconnect-onrecv-onerror">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::onConnect()</span></code>, <code class="docutils literal notranslate"><span class="pre">onRecv(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">onError(...)</span></code><a class="headerlink" href="#void-protocol-onconnect-onrecv-onerror" title="Link to this heading">#</a></h1>
<p>Metody wirtualne, ktÃ³re domyÅ›lnie wywoÅ‚ujÄ… odpowiednie funkcje w Lua (<code class="docutils literal notranslate"><span class="pre">onConnect</span></code>, <code class="docutils literal notranslate"><span class="pre">onRecv</span></code>, <code class="docutils literal notranslate"><span class="pre">onError</span></code>), przekazujÄ…c im kontrolÄ™ nad logikÄ… protokoÅ‚u.</p>
</section>
<section id="id698">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id698" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/protocol.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/connection.h</span></code>, <code class="docutils literal notranslate"><span class="pre">packet_player.h</span></code>, <code class="docutils literal notranslate"><span class="pre">packet_recorder.h</span></code>: Komponenty sieciowe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy.h</span></code>: Do integracji z proxy.</p></li>
<li><p><strong>ZLIB</strong>: Do kompresji/dekompresji.</p></li>
<li><p>Jest to kluczowa klasa, ktÃ³ra jest dziedziczona (w Lua) w celu zaimplementowania konkretnego protokoÅ‚u gry.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="server-cpp">
<h1>ğŸ“„ server.cpp<a class="headerlink" href="#server-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id699">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id699" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">server.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Server</span></code>, ktÃ³ra umoÅ¼liwia tworzenie prostych serwerÃ³w TCP nasÅ‚uchujÄ…cych na przychodzÄ…ce poÅ‚Ä…czenia.</p>
</section>
<section id="id700">
<h1>Zmienne globalne<a class="headerlink" href="#id700" title="Link to this heading">#</a></h1>
</section>
<section id="g-ioservice">
<h1><code class="docutils literal notranslate"><span class="pre">g_ioService</span></code><a class="headerlink" href="#g-ioservice" title="Link to this heading">#</a></h1>
<p>Globalny <code class="docutils literal notranslate"><span class="pre">io_service</span></code> z Boost.Asio, uÅ¼ywany rÃ³wnieÅ¼ przez <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, na ktÃ³rym dziaÅ‚a akceptor serwera.</p>
</section>
<section id="id701">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Server</span></code><a class="headerlink" href="#id701" title="Link to this heading">#</a></h1>
</section>
<section id="server-server-int-port">
<h1><code class="docutils literal notranslate"><span class="pre">Server::Server(int</span> <span class="pre">port)</span></code><a class="headerlink" href="#server-server-int-port" title="Link to this heading">#</a></h1>
<p>Konstruktor. Tworzy i otwiera obiekt <code class="docutils literal notranslate"><span class="pre">boost::asio::ip::tcp::acceptor</span></code>, bindowanie go do wszystkich interfejsÃ³w (<code class="docutils literal notranslate"><span class="pre">tcp::v4()</span></code>) na podanym porcie.</p>
</section>
<section id="serverptr-server-create-int-port">
<h1><code class="docutils literal notranslate"><span class="pre">ServerPtr</span> <span class="pre">Server::create(int</span> <span class="pre">port)</span></code><a class="headerlink" href="#serverptr-server-create-int-port" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">Server</span></code>, opakowujÄ…c go w <code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code>. ObsÅ‚uguje wyjÄ…tki, ktÃ³re mogÄ… wystÄ…piÄ‡, jeÅ›li port jest juÅ¼ zajÄ™ty.</p>
</section>
<section id="void-server-close">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Server::close()</span></code><a class="headerlink" href="#void-server-close" title="Link to this heading">#</a></h1>
<p>Zamyka serwer. Anuluje wszystkie oczekujÄ…ce operacje akceptowania i zamyka akceptor.</p>
</section>
<section id="void-server-acceptnext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Server::acceptNext()</span></code><a class="headerlink" href="#void-server-acceptnext" title="Link to this heading">#</a></h1>
</section>
<section id="id702">
<h1>Opis semantyczny<a class="headerlink" href="#id702" title="Link to this heading">#</a></h1>
<p>Rozpoczyna asynchroniczne oczekiwanie na nowe poÅ‚Ä…czenie.</p>
</section>
<section id="id703">
<h1>DziaÅ‚anie<a class="headerlink" href="#id703" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzy nowy, pusty obiekt <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">m_acceptor.async_accept</span></code>, przekazujÄ…c jej gniazdo nowego <code class="docutils literal notranslate"><span class="pre">Connection</span></code> oraz <code class="docutils literal notranslate"><span class="pre">callback</span></code> (lambdÄ™).</p></li>
<li><p>Gdy nowe poÅ‚Ä…czenie zostanie nawiÄ…zane, <code class="docutils literal notranslate"><span class="pre">callback</span></code> jest wywoÅ‚ywany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Callback</span></code> ustawia stan <code class="docutils literal notranslate"><span class="pre">Connection</span></code> na <code class="docutils literal notranslate"><span class="pre">connected</span></code> i wywoÅ‚uje funkcjÄ™ <code class="docutils literal notranslate"><span class="pre">onAccept</span></code> w skrypcie Lua, przekazujÄ…c jej nowy obiekt <code class="docutils literal notranslate"><span class="pre">Connection</span></code> oraz ewentualny kod bÅ‚Ä™du.</p></li>
</ol>
</section>
<section id="id704">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id704" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/server.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/connection.h</span></code>: Tworzy obiekty <code class="docutils literal notranslate"><span class="pre">Connection</span></code> dla nowych poÅ‚Ä…czeÅ„.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">tcp::acceptor</span></code>.</p></li>
<li><p>Jest przeznaczona do uÅ¼ytku w Lua, co pozwala na tworzenie np. prostych serwerÃ³w pomocniczych, serwerÃ³w proxy lub narzÄ™dzi deweloperskich.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="inputmessage-cpp">
<h1>ğŸ“„ inputmessage.cpp<a class="headerlink" href="#inputmessage-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id705">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id705" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">inputmessage.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code>, ktÃ³ra jest narzÄ™dziem do parsowania przychodzÄ…cych pakietÃ³w sieciowych.</p>
</section>
<section id="id706">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code><a class="headerlink" href="#id706" title="Link to this heading">#</a></h1>
</section>
<section id="inputmessage-inputmessage">
<h1><code class="docutils literal notranslate"><span class="pre">InputMessage::InputMessage()</span></code><a class="headerlink" href="#inputmessage-inputmessage" title="Link to this heading">#</a></h1>
<p>Konstruktor, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">reset()</span></code>.</p>
</section>
<section id="void-inputmessage-reset">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::reset()</span></code><a class="headerlink" href="#void-inputmessage-reset" title="Link to this heading">#</a></h1>
<p>Resetuje stan wiadomoÅ›ci do wartoÅ›ci poczÄ…tkowych, ustawiajÄ…c pozycjÄ™ odczytu i nagÅ‚Ã³wka na <code class="docutils literal notranslate"><span class="pre">MAX_HEADER_SIZE</span></code>.</p>
</section>
<section id="void-inputmessage-setbuffer-const-std-string-buffer">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::setBuffer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code><a class="headerlink" href="#void-inputmessage-setbuffer-const-std-string-buffer" title="Link to this heading">#</a></h1>
<p>Ustawia zawartoÅ›Ä‡ ciaÅ‚a wiadomoÅ›ci, kopiujÄ…c dane z <code class="docutils literal notranslate"><span class="pre">std::string</span></code> do wewnÄ™trznego bufora.</p>
</section>
<section id="metody-get">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">get...()</span></code><a class="headerlink" href="#metody-get" title="Link to this heading">#</a></h1>
<p>OdczytujÄ… dane z bufora, zaczynajÄ…c od bieÅ¼Ä…cej pozycji <code class="docutils literal notranslate"><span class="pre">m_readPos</span></code>.</p>
<ul class="simple">
<li><p>KaÅ¼da metoda najpierw wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">checkRead</span></code>, aby upewniÄ‡ siÄ™, Å¼e jest wystarczajÄ…co duÅ¼o danych do odczytania.</p></li>
<li><p>NastÄ™pnie odczytuje dane z bufora, konwertujÄ…c je z porzÄ…dku Little Endian, jeÅ›li to konieczne.</p></li>
<li><p>Na koniec przesuwa wskaÅºnik <code class="docutils literal notranslate"><span class="pre">m_readPos</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getString</span></code> najpierw odczytuje 2-bajtowÄ… dÅ‚ugoÅ›Ä‡, a potem sam string.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getDouble</span></code> odczytuje niestandardowy format liczby zmiennoprzecinkowej.</p></li>
</ul>
</section>
<section id="bool-inputmessage-decryptrsa-int-size">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">InputMessage::decryptRsa(int</span> <span class="pre">size)</span></code><a class="headerlink" href="#bool-inputmessage-decryptrsa-int-size" title="Link to this heading">#</a></h1>
<p>Deszyfruje <code class="docutils literal notranslate"><span class="pre">size</span></code> bajtÃ³w z bieÅ¼Ä…cej pozycji za pomocÄ… klucza prywatnego RSA. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li pierwszy zdeszyfrowany bajt to 0.</p>
</section>
<section id="void-inputmessage-fillbuffer">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::fillBuffer(...)</span></code><a class="headerlink" href="#void-inputmessage-fillbuffer" title="Link to this heading">#</a></h1>
<p>Dopisuje surowe dane do bufora w bieÅ¼Ä…cej pozycji odczytu (uÅ¼ywane przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> podczas odbierania danych z gniazda).</p>
</section>
<section id="void-inputmessage-setheadersize-uint32-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::setHeaderSize(uint32</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-inputmessage-setheadersize-uint32-size" title="Link to this heading">#</a></h1>
<p>Ustawia pozycjÄ™ poczÄ…tku nagÅ‚Ã³wka (<code class="docutils literal notranslate"><span class="pre">m_headerPos</span></code>), co efektywnie okreÅ›la jego rozmiar.</p>
</section>
<section id="bool-inputmessage-readchecksum">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">InputMessage::readChecksum()</span></code><a class="headerlink" href="#bool-inputmessage-readchecksum" title="Link to this heading">#</a></h1>
<p>Odczytuje 4-bajtowÄ… sumÄ™ kontrolnÄ… z bufora, oblicza sumÄ™ kontrolnÄ… Adler-32 dla reszty danych i porÃ³wnuje je.</p>
</section>
<section id="void-inputmessage-checkread-int-bytes">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::checkRead(int</span> <span class="pre">bytes)</span></code><a class="headerlink" href="#void-inputmessage-checkread-int-bytes" title="Link to this heading">#</a></h1>
<p>Prywatna metoda, ktÃ³ra rzuca wyjÄ…tek, jeÅ›li prÃ³ba odczytu <code class="docutils literal notranslate"><span class="pre">bytes</span></code> bajtÃ³w wykroczyÅ‚aby poza granice wiadomoÅ›ci.</p>
</section>
<section id="id707">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id707" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/inputmessage.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/crypt.h</span></code>: Do deszyfracji RSA.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">client/map.h</span></code>: Potencjalna zaleÅ¼noÅ›Ä‡, byÄ‡ moÅ¼e z starszej wersji.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do reprezentowania i parsowania przychodzÄ…cych pakietÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="packet-recorder-h">
<h1>ğŸ“„ packet_recorder.h<a class="headerlink" href="#packet-recorder-h" title="Link to this heading">#</a></h1>
</section>
<section id="id708">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id708" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packet_recorder.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code>, ktÃ³ra sÅ‚uÅ¼y do nagrywania sesji sieciowej do pliku tekstowego w celu pÃ³Åºniejszej analizy lub odtworzenia.</p>
</section>
<section id="id709">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code><a class="headerlink" href="#id709" title="Link to this heading">#</a></h1>
</section>
<section id="id710">
<h1>Opis semantyczny<a class="headerlink" href="#id710" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code> przechwytuje pakiety przychodzÄ…ce (<code class="docutils literal notranslate"><span class="pre">InputMessage</span></code>) i wychodzÄ…ce (<code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code>) i zapisuje je w czytelnym formacie do pliku. KaÅ¼dy wpis zawiera znacznik kierunku (<code class="docutils literal notranslate"><span class="pre">&lt;</span></code> lub <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>), sygnaturÄ™ czasowÄ… i zawartoÅ›Ä‡ pakietu w postaci heksadecymalnej. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p>
</section>
<section id="id711">
<h1>Metody publiczne<a class="headerlink" href="#id711" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">PacketRecorder(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Konstruktor, otwiera plik do zapisu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~PacketRecorder()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addInputPacket(...)</span></code></p></td>
<td class="text-left"><p>Zapisuje pakiet przychodzÄ…cy do pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addOutputPacket(...)</span></code></p></td>
<td class="text-left"><p>Zapisuje pakiet wychodzÄ…cy do pliku.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id712">
<h1>Zmienne prywatne<a class="headerlink" href="#id712" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_start</span></code>: Czas rozpoczÄ™cia nagrywania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_stream</span></code>: StrumieÅ„ pliku do zapisu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_firstOutput</span></code>: Flaga uÅ¼ywana do pominiÄ™cia pierwszego pakietu wychodzÄ…cego (zwykle zawierajÄ…cego hasÅ‚o).</p></li>
</ul>
</section>
<section id="id713">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id713" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/inputmessage.h</span></code>, <code class="docutils literal notranslate"><span class="pre">outputmessage.h</span></code>: Przyjmuje obiekty tych typÃ³w do nagrania.</p></li>
<li><p>Jest tworzona i uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, gdy wÅ‚Ä…czony jest tryb nagrywania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="id714">
<h1>ğŸ“„ declarations.h<a class="headerlink" href="#id714" title="Link to this heading">#</a></h1>
</section>
<section id="id715">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id715" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">otml</span></code> sÅ‚uÅ¼y do wczesnych deklaracji (forward declarations) i definicji typÃ³w dla klas zwiÄ…zanych z parserem OTML.</p>
</section>
<section id="id716">
<h1>Wczesne deklaracje<a class="headerlink" href="#id716" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code></p></li>
</ul>
</section>
<section id="id717">
<h1>Definicje typÃ³w<a class="headerlink" href="#id717" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;OTMLNode&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;OTMLDocument&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLNodeList</span></code>: <code class="docutils literal notranslate"><span class="pre">std::vector&lt;OTMLNodePtr&gt;</span></code></p></li>
</ul>
</section>
<section id="id718">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id718" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest doÅ‚Ä…czany przez wszystkie pliki nagÅ‚Ã³wkowe w module <code class="docutils literal notranslate"><span class="pre">otml</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otmlparser-h">
<h1>ğŸ“„ otmlparser.h<a class="headerlink" href="#otmlparser-h" title="Link to this heading">#</a></h1>
</section>
<section id="id719">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id719" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlparser.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code>, ktÃ³ra jest odpowiedzialna za parsowanie dokumentÃ³w w formacie OTML (OTClient Markup Language).</p>
</section>
<section id="klasa-otmlparser">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code><a class="headerlink" href="#klasa-otmlparser" title="Link to this heading">#</a></h1>
</section>
<section id="id720">
<h1>Opis semantyczny<a class="headerlink" href="#id720" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code> odczytuje dane linia po linii ze strumienia wejÅ›ciowego, analizuje wciÄ™cia (ktÃ³re definiujÄ… hierarchiÄ™), a nastÄ™pnie parsuje tagi i wartoÅ›ci, budujÄ…c drzewo obiektÃ³w <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>.</p>
</section>
<section id="id721">
<h1>Metody publiczne<a class="headerlink" href="#id721" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLParser(OTMLDocumentPtr</span> <span class="pre">doc,</span> <span class="pre">std::istream&amp;</span> <span class="pre">in)</span></code>: Konstruktor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">parse()</span></code>: GÅ‚Ã³wna metoda rozpoczynajÄ…ca proces parsowania.</p></li>
</ul>
</section>
<section id="metody-prywatne">
<h1>Metody prywatne<a class="headerlink" href="#metody-prywatne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getNextLine()</span></code>: Odczytuje nastÄ™pnÄ… liniÄ™ ze strumienia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getLineDepth(...)</span></code>: Oblicza poziom zagnieÅ¼dÅ¼enia na podstawie liczby spacji na poczÄ…tku linii.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">parseLine(...)</span></code>: Przetwarza pojedynczÄ… liniÄ™ (sprawdza wciÄ™cia, komentarze, puste linie).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">parseNode(...)</span></code>: Parsuje tag i wartoÅ›Ä‡ z linii i tworzy nowy <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>.</p></li>
</ul>
</section>
<section id="id722">
<h1>Zmienne prywatne<a class="headerlink" href="#id722" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">currentDepth</span></code>, <code class="docutils literal notranslate"><span class="pre">currentLine</span></code>: ÅšledzÄ… pozycjÄ™ w pliku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doc</span></code>: WskaÅºnik na dokument, ktÃ³ry jest budowany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">currentParent</span></code>: WskaÅºnik na bieÅ¼Ä…cy wÄ™zeÅ‚-rodzica.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parentMap</span></code>: Mapa do Å›ledzenia hierarchii.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">previousNode</span></code>: WskaÅºnik na ostatnio dodany wÄ™zeÅ‚.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">in</span></code>: Referencja do strumienia wejÅ›ciowego.</p></li>
</ul>
</section>
<section id="id723">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id723" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: Definicje typÃ³w.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">OTMLDocument::parse</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otml-h">
<h1>ğŸ“„ otml.h<a class="headerlink" href="#otml-h" title="Link to this heading">#</a></h1>
</section>
<section id="id724">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id724" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otml.h</span></code> jest gÅ‚Ã³wnym plikiem nagÅ‚Ã³wkowym dla moduÅ‚u OTML. Jego jedynym zadaniem jest doÅ‚Ä…czenie dwÃ³ch najwaÅ¼niejszych plikÃ³w tego moduÅ‚u: <code class="docutils literal notranslate"><span class="pre">otmldocument.h</span></code> i <code class="docutils literal notranslate"><span class="pre">otmlnode.h</span></code>.</p>
</section>
<section id="id725">
<h1>ZawartoÅ›Ä‡<a class="headerlink" href="#id725" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">"otmldocument.h"</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">"otmlnode.h"</span>
</pre></div>
</div>
</section>
<section id="id726">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id726" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>UÅ‚atwia doÅ‚Ä…czanie podstawowych funkcjonalnoÅ›ci OTML w innych czÄ™Å›ciach projektu, ktÃ³re potrzebujÄ… zarÃ³wno <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>, jak i <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otmldocument-cpp">
<h1>ğŸ“„ otmldocument.cpp<a class="headerlink" href="#otmldocument-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id727">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id727" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmldocument.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>, ktÃ³ra reprezentuje caÅ‚y dokument OTML i jest korzeniem drzewa wÄ™zÅ‚Ã³w.</p>
</section>
<section id="klasa-otmldocument">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code><a class="headerlink" href="#klasa-otmldocument" title="Link to this heading">#</a></h1>
</section>
<section id="otmldocumentptr-otmldocument-create">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::create()</span></code><a class="headerlink" href="#otmldocumentptr-otmldocument-create" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna. Tworzy nowy, pusty dokument z domyÅ›lnym tagiem â€œdocâ€.</p>
</section>
<section id="otmldocumentptr-otmldocument-parse-const-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parse(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code><a class="headerlink" href="#otmldocumentptr-otmldocument-parse-const-std-string-filename" title="Link to this heading">#</a></h1>
<p>Statyczna metoda, ktÃ³ra Å‚aduje i parsuje dokument OTML z pliku. UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_resources</span></code> do odczytania pliku do strumienia, a nastÄ™pnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">parse(std::istream&amp;,</span> <span class="pre">...)</span></code>.</p>
</section>
<section id="otmldocumentptr-otmldocument-parsestring-const-std-string-data-const-std-string-source">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parseString(const</span> <span class="pre">std::string&amp;</span> <span class="pre">data,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code><a class="headerlink" href="#otmldocumentptr-otmldocument-parsestring-const-std-string-data-const-std-string-source" title="Link to this heading">#</a></h1>
<p>Parsuje dokument z <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p>
</section>
<section id="otmldocumentptr-otmldocument-parse-std-istream-in-const-std-string-source">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parse(std::istream&amp;</span> <span class="pre">in,</span> <span class="pre">const</span> <span class="pre">std::::string&amp;</span> <span class="pre">source)</span></code><a class="headerlink" href="#otmldocumentptr-otmldocument-parse-std-istream-in-const-std-string-source" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda parsujÄ…ca.</p>
<ol class="arabic simple">
<li><p>Tworzy nowy <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>.</p></li>
<li><p>Tworzy <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code> dla tego dokumentu i strumienia.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">parser.parse()</span></code> w celu zbudowania drzewa wÄ™zÅ‚Ã³w.</p></li>
<li><p>Zwraca gotowy dokument.</p></li>
</ol>
</section>
<section id="std-string-otmldocument-emit">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">OTMLDocument::emit()</span></code><a class="headerlink" href="#std-string-otmldocument-emit" title="Link to this heading">#</a></h1>
<p>Konwertuje caÅ‚e drzewo wÄ™zÅ‚Ã³w OTML z powrotem na format tekstowy, uÅ¼ywajÄ…c <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code>.</p>
</section>
<section id="bool-otmldocument-save-const-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLDocument::save(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code><a class="headerlink" href="#bool-otmldocument-save-const-std-string-filename" title="Link to this heading">#</a></h1>
<p>Zapisuje wyemitowany dokument do pliku za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_resources</span></code>.</p>
</section>
<section id="id728">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id728" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmldocument.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlparser.h</span></code>, <code class="docutils literal notranslate"><span class="pre">otmlemitter.h</span></code>: UÅ¼ywa parsera i emittera.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do operacji na plikach.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otmldocument-h">
<h1>ğŸ“„ otmldocument.h<a class="headerlink" href="#otmldocument-h" title="Link to this heading">#</a></h1>
</section>
<section id="id729">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id729" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmldocument.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>, ktÃ³ra jest specjalizacjÄ… <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> i reprezentuje korzeÅ„ dokumentu OTML.</p>
</section>
<section id="id730">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code><a class="headerlink" href="#id730" title="Link to this heading">#</a></h1>
</section>
<section id="id731">
<h1>Opis semantyczny<a class="headerlink" href="#id731" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>, wiÄ™c jest jednoczeÅ›nie wÄ™zÅ‚em (korzeniem) i caÅ‚ym dokumentem. Dodaje funkcjonalnoÅ›Ä‡ zwiÄ…zanÄ… z plikami: parsowanie z pliku/stringu i zapisywanie do pliku. Przechowuje rÃ³wnieÅ¼ informacjÄ™ o ÅºrÃ³dle (<code class="docutils literal notranslate"><span class="pre">source</span></code>), z ktÃ³rego zostaÅ‚ zaÅ‚adowany.</p>
</section>
<section id="metody-publiczne-statyczne">
<h1>Metody publiczne (statyczne)<a class="headerlink" href="#metody-publiczne-statyczne" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">OTMLDocumentPtr</span> <span class="pre">create()</span></code></p></td>
<td class="text-left"><p>Tworzy pusty dokument.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">OTMLDocumentPtr</span> <span class="pre">parse(...)</span></code></p></td>
<td class="text-left"><p>Parsuje dokument z pliku, stringu lub strumienia.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-publiczne-instancji">
<h1>Metody publiczne (instancji)<a class="headerlink" href="#metody-publiczne-instancji" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">emit()</span></code></p></td>
<td class="text-left"><p>Konwertuje dokument na string w formacie OTML.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">save(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td class="text-left"><p>Zapisuje dokument do pliku.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id732">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id732" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlnode.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest uÅ¼ywana jako punkt wejÅ›cia do tworzenia i Å‚adowania struktur OTML w caÅ‚ej aplikacji (np. w <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otmlemitter-cpp">
<h1>ğŸ“„ otmlemitter.cpp<a class="headerlink" href="#otmlemitter-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id733">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id733" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlemitter.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code>, ktÃ³ra jest odpowiedzialna za konwersjÄ™ drzewa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> z powrotem do formatu tekstowego OTML.</p>
</section>
<section id="klasa-otmlemitter">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code><a class="headerlink" href="#klasa-otmlemitter" title="Link to this heading">#</a></h1>
</section>
<section id="std-string-otmlemitter-emitnode-const-otmlnodeptr-node-int-currentdepth">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">OTMLEmitter::emitNode(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node,</span> <span class="pre">int</span> <span class="pre">currentDepth)</span></code><a class="headerlink" href="#std-string-otmlemitter-emitnode-const-otmlnodeptr-node-int-currentdepth" title="Link to this heading">#</a></h1>
</section>
<section id="id734">
<h1>Opis semantyczny<a class="headerlink" href="#id734" title="Link to this heading">#</a></h1>
<p>Rekurencyjna, statyczna metoda, ktÃ³ra generuje tekstowÄ… reprezentacjÄ™ pojedynczego wÄ™zÅ‚a i wszystkich jego dzieci.</p>
</section>
<section id="id735">
<h1>DziaÅ‚anie<a class="headerlink" href="#id735" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Dodaje wciÄ™cie (2 spacje na poziom) odpowiednie dla <code class="docutils literal notranslate"><span class="pre">currentDepth</span></code>.</p></li>
<li><p>Zapisuje tag wÄ™zÅ‚a. JeÅ›li wÄ™zeÅ‚ ma wartoÅ›Ä‡ lub jest unikalny, dodaje <code class="docutils literal notranslate"><span class="pre">:</span></code>. JeÅ›li nie ma tagu, zapisuje <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p></li>
<li><p>Zapisuje wartoÅ›Ä‡ wÄ™zÅ‚a:</p>
<ul class="simple">
<li><p>JeÅ›li wartoÅ›Ä‡ to <code class="docutils literal notranslate"><span class="pre">null</span></code> (<code class="docutils literal notranslate"><span class="pre">m_null</span></code>), zapisuje <code class="docutils literal notranslate"><span class="pre">~</span></code>.</p></li>
<li><p>JeÅ›li wartoÅ›Ä‡ zawiera znaki nowej linii, formatuje jÄ… jako blok wieloliniowy, uÅ¼ywajÄ…c <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">|-</span></code> lub <code class="docutils literal notranslate"><span class="pre">|+</span></code> w zaleÅ¼noÅ›ci od tego, jak majÄ… byÄ‡ traktowane koÅ„cowe znaki nowej linii.</p></li>
<li><p>W przeciwnym razie, zapisuje wartoÅ›Ä‡ w tej samej linii.</p></li>
</ul>
</li>
<li><p>Rekurencyjnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">emitNode</span></code> dla wszystkich dzieci, zwiÄ™kszajÄ…c <code class="docutils literal notranslate"><span class="pre">currentDepth</span></code>.</p></li>
</ol>
</section>
<section id="id736">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id736" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlemitter.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmldocument.h</span></code>: UÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">OTMLDocument::emit()</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otmlexception-cpp">
<h1>ğŸ“„ otmlexception.cpp<a class="headerlink" href="#otmlexception-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id737">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id737" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlexception.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code>, ktÃ³ra jest uÅ¼ywana do sygnalizowania bÅ‚Ä™dÃ³w podczas parsowania lub przetwarzania dokumentÃ³w OTML.</p>
</section>
<section id="klasa-otmlexception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code><a class="headerlink" href="#klasa-otmlexception" title="Link to this heading">#</a></h1>
</section>
<section id="id738">
<h1>Konstruktory<a class="headerlink" href="#id738" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">OTMLException(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">error)</span></code></strong>: Tworzy wyjÄ…tek zwiÄ…zany z konkretnym wÄ™zÅ‚em. Komunikat bÅ‚Ä™du bÄ™dzie zawieraÅ‚ informacjÄ™ o ÅºrÃ³dle (<code class="docutils literal notranslate"><span class="pre">source</span></code>) tego wÄ™zÅ‚a.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">OTMLException(const</span> <span class="pre">OTMLDocumentPtr&amp;</span> <span class="pre">doc,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">line)</span></code></strong>: Tworzy wyjÄ…tek zwiÄ…zany z caÅ‚ym dokumentem, opcjonalnie podajÄ…c numer linii, w ktÃ³rej wystÄ…piÅ‚ bÅ‚Ä…d parsowania.</p></li>
</ul>
</section>
<section id="id739">
<h1>DziaÅ‚anie<a class="headerlink" href="#id739" title="Link to this heading">#</a></h1>
<p>Oba konstruktory budujÄ… szczegÃ³Å‚owy komunikat bÅ‚Ä™du w <code class="docutils literal notranslate"><span class="pre">std::stringstream</span></code>, ktÃ³ry jest nastÄ™pnie zapisywany w <code class="docutils literal notranslate"><span class="pre">m_what</span></code> i dostÄ™pny przez metodÄ™ <code class="docutils literal notranslate"><span class="pre">what()</span></code>.</p>
</section>
<section id="id740">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id740" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlexception.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmldocument.h</span></code>: Do dostÄ™pu do ÅºrÃ³dÅ‚a dokumentu.</p></li>
<li><p>Jest rzucana przez <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code> w przypadku bÅ‚Ä™dÃ³w skÅ‚adniowych i przez <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> w przypadku bÅ‚Ä™dÃ³w logicznych (np. brak wymaganego dziecka).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otmlexception-h">
<h1>ğŸ“„ otmlexception.h<a class="headerlink" href="#otmlexception-h" title="Link to this heading">#</a></h1>
</section>
<section id="id741">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id741" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlexception.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code>, ktÃ³ra jest typem wyjÄ…tku uÅ¼ywanym do sygnalizowania bÅ‚Ä™dÃ³w zwiÄ…zanych z OTML.</p>
</section>
<section id="id742">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code><a class="headerlink" href="#id742" title="Link to this heading">#</a></h1>
</section>
<section id="id743">
<h1>Opis semantyczny<a class="headerlink" href="#id743" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>. Jest tworzona z informacjÄ… o kontekÅ›cie bÅ‚Ä™du (wÄ™zeÅ‚ lub dokument oraz numer linii), co pozwala na generowanie precyzyjnych komunikatÃ³w o bÅ‚Ä™dach, uÅ‚atwiajÄ…cych debugowanie plikÃ³w OTML.</p>
</section>
<section id="id744">
<h1>Metody publiczne<a class="headerlink" href="#id744" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OTMLException(...)</span></code></p></td>
<td class="text-left"><p>Konstruktory.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~OTMLException()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">const</span> <span class="pre">char*</span> <span class="pre">what()</span> <span class="pre">const</span> <span class="pre">throw()</span></code></p></td>
<td class="text-left"><p>Zwraca sformatowany komunikat bÅ‚Ä™du.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id745">
<h1>Zmienne chronione<a class="headerlink" href="#id745" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_what</span></code>: <code class="docutils literal notranslate"><span class="pre">std::string</span></code> przechowujÄ…ca komunikat bÅ‚Ä™du.</p></li>
</ul>
</section>
<section id="id746">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id746" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/exception.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest rzucana przez <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code> i <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otmlemitter-h">
<h1>ğŸ“„ otmlemitter.h<a class="headerlink" href="#otmlemitter-h" title="Link to this heading">#</a></h1>
</section>
<section id="id747">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id747" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlemitter.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code>, ktÃ³ra jest odpowiedzialna za proces â€œemitowaniaâ€, czyli konwersji drzewa wÄ™zÅ‚Ã³w OTML z powrotem do jego tekstowej reprezentacji.</p>
</section>
<section id="id748">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code><a class="headerlink" href="#id748" title="Link to this heading">#</a></h1>
</section>
<section id="id749">
<h1>Opis semantyczny<a class="headerlink" href="#id749" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code> zawiera jednÄ… statycznÄ… metodÄ™, ktÃ³ra rekurencyjnie przechodzi przez drzewo <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> i buduje sformatowany <code class="docutils literal notranslate"><span class="pre">std::string</span></code> zgodny ze skÅ‚adniÄ… OTML, uwzglÄ™dniajÄ…c wciÄ™cia, tagi, wartoÅ›ci (w tym wieloliniowe) i hierarchiÄ™.</p>
</section>
<section id="id750">
<h1>Metody publiczne (statyczne)<a class="headerlink" href="#id750" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">std::string</span> <span class="pre">emitNode(...)</span></code></p></td>
<td class="text-left"><p>Generuje tekstowÄ… reprezentacjÄ™ podanego wÄ™zÅ‚a i wszystkich jego dzieci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id751">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id751" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">OTMLDocument::emit()</span></code> i <code class="docutils literal notranslate"><span class="pre">OTMLNode::emit()</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otmlparser-cpp">
<h1>ğŸ“„ otmlparser.cpp<a class="headerlink" href="#otmlparser-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id752">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id752" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlparser.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code>, ktÃ³ra jest sercem mechanizmu parsowania jÄ™zyka OTML.</p>
</section>
<section id="id753">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code><a class="headerlink" href="#id753" title="Link to this heading">#</a></h1>
</section>
<section id="otmlparser-otmlparser">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLParser::OTMLParser(...)</span></code><a class="headerlink" href="#otmlparser-otmlparser" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje stan parsera, ustawiajÄ…c bieÅ¼Ä…cy wÄ™zeÅ‚-rodzica na korzeÅ„ dokumentu.</p>
</section>
<section id="void-otmlparser-parse">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parse()</span></code><a class="headerlink" href="#void-otmlparser-parse" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda, ktÃ³ra w pÄ™tli odczytuje kolejne linie ze strumienia (<code class="docutils literal notranslate"><span class="pre">getNextLine()</span></code>) i przekazuje je do <code class="docutils literal notranslate"><span class="pre">parseLine()</span></code>, aÅ¼ do koÅ„ca pliku.</p>
</section>
<section id="int-otmlparser-getlinedepth">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">OTMLParser::getLineDepth(...)</span></code><a class="headerlink" href="#int-otmlparser-getlinedepth" title="Link to this heading">#</a></h1>
<p>Oblicza poziom wciÄ™cia linii, liczÄ…c spacje na jej poczÄ…tku. Wymusza, aby wciÄ™cie byÅ‚o wielokrotnoÅ›ciÄ… dwÃ³ch spacji i zabrania uÅ¼ywania tabulatorÃ³w.</p>
</section>
<section id="void-otmlparser-parseline-std-string-line">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parseLine(std::string</span> <span class="pre">line)</span></code><a class="headerlink" href="#void-otmlparser-parseline-std-string-line" title="Link to this heading">#</a></h1>
<p>Przetwarza pojedynczÄ… liniÄ™.</p>
<ol class="arabic simple">
<li><p>Oblicza jej gÅ‚Ä™bokoÅ›Ä‡.</p></li>
<li><p>Usuwa biaÅ‚e znaki z poczÄ…tku i koÅ„ca.</p></li>
<li><p>Ignoruje puste linie i komentarze (<code class="docutils literal notranslate"><span class="pre">//</span></code>).</p></li>
<li><p>Na podstawie rÃ³Å¼nicy miÄ™dzy bieÅ¼Ä…cÄ… gÅ‚Ä™bokoÅ›ciÄ… a gÅ‚Ä™bokoÅ›ciÄ… linii, aktualizuje <code class="docutils literal notranslate"><span class="pre">currentParent</span></code>, wchodzÄ…c w gÅ‚Ä…b hierarchii lub wracajÄ…c na wyÅ¼szy poziom.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">parseNode</span></code> w celu sparsowania wÅ‚aÅ›ciwej zawartoÅ›ci linii.</p></li>
</ol>
</section>
<section id="void-otmlparser-parsenode-const-std-string-data">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parseNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">data)</span></code><a class="headerlink" href="#void-otmlparser-parsenode-const-std-string-data" title="Link to this heading">#</a></h1>
<p>Parsuje tag i wartoÅ›Ä‡ z podanego ciÄ…gu znakÃ³w.</p>
<ol class="arabic simple">
<li><p>Dzieli ciÄ…g na tag i wartoÅ›Ä‡ na podstawie separatora <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p></li>
<li><p>ObsÅ‚uguje specjalny przypadek <code class="docutils literal notranslate"><span class="pre">-</span></code> dla wÄ™zÅ‚Ã³w bez tagu.</p></li>
<li><p>ObsÅ‚uguje wartoÅ›ci wieloliniowe (rozpoczynajÄ…ce siÄ™ od <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">|-</span></code>, <code class="docutils literal notranslate"><span class="pre">|+</span></code>), odczytujÄ…c kolejne linie, dopÃ³ki wciÄ™cie siÄ™ zgadza.</p></li>
<li><p>ObsÅ‚uguje listy w nawiasach kwadratowych (<code class="docutils literal notranslate"><span class="pre">[...]</span></code>), dzielÄ…c je na osobne wartoÅ›ci.</p></li>
<li><p>Tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>, ustawia jego wÅ‚aÅ›ciwoÅ›ci (tag, wartoÅ›Ä‡, ÅºrÃ³dÅ‚o) i dodaje go do <code class="docutils literal notranslate"><span class="pre">currentParent</span></code>.</p></li>
</ol>
</section>
<section id="id754">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id754" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlparser.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmldocument.h</span></code>, <code class="docutils literal notranslate"><span class="pre">otmlexception.h</span></code>: Do tworzenia i obsÅ‚ugi bÅ‚Ä™dÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/tokenizer.hpp</span></code>: Do parsowania list w nawiasach kwadratowych.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otmlnode-h">
<h1>ğŸ“„ otmlnode.h<a class="headerlink" href="#otmlnode-h" title="Link to this heading">#</a></h1>
</section>
<section id="id755">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id755" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlnode.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>, ktÃ³ra jest podstawowym budulcem drzewa dokumentu OTML. Reprezentuje pojedynczy wÄ™zeÅ‚, ktÃ³ry moÅ¼e mieÄ‡ tag, wartoÅ›Ä‡ i listÄ™ dzieci.</p>
</section>
<section id="klasa-otmlnode">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code><a class="headerlink" href="#klasa-otmlnode" title="Link to this heading">#</a></h1>
</section>
<section id="id756">
<h1>Opis semantyczny<a class="headerlink" href="#id756" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> to uniwersalny kontener na dane w strukturze drzewiastej. Jest uÅ¼ywany do reprezentowania zarÃ³wno stylÃ³w UI, jak i samych widgetÃ³w w plikach <code class="docutils literal notranslate"><span class="pre">.otui</span></code>, a takÅ¼e moduÅ‚Ã³w w <code class="docutils literal notranslate"><span class="pre">.otmod</span></code> i konfiguracji w plikach <code class="docutils literal notranslate"><span class="pre">.otml</span></code>.</p>
</section>
<section id="id757">
<h1>Metody publiczne<a class="headerlink" href="#id757" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">OTMLNodePtr</span> <span class="pre">create(...)</span></code></p></td>
<td class="text-left"><p>Metody fabryczne do tworzenia nowych wÄ™zÅ‚Ã³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">tag()</span></code>, <code class="docutils literal notranslate"><span class="pre">size()</span></code>, <code class="docutils literal notranslate"><span class="pre">source()</span></code>, <code class="docutils literal notranslate"><span class="pre">rawValue()</span></code></p></td>
<td class="text-left"><p>Gettery dla podstawowych wÅ‚aÅ›ciwoÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isUnique()</span></code>, <code class="docutils literal notranslate"><span class="pre">isNull()</span></code>, <code class="docutils literal notranslate"><span class="pre">hasTag()</span></code>, <code class="docutils literal notranslate"><span class="pre">hasValue()</span></code>, <code class="docutils literal notranslate"><span class="pre">hasChildren()</span></code></p></td>
<td class="text-left"><p>Metody sprawdzajÄ…ce stan wÄ™zÅ‚a.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setTag(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">setValue(...)</span></code>, â€¦</p></td>
<td class="text-left"><p>Settery dla wÅ‚aÅ›ciwoÅ›ci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">childTag)</span></code></p></td>
<td class="text-left"><p>Zwraca pierwszy wÄ™zeÅ‚-dziecko o danym tagu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">at(const</span> <span class="pre">std::string&amp;</span> <span class="pre">childTag)</span></code></p></td>
<td class="text-left"><p>To samo co <code class="docutils literal notranslate"><span class="pre">get</span></code>, ale rzuca wyjÄ…tek, jeÅ›li dziecko nie istnieje.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeChild(...)</span></code></p></td>
<td class="text-left"><p>Dodaje/usuwa dziecko. <code class="docutils literal notranslate"><span class="pre">addChild</span></code> obsÅ‚uguje logikÄ™ Å‚Ä…czenia (merge) dla unikalnych wÄ™zÅ‚Ã³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">copy(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">merge(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">clear()</span></code>, <code class="docutils literal notranslate"><span class="pre">clone()</span></code></p></td>
<td class="text-left"><p>Metody do manipulacji strukturÄ… wÄ™zÅ‚a.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">children()</span></code></p></td>
<td class="text-left"><p>Zwraca listÄ™ wszystkich dzieci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Szablonowe metody <code class="docutils literal notranslate"><span class="pre">value...</span></code></strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">value&lt;T&gt;()</span></code></p></td>
<td class="text-left"><p>Zwraca wartoÅ›Ä‡ wÄ™zÅ‚a, rzutowanÄ… na typ <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">valueAt&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Zwraca wartoÅ›Ä‡ dziecka o danym tagu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">valueAtIndex&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Zwraca wartoÅ›Ä‡ dziecka o danym indeksie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Szablonowe metody <code class="docutils literal notranslate"><span class="pre">write...</span></code></strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">write&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wartoÅ›Ä‡ wÄ™zÅ‚a.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">writeAt&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Tworzy i dodaje unikalne dziecko z danÄ… wartoÅ›ciÄ….</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">writeIn&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Tworzy i dodaje nie-unikalne dziecko z danÄ… wartoÅ›ciÄ….</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">emit()</span></code></p></td>
<td class="text-left"><p>Konwertuje wÄ™zeÅ‚ i jego dzieci na string.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id758">
<h1>Zmienne chronione<a class="headerlink" href="#id758" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_children</span></code>: Mapa przechowujÄ…ca dzieci pogrupowane wedÅ‚ug tagÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_tag</span></code>, <code class="docutils literal notranslate"><span class="pre">m_value</span></code>, <code class="docutils literal notranslate"><span class="pre">m_source</span></code>: Podstawowe wÅ‚aÅ›ciwoÅ›ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">m_null</span></code>: Flagi stanu.</p></li>
</ul>
</section>
<section id="id759">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id759" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: Definicje typÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlexception.h</span></code>: Do rzucania wyjÄ…tkÃ³w.</p></li>
<li><p>Jest to podstawowa klasa moduÅ‚u OTML, uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code>, <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code> i <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="otmlnode-cpp">
<h1>ğŸ“„ otmlnode.cpp<a class="headerlink" href="#otmlnode-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id760">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id760" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlnode.cpp</span></code> zawiera implementacjÄ™ metod klasy <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>.</p>
</section>
<section id="id761">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code><a class="headerlink" href="#id761" title="Link to this heading">#</a></h1>
</section>
<section id="otmlnodeptr-otmlnode-create">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::create(...)</span></code><a class="headerlink" href="#otmlnodeptr-otmlnode-create" title="Link to this heading">#</a></h1>
<p>Metody fabryczne, ktÃ³re tworzÄ… nowy <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> i ustawiajÄ… jego poczÄ…tkowe wÅ‚aÅ›ciwoÅ›ci.</p>
</section>
<section id="bool-otmlnode-haschildren">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLNode::hasChildren()</span></code><a class="headerlink" href="#bool-otmlnode-haschildren" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy wÄ™zeÅ‚ ma jakiekolwiek dzieci, ktÃ³re nie sÄ… <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</section>
<section id="otmlnodeptr-otmlnode-get-const-std-string-childtag">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">childTag)</span></code><a class="headerlink" href="#otmlnodeptr-otmlnode-get-const-std-string-childtag" title="Link to this heading">#</a></h1>
<p>Wyszukuje w mapie <code class="docutils literal notranslate"><span class="pre">m_children</span></code> pierwsze dziecko o podanym tagu, ktÃ³re nie jest <code class="docutils literal notranslate"><span class="pre">null</span></code>, i je zwraca.</p>
</section>
<section id="void-otmlnode-addchild-const-otmlnodeptr-newchild">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::addChild(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">newChild)</span></code><a class="headerlink" href="#void-otmlnode-addchild-const-otmlnodeptr-newchild" title="Link to this heading">#</a></h1>
<p>Dodaje nowe dziecko. Implementuje kluczowÄ… logikÄ™:</p>
<ul class="simple">
<li><p>JeÅ›li nowe dziecko ma tag i jest unikalne (<code class="docutils literal notranslate"><span class="pre">isUnique()</span></code>), a dziecko o takim samym tagu juÅ¼ istnieje, to nowe dziecko jest Å‚Ä…czone (<code class="docutils literal notranslate"><span class="pre">merge</span></code>) ze starym, effectively nadpisujÄ…c/dodajÄ…c wÅ‚aÅ›ciwoÅ›ci.</p></li>
<li><p>W przeciwnym razie, jest po prostu dodawane do listy dzieci o danym tagu.</p></li>
<li><p>KaÅ¼demu dziecku nadawany jest unikalny, rosnÄ…cy indeks, aby zachowaÄ‡ kolejnoÅ›Ä‡ wstawiania.</p></li>
</ul>
</section>
<section id="bool-otmlnode-removechild">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLNode::removeChild(...)</span></code><a class="headerlink" href="#bool-otmlnode-removechild" title="Link to this heading">#</a></h1>
<p>Usuwa podane dziecko z listy.</p>
</section>
<section id="void-otmlnode-copy-const-otmlnodeptr-node">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::copy(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code><a class="headerlink" href="#void-otmlnode-copy-const-otmlnodeptr-node" title="Link to this heading">#</a></h1>
<p>GÅ‚Ä™boko kopiuje wszystkie wÅ‚aÅ›ciwoÅ›ci i dzieci z innego wÄ™zÅ‚a, zastÄ™pujÄ…c wÅ‚asnÄ… zawartoÅ›Ä‡.</p>
</section>
<section id="void-otmlnode-merge-const-otmlnodeptr-node">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::merge(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code><a class="headerlink" href="#void-otmlnode-merge-const-otmlnodeptr-node" title="Link to this heading">#</a></h1>
<p>ÅÄ…czy zawartoÅ›Ä‡ innego wÄ™zÅ‚a z bieÅ¼Ä…cym. W przeciwieÅ„stwie do <code class="docutils literal notranslate"><span class="pre">copy</span></code>, nie czyÅ›ci istniejÄ…cych dzieci, lecz dodaje nowe (lub Å‚Ä…czy, jeÅ›li sÄ… unikalne).</p>
</section>
<section id="otmlnodelist-otmlnode-children">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLNodeList</span> <span class="pre">OTMLNode::children()</span></code><a class="headerlink" href="#otmlnodelist-otmlnode-children" title="Link to this heading">#</a></h1>
<p>Zwraca listÄ™ wszystkich nie-nullowych dzieci, posortowanÄ… wedÅ‚ug ich indeksu wstawienia.</p>
</section>
<section id="otmlnodeptr-otmlnode-clone">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::clone()</span></code><a class="headerlink" href="#otmlnodeptr-otmlnode-clone" title="Link to this heading">#</a></h1>
<p>Tworzy i zwraca gÅ‚Ä™bokÄ… kopiÄ™ wÄ™zÅ‚a i wszystkich jego dzieci.</p>
</section>
<section id="id762">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id762" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlnode.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlemitter.h</span></code>: UÅ¼ywany w metodzie <code class="docutils literal notranslate"><span class="pre">emit()</span></code>.</p></li>
<li><p>Jest to implementacja centralnej struktury danych dla systemu OTML.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="androidplatform-cpp">
<h1>ğŸ“„ androidplatform.cpp<a class="headerlink" href="#androidplatform-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id763">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id763" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">androidplatform.cpp</span></code> zawiera implementacjÄ™ metod klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code> specyficznych dla systemu Android. Jest kompilowany tylko wtedy, gdy zdefiniowano makro <code class="docutils literal notranslate"><span class="pre">ANDROID</span></code>.</p>
</section>
<section id="klasa-platform-implementacja-dla-androida">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Androida)<a class="headerlink" href="#klasa-platform-implementacja-dla-androida" title="Link to this heading">#</a></h1>
<p>Wiele metod jest pustymi implementacjami lub zwraca domyÅ›lne wartoÅ›ci, poniewaÅ¼ ich funkcjonalnoÅ›Ä‡ nie jest dostÄ™pna lub nie ma sensu na platformie Android w taki sam sposÃ³b, jak na desktopie.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Implementacja na Androidzie</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">processArgs(...)</span></code></p></td>
<td class="text-left"><p>Pusta (argumenty sÄ… obsÅ‚ugiwane inaczej).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">spawnProcess(...)</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getProcessId()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">getpid()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isProcessRunning(...)</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">killProcess(...)</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTempPath()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">/tmp/</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCurrentDir()</span></code></p></td>
<td class="text-left"><p>Zwraca wynik <code class="docutils literal notranslate"><span class="pre">getcwd()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">copyFile(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">fileExists(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeFile(...)</span></code></p></td>
<td class="text-left"><p>Puste/zwracajÄ… <code class="docutils literal notranslate"><span class="pre">true</span></code>/<code class="docutils literal notranslate"><span class="pre">false</span></code>. Operacje na plikach sÄ… obsÅ‚ugiwane przez <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getFileModificationTime(...)</span></code></p></td>
<td class="text-left"><p>Zwraca 0.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openUrl(std::string</span> <span class="pre">url,</span> <span class="pre">...)</span></code></p></td>
<td class="text-left"><p>Deleguje zadanie do <code class="docutils literal notranslate"><span class="pre">AndroidWindow::openUrl</span></code> poprzez <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>, aby zapewniÄ‡ wykonanie w odpowiednim wÄ…tku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openDir(...)</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCPUName()</span></code></p></td>
<td class="text-left"><p>Zwraca pusty string.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTotalSystemMemory()</span></code></p></td>
<td class="text-left"><p>Zwraca 0.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMemoryUsage()</span></code></p></td>
<td class="text-left"><p>Zwraca 0.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getOSName()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">"android"</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">traceback(...)</span></code></p></td>
<td class="text-left"><p>Zwraca pusty string (brak <code class="docutils literal notranslate"><span class="pre">backtrace</span></code> w standardzie).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMacAddresses()</span></code></p></td>
<td class="text-left"><p>Zwraca pusty wektor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getUserName()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">"android"</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getDlls()</span></code>, <code class="docutils literal notranslate"><span class="pre">getProcesses()</span></code>, <code class="docutils literal notranslate"><span class="pre">getWindows()</span></code></p></td>
<td class="text-left"><p>ZwracajÄ… puste wektory.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id764">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id764" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/androidwindow.h</span></code>: Do otwierania URL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do bezpiecznego wÄ…tkowo wywoÅ‚ywania metod z <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="androidwindow-cpp">
<h1>ğŸ“„ androidwindow.cpp<a class="headerlink" href="#androidwindow-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id765">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id765" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">androidwindow.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>, ktÃ³ra jest specyficznÄ… dla platformy Android implementacjÄ… <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>. ZarzÄ…dza ona cyklem Å¼ycia okna, obsÅ‚ugÄ… wejÅ›cia (dotyk, klawiatura) oraz kontekstem graficznym EGL/OpenGL ES.</p>
</section>
<section id="id766">
<h1>Zmienne globalne<a class="headerlink" href="#id766" title="Link to this heading">#</a></h1>
</section>
<section id="g-androidwindow">
<h1><code class="docutils literal notranslate"><span class="pre">g_androidWindow</span></code><a class="headerlink" href="#g-androidwindow" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>.</p>
</section>
<section id="klasa-androidwindow">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code><a class="headerlink" href="#klasa-androidwindow" title="Link to this heading">#</a></h1>
</section>
<section id="androidwindow-androidwindow">
<h1><code class="docutils literal notranslate"><span class="pre">AndroidWindow::AndroidWindow()</span></code><a class="headerlink" href="#androidwindow-androidwindow" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje mapÄ™ klawiszy (<code class="docutils literal notranslate"><span class="pre">m_keyMap</span></code>), tÅ‚umaczÄ…c kody klawiszy Android (<code class="docutils literal notranslate"><span class="pre">AKEYCODE_*</span></code>) na wewnÄ™trzne kody <code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code>.</p>
</section>
<section id="void-androidwindow-internalinitgl-i-internaldestroygl">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::internalInitGL()</span></code> i <code class="docutils literal notranslate"><span class="pre">internalDestroyGL()</span></code><a class="headerlink" href="#void-androidwindow-internalinitgl-i-internaldestroygl" title="Link to this heading">#</a></h1>
<p>Metody do zarzÄ…dzania kontekstem graficznym EGL.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internalInitGL</span></code>: Pobiera domyÅ›lny wyÅ›wietlacz EGL, wybiera konfiguracjÄ™, tworzy powierzchniÄ™ renderowania (<code class="docutils literal notranslate"><span class="pre">EGLSurface</span></code>) na podstawie natywnego okna Android i tworzy kontekst OpenGL ES 2.0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalDestroyGL</span></code>: Zwalnia powierzchniÄ™ i kontekst EGL.</p></li>
</ul>
</section>
<section id="void-androidwindow-init-struct-android-app-app">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::init(struct</span> <span class="pre">android_app*</span> <span class="pre">app)</span></code><a class="headerlink" href="#void-androidwindow-init-struct-android-app-app" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda inicjalizujÄ…ca. Zapisuje wskaÅºnik na <code class="docutils literal notranslate"><span class="pre">android_app</span></code> i ustawia <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> dla zdarzeÅ„ cyklu Å¼ycia aplikacji i zdarzeÅ„ wejÅ›ciowych.</p>
</section>
<section id="void-androidwindow-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::poll()</span></code><a class="headerlink" href="#void-androidwindow-poll" title="Link to this heading">#</a></h1>
<p>Przetwarza zdarzenia systemowe z kolejki Androida za pomocÄ… <code class="docutils literal notranslate"><span class="pre">ALooper_pollAll</span></code>.</p>
</section>
<section id="void-androidwindow-swapbuffers">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::swapBuffers()</span></code><a class="headerlink" href="#void-androidwindow-swapbuffers" title="Link to this heading">#</a></h1>
<p>Zamienia bufory ekranu za pomocÄ… <code class="docutils literal notranslate"><span class="pre">eglSwapBuffers</span></code>.</p>
</section>
<section id="void-androidwindow-handlecmd-int32-t-cmd">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::handleCmd(int32_t</span> <span class="pre">cmd)</span></code><a class="headerlink" href="#void-androidwindow-handlecmd-int32-t-cmd" title="Link to this heading">#</a></h1>
<p>Handler dla zdarzeÅ„ cyklu Å¼ycia aplikacji Android (np. <code class="docutils literal notranslate"><span class="pre">APP_CMD_INIT_WINDOW</span></code>, <code class="docutils literal notranslate"><span class="pre">APP_CMD_GAINED_FOCUS</span></code>). W odpowiedzi na te zdarzenia, tworzy lub niszczy kontekst GL i aktualizuje stan widocznoÅ›ci.</p>
</section>
<section id="int-androidwindow-handleinput-ainputevent-event">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">AndroidWindow::handleInput(AInputEvent*</span> <span class="pre">event)</span></code><a class="headerlink" href="#int-androidwindow-handleinput-ainputevent-event" title="Link to this heading">#</a></h1>
<p>Handler dla zdarzeÅ„ wejÅ›ciowych.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">AINPUT_EVENT_TYPE_MOTION</span></code> (dotyk)</strong>:</p>
<ul>
<li><p>TÅ‚umaczy zdarzenia dotyku (<code class="docutils literal notranslate"><span class="pre">ACTION_DOWN</span></code>, <code class="docutils literal notranslate"><span class="pre">ACTION_UP</span></code>, <code class="docutils literal notranslate"><span class="pre">ACTION_MOVE</span></code>) na zdarzenia myszy (<code class="docutils literal notranslate"><span class="pre">MousePress</span></code>, <code class="docutils literal notranslate"><span class="pre">MouseRelease</span></code>, <code class="docutils literal notranslate"><span class="pre">MouseMove</span></code>).</p></li>
<li><p>Implementuje logikÄ™ do symulacji klikniÄ™cia lewym i prawym przyciskiem myszy oraz przeciÄ…gania na ekranie dotykowym.</p></li>
<li><p>ObsÅ‚uguje wielodotyk, mapujÄ…c drugi i trzeci palec na <code class="docutils literal notranslate"><span class="pre">Fw::MouseTouch2</span></code> i <code class="docutils literal notranslate"><span class="pre">Fw::MouseTouch3</span></code>.</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">AINPUT_EVENT_TYPE_KEY</span></code> (klawiatura)</strong>:</p>
<ul>
<li><p>TÅ‚umaczy kod klawisza Android na kod <code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code>.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">processKeyDown</span></code> lub <code class="docutils literal notranslate"><span class="pre">processKeyUp</span></code>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="void-androidwindow-showtexteditor">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::showTextEditor(...)</span></code><a class="headerlink" href="#void-androidwindow-showtexteditor" title="Link to this heading">#</a></h1>
<p>WywoÅ‚uje metodÄ™ Javy (<code class="docutils literal notranslate"><span class="pre">showTextEdit</span></code>) za pomocÄ… JNI, aby wyÅ›wietliÄ‡ natywnÄ… klawiaturÄ™ i pole edycji tekstu Androida.</p>
</section>
<section id="void-androidwindow-openurl-std-string-url">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::openUrl(std::string</span> <span class="pre">url)</span></code><a class="headerlink" href="#void-androidwindow-openurl-std-string-url" title="Link to this heading">#</a></h1>
<p>Otwiera URL za pomocÄ… intencji Androida, wywoÅ‚ujÄ…c metodÄ™ Javy przez JNI.</p>
</section>
<section id="funkcja-jniexport-committext">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">JNIEXPORT</span> <span class="pre">...</span> <span class="pre">commitText(...)</span></code><a class="headerlink" href="#funkcja-jniexport-committext" title="Link to this heading">#</a></h1>
<p>Funkcja C wywoÅ‚ywana z kodu Javy, ktÃ³ra przekazuje tekst wpisany na klawiaturze Androida z powrotem do aplikacji.</p>
</section>
<section id="id767">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id767" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>NagÅ‚Ã³wki NDK Androida (<code class="docutils literal notranslate"><span class="pre">android_native_app_glue.h</span></code>, <code class="docutils literal notranslate"><span class="pre">jni.h</span></code>).</p></li>
<li><p>NagÅ‚Ã³wki EGL i GLES.</p></li>
<li><p>WspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> poprzez <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> <code class="docutils literal notranslate"><span class="pre">m_onInputEvent</span></code>, <code class="docutils literal notranslate"><span class="pre">m_onResize</span></code>, <code class="docutils literal notranslate"><span class="pre">m_onClose</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="androidwindow-h">
<h1>ğŸ“„ androidwindow.h<a class="headerlink" href="#androidwindow-h" title="Link to this heading">#</a></h1>
</section>
<section id="id768">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id768" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">androidwindow.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>, ktÃ³ra jest implementacjÄ… <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> dla systemu Android.</p>
</section>
<section id="id769">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code><a class="headerlink" href="#id769" title="Link to this heading">#</a></h1>
</section>
<section id="id770">
<h1>Opis semantyczny<a class="headerlink" href="#id770" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code> integruje aplikacjÄ™ z natywnym cyklem Å¼ycia i systemem zdarzeÅ„ Androida za pomocÄ… struktury <code class="docutils literal notranslate"><span class="pre">android_app</span></code> z NDK. ZarzÄ…dza kontekstem graficznym EGL/GLES i tÅ‚umaczy natywne zdarzenia wejÅ›ciowe (dotyk, klawisze sprzÄ™towe) na wewnÄ™trzny format <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code>.</p>
</section>
<section id="id771">
<h1>Metody publiczne<a class="headerlink" href="#id771" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>ZarzÄ…dzanie cyklem Å¼ycia</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">init(struct</span> <span class="pre">android_app*</span> <span class="pre">app)</span></code></p></td>
<td class="text-left"><p>Inicjalizuje okno, Å‚Ä…czÄ…c je ze strukturÄ… <code class="docutils literal notranslate"><span class="pre">android_app</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">handleCmd(int32_t</span> <span class="pre">cmd)</span></code></p></td>
<td class="text-left"><p>ObsÅ‚uguje komendy cyklu Å¼ycia aplikacji od systemu Android.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">handleInput(AInputEvent*</span> <span class="pre">event)</span></code></p></td>
<td class="text-left"><p>Przetwarza natywne zdarzenia wejÅ›ciowe.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Interfejs <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code></strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia z kolejki systemowej.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">swapBuffers()</span></code></p></td>
<td class="text-left"><p>Zamienia bufory EGL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getDisplaySize()</span></code></p></td>
<td class="text-left"><p>Zwraca rozmiar okna.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">showTextEditor(...)</span></code></p></td>
<td class="text-left"><p>WyÅ›wietla natywnÄ… klawiaturÄ™ Androida.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openUrl(...)</span></code></p></td>
<td class="text-left"><p>Otwiera URL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>â€¦</p></td>
<td class="text-left"><p>Implementacje innych metod <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, czÄ™sto puste, poniewaÅ¼ pojÄ™cia takie jak â€œminimalizacjaâ€ czy â€œzmiana tytuÅ‚u oknaâ€ nie majÄ… bezpoÅ›redniego odpowiednika na Androidzie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id772">
<h1>Zmienne prywatne<a class="headerlink" href="#id772" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_egl...</span></code>: Uchwyty do zasobÃ³w EGL (Display, Context, Surface, Config).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_multiInputEvent[3]</span></code>: Bufory na zdarzenia wielodotykowe.</p></li>
</ul>
</section>
<section id="id773">
<h1>Zmienne globalne<a class="headerlink" href="#id773" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_androidWindow</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>.</p></li>
</ul>
</section>
<section id="id774">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id774" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code>: Klasa bazowa.</p></li>
<li><p>Wymaga <code class="docutils literal notranslate"><span class="pre">android_native_app_glue.h</span></code> i nagÅ‚Ã³wkÃ³w JNI/EGL/GLES, ktÃ³re sÄ… czÄ™Å›ciÄ… Android NDK.</p></li>
<li><p>W <code class="docutils literal notranslate"><span class="pre">platformwindow.cpp</span></code> wskaÅºnik <code class="docutils literal notranslate"><span class="pre">g_window</span></code> jest przypisywany do <code class="docutils literal notranslate"><span class="pre">g_androidWindow</span></code>, gdy kompilacja odbywa siÄ™ dla Androida.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="crashhandler-h">
<h1>ğŸ“„ crashhandler.h<a class="headerlink" href="#crashhandler-h" title="Link to this heading">#</a></h1>
</section>
<section id="id775">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id775" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">crashhandler.h</span></code> deklaruje funkcje do instalacji i deinstalacji globalnego mechanizmu obsÅ‚ugi awarii (crash handler).</p>
</section>
<section id="id776">
<h1>Funkcje<a class="headerlink" href="#id776" title="Link to this heading">#</a></h1>
</section>
<section id="void-installcrashhandler">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code><a class="headerlink" href="#void-installcrashhandler" title="Link to this heading">#</a></h1>
<p>Rejestruje handlery dla sygnaÅ‚Ã³w lub wyjÄ…tkÃ³w systemowych (w zaleÅ¼noÅ›ci od platformy), ktÃ³re sÄ… wywoÅ‚ywane w przypadku krytycznego bÅ‚Ä™du aplikacji (np. naruszenie ochrony pamiÄ™ci).</p>
</section>
<section id="void-uninstallcrashhandler">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code><a class="headerlink" href="#void-uninstallcrashhandler" title="Link to this heading">#</a></h1>
<p>Odinstalowuje wczeÅ›niej zarejestrowane handlery.</p>
</section>
<section id="dyrektywa-preprocesora">
<h1>Dyrektywa preprocesora<a class="headerlink" href="#dyrektywa-preprocesora" title="Link to this heading">#</a></h1>
<p>CaÅ‚a zawartoÅ›Ä‡ pliku jest objÄ™ta dyrektywÄ… <code class="docutils literal notranslate"><span class="pre">#ifdef</span> <span class="pre">CRASH_HANDLER</span></code>, co oznacza, Å¼e funkcje te sÄ… dostÄ™pne tylko wtedy, gdy opcja <code class="docutils literal notranslate"><span class="pre">CRASH_HANDLER</span></code> jest wÅ‚Ä…czona w CMake.</p>
</section>
<section id="id777">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id777" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Funkcje te sÄ… implementowane w plikach specyficznych dla platformy: <code class="docutils literal notranslate"><span class="pre">unixcrashhandler.cpp</span></code> i <code class="docutils literal notranslate"><span class="pre">win32crashhandler.cpp</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">installCrashHandler</span></code> jest zazwyczaj wywoÅ‚ywana na samym poczÄ…tku dziaÅ‚ania aplikacji.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="platform-cpp">
<h1>ğŸ“„ platform.cpp<a class="headerlink" href="#platform-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id778">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id778" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">platform.cpp</span></code> ma za zadanie jedynie zdefiniowaÄ‡ globalnÄ… instancjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code>.</p>
</section>
<section id="id779">
<h1>Zmienne globalne<a class="headerlink" href="#id779" title="Link to this heading">#</a></h1>
</section>
<section id="g-platform">
<h1><code class="docutils literal notranslate"><span class="pre">g_platform</span></code><a class="headerlink" href="#g-platform" title="Link to this heading">#</a></h1>
<p>Globalna, jedyna instancja klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code>, ktÃ³ra dostarcza interfejs do funkcji specyficznych dla systemu operacyjnego.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Platform</span><span class="w"> </span><span class="n">g_platform</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id780">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id780" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Plik nagÅ‚Ã³wkowy, ktÃ³ry deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Platform</span></code>.</p></li>
<li><p>WÅ‚aÅ›ciwa implementacja metod tej klasy znajduje siÄ™ w plikach <code class="docutils literal notranslate"><span class="pre">win32platform.cpp</span></code>, <code class="docutils literal notranslate"><span class="pre">unixplatform.cpp</span></code> i <code class="docutils literal notranslate"><span class="pre">androidplatform.cpp</span></code>, z ktÃ³rych tylko jeden jest kompilowany w zaleÅ¼noÅ›ci od docelowej platformy.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="platformwindow-cpp">
<h1>ğŸ“„ platformwindow.cpp<a class="headerlink" href="#platformwindow-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id781">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id781" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">platformwindow.cpp</span></code> jest kluczowym plikiem, ktÃ³ry zarzÄ…dza implementacjÄ… okna specyficznÄ… dla danej platformy. Jego gÅ‚Ã³wnym zadaniem jest doÅ‚Ä…czenie odpowiedniego pliku nagÅ‚Ã³wkowego (np. <code class="docutils literal notranslate"><span class="pre">win32window.h</span></code> lub <code class="docutils literal notranslate"><span class="pre">x11window.h</span></code>) i zdefiniowanie globalnego wskaÅºnika <code class="docutils literal notranslate"><span class="pre">g_window</span></code>, ktÃ³ry bÄ™dzie wskazywaÅ‚ na wÅ‚aÅ›ciwÄ…, platformowÄ… instancjÄ™ okna.</p>
</section>
<section id="id782">
<h1>Zmienne globalne<a class="headerlink" href="#id782" title="Link to this heading">#</a></h1>
</section>
<section id="g-window">
<h1><code class="docutils literal notranslate"><span class="pre">g_window</span></code><a class="headerlink" href="#g-window" title="Link to this heading">#</a></h1>
<p>Globalna referencja do obiektu okna. Jest to centralny punkt dostÄ™pu do wszystkich operacji zwiÄ…zanych z oknem w caÅ‚ym frameworku. W zaleÅ¼noÅ›ci od platformy, wskazuje na instancjÄ™ <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code>, <code class="docutils literal notranslate"><span class="pre">X11Window</span></code>, <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code> lub <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp"># ifdef ANDROID</span>
<span class="n">PlatformWindow</span><span class="o">&amp;</span><span class="w"> </span><span class="n">g_window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g_androidWindow</span><span class="p">;</span>
<span class="cp"># else</span>
<span class="n">PlatformWindow</span><span class="o">&amp;</span><span class="w"> </span><span class="n">g_window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">window</span><span class="p">;</span><span class="w"> </span><span class="c1">// gdzie 'window' to globalna instancja np. WIN32Window</span>
<span class="cp"># endif</span>
</pre></div>
</div>
</section>
<section id="klasa-platformwindow">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code><a class="headerlink" href="#klasa-platformwindow" title="Link to this heading">#</a></h1>
</section>
<section id="int-platformwindow-loadmousecursor">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">PlatformWindow::loadMouseCursor(...)</span></code><a class="headerlink" href="#int-platformwindow-loadmousecursor" title="Link to this heading">#</a></h1>
<p>Åaduje obraz kursora, sprawdza jego poprawnoÅ›Ä‡ (rozmiar 32x32, 4 kanaÅ‚y kolorÃ³w) i deleguje wÅ‚aÅ›ciwe tworzenie kursora do metody wirtualnej <code class="docutils literal notranslate"><span class="pre">internalLoadMouseCursor</span></code>, ktÃ³ra jest zaimplementowana w klasach pochodnych.</p>
</section>
<section id="void-platformwindow-updateunmaximizedcoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::updateUnmaximizedCoords()</span></code><a class="headerlink" href="#void-platformwindow-updateunmaximizedcoords" title="Link to this heading">#</a></h1>
<p>Zapisuje aktualnÄ… pozycjÄ™ i rozmiar okna, ale tylko wtedy, gdy okno nie jest zmaksymalizowane ani w trybie peÅ‚noekranowym. SÅ‚uÅ¼y do przywracania poprzedniego stanu okna.</p>
</section>
<section id="void-platformwindow-processkeydown-fw-key-keycode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::processKeyDown(Fw::Key</span> <span class="pre">keyCode)</span></code><a class="headerlink" href="#void-platformwindow-processkeydown-fw-key-keycode" title="Link to this heading">#</a></h1>
<p>ObsÅ‚uguje zdarzenie wciÅ›niÄ™cia klawisza.</p>
<ul class="simple">
<li><p>Aktualizuje stan modyfikatorÃ³w (Ctrl, Alt, Shift).</p></li>
<li><p>Sprawdza, czy klawisz nie jest juÅ¼ wciÅ›niÄ™ty (obsÅ‚uga auto-powtarzania).</p></li>
<li><p>Ustawia stan klawisza na wciÅ›niÄ™ty (<code class="docutils literal notranslate"><span class="pre">m_keysState</span></code>).</p></li>
<li><p>WysyÅ‚a zdarzenia <code class="docutils literal notranslate"><span class="pre">KeyDownInputEvent</span></code> i <code class="docutils literal notranslate"><span class="pre">KeyPressInputEvent</span></code> do zarejestrowanego <code class="docutils literal notranslate"><span class="pre">callbacka</span></code>.</p></li>
</ul>
</section>
<section id="void-platformwindow-processkeyup-fw-key-keycode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::processKeyUp(Fw::Key</span> <span class="pre">keyCode)</span></code><a class="headerlink" href="#void-platformwindow-processkeyup-fw-key-keycode" title="Link to this heading">#</a></h1>
<p>ObsÅ‚uguje zdarzenie zwolnienia klawisza.</p>
<ul class="simple">
<li><p>Aktualizuje stan modyfikatorÃ³w.</p></li>
<li><p>Ustawia stan klawisza na zwolniony.</p></li>
<li><p>WysyÅ‚a zdarzenie <code class="docutils literal notranslate"><span class="pre">KeyUpInputEvent</span></code>.</p></li>
</ul>
</section>
<section id="void-platformwindow-releaseallkeys">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::releaseAllKeys()</span></code><a class="headerlink" href="#void-platformwindow-releaseallkeys" title="Link to this heading">#</a></h1>
<p>Resetuje stan wszystkich wciÅ›niÄ™tych klawiszy i przyciskÃ³w myszy. WywoÅ‚ywana np. gdy okno traci fokus.</p>
</section>
<section id="void-platformwindow-firekeyspress">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::fireKeysPress()</span></code><a class="headerlink" href="#void-platformwindow-firekeyspress" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana cyklicznie. Sprawdza, ktÃ³re klawisze sÄ… wciÅ›niÄ™te i od odpowiednio dÅ‚ugiego czasu, a nastÄ™pnie generuje zdarzenia <code class="docutils literal notranslate"><span class="pre">KeyPressInputEvent</span></code> (auto-powtarzanie).</p>
</section>
<section id="id783">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id783" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>WÅ‚Ä…cza jeden z plikÃ³w nagÅ‚Ã³wkowych specyficznych dla platformy (<code class="docutils literal notranslate"><span class="pre">win32window.h</span></code>, <code class="docutils literal notranslate"><span class="pre">x11window.h</span></code>, etc.).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> do bezpiecznego wÄ…tkowo przetwarzania zdarzeÅ„.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/image.h</span></code>: Do Å‚adowania obrazÃ³w kursorÃ³w.</p></li>
<li><p>Jest to implementacja czÄ™Å›ci wspÃ³lnej dla wszystkich platform, podczas gdy specyfika jest w klasach pochodnych.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="platform-h">
<h1>ğŸ“„ platform.h<a class="headerlink" href="#platform-h" title="Link to this heading">#</a></h1>
</section>
<section id="id784">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id784" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">platform.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">Platform</span></code>, ktÃ³ra jest interfejsem do funkcji specyficznych dla systemu operacyjnego. Zapewnia abstrakcjÄ™ nad rÃ³Å¼nicami miÄ™dzy platformami (Windows, Linux, macOS, Android).</p>
</section>
<section id="klasa-platform">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code><a class="headerlink" href="#klasa-platform" title="Link to this heading">#</a></h1>
</section>
<section id="id785">
<h1>Opis semantyczny<a class="headerlink" href="#id785" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Platform</span></code> dostarcza zestaw statycznych metod do interakcji z systemem operacyjnym. Implementacja tych metod znajduje siÄ™ w plikach specyficznych dla platformy (np. <code class="docutils literal notranslate"><span class="pre">win32platform.cpp</span></code>, <code class="docutils literal notranslate"><span class="pre">unixplatform.cpp</span></code>).</p>
</section>
<section id="id786">
<h1>Metody publiczne<a class="headerlink" href="#id786" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">processArgs(...)</span></code></p></td>
<td class="text-left"><p>Przetwarza argumenty wiersza poleceÅ„, konwertujÄ…c je do UTF-8.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">spawnProcess(...)</span></code></p></td>
<td class="text-left"><p>Uruchamia nowy proces.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getProcessId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID bieÅ¼Ä…cego procesu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isProcessRunning(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy proces o danej nazwie jest uruchomiony.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">killProcess(...)</span></code></p></td>
<td class="text-left"><p>Zamyka proces o danej nazwie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getTempPath()</span></code></p></td>
<td class="text-left"><p>Zwraca Å›cieÅ¼kÄ™ do katalogu tymczasowego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getCurrentDir()</span></code></p></td>
<td class="text-left"><p>Zwraca bieÅ¼Ä…cy katalog roboczy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">copyFile(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">fileExists(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeFile(...)</span></code></p></td>
<td class="text-left"><p>Podstawowe operacje na plikach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">getFileModificationTime(...)</span></code></p></td>
<td class="text-left"><p>Zwraca czas ostatniej modyfikacji pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">openUrl(...)</span></code></p></td>
<td class="text-left"><p>Otwiera URL w domyÅ›lnej przeglÄ…darce.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">openDir(...)</span></code></p></td>
<td class="text-left"><p>Otwiera katalog w menedÅ¼erze plikÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getCPUName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ procesora.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">getTotalSystemMemory()</span></code></p></td>
<td class="text-left"><p>Zwraca caÅ‚kowitÄ… iloÅ›Ä‡ pamiÄ™ci RAM.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">getMemoryUsage()</span></code></p></td>
<td class="text-left"><p>Zwraca uÅ¼ycie pamiÄ™ci przez bieÅ¼Ä…cy proces.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getOSName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ systemu operacyjnego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">traceback(...)</span></code></p></td>
<td class="text-left"><p>Generuje Å›lad stosu wywoÅ‚aÅ„ C++.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">getMacAddresses()</span></code></p></td>
<td class="text-left"><p>Zwraca listÄ™ adresÃ³w MAC.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getUserName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwÄ™ zalogowanego uÅ¼ytkownika.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">getDlls()</span></code></p></td>
<td class="text-left"><p>(Windows) Zwraca listÄ™ zaÅ‚adowanych bibliotek DLL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">getProcesses()</span></code></p></td>
<td class="text-left"><p>Zwraca listÄ™ uruchomionych procesÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">getWindows()</span></code></p></td>
<td class="text-left"><p>(Windows) Zwraca listÄ™ tytuÅ‚Ã³w otwartych okien.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id787">
<h1>Zmienne globalne<a class="headerlink" href="#id787" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_platform</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Platform</span></code>.</p></li>
</ul>
</section>
<section id="id788">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id788" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>UÅ¼ywana w caÅ‚ym projekcie do operacji, ktÃ³re wymagajÄ… interakcji z systemem operacyjnym.</p></li>
<li><p>Jej implementacja jest dostarczana przez pliki <code class="docutils literal notranslate"><span class="pre">*.cpp</span></code> specyficzne dla platformy.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="platformwindow-h">
<h1>ğŸ“„ platformwindow.h<a class="headerlink" href="#platformwindow-h" title="Link to this heading">#</a></h1>
</section>
<section id="id789">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id789" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code> deklaruje abstrakcyjnÄ… klasÄ™ bazowÄ… <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, ktÃ³ra definiuje wspÃ³lny interfejs do zarzÄ…dzania oknem aplikacji na rÃ³Å¼nych systemach operacyjnych.</p>
</section>
<section id="id790">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code><a class="headerlink" href="#id790" title="Link to this heading">#</a></h1>
</section>
<section id="id791">
<h1>Opis semantyczny<a class="headerlink" href="#id791" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> jest klasÄ… abstrakcyjnÄ…, ktÃ³ra ukrywa szczegÃ³Å‚y implementacyjne zwiÄ…zane z tworzeniem okna, obsÅ‚ugÄ… zdarzeÅ„ i zarzÄ…dzaniem kontekstem graficznym. KaÅ¼da platforma (Windows, Linux, Android) dostarcza wÅ‚asnÄ…, konkretnÄ… implementacjÄ™ tej klasy.</p>
</section>
<section id="metody-czysto-wirtualne-do-implementacji-przez-klasy-pochodne">
<h1>Metody czysto wirtualne (do implementacji przez klasy pochodne)<a class="headerlink" href="#metody-czysto-wirtualne-do-implementacji-przez-klasy-pochodne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">init()</span></code>, <code class="docutils literal notranslate"><span class="pre">terminate()</span></code>: Cykl Å¼ycia okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">move()</span></code>, <code class="docutils literal notranslate"><span class="pre">resize()</span></code>, <code class="docutils literal notranslate"><span class="pre">show()</span></code>, <code class="docutils literal notranslate"><span class="pre">hide()</span></code>, <code class="docutils literal notranslate"><span class="pre">minimize()</span></code>, <code class="docutils literal notranslate"><span class="pre">maximize()</span></code>: ZarzÄ…dzanie stanem okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">poll()</span></code>: Przetwarzanie zdarzeÅ„ systemowych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">swapBuffers()</span></code>: Zamiana buforÃ³w graficznych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set...()</span></code>: Metody do ustawiania wÅ‚aÅ›ciwoÅ›ci okna (tytuÅ‚, ikona, VSync, etc.).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get...()</span></code>: Metody do pobierania informacji (rozmiar ekranu, tekst ze schowka).</p></li>
</ul>
</section>
<section id="metody-z-implementacja">
<h1>Metody z implementacjÄ…<a class="headerlink" href="#metody-z-implementacja" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">loadMouseCursor(...)</span></code>: Åaduje kursor z pliku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">processKeyDown()</span></code>, <code class="docutils literal notranslate"><span class="pre">processKeyUp()</span></code>, <code class="docutils literal notranslate"><span class="pre">releaseAllKeys()</span></code>, <code class="docutils literal notranslate"><span class="pre">fireKeysPress()</span></code>: ImplementujÄ… logikÄ™ obsÅ‚ugi stanu klawiatury, ktÃ³ra jest wspÃ³lna dla wszystkich platform.</p></li>
<li><p>Gettery dla stanu okna (<code class="docutils literal notranslate"><span class="pre">getSize</span></code>, <code class="docutils literal notranslate"><span class="pre">getPosition</span></code>, <code class="docutils literal notranslate"><span class="pre">isVisible</span></code>, <code class="docutils literal notranslate"><span class="pre">isKeyPressed</span></code>, etc.).</p></li>
</ul>
</section>
<section id="id792">
<h1>Zmienne chronione<a class="headerlink" href="#id792" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_keyMap</span></code>: Mapa tÅ‚umaczÄ…ca kody klawiszy specyficzne dla platformy na wewnÄ™trzne kody <code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_keysState</span></code>, <code class="docutils literal notranslate"><span class="pre">m_lastKeysPress</span></code>: Mapy do Å›ledzenia stanu klawiszy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>, <code class="docutils literal notranslate"><span class="pre">m_position</span></code>, <code class="docutils literal notranslate"><span class="pre">m_minimumSize</span></code>: WÅ‚aÅ›ciwoÅ›ci geometryczne okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_inputEvent</span></code>: Obiekt do przechowywania danych o bieÅ¼Ä…cym zdarzeniu wejÅ›ciowym.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_visible</span></code>, <code class="docutils literal notranslate"><span class="pre">m_focused</span></code>, <code class="docutils literal notranslate"><span class="pre">m_fullscreen</span></code>, <code class="docutils literal notranslate"><span class="pre">m_maximized</span></code>: Flagi stanu okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_onClose</span></code>, <code class="docutils literal notranslate"><span class="pre">m_onResize</span></code>, <code class="docutils literal notranslate"><span class="pre">m_onInputEvent</span></code>: Callbacki do powiadamiania <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> o zdarzeniach.</p></li>
</ul>
</section>
<section id="id793">
<h1>Zmienne globalne<a class="headerlink" href="#id793" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_window</span></code>: Globalna referencja do aktywnej instancji <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>.</p></li>
</ul>
</section>
<section id="id794">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id794" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/inputevent.h</span></code>: Struktura <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Deklaracje typÃ³w graficznych.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code>, <code class="docutils literal notranslate"><span class="pre">X11Window</span></code>, <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>, <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code>.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> do wszystkich operacji na oknie.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="sdlwindow-cpp">
<h1>ğŸ“„ sdlwindow.cpp<a class="headerlink" href="#sdlwindow-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id795">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id795" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">sdlwindow.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code>, ktÃ³ra jest wersjÄ… <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> dla platformy Emscripten (WebAssembly), opartÄ… na bibliotece SDL.</p>
<blockquote>
<div><p><strong>NOTE:</strong> Implementacja jest w wiÄ™kszoÅ›ci pusta. Sugeruje to, Å¼e obsÅ‚uga okna i zdarzeÅ„ w Emscripten jest realizowana w inny sposÃ³b, prawdopodobnie poprzez gÅ‚Ã³wnÄ… pÄ™tlÄ™ Emscripten i bezpoÅ›rednie wywoÅ‚ania JavaScript, a ta klasa jest jedynie â€œzaÅ›lepkÄ…â€ (placeholderem), aby kod siÄ™ kompilowaÅ‚.</p>
</div></blockquote>
</section>
<section id="klasa-sdlwindow">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code><a class="headerlink" href="#klasa-sdlwindow" title="Link to this heading">#</a></h1>
<p>Wszystkie metody implementujÄ…ce interfejs <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> sÄ… puste. Oznacza to, Å¼e operacje takie jak <code class="docutils literal notranslate"><span class="pre">resize</span></code>, <code class="docutils literal notranslate"><span class="pre">move</span></code>, <code class="docutils literal notranslate"><span class="pre">setTitle</span></code>, <code class="docutils literal notranslate"><span class="pre">poll</span></code> czy <code class="docutils literal notranslate"><span class="pre">swapBuffers</span></code> nie majÄ… tutaj Å¼adnego efektu i muszÄ… byÄ‡ obsÅ‚ugiwane przez zewnÄ™trzny kod (prawdopodobnie w gÅ‚Ã³wnej pÄ™tli <code class="docutils literal notranslate"><span class="pre">emscripten_set_main_loop</span></code>).</p>
</section>
<section id="sdlwindow-sdlwindow">
<h1><code class="docutils literal notranslate"><span class="pre">SDLWindow::SDLWindow()</span></code><a class="headerlink" href="#sdlwindow-sdlwindow" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domyÅ›lne rozmiary i stan.</p>
</section>
<section id="std-string-sdlwindow-getplatformtype">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">SDLWindow::getPlatformType()</span></code><a class="headerlink" href="#std-string-sdlwindow-getplatformtype" title="Link to this heading">#</a></h1>
<p>Zwraca <code class="docutils literal notranslate"><span class="pre">"WASM"</span></code>.</p>
</section>
<section id="id796">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id796" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/sdlwindow.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p>W <code class="docutils literal notranslate"><span class="pre">platformwindow.cpp</span></code> (niezaÅ‚Ä…czony, ale moÅ¼na siÄ™ domyÅ›laÄ‡), <code class="docutils literal notranslate"><span class="pre">g_window</span></code> jest ustawiane na instancjÄ™ <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code> gdy kompilacja odbywa siÄ™ dla Emscripten.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="sdlwindow-h">
<h1>ğŸ“„ sdlwindow.h<a class="headerlink" href="#sdlwindow-h" title="Link to this heading">#</a></h1>
</section>
<section id="id797">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id797" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">sdlwindow.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code>, ktÃ³ra jest implementacjÄ… <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> dla platformy Emscripten (WebAssembly), opartÄ… na bibliotece SDL.</p>
</section>
<section id="id798">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code><a class="headerlink" href="#id798" title="Link to this heading">#</a></h1>
</section>
<section id="id799">
<h1>Opis semantyczny<a class="headerlink" href="#id799" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code> jest klasÄ…-zaÅ›lepkÄ…, ktÃ³ra speÅ‚nia kontrakt interfejsu <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, ale wiÄ™kszoÅ›Ä‡ jej metod jest pusta. Logika okna dla Emscripten jest zazwyczaj obsÅ‚ugiwana przez gÅ‚Ã³wnÄ… pÄ™tlÄ™ zdefiniowanÄ… w <code class="docutils literal notranslate"><span class="pre">emscripten.h</span></code> i interakcje z API przeglÄ…darki, a nie przez tradycyjny model okienkowy.</p>
</section>
<section id="id800">
<h1>Metody publiczne<a class="headerlink" href="#id800" title="Link to this heading">#</a></h1>
<p>Deklaruje wszystkie metody wirtualne z <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> z pustymi implementacjami.</p>
</section>
<section id="id801">
<h1>Zmienne prywatne<a class="headerlink" href="#id801" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_egl...</span></code>: Pola zwiÄ…zane z EGL, odziedziczone po logice Androida, ale prawdopodobnie nieuÅ¼ywane w kontekÅ›cie Emscripten/SDL.</p></li>
</ul>
</section>
<section id="id802">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id802" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest to implementacja <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> uÅ¼ywana, gdy zdefiniowano <code class="docutils literal notranslate"><span class="pre">__EMSCRIPTEN__</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="unixcrashhandler-cpp">
<h1>ğŸ“„ unixcrashhandler.cpp<a class="headerlink" href="#unixcrashhandler-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id803">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id803" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">unixcrashhandler.cpp</span></code> zawiera implementacjÄ™ mechanizmu obsÅ‚ugi awarii (crash handler) dla systemÃ³w uniksowych (Linux, macOS). Jest kompilowany tylko wtedy, gdy zdefiniowano <code class="docutils literal notranslate"><span class="pre">CRASH_HANDLER</span></code> i platforma nie jest Windows ani Emscripten.</p>
</section>
<section id="id804">
<h1>Funkcje<a class="headerlink" href="#id804" title="Link to this heading">#</a></h1>
</section>
<section id="void-crashhandler-int-signum-siginfo-t-info-void-secret">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">crashHandler(int</span> <span class="pre">signum,</span> <span class="pre">siginfo_t*</span> <span class="pre">info,</span> <span class="pre">void*</span> <span class="pre">secret)</span></code><a class="headerlink" href="#void-crashhandler-int-signum-siginfo-t-info-void-secret" title="Link to this heading">#</a></h1>
</section>
<section id="id805">
<h1>Opis semantyczny<a class="headerlink" href="#id805" title="Link to this heading">#</a></h1>
<p>Jest to funkcja obsÅ‚ugi sygnaÅ‚u, ktÃ³ra jest wywoÅ‚ywana przez system operacyjny w momencie wystÄ…pienia krytycznego bÅ‚Ä™du (np. bÅ‚Ä…d segmentacji). Jej zadaniem jest zebranie jak najwiÄ™kszej iloÅ›ci informacji o stanie programu w momencie awarii i zapisanie ich do logu.</p>
</section>
<section id="id806">
<h1>DziaÅ‚anie<a class="headerlink" href="#id806" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Loguje komunikat â€œApplication crashedâ€.</p></li>
<li><p>Tworzy strumieÅ„ <code class="docutils literal notranslate"><span class="pre">stringstream</span></code> do budowy raportu.</p></li>
<li><p>Zapisuje podstawowe informacje o aplikacji (nazwa, wersja, data kompilacji itp.).</p></li>
<li><p>Pobiera kontekst procesora (<code class="docutils literal notranslate"><span class="pre">ucontext_t</span></code>) i zapisuje wartoÅ›ci rejestrÃ³w (np. <code class="docutils literal notranslate"><span class="pre">rip</span></code>, <code class="docutils literal notranslate"><span class="pre">rax</span></code> dla x64; <code class="docutils literal notranslate"><span class="pre">eip</span></code>, <code class="docutils literal notranslate"><span class="pre">eax</span></code> dla x86).</p></li>
<li><p>Generuje Å›lad stosu wywoÅ‚aÅ„ (backtrace) za pomocÄ… <code class="docutils literal notranslate"><span class="pre">backtrace()</span></code> i <code class="docutils literal notranslate"><span class="pre">backtrace_symbols()</span></code>.</p></li>
<li><p>Opcjonalnie (jeÅ›li zdefiniowano <code class="docutils literal notranslate"><span class="pre">DEMANGLE_BACKTRACE_SYMBOLS</span></code>), prÃ³buje zdemanglowaÄ‡ nazwy funkcji C++ w Å›ladzie stosu.</p></li>
<li><p>Zapisuje caÅ‚y raport do pliku <code class="docutils literal notranslate"><span class="pre">crash_report.log</span></code> i do gÅ‚Ã³wnego logu aplikacji.</p></li>
<li><p>Przywraca domyÅ›lnÄ… obsÅ‚ugÄ™ sygnaÅ‚Ã³w, aby umoÅ¼liwiÄ‡ systemowi operacyjnemu dokoÅ„czenie procesu zamykania aplikacji.</p></li>
</ol>
</section>
<section id="id807">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code><a class="headerlink" href="#id807" title="Link to this heading">#</a></h1>
<p>Rejestruje funkcjÄ™ <code class="docutils literal notranslate"><span class="pre">crashHandler</span></code> jako handler dla sygnaÅ‚Ã³w:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SIGILL</span></code>: Nielegalna instrukcja.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SIGSEGV</span></code>: Naruszenie ochrony pamiÄ™ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SIGFPE</span></code>: BÅ‚Ä…d operacji zmiennoprzecinkowej.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SIGABRT</span></code>: SygnaÅ‚ przerwania (np. z <code class="docutils literal notranslate"><span class="pre">assert</span></code>).</p></li>
</ul>
</section>
<section id="id808">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code><a class="headerlink" href="#id808" title="Link to this heading">#</a></h1>
<p>Pusta funkcja, deinstalacja nie jest zaimplementowana.</p>
</section>
<section id="id809">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id809" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/crashhandler.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>, <code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Do pobierania informacji o aplikacji.</p></li>
<li><p>NagÅ‚Ã³wki systemowe: <code class="docutils literal notranslate"><span class="pre">execinfo.h</span></code>, <code class="docutils literal notranslate"><span class="pre">ucontext.h</span></code>, <code class="docutils literal notranslate"><span class="pre">signal.h</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="unixplatform-cpp">
<h1>ğŸ“„ unixplatform.cpp<a class="headerlink" href="#unixplatform-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id810">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id810" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">unixplatform.cpp</span></code> zawiera implementacjÄ™ metod klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code> specyficznych dla systemÃ³w uniksowych (Linux, macOS). Jest kompilowany, gdy platforma nie jest ani Windows, ani Emscripten.</p>
</section>
<section id="klasa-platform-implementacja-dla-uniksa">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Uniksa)<a class="headerlink" href="#klasa-platform-implementacja-dla-uniksa" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Implementacja na Uniksie</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">spawnProcess(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">fork()</span></code> i <code class="docutils literal notranslate"><span class="pre">execv()</span></code> do uruchomienia nowego procesu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getProcessId()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">getpid()</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isProcessRunning(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">killProcess(...)</span></code></p></td>
<td class="text-left"><p>Puste implementacje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTempPath()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">/tmp/</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCurrentDir()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">getcwd()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">copyFile(...)</span></code></p></td>
<td class="text-left"><p>WywoÅ‚uje systemowÄ… komendÄ™ <code class="docutils literal notranslate"><span class="pre">cp</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">fileExists(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">stat()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">removeFile(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">unlink()</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getFileModificationTime(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">stat()</span></code> do odczytania <code class="docutils literal notranslate"><span class="pre">st_mtime</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openUrl(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">openDir(...)</span></code></p></td>
<td class="text-left"><p>WywoÅ‚uje systemowÄ… komendÄ™ <code class="docutils literal notranslate"><span class="pre">xdg-open</span></code>. MoÅ¼e to zrobiÄ‡ natychmiast lub w <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCPUName()</span></code></p></td>
<td class="text-left"><p>Parsuje plik <code class="docutils literal notranslate"><span class="pre">/proc/cpuinfo</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTotalSystemMemory()</span></code></p></td>
<td class="text-left"><p>Parsuje plik <code class="docutils literal notranslate"><span class="pre">/proc/meminfo</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMemoryUsage()</span></code></p></td>
<td class="text-left"><p>Pusta implementacja.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getOSName()</span></code></p></td>
<td class="text-left"><p>Parsuje plik <code class="docutils literal notranslate"><span class="pre">/etc/issue</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">traceback(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">backtrace()</span></code> i <code class="docutils literal notranslate"><span class="pre">backtrace_symbols()</span></code> do generowania Å›ladu stosu, z opcjonalnym demanglowaniem nazw funkcji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMacAddresses()</span></code></p></td>
<td class="text-left"><p>Pusta implementacja.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getUserName()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">getlogin_r()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getDlls()</span></code>, <code class="docutils literal notranslate"><span class="pre">getProcesses()</span></code>, <code class="docutils literal notranslate"><span class="pre">getWindows()</span></code></p></td>
<td class="text-left"><p>Puste implementacje (brak bezpoÅ›rednich odpowiednikÃ³w).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id811">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id811" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p>NagÅ‚Ã³wki systemowe POSIX (<code class="docutils literal notranslate"><span class="pre">unistd.h</span></code>, <code class="docutils literal notranslate"><span class="pre">sys/stat.h</span></code>, <code class="docutils literal notranslate"><span class="pre">execinfo.h</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do asynchronicznego otwierania URL/katalogÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="win32crashhandler-cpp">
<h1>ğŸ“„ win32crashhandler.cpp<a class="headerlink" href="#win32crashhandler-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id812">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id812" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">win32crashhandler.cpp</span></code> zawiera implementacjÄ™ mechanizmu obsÅ‚ugi awarii (crash handler) dla systemu Windows. Jest kompilowany, gdy zdefiniowano <code class="docutils literal notranslate"><span class="pre">WIN32</span></code> i <code class="docutils literal notranslate"><span class="pre">CRASH_HANDLER</span></code>.</p>
</section>
<section id="id813">
<h1>Funkcje<a class="headerlink" href="#id813" title="Link to this heading">#</a></h1>
</section>
<section id="const-char-getexceptionname-dword-exceptioncode">
<h1><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*getExceptionName(DWORD</span> <span class="pre">exceptionCode)</span></code><a class="headerlink" href="#const-char-getexceptionname-dword-exceptioncode" title="Link to this heading">#</a></h1>
<p>Funkcja pomocnicza, ktÃ³ra tÅ‚umaczy kod wyjÄ…tku Windows (np. <code class="docutils literal notranslate"><span class="pre">EXCEPTION_ACCESS_VIOLATION</span></code>) Ğ½Ğ° czytelnÄ… nazwÄ™.</p>
</section>
<section id="void-stacktrace-lpexception-pointers-e-std-stringstream-ss">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Stacktrace(LPEXCEPTION_POINTERS</span> <span class="pre">e,</span> <span class="pre">std::stringstream&amp;</span> <span class="pre">ss)</span></code><a class="headerlink" href="#void-stacktrace-lpexception-pointers-e-std-stringstream-ss" title="Link to this heading">#</a></h1>
<p>Generuje Å›lad stosu wywoÅ‚aÅ„. UÅ¼ywa funkcji z biblioteki <code class="docutils literal notranslate"><span class="pre">DbgHelp.dll</span></code> (<code class="docutils literal notranslate"><span class="pre">StackWalk</span></code>, <code class="docutils literal notranslate"><span class="pre">SymGetModuleBase</span></code>, <code class="docutils literal notranslate"><span class="pre">SymGetSymFromAddr</span></code>), aby przejÅ›Ä‡ przez stos i odczytaÄ‡ nazwy funkcji i moduÅ‚Ã³w.</p>
</section>
<section id="long-callback-exceptionhandler-pexception-pointers-e">
<h1><code class="docutils literal notranslate"><span class="pre">LONG</span> <span class="pre">CALLBACK</span> <span class="pre">ExceptionHandler(PEXCEPTION_POINTERS</span> <span class="pre">e)</span></code><a class="headerlink" href="#long-callback-exceptionhandler-pexception-pointers-e" title="Link to this heading">#</a></h1>
<p>Starsza wersja handlera. Generuje raport tekstowy podobny do wersji uniksowej, zapisuje go do pliku i wyÅ›wietla <code class="docutils literal notranslate"><span class="pre">MessageBox</span></code> z informacjÄ… o awarii.</p>
</section>
<section id="long-winapi-unhandledexceptionfilter2-pexception-pointers-exception">
<h1><code class="docutils literal notranslate"><span class="pre">LONG</span> <span class="pre">WINAPI</span> <span class="pre">UnhandledExceptionFilter2(PEXCEPTION_POINTERS</span> <span class="pre">exception)</span></code><a class="headerlink" href="#long-winapi-unhandledexceptionfilter2-pexception-pointers-exception" title="Link to this heading">#</a></h1>
<p>Nowsza, gÅ‚Ã³wna funkcja obsÅ‚ugi wyjÄ…tkÃ³w.</p>
<ul class="simple">
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ol class="arabic simple">
<li><p>Tworzy i zapisuje <strong>minidump</strong> awarii do plikÃ³w (<code class="docutils literal notranslate"><span class="pre">exception.dmp</span></code>, <code class="docutils literal notranslate"><span class="pre">exception_full.dmp</span></code>). Minidump to plik, ktÃ³ry moÅ¼na otworzyÄ‡ w debuggerze (np. Visual Studio, WinDbg) w celu poÅ›miertnej analizy stanu programu.</p></li>
<li><p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">quiet_crash</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code> (ustawiane przez <code class="docutils literal notranslate"><span class="pre">uninstallCrashHandler</span></code>), cicho zamyka aplikacjÄ™.</p></li>
<li><p>W przeciwnym razie, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">ExceptionHandler</span></code> w celu wygenerowania raportu tekstowego i wyÅ›wietlenia komunikatu.</p></li>
</ol>
</li>
</ul>
</section>
<section id="id814">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code><a class="headerlink" href="#id814" title="Link to this heading">#</a></h1>
<p>Rejestruje <code class="docutils literal notranslate"><span class="pre">UnhandledExceptionFilter2</span></code> jako globalny handler nieobsÅ‚uÅ¼onych wyjÄ…tkÃ³w za pomocÄ… <code class="docutils literal notranslate"><span class="pre">SetUnhandledExceptionFilter</span></code>.</p>
</section>
<section id="id815">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code><a class="headerlink" href="#id815" title="Link to this heading">#</a></h1>
<p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">quiet_crash</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>. Jest to uÅ¼ywane np. podczas aktualizacji, aby cicho zamknÄ…Ä‡ starÄ… wersjÄ™ klienta bez wyÅ›wietlania okna bÅ‚Ä™du.</p>
</section>
<section id="id816">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id816" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/crashhandler.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>, <code class="docutils literal notranslate"><span class="pre">core/application.h</span></code>, <code class="docutils literal notranslate"><span class="pre">core/resourcemanager.h</span></code>.</p></li>
<li><p>NagÅ‚Ã³wki Windows (<code class="docutils literal notranslate"><span class="pre">windows.h</span></code>, <code class="docutils literal notranslate"><span class="pre">imagehlp.h</span></code>, <code class="docutils literal notranslate"><span class="pre">DbgHelp.h</span></code>).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="win32platform-cpp">
<h1>ğŸ“„ win32platform.cpp<a class="headerlink" href="#win32platform-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id817">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id817" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">win32platform.cpp</span></code> zawiera implementacjÄ™ metod klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code> specyficznych dla systemu Windows.</p>
</section>
<section id="klasa-platform-implementacja-dla-windows">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Windows)<a class="headerlink" href="#klasa-platform-implementacja-dla-windows" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Implementacja na Windows</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">processArgs(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">CommandLineToArgvW</span></code> do poprawnego sparsowania argumentÃ³w wiersza poleceÅ„ (z obsÅ‚ugÄ… Unicode).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">spawnProcess(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">ShellExecuteW</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getProcessId()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">GetCurrentProcessId()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isProcessRunning(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">FindWindowA</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">killProcess(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">FindWindowA</span></code>, <code class="docutils literal notranslate"><span class="pre">GetProcessId</span></code> i <code class="docutils literal notranslate"><span class="pre">TerminateProcess</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTempPath()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">GetTempPathW</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCurrentDir()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">GetCurrentDirectoryW</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">copyFile(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">fileExists(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeFile(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywajÄ… odpowiednikÃ³w z WinAPI (<code class="docutils literal notranslate"><span class="pre">CopyFileW</span></code>, <code class="docutils literal notranslate"><span class="pre">GetFileAttributesW</span></code>, <code class="docutils literal notranslate"><span class="pre">DeleteFileW</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getFileModificationTime(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">GetFileAttributesExW</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openUrl(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">openDir(...)</span></code></p></td>
<td class="text-left"><p>UÅ¼ywajÄ… <code class="docutils literal notranslate"><span class="pre">ShellExecuteW</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCPUName()</span></code></p></td>
<td class="text-left"><p>Odczytuje wartoÅ›Ä‡ z rejestru systemowego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTotalSystemMemory()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">GlobalMemoryStatusEx</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMemoryUsage()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">GetProcessMemoryInfo</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getOSName()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">VerifyVersionInfo</span></code> i <code class="docutils literal notranslate"><span class="pre">GetProductInfo</span></code> do uzyskania szczegÃ³Å‚owej nazwy wersji Windows.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">traceback(...)</span></code></p></td>
<td class="text-left"><p>Prosta implementacja, zwraca tylko informacjÄ™ o miejscu wywoÅ‚ania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMacAddresses()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">GetAdaptersInfo</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getUserName()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">GetUserNameA</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getDlls()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">EnumProcessModules</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getProcesses()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">CreateToolhelp32Snapshot</span></code> do iteracji po procesach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getWindows()</span></code></p></td>
<td class="text-left"><p>UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">EnumWindows</span></code> do iteracji po otwartych oknach.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id818">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id818" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p>NagÅ‚Ã³wki WinAPI.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/string.hpp</span></code>: Do operacji na stringach.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="win32window-cpp">
<h1>ğŸ“„ win32window.cpp<a class="headerlink" href="#win32window-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id819">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id819" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">win32window.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code>, ktÃ³ra jest specyficznÄ… dla Windows implementacjÄ… <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>. ZarzÄ…dza ona natywnym oknem WinAPI, obsÅ‚ugÄ… zdarzeÅ„ i kontekstem graficznym (WGL dla OpenGL lub EGL dla OpenGL ES/DirectX).</p>
</section>
<section id="klasa-win32window">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code><a class="headerlink" href="#klasa-win32window" title="Link to this heading">#</a></h1>
</section>
<section id="win32window-win32window">
<h1><code class="docutils literal notranslate"><span class="pre">WIN32Window::WIN32Window()</span></code><a class="headerlink" href="#win32window-win32window" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje mapÄ™ klawiszy (<code class="docutils literal notranslate"><span class="pre">m_keyMap</span></code>), tÅ‚umaczÄ…c wirtualne kody klawiszy Windows (<code class="docutils literal notranslate"><span class="pre">VK_*</span></code>) na wewnÄ™trzne kody <code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code>.</p>
</section>
<section id="void-win32window-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::init()</span></code><a class="headerlink" href="#void-win32window-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje okno, wywoÅ‚ujÄ…c kolejno:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internalSetupTimerAccuracy()</span></code>: ZwiÄ™ksza precyzjÄ™ systemowego timera.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalCreateWindow()</span></code>: Rejestruje klasÄ™ okna i tworzy okno za pomocÄ… <code class="docutils literal notranslate"><span class="pre">CreateWindowExA</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalCreateGLContext()</span></code>: Tworzy kontekst graficzny (WGL lub EGL).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalRestoreGLContext()</span></code>: Aktywuje kontekst.</p></li>
</ol>
</section>
<section id="void-win32window-internalcreateglcontext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::internalCreateGLContext()</span></code><a class="headerlink" href="#void-win32window-internalcreateglcontext" title="Link to this heading">#</a></h1>
<p>Implementacja tworzenia kontekstu graficznego:</p>
<ul class="simple">
<li><p><strong>Dla OpenGL ES (<code class="docutils literal notranslate"><span class="pre">OPENGL_ES</span></code>)</strong>: UÅ¼ywa EGL (ANGLE), prÃ³bujÄ…c kolejno backendÃ³w D3D11, D3D9 i WARP, aby zapewniÄ‡ maksymalnÄ… kompatybilnoÅ›Ä‡.</p></li>
<li><p><strong>Dla standardowego OpenGL</strong>: UÅ¼ywa WGL. Tworzy <code class="docutils literal notranslate"><span class="pre">PIXELFORMATDESCRIPTOR</span></code>, wybiera format pikseli i tworzy kontekst za pomocÄ… <code class="docutils literal notranslate"><span class="pre">wglCreateContext</span></code>.</p></li>
</ul>
</section>
<section id="lresult-win32window-windowproc">
<h1><code class="docutils literal notranslate"><span class="pre">LRESULT</span> <span class="pre">WIN32Window::windowProc(...)</span></code><a class="headerlink" href="#lresult-win32window-windowproc" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna funkcja obsÅ‚ugi zdarzeÅ„ okna (Window Procedure). Odbiera komunikaty od systemu Windows.</p>
<ul class="simple">
<li><p>Przekazuje zdarzenia do <code class="docutils literal notranslate"><span class="pre">dispatcherWindowProc</span></code> w celu obsÅ‚ugi w gÅ‚Ã³wnym wÄ…tku aplikacji.</p></li>
<li><p>BezpoÅ›rednio obsÅ‚uguje niektÃ³re komunikaty, ktÃ³re muszÄ… byÄ‡ przetworzone synchronicznie (np. <code class="docutils literal notranslate"><span class="pre">WM_SETCURSOR</span></code>, <code class="docutils literal notranslate"><span class="pre">WM_GETMINMAXINFO</span></code>).</p></li>
</ul>
</section>
<section id="lresult-win32window-dispatcherwindowproc">
<h1><code class="docutils literal notranslate"><span class="pre">LRESULT</span> <span class="pre">WIN32Window::dispatcherWindowProc(...)</span></code><a class="headerlink" href="#lresult-win32window-dispatcherwindowproc" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana przez <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> w gÅ‚Ã³wnym wÄ…tku. TÅ‚umaczy komunikaty Windows (<code class="docutils literal notranslate"><span class="pre">WM_KEYDOWN</span></code>, <code class="docutils literal notranslate"><span class="pre">WM_LBUTTONDOWN</span></code>, <code class="docutils literal notranslate"><span class="pre">WM_MOUSEMOVE</span></code> itp.) na wewnÄ™trzne <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code> i przekazuje je do <code class="docutils literal notranslate"><span class="pre">m_onInputEvent</span></code> (czyli do <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>).</p>
</section>
<section id="void-win32window-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::poll()</span></code><a class="headerlink" href="#void-win32window-poll" title="Link to this heading">#</a></h1>
<p>Przetwarza kolejkÄ™ komunikatÃ³w Windows za pomocÄ… <code class="docutils literal notranslate"><span class="pre">PeekMessage</span></code>, <code class="docutils literal notranslate"><span class="pre">TranslateMessage</span></code> i <code class="docutils literal notranslate"><span class="pre">DispatchMessage</span></code>.</p>
</section>
<section id="void-win32window-swapbuffers">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::swapBuffers()</span></code><a class="headerlink" href="#void-win32window-swapbuffers" title="Link to this heading">#</a></h1>
<p>Zamienia bufory ekranu za pomocÄ… <code class="docutils literal notranslate"><span class="pre">SwapBuffers</span></code> (dla WGL) lub <code class="docutils literal notranslate"><span class="pre">eglSwapBuffers</span></code> (dla EGL).</p>
</section>
<section id="void-win32window-setverticalsync-bool-enable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::setVerticalSync(bool</span> <span class="pre">enable)</span></code><a class="headerlink" href="#void-win32window-setverticalsync-bool-enable" title="Link to this heading">#</a></h1>
<p>WÅ‚Ä…cza/wyÅ‚Ä…cza synchronizacjÄ™ pionowÄ…, uÅ¼ywajÄ…c rozszerzeÅ„ WGL (<code class="docutils literal notranslate"><span class="pre">WGL_EXT_swap_control</span></code>).</p>
</section>
<section id="id820">
<h1>Inne metody<a class="headerlink" href="#id820" title="Link to this heading">#</a></h1>
<p>ImplementujÄ… interfejs <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, opakowujÄ…c odpowiednie funkcje WinAPI (np. <code class="docutils literal notranslate"><span class="pre">SetWindowTextW</span></code> dla <code class="docutils literal notranslate"><span class="pre">setTitle</span></code>, <code class="docutils literal notranslate"><span class="pre">ShellExecuteW</span></code> dla <code class="docutils literal notranslate"><span class="pre">openUrl</span></code>).</p>
</section>
<section id="id821">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id821" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>NagÅ‚Ã³wki WinAPI.</p></li>
<li><p>NagÅ‚Ã³wki OpenGL/EGL/WGL.</p></li>
<li><p>WspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> i <code class="docutils literal notranslate"><span class="pre">Mouse</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="win32window-h">
<h1>ğŸ“„ win32window.h<a class="headerlink" href="#win32window-h" title="Link to this heading">#</a></h1>
</section>
<section id="id822">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id822" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">win32window.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code>, ktÃ³ra jest implementacjÄ… <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> dla systemu Windows.</p>
</section>
<section id="id823">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code><a class="headerlink" href="#id823" title="Link to this heading">#</a></h1>
</section>
<section id="id824">
<h1>Opis semantyczny<a class="headerlink" href="#id824" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code> enkapsuluje uchwyty i logikÄ™ zwiÄ…zanÄ… z natywnym oknem WinAPI. ZarzÄ…dza jego cyklem Å¼ycia, obsÅ‚ugÄ… komunikatÃ³w systemowych i tworzeniem kontekstu graficznego (WGL dla OpenGL lub EGL dla OpenGL ES przez ANGLE).</p>
</section>
<section id="metody-prywatne-i-chronione">
<h1>Metody prywatne i chronione<a class="headerlink" href="#metody-prywatne-i-chronione" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internal...()</span></code>: Grupa metod do wewnÄ™trznego zarzÄ…dzania oknem i kontekstem GL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">windowProc(...)</span></code>: GÅ‚Ã³wna funkcja obsÅ‚ugi komunikatÃ³w Windows.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dispatcherWindowProc(...)</span></code>: Handler komunikatÃ³w wykonywany w gÅ‚Ã³wnym wÄ…tku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">retranslateVirtualKey(...)</span></code>: TÅ‚umaczy kody klawiszy WinAPI.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getClientRect()</span></code>, <code class="docutils literal notranslate"><span class="pre">getWindowRect()</span></code>, <code class="docutils literal notranslate"><span class="pre">adjustWindowRect()</span></code>: Metody pomocnicze do geometrii okna.</p></li>
</ul>
</section>
<section id="id825">
<h1>Zmienne prywatne<a class="headerlink" href="#id825" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_window</span></code>: Uchwyt <code class="docutils literal notranslate"><span class="pre">HWND</span></code> do okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_instance</span></code>: Uchwyt <code class="docutils literal notranslate"><span class="pre">HINSTANCE</span></code> do moduÅ‚u aplikacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_deviceContext</span></code>: Uchwyt <code class="docutils literal notranslate"><span class="pre">HDC</span></code> do kontekstu urzÄ…dzenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursors</span></code>: Wektor uchwytÃ³w <code class="docutils literal notranslate"><span class="pre">HCURSOR</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursor</span></code>, <code class="docutils literal notranslate"><span class="pre">m_defaultCursor</span></code>: Aktywny i domyÅ›lny kursor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_hidden</span></code>: Flaga ukrycia okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_egl...</span></code> / <code class="docutils literal notranslate"><span class="pre">m_wglContext</span></code>: Uchwyty do zasobÃ³w EGL lub WGL.</p></li>
</ul>
</section>
<section id="id826">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id826" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code>: Klasa bazowa.</p></li>
<li><p>NagÅ‚Ã³wki WinAPI i OpenGL/EGL.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="x11window-h">
<h1>ğŸ“„ x11window.h<a class="headerlink" href="#x11window-h" title="Link to this heading">#</a></h1>
</section>
<section id="id827">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id827" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">x11window.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">X11Window</span></code>, ktÃ³ra jest implementacjÄ… <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> dla systemÃ³w uniksowych uÅ¼ywajÄ…cych serwera X11 (gÅ‚Ã³wnie Linux).</p>
</section>
<section id="klasa-x11window">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">X11Window</span></code><a class="headerlink" href="#klasa-x11window" title="Link to this heading">#</a></h1>
</section>
<section id="id828">
<h1>Opis semantyczny<a class="headerlink" href="#id828" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">X11Window</span></code> zarzÄ…dza natywnym oknem X11, obsÅ‚ugÄ… jego zdarzeÅ„ oraz tworzeniem kontekstu graficznego (GLX dla OpenGL lub EGL dla OpenGL ES).</p>
</section>
<section id="id829">
<h1>Metody prywatne i chronione<a class="headerlink" href="#id829" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internal...()</span></code>: Grupa metod do wewnÄ™trznego zarzÄ…dzania oknem i kontekstem GL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getExtensionProcAddress(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">isExtensionSupported(...)</span></code>: Do obsÅ‚ugi rozszerzeÅ„ GLX/EGL.</p></li>
</ul>
</section>
<section id="id830">
<h1>Zmienne prywatne<a class="headerlink" href="#id830" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_display</span></code>: WskaÅºnik na <code class="docutils literal notranslate"><span class="pre">Display</span></code> (poÅ‚Ä…czenie z serwerem X11).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_visual</span></code>: Informacje o wizualu (gÅ‚Ä™bia kolorÃ³w itp.).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_window</span></code>: ID okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_rootWindow</span></code>: ID okna gÅ‚Ã³wnego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_colormap</span></code>: Mapa kolorÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursors</span></code>: Wektor kursorÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursor</span></code>, <code class="docutils literal notranslate"><span class="pre">m_hiddenCursor</span></code>: Aktywny i ukryty kursor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_xim</span></code>, <code class="docutils literal notranslate"><span class="pre">m_xic</span></code>: Do obsÅ‚ugi metod wprowadzania tekstu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_wmDelete</span></code>: Atom do obsÅ‚ugi zdarzenia zamkniÄ™cia okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glxContext</span></code> / <code class="docutils literal notranslate"><span class="pre">m_egl...</span></code>: Uchwyty do zasobÃ³w GLX lub EGL.</p></li>
</ul>
</section>
<section id="id831">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id831" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code>: Klasa bazowa.</p></li>
<li><p>NagÅ‚Ã³wki X11, GLX, EGL.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="x11window-cpp">
<h1>ğŸ“„ x11window.cpp<a class="headerlink" href="#x11window-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id832">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id832" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">x11window.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">X11Window</span></code> dla systemÃ³w uniksowych z X11.</p>
</section>
<section id="id833">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">X11Window</span></code><a class="headerlink" href="#id833" title="Link to this heading">#</a></h1>
</section>
<section id="x11window-x11window">
<h1><code class="docutils literal notranslate"><span class="pre">X11Window::X11Window()</span></code><a class="headerlink" href="#x11window-x11window" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje mapÄ™ klawiszy, tÅ‚umaczÄ…c <code class="docutils literal notranslate"><span class="pre">KeySym</span></code> z X11 na <code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code>.</p>
</section>
<section id="void-x11window-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::init()</span></code><a class="headerlink" href="#void-x11window-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje okno, wywoÅ‚ujÄ…c kolejno:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internalOpenDisplay()</span></code>: Otwiera poÅ‚Ä…czenie z serwerem X11.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalCheckGL()</span></code>: Sprawdza dostÄ™pnoÅ›Ä‡ GLX/EGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalChooseGLVisual()</span></code>: Wybiera odpowiedni format wizualny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalCreateGLContext()</span></code>: Tworzy kontekst graficzny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalCreateWindow()</span></code>: Tworzy okno X11.</p></li>
</ol>
</section>
<section id="void-x11window-internalcreatewindow">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::internalCreateWindow()</span></code><a class="headerlink" href="#void-x11window-internalcreatewindow" title="Link to this heading">#</a></h1>
<p>Tworzy okno za pomocÄ… <code class="docutils literal notranslate"><span class="pre">XCreateWindow</span></code>, ustawia atrybuty, w tym maskÄ™ zdarzeÅ„, i przygotowuje obsÅ‚ugÄ™ zamkniÄ™cia okna przez menedÅ¼era okien. Inicjalizuje rÃ³wnieÅ¼ XIM/XIC do obsÅ‚ugi wprowadzania tekstu.</p>
</section>
<section id="void-x11window-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::poll()</span></code><a class="headerlink" href="#void-x11window-poll" title="Link to this heading">#</a></h1>
<p>Przetwarza kolejkÄ™ zdarzeÅ„ X11 za pomocÄ… <code class="docutils literal notranslate"><span class="pre">XPending</span></code> i <code class="docutils literal notranslate"><span class="pre">XNextEvent</span></code>. TÅ‚umaczy zdarzenia X11 (<code class="docutils literal notranslate"><span class="pre">KeyPress</span></code>, <code class="docutils literal notranslate"><span class="pre">ButtonPress</span></code>, <code class="docutils literal notranslate"><span class="pre">MotionNotify</span></code>, <code class="docutils literal notranslate"><span class="pre">ConfigureNotify</span></code> itp.) na wewnÄ™trzne <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code> i wywoÅ‚uje odpowiednie <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> w <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>. ObsÅ‚uguje rÃ³wnieÅ¼ logikÄ™ auto-powtarzania klawiszy i wprowadzania tekstu.</p>
</section>
<section id="void-x11window-swapbuffers">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::swapBuffers()</span></code><a class="headerlink" href="#void-x11window-swapbuffers" title="Link to this heading">#</a></h1>
<p>Zamienia bufory ekranu za pomocÄ… <code class="docutils literal notranslate"><span class="pre">glXSwapBuffers</span></code> (dla GLX) lub <code class="docutils literal notranslate"><span class="pre">eglSwapBuffers</span></code> (dla EGL).</p>
</section>
<section id="void-x11window-setfullscreen-bool-fullscreen">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::setFullscreen(bool</span> <span class="pre">fullscreen)</span></code><a class="headerlink" href="#void-x11window-setfullscreen-bool-fullscreen" title="Link to this heading">#</a></h1>
<p>Zmienia stan okna na peÅ‚noekranowy, wysyÅ‚ajÄ…c odpowiedni komunikat <code class="docutils literal notranslate"><span class="pre">_NET_WM_STATE</span></code> do menedÅ¼era okien.</p>
</section>
<section id="void-x11window-setclipboardtext-i-getclipboardtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::setClipboardText(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">getClipboardText()</span></code><a class="headerlink" href="#void-x11window-setclipboardtext-i-getclipboardtext" title="Link to this heading">#</a></h1>
<p>ImplementujÄ… obsÅ‚ugÄ™ schowka za pomocÄ… mechanizmu selekcji X11.</p>
</section>
<section id="id834">
<h1>Inne metody<a class="headerlink" href="#id834" title="Link to this heading">#</a></h1>
<p>ImplementujÄ… interfejs <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, opakowujÄ…c odpowiednie funkcje X11 (np. <code class="docutils literal notranslate"><span class="pre">XStoreName</span></code> dla <code class="docutils literal notranslate"><span class="pre">setTitle</span></code>, <code class="docutils literal notranslate"><span class="pre">XMoveWindow</span></code> dla <code class="docutils literal notranslate"><span class="pre">move</span></code>).</p>
</section>
<section id="id835">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id835" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>NagÅ‚Ã³wki X11, GLX, EGL.</p></li>
<li><p>WspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="proxy-cpp">
<h1>ğŸ“„ proxy.cpp<a class="headerlink" href="#proxy-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id836">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id836" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">proxy.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>, ktÃ³ra zarzÄ…dza systemem proxy do komunikacji z serwerem gry.</p>
</section>
<section id="id837">
<h1>Zmienne globalne<a class="headerlink" href="#id837" title="Link to this heading">#</a></h1>
</section>
<section id="g-proxy">
<h1><code class="docutils literal notranslate"><span class="pre">g_proxy</span></code><a class="headerlink" href="#g-proxy" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p>
</section>
<section id="klasa-proxymanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code><a class="headerlink" href="#klasa-proxymanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-proxymanager-init-i-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">terminate()</span></code><a class="headerlink" href="#void-proxymanager-init-i-terminate" title="Link to this heading">#</a></h1>
<p>UruchamiajÄ… i zatrzymujÄ… dedykowany wÄ…tek sieciowy, w ktÃ³rym dziaÅ‚a <code class="docutils literal notranslate"><span class="pre">io_context</span></code> dla operacji proxy.</p>
</section>
<section id="void-proxymanager-clear">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::clear()</span></code><a class="headerlink" href="#void-proxymanager-clear" title="Link to this heading">#</a></h1>
<p>Zamyka wszystkie aktywne sesje i poÅ‚Ä…czenia z serwerami proxy.</p>
</section>
<section id="bool-proxymanager-isactive">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ProxyManager::isActive()</span></code><a class="headerlink" href="#bool-proxymanager-isactive" title="Link to this heading">#</a></h1>
<p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li skonfigurowano co najmniej jeden serwer proxy.</p>
</section>
<section id="void-proxymanager-addproxy">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::addProxy(...)</span></code><a class="headerlink" href="#void-proxymanager-addproxy" title="Link to this heading">#</a></h1>
<p>Dodaje nowy serwer proxy do puli. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i uruchamia go.</p>
</section>
<section id="void-proxymanager-removeproxy">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::removeProxy(...)</span></code><a class="headerlink" href="#void-proxymanager-removeproxy" title="Link to this heading">#</a></h1>
<p>Usuwa serwer proxy z puli.</p>
</section>
<section id="uint32-t-proxymanager-addsession">
<h1><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">ProxyManager::addSession(...)</span></code><a class="headerlink" href="#uint32-t-proxymanager-addsession" title="Link to this heading">#</a></h1>
<p>Tworzy nowÄ… sesjÄ™ proxy dla poÅ‚Ä…czenia z serwerem gry. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">Session</span></code> i zwraca jego unikalne ID.</p>
</section>
<section id="void-proxymanager-removesession">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::removeSession(...)</span></code><a class="headerlink" href="#void-proxymanager-removesession" title="Link to this heading">#</a></h1>
<p>Zamyka sesjÄ™ o danym ID.</p>
</section>
<section id="void-proxymanager-send">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::send(...)</span></code><a class="headerlink" href="#void-proxymanager-send" title="Link to this heading">#</a></h1>
<p>WysyÅ‚a pakiet w ramach danej sesji. Znajduje odpowiedni obiekt <code class="docutils literal notranslate"><span class="pre">Session</span></code> i przekazuje mu pakiet.</p>
</section>
<section id="int-proxymanager-getping">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ProxyManager::getPing()</span></code><a class="headerlink" href="#int-proxymanager-getping" title="Link to this heading">#</a></h1>
<p>Zwraca najlepszy (najniÅ¼szy) ping spoÅ›rÃ³d wszystkich aktywnych i poÅ‚Ä…czonych serwerÃ³w proxy.</p>
</section>
<section id="id838">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id838" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy_client.h</span></code>: Definicje klas <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do tunelowania poÅ‚Ä…czenia przez serwery proxy.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="proxy-h">
<h1>ğŸ“„ proxy.h<a class="headerlink" href="#proxy-h" title="Link to this heading">#</a></h1>
</section>
<section id="id839">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id839" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">proxy.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_proxy</span></code>) odpowiedzialnym za zarzÄ…dzanie caÅ‚ym systemem poÅ‚Ä…czeÅ„ proxy. Stanowi on gÅ‚Ã³wny punkt wejÅ›cia do konfiguracji i wykorzystania tunelowania ruchu sieciowego.</p>
</section>
<section id="id840">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code><a class="headerlink" href="#id840" title="Link to this heading">#</a></h1>
</section>
<section id="id841">
<h1>Opis semantyczny<a class="headerlink" href="#id841" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code> zarzÄ…dza pulÄ… dostÄ™pnych serwerÃ³w proxy (obiekty <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>) oraz pulÄ… aktywnych sesji klienta (obiekty <code class="docutils literal notranslate"><span class="pre">Session</span></code>). Jego zadaniem jest koordynacja miÄ™dzy sesjami a serwerami proxy, dynamiczne wybieranie najlepszych serwerÃ³w do tunelowania ruchu oraz dostarczanie interfejsu do zarzÄ…dzania tym procesem z poziomu aplikacji i skryptÃ³w Lua. DziaÅ‚a w dedykowanym wÄ…tku sieciowym, aby nie blokowaÄ‡ gÅ‚Ã³wnego wÄ…tku aplikacji.</p>
</section>
<section id="id842">
<h1>Metody publiczne<a class="headerlink" href="#id842" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Uruchamia i zatrzymuje wÄ…tek sieciowy <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Zamyka wszystkie aktywne sesje i poÅ‚Ä…czenia z serwerami proxy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setMaxActiveProxies(int</span> <span class="pre">value)</span></code></p></td>
<td class="text-left"><p>Ustawia, przez ile najlepszych (pod wzglÄ™dem pingu) serwerÃ³w proxy ma byÄ‡ jednoczeÅ›nie tunelowany ruch dla kaÅ¼dej sesji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isActive()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li co najmniej jeden serwer proxy jest skonfigurowany.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addProxy(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">removeProxy(...)</span></code></p></td>
<td class="text-left"><p>Dodaje lub usuwa serwer proxy z puli dostÄ™pnych serwerÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">addSession(...)</span></code></p></td>
<td class="text-left"><p>Tworzy nowÄ… sesjÄ™ proxy dla poÅ‚Ä…czenia z serwerem gry. Zwraca unikalne ID sesji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">removeSession(uint32_t</span> <span class="pre">sessionId)</span></code></p></td>
<td class="text-left"><p>Zamyka i usuwa sesjÄ™ o podanym ID.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">send(uint32_t</span> <span class="pre">sessionId,</span> <span class="pre">ProxyPacketPtr</span> <span class="pre">packet)</span></code></p></td>
<td class="text-left"><p>WysyÅ‚a pakiet w ramach okreÅ›lonej sesji. <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code> przekazuje go do odpowiedniego obiektu <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::map&lt;...&gt;</span> <span class="pre">getProxies()</span></code></p></td>
<td class="text-left"><p>Zwraca mapÄ™ dostÄ™pnych serwerÃ³w proxy wraz z ich pingiem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::map&lt;...&gt;</span> <span class="pre">getProxiesDebugInfo()</span></code></p></td>
<td class="text-left"><p>Zwraca szczegÃ³Å‚owe informacje diagnostyczne o kaÅ¼dym proxy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getPing()</span></code></p></td>
<td class="text-left"><p>Zwraca najniÅ¼szy ping spoÅ›rÃ³d wszystkich aktywnych serwerÃ³w proxy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id843">
<h1>Zmienne prywatne<a class="headerlink" href="#id843" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_io</span></code>: Kontekst <code class="docutils literal notranslate"><span class="pre">io_context</span></code> z Boost.Asio, na ktÃ³rym dziaÅ‚ajÄ… wszystkie operacje sieciowe proxy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_guard</span></code>: Obiekt <code class="docutils literal notranslate"><span class="pre">work_guard</span></code>, ktÃ³ry zapobiega zakoÅ„czeniu dziaÅ‚ania <code class="docutils literal notranslate"><span class="pre">m_io</span></code>, dopÃ³ki <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code> jest aktywny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_working</span></code>: Flaga kontrolujÄ…ca dziaÅ‚anie wÄ…tku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_thread</span></code>: Dedykowany wÄ…tek dla operacji sieciowych proxy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_maxActiveProxies</span></code>: Maksymalna liczba proxy uÅ¼ywanych przez jednÄ… sesjÄ™.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_proxies</span></code>: Lista wskaÅºnikÃ³w na dostÄ™pne obiekty <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_sessions</span></code>: Lista wskaÅºnikÃ³w na aktywne obiekty <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p></li>
</ul>
</section>
<section id="id844">
<h1>Zmienne globalne<a class="headerlink" href="#id844" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_proxy</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p></li>
</ul>
</section>
<section id="id845">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id845" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy_client.h</span></code>: Definicje klas <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i <code class="docutils literal notranslate"><span class="pre">Session</span></code>, ktÃ³rymi zarzÄ…dza.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do tworzenia tunelowanych poÅ‚Ä…czeÅ„.</p></li>
<li><p>Jej API jest dostÄ™pne w Lua (przez <code class="docutils literal notranslate"><span class="pre">luafunctions.cpp</span></code>), co pozwala na dynamicznÄ… konfiguracjÄ™ proxy ze skryptÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="proxy-client-h">
<h1>ğŸ“„ proxy_client.h<a class="headerlink" href="#proxy-client-h" title="Link to this heading">#</a></h1>
</section>
<section id="id846">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id846" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">proxy_client.h</span></code> deklaruje dwie kluczowe klasy dla systemu proxy: <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i <code class="docutils literal notranslate"><span class="pre">Session</span></code>. Te klasy implementujÄ… logikÄ™ klienta, ktÃ³ry Å‚Ä…czy siÄ™ z serwerami proxy i tuneluje przez nie ruch sieciowy.</p>
</section>
<section id="id847">
<h1>Definicje typÃ³w<a class="headerlink" href="#id847" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ProxyPacket</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint8_t&gt;</span></code>, reprezentuje pojedynczy pakiet.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ProxyPacketPtr</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::shared_ptr&lt;ProxyPacket&gt;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Session</span></code>, <code class="docutils literal notranslate"><span class="pre">SessionPtr</span></code>: Wczesna deklaracja i alias dla wskaÅºnika na <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p></li>
</ul>
</section>
<section id="klasa-proxy">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Proxy</span></code><a class="headerlink" href="#klasa-proxy" title="Link to this heading">#</a></h1>
</section>
<section id="id848">
<h1>Opis semantyczny<a class="headerlink" href="#id848" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Proxy</span></code> reprezentuje pojedyncze, trwaÅ‚e poÅ‚Ä…czenie z jednym serwerem proxy. Jego zadaniem jest utrzymanie poÅ‚Ä…czenia, monitorowanie jego jakoÅ›ci (ping), przesyÅ‚anie pakietÃ³w dla wielu sesji oraz raportowanie swojego stanu do <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p>
</section>
<section id="stale-i-typy-wyliczeniowe">
<h1>StaÅ‚e i typy wyliczeniowe<a class="headerlink" href="#stale-i-typy-wyliczeniowe" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CHECK_INTERVAL</span></code>: InterwaÅ‚ (w ms) sprawdzania stanu poÅ‚Ä…czenia i wysyÅ‚ania pingÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BUFFER_SIZE</span></code>: Rozmiar bufora odczytu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">ProxyState</span></code>: Definiuje stany, w jakich moÅ¼e znajdowaÄ‡ siÄ™ poÅ‚Ä…czenie z proxy (np. <code class="docutils literal notranslate"><span class="pre">STATE_NOT_CONNECTED</span></code>, <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTING</span></code>, <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTED</span></code>).</p></li>
</ul>
</section>
<section id="id849">
<h1>Metody publiczne<a class="headerlink" href="#id849" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Proxy(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">start()</span></code></p></td>
<td class="text-left"><p>Inicjuje cykl Å¼ycia obiektu, dodajÄ…c go do globalnej puli i uruchamiajÄ…c pÄ™tlÄ™ <code class="docutils literal notranslate"><span class="pre">check</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zamyka poÅ‚Ä…czenie i usuwa obiekt z globalnej puli.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">getPing()</span></code></p></td>
<td class="text-left"><p>Zwraca opÃ³Åºnienie do serwera proxy, uwzglÄ™dniajÄ…c priorytet.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">getRealPing()</span></code></p></td>
<td class="text-left"><p>Zwraca rzeczywiste opÃ³Åºnienie (bez priorytetu).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isConnected()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li poÅ‚Ä…czenie jest w stanie <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTED</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getDebugInfo()</span></code></p></td>
<td class="text-left"><p>Zwraca informacje diagnostyczne.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isActive()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li przez to proxy przechodzi ruch co najmniej jednej sesji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addSession(...)</span></code></p></td>
<td class="text-left"><p>WysyÅ‚a do serwera proxy polecenie utworzenia nowej sesji tunelowania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">removeSession(...)</span></code></p></td>
<td class="text-left"><p>WysyÅ‚a polecenie zamkniÄ™cia sesji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">send(...)</span></code></p></td>
<td class="text-left"><p>Dodaje pakiet do kolejki wysyÅ‚ania do serwera proxy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasa-session">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Session</span></code><a class="headerlink" href="#klasa-session" title="Link to this heading">#</a></h1>
</section>
<section id="id850">
<h1>Opis semantyczny<a class="headerlink" href="#id850" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Session</span></code> reprezentuje pojedynczÄ… sesjÄ™ klienta z serwerem gry, ktÃ³ra jest tunelowana przez jeden lub wiÄ™cej serwerÃ³w proxy. MoÅ¼e dziaÅ‚aÄ‡ w dwÃ³ch trybach: jako serwer (akceptujÄ…c lokalne poÅ‚Ä…czenie od klienta gry) lub jako klient (gdy jest tworzona bezpoÅ›rednio przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>). Odpowiada za dynamiczne wybieranie najlepszych <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> do wysyÅ‚ania pakietÃ³w oraz za re-asemblacjÄ™ pakietÃ³w przychodzÄ…cych, ktÃ³re mogÄ… docieraÄ‡ z rÃ³Å¼nych <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i w rÃ³Å¼nej kolejnoÅ›ci.</p>
</section>
<section id="id851">
<h1>StaÅ‚e<a class="headerlink" href="#id851" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CHECK_INTERVAL</span></code>: InterwaÅ‚ (w ms) sprawdzania stanu sesji i wyboru proxy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BUFFER_SIZE</span></code>: Rozmiar bufora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIMEOUT</span></code>: Czas (w ms) braku aktywnoÅ›ci, po ktÃ³rym sesja jest zamykana.</p></li>
</ul>
</section>
<section id="id852">
<h1>Metody publiczne<a class="headerlink" href="#id852" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Session(...)</span></code></p></td>
<td class="text-left"><p>Konstruktory dla trybu serwera i klienta.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">getId()</span></code></p></td>
<td class="text-left"><p>Zwraca unikalne ID sesji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">start(...)</span></code></p></td>
<td class="text-left"><p>Uruchamia sesjÄ™, rozpoczynajÄ…c pÄ™tlÄ™ <code class="docutils literal notranslate"><span class="pre">check</span></code> i (w trybie serwera) nasÅ‚uchiwanie na pakiety od klienta.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate(...)</span></code></p></td>
<td class="text-left"><p>Zamyka sesjÄ™, informujÄ…c powiÄ…zane <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i klienta.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">onPacket(...)</span></code></p></td>
<td class="text-left"><p>Handler dla pakietÃ³w przychodzÄ…cych <strong>od klienta gry</strong>. Opakowuje je w protokÃ³Å‚ proxy i wysyÅ‚a.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">onProxyPacket(...)</span></code></p></td>
<td class="text-left"><p>Handler dla pakietÃ³w przychodzÄ…cych <strong>od serwerÃ³w proxy</strong>. Odpakowuje je, sprawdza kolejnoÅ›Ä‡ i przekazuje do klienta gry.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id853">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id853" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Boost.Asio</strong>: Fundamentalna zaleÅ¼noÅ›Ä‡ do wszystkich operacji sieciowych.</p></li>
<li><p>Klasy <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i <code class="docutils literal notranslate"><span class="pre">Session</span></code> sÄ… ze sobÄ… Å›ciÅ›le powiÄ…zane. <code class="docutils literal notranslate"><span class="pre">Session</span></code> utrzymuje zbiÃ³r <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>, przez ktÃ³re wysyÅ‚a dane. <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> jest Å›wiadome sesji, ktÃ³re obsÅ‚uguje.</p></li>
<li><p>Obie klasy sÄ… zarzÄ…dzane przez <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p></li>
<li><p>W projekcie istniejÄ… globalne, dostÄ™pne w wÄ…tku <code class="docutils literal notranslate"><span class="pre">io_context</span></code> kontenery <code class="docutils literal notranslate"><span class="pre">g_sessions</span></code> i <code class="docutils literal notranslate"><span class="pre">g_proxies</span></code> do wzajemnej komunikacji.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="proxy-client-cpp">
<h1>ğŸ“„ proxy_client.cpp<a class="headerlink" href="#proxy-client-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id854">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id854" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">proxy_client.cpp</span></code> zawiera implementacjÄ™ logiki dla klas <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i <code class="docutils literal notranslate"><span class="pre">Session</span></code>, ktÃ³re razem tworzÄ… system klienta proxy. Kod jest w peÅ‚ni asynchroniczny i oparty na Boost.Asio.</p>
</section>
<section id="id855">
<h1>Zmienne globalne<a class="headerlink" href="#id855" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_sessions</span></code>: Globalna mapa (<code class="docutils literal notranslate"><span class="pre">std::map</span></code>) przechowujÄ…ca sÅ‚abe wskaÅºniki (<code class="docutils literal notranslate"><span class="pre">std::weak_ptr</span></code>) do aktywnych sesji, indeksowane po ich ID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_proxies</span></code>: Globalny zbiÃ³r (<code class="docutils literal notranslate"><span class="pre">std::set</span></code>) przechowujÄ…cy wskaÅºniki do aktywnych obiektÃ³w <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UID</span></code>: Unikalny identyfikator tej instancji klienta, uÅ¼ywany w pakietach ping.</p></li>
</ul>
</section>
<section id="klasa-proxy-implementacja">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> (implementacja)<a class="headerlink" href="#klasa-proxy-implementacja" title="Link to this heading">#</a></h1>
</section>
<section id="void-proxy-check">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::check(...)</span></code><a class="headerlink" href="#void-proxy-check" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda cyklu Å¼ycia <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>. DziaÅ‚a jak maszyna stanÃ³w, wywoÅ‚ywana cyklicznie przez <code class="docutils literal notranslate"><span class="pre">m_timer</span></code>.</p>
<ul class="simple">
<li><p>W stanie <code class="docutils literal notranslate"><span class="pre">STATE_NOT_CONNECTED</span></code>, inicjuje <code class="docutils literal notranslate"><span class="pre">connect()</span></code>.</p></li>
<li><p>W stanie <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTING</span></code>, sprawdza timeout dla poÅ‚Ä…czenia.</p></li>
<li><p>W stanie <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTED</span></code>, wysyÅ‚a pakiety ping, jeÅ›li nie oczekuje na odpowiedÅº.</p></li>
<li><p>W stanie <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTING_WAIT_FOR_PING</span></code>, czeka na pierwszÄ… odpowiedÅº ping.</p></li>
</ul>
</section>
<section id="void-proxy-connect">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::connect()</span></code><a class="headerlink" href="#void-proxy-connect" title="Link to this heading">#</a></h1>
<p>Asynchronicznie rozwiÄ…zuje nazwÄ™ hosta, a nastÄ™pnie Å‚Ä…czy siÄ™ z serwerem proxy. Po pomyÅ›lnym poÅ‚Ä…czeniu, ustawia opcje gniazda (<code class="docutils literal notranslate"><span class="pre">no_delay</span></code>, rozmiary buforÃ³w), rozpoczyna odczyt nagÅ‚Ã³wkÃ³w i wysyÅ‚a pierwszy ping.</p>
</section>
<section id="void-proxy-disconnect">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::disconnect()</span></code><a class="headerlink" href="#void-proxy-disconnect" title="Link to this heading">#</a></h1>
<p>Zamyka gniazdo i resetuje stan do <code class="docutils literal notranslate"><span class="pre">STATE_NOT_CONNECTED</span></code>.</p>
</section>
<section id="void-proxy-ping">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::ping()</span></code><a class="headerlink" href="#void-proxy-ping" title="Link to this heading">#</a></h1>
<p>WysyÅ‚a pakiet kontrolny â€œpingâ€ do serwera proxy. Pakiet zawiera unikalne ID klienta (<code class="docutils literal notranslate"><span class="pre">UID</span></code>) i ostatni zmierzony ping.</p>
</section>
<section id="void-proxy-onping-uint32-t-packetid">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::onPing(uint32_t</span> <span class="pre">packetId)</span></code><a class="headerlink" href="#void-proxy-onping-uint32-t-packetid" title="Link to this heading">#</a></h1>
<p>Handler odpowiedzi na ping. Oblicza nowy ping na podstawie czasu wysÅ‚ania i odebrania pakietu. JeÅ›li to byÅ‚ pierwszy ping, zmienia stan na <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTED</span></code>.</p>
</section>
<section id="void-proxy-readheader-i-onheader">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::readHeader()</span></code> i <code class="docutils literal notranslate"><span class="pre">onHeader(...)</span></code><a class="headerlink" href="#void-proxy-readheader-i-onheader" title="Link to this heading">#</a></h1>
<p>ImplementujÄ… dwuetapowy odczyt pakietu: najpierw odczytywany jest 2-bajtowy nagÅ‚Ã³wek z rozmiarem, a nastÄ™pnie reszta pakietu.</p>
</section>
<section id="void-proxy-onpacket">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::onPacket(...)</span></code><a class="headerlink" href="#void-proxy-onpacket" title="Link to this heading">#</a></h1>
<p>Przetwarza przychodzÄ…cy pakiet. Na podstawie <code class="docutils literal notranslate"><span class="pre">sessionId</span></code> decyduje, czy jest to pakiet danych dla sesji, czy pakiet kontrolny (ping, zamkniÄ™cie sesji). Znajduje odpowiedniÄ… sesjÄ™ w <code class="docutils literal notranslate"><span class="pre">g_sessions</span></code> i przekazuje jej dane.</p>
</section>
<section id="void-proxy-send">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::send(...)</span></code><a class="headerlink" href="#void-proxy-send" title="Link to this heading">#</a></h1>
<p>Implementuje kolejkÄ™ wysyÅ‚ania. Dodaje pakiet do <code class="docutils literal notranslate"><span class="pre">m_sendQueue</span></code> i rozpoczyna operacjÄ™ <code class="docutils literal notranslate"><span class="pre">async_write</span></code>, jeÅ›li kolejka byÅ‚a pusta.</p>
</section>
<section id="klasa-session-implementacja">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Session</span></code> (implementacja)<a class="headerlink" href="#klasa-session-implementacja" title="Link to this heading">#</a></h1>
</section>
<section id="void-session-start-int-maxconnections">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::start(int</span> <span class="pre">maxConnections)</span></code><a class="headerlink" href="#void-session-start-int-maxconnections" title="Link to this heading">#</a></h1>
<p>Dodaje sesjÄ™ do globalnej mapy <code class="docutils literal notranslate"><span class="pre">g_sessions</span></code>, uruchamia pÄ™tlÄ™ <code class="docutils literal notranslate"><span class="pre">check</span></code> i, w trybie serwera, rozpoczyna odczyt danych od klienta gry.</p>
</section>
<section id="void-session-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::terminate(...)</span></code><a class="headerlink" href="#void-session-terminate" title="Link to this heading">#</a></h1>
<p>Zamyka sesjÄ™, informuje wszystkie powiÄ…zane <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> o zamkniÄ™ciu, zamyka gniazdo (jeÅ›li jest) i wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> rozÅ‚Ä…czenia.</p>
</section>
<section id="void-session-check">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::check(...)</span></code><a class="headerlink" href="#void-session-check" title="Link to this heading">#</a></h1>
<p>Metoda cykliczna. Sprawdza timeout braku aktywnoÅ›ci i wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">selectProxies</span></code> w celu optymalizacji routingu.</p>
</section>
<section id="void-session-selectproxies">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::selectProxies()</span></code><a class="headerlink" href="#void-session-selectproxies" title="Link to this heading">#</a></h1>
<p>Inteligentny algorytm wyboru proxy.</p>
<ol class="arabic simple">
<li><p>Iteruje po wszystkich globalnie dostÄ™pnych, poÅ‚Ä…czonych <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
<li><p>Znajduje najlepsze <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>, ktÃ³re nie jest jeszcze uÅ¼ywane przez tÄ™ sesjÄ™.</p></li>
<li><p>JeÅ›li liczba aktywnych proxy dla tej sesji jest mniejsza niÅ¼ <code class="docutils literal notranslate"><span class="pre">m_maxConnections</span></code>, dodaje najlepsze znalezione <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
<li><p>JeÅ›li liczba jest rÃ³wna <code class="docutils literal notranslate"><span class="pre">m_maxConnections</span></code>, a znalezione <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> jest znacznie lepsze niÅ¼ najgorsze z aktualnie uÅ¼ywanych, zastÄ™puje najgorsze nowym.</p></li>
<li><p>Po dodaniu nowego <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>, wysyÅ‚a do niego wszystkie pakiety z kolejki <code class="docutils literal notranslate"><span class="pre">m_proxySendQueue</span></code> (pakiety, ktÃ³re mogÅ‚y zostaÄ‡ utracone przez poprzednie <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>).</p></li>
</ol>
</section>
<section id="void-session-onproxypacket">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::onProxyPacket(...)</span></code><a class="headerlink" href="#void-session-onproxypacket" title="Link to this heading">#</a></h1>
<p>Handler dla pakietÃ³w przychodzÄ…cych od proxy.</p>
<ul class="simple">
<li><p>Sprawdza numer sekwencyjny (<code class="docutils literal notranslate"><span class="pre">packetId</span></code>). Odrzuca stare pakiety.</p></li>
<li><p>Usuwa z <code class="docutils literal notranslate"><span class="pre">m_proxySendQueue</span></code> pakiety wychodzÄ…ce, ktÃ³rych otrzymanie potwierdziÅ‚ serwer proxy (<code class="docutils literal notranslate"><span class="pre">lastRecivedPacketId</span></code>).</p></li>
<li><p>Dodaje przychodzÄ…cy pakiet do kolejki <code class="docutils literal notranslate"><span class="pre">m_sendQueue</span></code> (ktÃ³ra tutaj dziaÅ‚a jako bufor odbiorczy do re-asemblacji).</p></li>
<li><p>JeÅ›li pakiet jest tym, na ktÃ³ry czeka (<code class="docutils literal notranslate"><span class="pre">packetId</span> <span class="pre">==</span> <span class="pre">m_inputPacketId</span></code>), przetwarza go (i wszystkie nastÄ™pne w kolejce), wywoÅ‚ujÄ…c <code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code> lub wysyÅ‚ajÄ…c do klienta gry.</p></li>
</ul>
</section>
<section id="void-session-onpacket">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::onPacket(...)</span></code><a class="headerlink" href="#void-session-onpacket" title="Link to this heading">#</a></h1>
<p>Handler dla pakietÃ³w przychodzÄ…cych od klienta gry.</p>
<ol class="arabic simple">
<li><p>Generuje nowy numer sekwencyjny (<code class="docutils literal notranslate"><span class="pre">m_outputPacketId</span></code>).</p></li>
<li><p>Opakowuje pakiet w nagÅ‚Ã³wek protokoÅ‚u proxy.</p></li>
<li><p>Dodaje opakowany pakiet do <code class="docutils literal notranslate"><span class="pre">m_proxySendQueue</span></code> (bufor do retransmisji).</p></li>
<li><p>WysyÅ‚a pakiet do wszystkich aktywnych <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
</ol>
</section>
<hr class="docutils"/>
<section id="combinedsoundsource-cpp">
<h1>ğŸ“„ combinedsoundsource.cpp<a class="headerlink" href="#combinedsoundsource-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id856">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id856" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">combinedsoundsource.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code>, ktÃ³ra jest specjalnym rodzajem ÅºrÃ³dÅ‚a dÅºwiÄ™ku.</p>
</section>
<section id="klasa-combinedsoundsource">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code><a class="headerlink" href="#klasa-combinedsoundsource" title="Link to this heading">#</a></h1>
</section>
<section id="id857">
<h1>Opis semantyczny<a class="headerlink" href="#id857" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code> dziaÅ‚a jak kontener na wiele innych obiektÃ³w <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>. Wszystkie operacje wykonane na <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code> (np. <code class="docutils literal notranslate"><span class="pre">play()</span></code>, <code class="docutils literal notranslate"><span class="pre">stop()</span></code>, <code class="docutils literal notranslate"><span class="pre">setGain()</span></code>) sÄ… delegowane i wykonywane na kaÅ¼dym z podrzÄ™dnych ÅºrÃ³deÅ‚ dÅºwiÄ™ku, ktÃ³re przechowuje. Jest to uÅ¼yteczne do tworzenia zÅ‚oÅ¼onych efektÃ³w dÅºwiÄ™kowych lub do implementacji obejÅ›Ä‡ (workarounds), jak w przypadku problemu z dÅºwiÄ™kiem stereo na Linuksie (gdzie dÅºwiÄ™k stereo jest symulowany przez dwa ÅºrÃ³dÅ‚a mono).</p>
</section>
<section id="combinedsoundsource-combinedsoundsource">
<h1><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource::CombinedSoundSource()</span></code><a class="headerlink" href="#combinedsoundsource-combinedsoundsource" title="Link to this heading">#</a></h1>
<p>Konstruktor. WywoÅ‚uje konstruktor klasy bazowej <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> z ID 0, poniewaÅ¼ sam nie reprezentuje rzeczywistego ÅºrÃ³dÅ‚a w OpenAL.</p>
</section>
<section id="void-combinedsoundsource-addsource-const-soundsourceptr-source">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CombinedSoundSource::addSource(const</span> <span class="pre">SoundSourcePtr&amp;</span> <span class="pre">source)</span></code><a class="headerlink" href="#void-combinedsoundsource-addsource-const-soundsourceptr-source" title="Link to this heading">#</a></h1>
<p>Dodaje nowe podrzÄ™dne ÅºrÃ³dÅ‚o dÅºwiÄ™ku do wewnÄ™trznego wektora <code class="docutils literal notranslate"><span class="pre">m_sources</span></code>.</p>
</section>
<section id="metody-operacyjne-play-stop-setlooping-setgain-etc">
<h1>Metody operacyjne (<code class="docutils literal notranslate"><span class="pre">play</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code>, <code class="docutils literal notranslate"><span class="pre">setLooping</span></code>, <code class="docutils literal notranslate"><span class="pre">setGain</span></code>, etc.)<a class="headerlink" href="#metody-operacyjne-play-stop-setlooping-setgain-etc" title="Link to this heading">#</a></h1>
<p>KaÅ¼da z tych metod jest prostÄ… pÄ™tlÄ…, ktÃ³ra iteruje po wektorze <code class="docutils literal notranslate"><span class="pre">m_sources</span></code> i wywoÅ‚uje odpowiedniÄ… metodÄ™ na kaÅ¼dym z podrzÄ™dnych obiektÃ³w <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">CombinedSoundSource::play</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">SoundSourcePtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">m_sources</span><span class="p">)</span>
<span class="w">        </span><span class="n">source</span><span class="err">â†’</span><span class="n">play</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">CombinedSoundSource::setGain</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">gain</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">SoundSourcePtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">m_sources</span><span class="p">)</span>
<span class="w">        </span><span class="n">source</span><span class="err">â†’</span><span class="n">setGain</span><span class="p">(</span><span class="n">gain</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// ... i tak dalej</span>
</pre></div>
</div>
</section>
<section id="metody-sprawdzajace-stan-isbuffering-isplaying">
<h1>Metody sprawdzajÄ…ce stan (<code class="docutils literal notranslate"><span class="pre">isBuffering</span></code>, <code class="docutils literal notranslate"><span class="pre">isPlaying</span></code>)<a class="headerlink" href="#metody-sprawdzajace-stan-isbuffering-isplaying" title="Link to this heading">#</a></h1>
<p>ZwracajÄ… <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li <strong>ktÃ³rekolwiek</strong> z podrzÄ™dnych ÅºrÃ³deÅ‚ speÅ‚nia dany warunek.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="nf">CombinedSoundSource::isPlaying</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">SoundSourcePtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">m_sources</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">source</span><span class="err">â†’</span><span class="n">isPlaying</span><span class="p">())</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="void-combinedsoundsource-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CombinedSoundSource::update()</span></code><a class="headerlink" href="#void-combinedsoundsource-update" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana w pÄ™tli <code class="docutils literal notranslate"><span class="pre">SoundManager::poll()</span></code>. WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">update()</span></code> na wszystkich podrzÄ™dnych ÅºrÃ³dÅ‚ach, co jest potrzebne np. do obsÅ‚ugi pÅ‚ynnego wyciszania/zgÅ‚aÅ›niania (fading).</p>
</section>
<section id="id858">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id858" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/combinedsoundsource.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p>UÅ¼ywana w <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code> jako obejÅ›cie problemu z dÅºwiÄ™kiem stereo na Linuksie.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="combinedsoundsource-h">
<h1>ğŸ“„ combinedsoundsource.h<a class="headerlink" href="#combinedsoundsource-h" title="Link to this heading">#</a></h1>
</section>
<section id="id859">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id859" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">combinedsoundsource.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code>, ktÃ³ra jest kompozytem wielu ÅºrÃ³deÅ‚ dÅºwiÄ™ku, zachowujÄ…cym siÄ™ jak jedno.</p>
</section>
<section id="id860">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code><a class="headerlink" href="#id860" title="Link to this heading">#</a></h1>
</section>
<section id="id861">
<h1>Opis semantyczny<a class="headerlink" href="#id861" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code> implementuje wzorzec projektowy â€œKompozytâ€. Pozwala traktowaÄ‡ grupÄ™ obiektÃ³w <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> w ten sam sposÃ³b, co pojedynczy obiekt. Wszystkie operacje sÄ… delegowane do wewnÄ™trznej kolekcji ÅºrÃ³deÅ‚. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>, aby zachowaÄ‡ zgodnoÅ›Ä‡ interfejsu.</p>
</section>
<section id="id862">
<h1>Metody publiczne<a class="headerlink" href="#id862" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource()</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addSource(...)</span></code></p></td>
<td class="text-left"><p>Dodaje podrzÄ™dne ÅºrÃ³dÅ‚o dÅºwiÄ™ku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;...&gt;</span> <span class="pre">getSources()</span></code></p></td>
<td class="text-left"><p>Zwraca listÄ™ podrzÄ™dnych ÅºrÃ³deÅ‚.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">play()</span></code>, <code class="docutils literal notranslate"><span class="pre">stop()</span></code>, <code class="docutils literal notranslate"><span class="pre">setLooping()</span></code>, <code class="docutils literal notranslate"><span class="pre">setGain()</span></code>, <code class="docutils literal notranslate"><span class="pre">setPosition()</span></code>, etc.</p></td>
<td class="text-left"><p>Metody delegujÄ…ce operacje do wszystkich podrzÄ™dnych ÅºrÃ³deÅ‚.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isBuffering()</span></code>, <code class="docutils literal notranslate"><span class="pre">isPlaying()</span></code></p></td>
<td class="text-left"><p>SprawdzajÄ… stan, zwracajÄ…c <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li co najmniej jedno podrzÄ™dne ÅºrÃ³dÅ‚o jest w danym stanie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id863">
<h1>Metody chronione<a class="headerlink" href="#id863" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">update()</span></code>: PrzesÅ‚ania metodÄ™ z <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> i wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">update()</span></code> na wszystkich dzieciach.</p></li>
</ul>
</section>
<section id="id864">
<h1>Zmienne prywatne<a class="headerlink" href="#id864" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_sources</span></code>: Wektor (<code class="docutils literal notranslate"><span class="pre">std::vector</span></code>) przechowujÄ…cy wskaÅºniki na podrzÄ™dne obiekty <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>.</p></li>
</ul>
</section>
<section id="id865">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id865" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundsource.h</span></code>: Klasa bazowa i typ przechowywanych obiektÃ³w.</p></li>
<li><p>Jest tworzona i uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="oggsoundfile-cpp">
<h1>ğŸ“„ oggsoundfile.cpp<a class="headerlink" href="#oggsoundfile-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id866">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id866" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">oggsoundfile.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code>, ktÃ³ra jest odpowiedzialna za odczytywanie i dekodowanie plikÃ³w dÅºwiÄ™kowych w formacie Ogg Vorbis.</p>
</section>
<section id="klasa-oggsoundfile">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code><a class="headerlink" href="#klasa-oggsoundfile" title="Link to this heading">#</a></h1>
</section>
<section id="oggsoundfile-oggsoundfile-const-filestreamptr-filestream">
<h1><code class="docutils literal notranslate"><span class="pre">OggSoundFile::OggSoundFile(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fileStream)</span></code><a class="headerlink" href="#oggsoundfile-oggsoundfile-const-filestreamptr-filestream" title="Link to this heading">#</a></h1>
<p>Konstruktor. WywoÅ‚uje konstruktor klasy bazowej <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code>.</p>
</section>
<section id="oggsoundfile-oggsoundfile">
<h1><code class="docutils literal notranslate"><span class="pre">OggSoundFile::~OggSoundFile()</span></code><a class="headerlink" href="#oggsoundfile-oggsoundfile" title="Link to this heading">#</a></h1>
<p>Destruktor. Zwalnia zasoby zwiÄ…zane z bibliotekÄ… Vorbis, wywoÅ‚ujÄ…c <code class="docutils literal notranslate"><span class="pre">ov_clear()</span></code>.</p>
</section>
<section id="bool-oggsoundfile-prepareogg">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OggSoundFile::prepareOgg()</span></code><a class="headerlink" href="#bool-oggsoundfile-prepareogg" title="Link to this heading">#</a></h1>
</section>
<section id="id867">
<h1>Opis semantyczny<a class="headerlink" href="#id867" title="Link to this heading">#</a></h1>
<p>Inicjalizuje proces dekodowania pliku Ogg Vorbis.</p>
</section>
<section id="id868">
<h1>DziaÅ‚anie<a class="headerlink" href="#id868" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzy strukturÄ™ <code class="docutils literal notranslate"><span class="pre">ov_callbacks</span></code> z wskaÅºnikami na statyczne metody <code class="docutils literal notranslate"><span class="pre">cb_...</span></code>, ktÃ³re bÄ™dÄ… uÅ¼ywane przez bibliotekÄ™ Vorbis do odczytu danych ze strumienia <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">ov_open_callbacks</span></code>, przekazujÄ…c <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> jako ÅºrÃ³dÅ‚o danych.</p></li>
<li><p>Pobiera informacje o pliku (liczba kanaÅ‚Ã³w, czÄ™stotliwoÅ›Ä‡ prÃ³bkowania) za pomocÄ… <code class="docutils literal notranslate"><span class="pre">ov_info</span></code>.</p></li>
<li><p>Zapisuje te informacje w polach klasy bazowej (<code class="docutils literal notranslate"><span class="pre">m_channels</span></code>, <code class="docutils literal notranslate"><span class="pre">m_rate</span></code>).</p></li>
<li><p>Oblicza caÅ‚kowity rozmiar zdekompresowanych danych za pomocÄ… <code class="docutils literal notranslate"><span class="pre">ov_pcm_total</span></code>.</p></li>
</ol>
</section>
<section id="int-oggsoundfile-read-void-buffer-int-buffersize">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">OggSoundFile::read(void</span> <span class="pre">*buffer,</span> <span class="pre">int</span> <span class="pre">bufferSize)</span></code><a class="headerlink" href="#int-oggsoundfile-read-void-buffer-int-buffersize" title="Link to this heading">#</a></h1>
<p>Odczytuje i dekoduje fragment pliku dÅºwiÄ™kowego do podanego bufora. WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">ov_read</span></code>, ktÃ³ra wykonuje caÅ‚Ä… pracÄ™ zwiÄ…zanÄ… z dekodowaniem.</p>
</section>
<section id="void-oggsoundfile-reset">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OggSoundFile::reset()</span></code><a class="headerlink" href="#void-oggsoundfile-reset" title="Link to this heading">#</a></h1>
<p>Przewija strumieÅ„ dÅºwiÄ™kowy na poczÄ…tek za pomocÄ… <code class="docutils literal notranslate"><span class="pre">ov_pcm_seek()</span></code>.</p>
</section>
<section id="statyczne-metody-cb">
<h1>Statyczne metody <code class="docutils literal notranslate"><span class="pre">cb_...</span></code><a class="headerlink" href="#statyczne-metody-cb" title="Link to this heading">#</a></h1>
<p>SÄ… to funkcje zwrotne (callbacks) C, ktÃ³re opakowujÄ… metody obiektu <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>, tÅ‚umaczÄ…c interfejs wymagany przez <code class="docutils literal notranslate"><span class="pre">libvorbisfile</span></code> na interfejs <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cb_read</span></code>: opakowuje <code class="docutils literal notranslate"><span class="pre">fileâ†’read()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_seek</span></code>: opakowuje <code class="docutils literal notranslate"><span class="pre">fileâ†’seek()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_close</span></code>: opakowuje <code class="docutils literal notranslate"><span class="pre">fileâ†’close()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_tell</span></code>: opakowuje <code class="docutils literal notranslate"><span class="pre">fileâ†’tell()</span></code></p></li>
</ul>
</section>
<section id="id869">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id869" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/oggsoundfile.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><strong>libvorbisfile</strong>: Kluczowa zaleÅ¼noÅ›Ä‡ do dekodowania plikÃ³w Ogg Vorbis.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">SoundFile::loadSoundFile</span></code>, gdy wykryty zostanie plik w formacie Ogg.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="id870">
<h1>ğŸ“„ declarations.h<a class="headerlink" href="#id870" title="Link to this heading">#</a></h1>
</section>
<section id="id871">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id871" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">sound</span></code> sÅ‚uÅ¼y do wczesnych deklaracji klas i definicji typÃ³w wskaÅºnikÃ³w zwiÄ…zanych z systemem dÅºwiÄ™ku. Jest on kompilowany tylko wtedy, gdy zdefiniowano flagÄ™ <code class="docutils literal notranslate"><span class="pre">FW_SOUND</span></code>.</p>
</section>
<section id="id872">
<h1>Wczesne deklaracje<a class="headerlink" href="#id872" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SoundManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundSource</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundFile</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code></p></li>
</ul>
</section>
<section id="id873">
<h1>Definicje typÃ³w<a class="headerlink" href="#id873" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundFilePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundBufferPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundChannelPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StreamSoundSourcePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CombinedSoundSourcePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OggSoundFilePtr</span></code></p></li>
</ul>
</section>
<section id="dolaczanie-naglowkow-openal">
<h1>DoÅ‚Ä…czanie nagÅ‚Ã³wkÃ³w OpenAL<a class="headerlink" href="#dolaczanie-naglowkow-openal" title="Link to this heading">#</a></h1>
<p>Plik doÅ‚Ä…cza nagÅ‚Ã³wki biblioteki OpenAL (<code class="docutils literal notranslate"><span class="pre">al.h</span></code>, <code class="docutils literal notranslate"><span class="pre">alc.h</span></code>), ktÃ³ra jest podstawÄ… caÅ‚ego systemu dÅºwiÄ™ku.</p>
</section>
<section id="id874">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id874" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest doÅ‚Ä…czany przez wszystkie pliki nagÅ‚Ã³wkowe w module <code class="docutils literal notranslate"><span class="pre">sound</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="oggsoundfile-h">
<h1>ğŸ“„ oggsoundfile.h<a class="headerlink" href="#oggsoundfile-h" title="Link to this heading">#</a></h1>
</section>
<section id="id875">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id875" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">oggsoundfile.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code>, ktÃ³ra jest konkretnÄ… implementacjÄ… <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code> do obsÅ‚ugi plikÃ³w w formacie Ogg Vorbis.</p>
</section>
<section id="id876">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code><a class="headerlink" href="#id876" title="Link to this heading">#</a></h1>
</section>
<section id="id877">
<h1>Opis semantyczny<a class="headerlink" href="#id877" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code> i implementuje jej wirtualne metody, uÅ¼ywajÄ…c biblioteki <code class="docutils literal notranslate"><span class="pre">libvorbisfile</span></code> do dekodowania danych. Enkapsuluje ona strukturÄ™ <code class="docutils literal notranslate"><span class="pre">OggVorbis_File</span></code> i dostarcza <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> C, ktÃ³re pozwalajÄ… bibliotece Vorbis na odczyt danych ze strumienia <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>.</p>
</section>
<section id="id878">
<h1>Metody publiczne<a class="headerlink" href="#id878" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OggSoundFile(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~OggSoundFile()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">prepareOgg()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje dekoder Vorbis i odczytuje metadane pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">read(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje i dekoduje fragment danych.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">reset()</span></code></p></td>
<td class="text-left"><p>Przewija strumieÅ„ na poczÄ…tek.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-prywatne-statyczne">
<h1>Metody prywatne (statyczne)<a class="headerlink" href="#metody-prywatne-statyczne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cb_read</span></code>, <code class="docutils literal notranslate"><span class="pre">cb_seek</span></code>, <code class="docutils literal notranslate"><span class="pre">cb_close</span></code>, <code class="docutils literal notranslate"><span class="pre">cb_tell</span></code>: Statyczne funkcje zwrotne dla <code class="docutils literal notranslate"><span class="pre">libvorbisfile</span></code>.</p></li>
</ul>
</section>
<section id="id879">
<h1>Zmienne prywatne<a class="headerlink" href="#id879" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_vorbisFile</span></code>: Uchwyt do struktur <code class="docutils literal notranslate"><span class="pre">libvorbisfile</span></code>.</p></li>
</ul>
</section>
<section id="id880">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id880" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundfile.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vorbis/vorbisfile.h</span></code>: NagÅ‚Ã³wek biblioteki Vorbis.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">SoundFile::loadSoundFile</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="soundbuffer-cpp">
<h1>ğŸ“„ soundbuffer.cpp<a class="headerlink" href="#soundbuffer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id881">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id881" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundbuffer.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>, ktÃ³ra jest opakowaniem na bufor audio w OpenAL.</p>
</section>
<section id="klasa-soundbuffer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code><a class="headerlink" href="#klasa-soundbuffer" title="Link to this heading">#</a></h1>
</section>
<section id="id882">
<h1>Opis semantyczny<a class="headerlink" href="#id882" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> reprezentuje blok danych audio (prÃ³bek dÅºwiÄ™kowych) zaÅ‚adowany do pamiÄ™ci, gotowy do odtworzenia przez OpenAL. KaÅ¼dy <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> ma unikalne ID w OpenAL. Jest uÅ¼ywany do przechowywania krÃ³tkich, czÄ™sto odtwarzanych dÅºwiÄ™kÃ³w, ktÃ³re opÅ‚aca siÄ™ trzymaÄ‡ w pamiÄ™ci.</p>
</section>
<section id="soundbuffer-soundbuffer">
<h1><code class="docutils literal notranslate"><span class="pre">SoundBuffer::SoundBuffer()</span></code><a class="headerlink" href="#soundbuffer-soundbuffer" title="Link to this heading">#</a></h1>
<p>Konstruktor. Generuje nowy bufor OpenAL za pomocÄ… <code class="docutils literal notranslate"><span class="pre">alGenBuffers()</span></code> i zapisuje jego ID.</p>
</section>
<section id="id883">
<h1><code class="docutils literal notranslate"><span class="pre">SoundBuffer::~SoundBuffer()</span></code><a class="headerlink" href="#id883" title="Link to this heading">#</a></h1>
<p>Destruktor. Zwalnia bufor OpenAL za pomocÄ… <code class="docutils literal notranslate"><span class="pre">alDeleteBuffers()</span></code>.</p>
</section>
<section id="bool-soundbuffer-fillbuffer-const-soundfileptr-soundfile">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundBuffer::fillBuffer(const</span> <span class="pre">SoundFilePtr&amp;</span> <span class="pre">soundFile)</span></code><a class="headerlink" href="#bool-soundbuffer-fillbuffer-const-soundfileptr-soundfile" title="Link to this heading">#</a></h1>
<p>WypeÅ‚nia bufor danymi z obiektu <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code>.</p>
<ol class="arabic simple">
<li><p>Pobiera format, rozmiar i czÄ™stotliwoÅ›Ä‡ prÃ³bkowania z <code class="docutils literal notranslate"><span class="pre">soundFile</span></code>.</p></li>
<li><p>Odczytuje caÅ‚Ä… zawartoÅ›Ä‡ pliku dÅºwiÄ™kowego do tymczasowego bufora w RAM.</p></li>
<li><p>WywoÅ‚uje drugÄ… wersjÄ™ <code class="docutils literal notranslate"><span class="pre">fillBuffer</span></code> w celu przesÅ‚ania danych do OpenAL.</p></li>
</ol>
</section>
<section id="bool-soundbuffer-fillbuffer-alenum-sampleformat-const-databuffer-char-data-int-size-int-rate">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundBuffer::fillBuffer(ALenum</span> <span class="pre">sampleFormat,</span> <span class="pre">const</span> <span class="pre">DataBuffer&lt;char&gt;&amp;</span> <span class="pre">data,</span> <span class="pre">int</span> <span class="pre">size,</span> <span class="pre">int</span> <span class="pre">rate)</span></code><a class="headerlink" href="#bool-soundbuffer-fillbuffer-alenum-sampleformat-const-databuffer-char-data-int-size-int-rate" title="Link to this heading">#</a></h1>
<p>PrzesyÅ‚a surowe dane prÃ³bek dÅºwiÄ™kowych do bufora OpenAL za pomocÄ… <code class="docutils literal notranslate"><span class="pre">alBufferData()</span></code>.</p>
</section>
<section id="id884">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id884" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundbuffer.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundfile.h</span></code>: Do pobierania danych z plikÃ³w.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>, ktÃ³ry przechowuje je w cache.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> jako ÅºrÃ³dÅ‚o danych do odtwarzania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="soundbuffer-h">
<h1>ğŸ“„ soundbuffer.h<a class="headerlink" href="#soundbuffer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id885">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id885" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundbuffer.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>, ktÃ³ra jest opakowaniem na bufor audio OpenAL.</p>
</section>
<section id="id886">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code><a class="headerlink" href="#id886" title="Link to this heading">#</a></h1>
</section>
<section id="id887">
<h1>Opis semantyczny<a class="headerlink" href="#id887" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> enkapsuluje ID bufora OpenAL i dostarcza metody do wypeÅ‚niania go danymi dÅºwiÄ™kowymi. Jest to obiekt przechowujÄ…cy dane audio, ktÃ³ry moÅ¼e byÄ‡ nastÄ™pnie przypisany do jednego lub wielu <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> w celu odtwarzania.</p>
</section>
<section id="id888">
<h1>Metody publiczne<a class="headerlink" href="#id888" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundBuffer()</span></code> / <code class="docutils literal notranslate"><span class="pre">~SoundBuffer()</span></code></p></td>
<td class="text-left"><p>Konstruktor i destruktor zarzÄ…dzajÄ…ce zasobem OpenAL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">fillBuffer(const</span> <span class="pre">SoundFilePtr&amp;</span> <span class="pre">soundFile)</span></code></p></td>
<td class="text-left"><p>WypeÅ‚nia bufor danymi z pliku dÅºwiÄ™kowego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">fillBuffer(...)</span></code></p></td>
<td class="text-left"><p>WypeÅ‚nia bufor surowymi danymi z pamiÄ™ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getBufferId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID bufora w OpenAL.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id889">
<h1>Zmienne prywatne<a class="headerlink" href="#id889" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_bufferId</span></code>: ID (uchwyt) bufora w OpenAL.</p></li>
</ul>
</section>
<section id="id890">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id890" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/declarations.h</span></code>: Definicje typÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: Do pracy z buforami danych.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="soundfile-cpp">
<h1>ğŸ“„ soundfile.cpp<a class="headerlink" href="#soundfile-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id891">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id891" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundfile.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code>, ktÃ³ra jest abstrakcyjnÄ… klasÄ… bazowÄ… do odczytu rÃ³Å¼nych formatÃ³w plikÃ³w dÅºwiÄ™kowych.</p>
</section>
<section id="klasa-soundfile">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code><a class="headerlink" href="#klasa-soundfile" title="Link to this heading">#</a></h1>
</section>
<section id="soundfile-soundfile-const-filestreamptr-filestream">
<h1><code class="docutils literal notranslate"><span class="pre">SoundFile::SoundFile(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fileStream)</span></code><a class="headerlink" href="#soundfile-soundfile-const-filestreamptr-filestream" title="Link to this heading">#</a></h1>
<p>Konstruktor. Zapisuje wskaÅºnik do strumienia pliku.</p>
</section>
<section id="soundfileptr-soundfile-loadsoundfile-const-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">SoundFilePtr</span> <span class="pre">SoundFile::loadSoundFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">filename)</span></code><a class="headerlink" href="#soundfileptr-soundfile-loadsoundfile-const-std-string-filename" title="Link to this heading">#</a></h1>
</section>
<section id="id892">
<h1>Opis semantyczny<a class="headerlink" href="#id892" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna, ktÃ³ra prÃ³buje zaÅ‚adowaÄ‡ plik dÅºwiÄ™kowy. Automatycznie wykrywa format pliku i tworzy odpowiedniÄ… podklasÄ™ <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code>.</p>
</section>
<section id="id893">
<h1>DziaÅ‚anie<a class="headerlink" href="#id893" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Otwiera plik za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_resources.openFile()</span></code>.</p></li>
<li><p>Odczytuje pierwsze 4 bajty (â€œmagiczne bajtyâ€), aby zidentyfikowaÄ‡ format.</p></li>
<li><p>JeÅ›li plik to Ogg Vorbis (zaczyna siÄ™ od â€œOggSâ€), tworzy instancjÄ™ <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code> i wywoÅ‚uje jej metodÄ™ <code class="docutils literal notranslate"><span class="pre">prepareOgg()</span></code>.</p></li>
<li><p>W przypadku nieznanego formatu rzuca wyjÄ…tek.</p></li>
</ol>
</section>
<section id="alenum-soundfile-getsampleformat">
<h1><code class="docutils literal notranslate"><span class="pre">ALenum</span> <span class="pre">SoundFile::getSampleFormat()</span></code><a class="headerlink" href="#alenum-soundfile-getsampleformat" title="Link to this heading">#</a></h1>
<p>Konwertuje wewnÄ™trzne informacje o liczbie kanaÅ‚Ã³w i bitach na sekundÄ™ na format zrozumiaÅ‚y dla OpenAL (np. <code class="docutils literal notranslate"><span class="pre">AL_FORMAT_STEREO16</span></code>).</p>
</section>
<section id="id894">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id894" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundfile.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/oggsoundfile.h</span></code>: Implementacja dla formatu Ogg.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do otwierania plikÃ³w.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> i <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> jako ÅºrÃ³dÅ‚o danych audio.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="soundchannel-cpp">
<h1>ğŸ“„ soundchannel.cpp<a class="headerlink" href="#soundchannel-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id895">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id895" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundchannel.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code>, ktÃ³ra reprezentuje kanaÅ‚ dÅºwiÄ™kowy, umoÅ¼liwiajÄ…cy odtwarzanie dÅºwiÄ™kÃ³w w sposÃ³b zorganizowany i kontrolowany.</p>
</section>
<section id="klasa-soundchannel">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code><a class="headerlink" href="#klasa-soundchannel" title="Link to this heading">#</a></h1>
</section>
<section id="soundsourceptr-soundchannel-play">
<h1><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundChannel::play(...)</span></code><a class="headerlink" href="#soundsourceptr-soundchannel-play" title="Link to this heading">#</a></h1>
<p>Odtwarza nowy dÅºwiÄ™k na tym kanale. JeÅ›li inny dÅºwiÄ™k jest juÅ¼ odtwarzany, zostaje on zatrzymany. WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">g_sounds.play</span></code>, aby utworzyÄ‡ i uruchomiÄ‡ nowe ÅºrÃ³dÅ‚o dÅºwiÄ™ku.</p>
</section>
<section id="void-soundchannel-stop-float-fadetime">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::stop(float</span> <span class="pre">fadetime)</span></code><a class="headerlink" href="#void-soundchannel-stop-float-fadetime" title="Link to this heading">#</a></h1>
<p>Zatrzymuje bieÅ¼Ä…cy dÅºwiÄ™k i czyÅ›ci kolejkÄ™. Opcjonalnie moÅ¼e to zrobiÄ‡ z efektem wyciszania (<code class="docutils literal notranslate"><span class="pre">fadetime</span></code>).</p>
</section>
<section id="void-soundchannel-enqueue">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::enqueue(...)</span></code><a class="headerlink" href="#void-soundchannel-enqueue" title="Link to this heading">#</a></h1>
<p>Dodaje plik dÅºwiÄ™kowy do kolejki odtwarzania. Gdy bieÅ¼Ä…cy dÅºwiÄ™k siÄ™ skoÅ„czy, <code class="docutils literal notranslate"><span class="pre">update()</span></code> automatycznie odtworzy nastÄ™pny z kolejki. Kolejka jest tasowana, aby zapewniÄ‡ losowÄ… kolejnoÅ›Ä‡ odtwarzania.</p>
</section>
<section id="void-soundchannel-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::update()</span></code><a class="headerlink" href="#void-soundchannel-update" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana cyklicznie przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p>
<ul class="simple">
<li><p>Sprawdza, czy bieÅ¼Ä…ce ÅºrÃ³dÅ‚o dÅºwiÄ™ku zakoÅ„czyÅ‚o odtwarzanie. JeÅ›li tak, zwalnia je.</p></li>
<li><p>JeÅ›li nie ma bieÅ¼Ä…cego ÅºrÃ³dÅ‚a, a kolejka nie jest pusta, pobiera nastÄ™pny utwÃ³r z kolejki i go odtwarza.</p></li>
</ul>
</section>
<section id="void-soundchannel-setenabled-bool-enable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::setEnabled(bool</span> <span class="pre">enable)</span></code><a class="headerlink" href="#void-soundchannel-setenabled-bool-enable" title="Link to this heading">#</a></h1>
<p>WÅ‚Ä…cza lub wyÅ‚Ä…cza kanaÅ‚. WyÅ‚Ä…czenie kanaÅ‚u natychmiast zatrzymuje odtwarzany dÅºwiÄ™k i zapobiega odtwarzaniu nowych.</p>
</section>
<section id="void-soundchannel-setgain-float-gain">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::setGain(float</span> <span class="pre">gain)</span></code><a class="headerlink" href="#void-soundchannel-setgain-float-gain" title="Link to this heading">#</a></h1>
<p>Ustawia ogÃ³lnÄ… gÅ‚oÅ›noÅ›Ä‡ dla kanaÅ‚u. GÅ‚oÅ›noÅ›Ä‡ ta jest mnoÅ¼ona przez gÅ‚oÅ›noÅ›Ä‡ poszczegÃ³lnych dÅºwiÄ™kÃ³w odtwarzanych na tym kanale.</p>
</section>
<section id="id896">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id896" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundchannel.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/streamsoundsource.h</span></code>: UÅ¼ywane do efektÃ³w wyciszania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundmanager.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">g_sounds</span></code> do tworzenia ÅºrÃ³deÅ‚ dÅºwiÄ™ku.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="soundchannel-h">
<h1>ğŸ“„ soundchannel.h<a class="headerlink" href="#soundchannel-h" title="Link to this heading">#</a></h1>
</section>
<section id="id897">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id897" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundchannel.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code>, ktÃ³ra reprezentuje logiczny kanaÅ‚ audio.</p>
</section>
<section id="id898">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code><a class="headerlink" href="#id898" title="Link to this heading">#</a></h1>
</section>
<section id="id899">
<h1>Opis semantyczny<a class="headerlink" href="#id899" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code> pozwala na grupowanie i zarzÄ…dzanie odtwarzaniem dÅºwiÄ™kÃ³w. KaÅ¼dy kanaÅ‚ moÅ¼e odtwarzaÄ‡ tylko jeden dÅºwiÄ™k naraz, ale posiada kolejkÄ™, ktÃ³ra pozwala na automatyczne odtwarzanie kolejnych utworÃ³w. UmoÅ¼liwia globalnÄ… kontrolÄ™ nad grupÄ… dÅºwiÄ™kÃ³w, np. ustawienie gÅ‚oÅ›noÅ›ci dla caÅ‚ej muzyki w grze.</p>
</section>
<section id="id900">
<h1>Metody publiczne<a class="headerlink" href="#id900" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundChannel(int</span> <span class="pre">id)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">play(...)</span></code></p></td>
<td class="text-left"><p>Odtwarza dÅºwiÄ™k na tym kanale, przerywajÄ…c poprzedni.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">stop(...)</span></code></p></td>
<td class="text-left"><p>Zatrzymuje odtwarzanie i czyÅ›ci kolejkÄ™.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">enqueue(...)</span></code></p></td>
<td class="text-left"><p>Dodaje dÅºwiÄ™k do kolejki odtwarzania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">enable()</span></code> / <code class="docutils literal notranslate"><span class="pre">disable()</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza/wyÅ‚Ä…cza kanaÅ‚.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setGain(float</span> <span class="pre">gain)</span></code></p></td>
<td class="text-left"><p>Ustawia gÅ‚oÅ›noÅ›Ä‡ kanaÅ‚u.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">getGain()</span></code></p></td>
<td class="text-left"><p>Zwraca gÅ‚oÅ›noÅ›Ä‡ kanaÅ‚u.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isEnabled()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy kanaÅ‚ jest wÅ‚Ä…czony.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID kanaÅ‚u.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id901">
<h1>Metody chronione<a class="headerlink" href="#id901" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code>: Metoda cykliczna do zarzÄ…dzania kolejkÄ….</p></li>
</ul>
</section>
<section id="id902">
<h1>Zmienne prywatne<a class="headerlink" href="#id902" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_queue</span></code>: Kolejka (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) utworÃ³w do odtworzenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentSource</span></code>: WskaÅºnik na aktualnie odtwarzane ÅºrÃ³dÅ‚o dÅºwiÄ™ku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_enabled</span></code>: Flaga wÅ‚Ä…czenia kanaÅ‚u.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_id</span></code>: ID kanaÅ‚u.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_gain</span></code>: GÅ‚oÅ›noÅ›Ä‡ kanaÅ‚u.</p></li>
</ul>
</section>
<section id="id903">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id903" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundsource.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span></code>.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, co udostÄ™pnia jej API w Lua.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="soundfile-h">
<h1>ğŸ“„ soundfile.h<a class="headerlink" href="#soundfile-h" title="Link to this heading">#</a></h1>
</section>
<section id="id904">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id904" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundfile.h</span></code> deklaruje abstrakcyjnÄ… klasÄ™ bazowÄ… <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code>, ktÃ³ra definiuje wspÃ³lny interfejs do odczytu danych z rÃ³Å¼nych formatÃ³w plikÃ³w dÅºwiÄ™kowych.</p>
</section>
<section id="id905">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code><a class="headerlink" href="#id905" title="Link to this heading">#</a></h1>
</section>
<section id="id906">
<h1>Opis semantyczny<a class="headerlink" href="#id906" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundFile</span></code> jest abstrakcjÄ… nad plikiem dÅºwiÄ™kowym. Ukrywa szczegÃ³Å‚y konkretnego formatu (np. Ogg, WAV), dostarczajÄ…c ujednolicony sposÃ³b na odczytywanie zdekompresowanych prÃ³bek audio.</p>
</section>
<section id="id907">
<h1>Metody publiczne<a class="headerlink" href="#id907" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundFile(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">SoundFilePtr</span> <span class="pre">loadSoundFile(...)</span></code></p></td>
<td class="text-left"><p>Statyczna metoda fabryczna, ktÃ³ra wykrywa format pliku i tworzy odpowiedniÄ… podklasÄ™.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">int</span> <span class="pre">read(...)</span> <span class="pre">=</span> <span class="pre">0</span></code></p></td>
<td class="text-left"><p>Czysto wirtualna metoda do odczytu zdekompresowanych danych.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">reset()</span> <span class="pre">=</span> <span class="pre">0</span></code></p></td>
<td class="text-left"><p>Czysto wirtualna metoda do przewiniÄ™cia strumienia na poczÄ…tek.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">eof()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy osiÄ…gniÄ™to koniec pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ALenum</span> <span class="pre">getSampleFormat()</span></code></p></td>
<td class="text-left"><p>Konwertuje format (kanaÅ‚y, bity) na format OpenAL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getChannels()</span></code>, <code class="docutils literal notranslate"><span class="pre">getRate()</span></code>, <code class="docutils literal notranslate"><span class="pre">getBpp()</span></code>, <code class="docutils literal notranslate"><span class="pre">getSize()</span></code>, <code class="docutils literal notranslate"><span class="pre">getName()</span></code></p></td>
<td class="text-left"><p>Gettery dla metadanych pliku.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id908">
<h1>Zmienne chronione<a class="headerlink" href="#id908" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_file</span></code>: WskaÅºnik na <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>, z ktÃ³rego odczytywane sÄ… dane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_channels</span></code>, <code class="docutils literal notranslate"><span class="pre">m_rate</span></code>, <code class="docutils literal notranslate"><span class="pre">m_bps</span></code>, <code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Metadane dÅºwiÄ™ku.</p></li>
</ul>
</section>
<section id="id909">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id909" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/declarations.h</span></code>: Deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/filestream.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> jako ÅºrÃ³dÅ‚a danych.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code> i potencjalnie innych klas dla rÃ³Å¼nych formatÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="soundmanager-cpp">
<h1>ğŸ“„ soundmanager.cpp<a class="headerlink" href="#soundmanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id910">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id910" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundmanager.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_sounds</span></code>) i centralnym punktem zarzÄ…dzania caÅ‚ym podsystemem dÅºwiÄ™ku.</p>
</section>
<section id="id911">
<h1>Zmienne globalne<a class="headerlink" href="#id911" title="Link to this heading">#</a></h1>
</section>
<section id="g-sounds">
<h1><code class="docutils literal notranslate"><span class="pre">g_sounds</span></code><a class="headerlink" href="#g-sounds" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p>
</section>
<section id="klasa-soundmanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code><a class="headerlink" href="#klasa-soundmanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-soundmanager-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::init()</span></code><a class="headerlink" href="#void-soundmanager-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje system dÅºwiÄ™ku.</p>
<ol class="arabic simple">
<li><p>Otwiera domyÅ›lne urzÄ…dzenie audio za pomocÄ… <code class="docutils literal notranslate"><span class="pre">alcOpenDevice</span></code>.</p></li>
<li><p>Tworzy kontekst OpenAL za pomocÄ… <code class="docutils literal notranslate"><span class="pre">alcCreateContext</span></code>.</p></li>
<li><p>Ustawia ten kontekst jako aktywny za pomocÄ… <code class="docutils literal notranslate"><span class="pre">alcMakeContextCurrent</span></code>.</p></li>
</ol>
</section>
<section id="void-soundmanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::terminate()</span></code><a class="headerlink" href="#void-soundmanager-terminate" title="Link to this heading">#</a></h1>
<p>Zamyka system dÅºwiÄ™ku. Zwalnia wszystkie zasoby (ÅºrÃ³dÅ‚a, bufory, kanaÅ‚y), niszczy kontekst i zamyka urzÄ…dzenie audio.</p>
</section>
<section id="void-soundmanager-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::poll()</span></code><a class="headerlink" href="#void-soundmanager-poll" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana cyklicznie w gÅ‚Ã³wnej pÄ™tli aplikacji.</p>
<ul class="simple">
<li><p>Aktualizuje wszystkie aktywne ÅºrÃ³dÅ‚a dÅºwiÄ™ku (<code class="docutils literal notranslate"><span class="pre">m_sources</span></code>).</p></li>
<li><p>Aktualizuje wszystkie kanaÅ‚y dÅºwiÄ™kowe (<code class="docutils literal notranslate"><span class="pre">m_channels</span></code>), co pozwala na zarzÄ…dzanie kolejkami odtwarzania.</p></li>
<li><p>Przetwarza asynchronicznie Å‚adowane pliki dÅºwiÄ™kowe.</p></li>
</ul>
</section>
<section id="void-soundmanager-setaudioenabled-bool-enable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::setAudioEnabled(bool</span> <span class="pre">enable)</span></code><a class="headerlink" href="#void-soundmanager-setaudioenabled-bool-enable" title="Link to this heading">#</a></h1>
<p>Globalnie wÅ‚Ä…cza lub wyÅ‚Ä…cza dÅºwiÄ™k. WyÅ‚Ä…czenie powoduje zatrzymanie wszystkich odtwarzanych dÅºwiÄ™kÃ³w.</p>
</section>
<section id="void-soundmanager-preload-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::preload(std::string</span> <span class="pre">filename)</span></code><a class="headerlink" href="#void-soundmanager-preload-std-string-filename" title="Link to this heading">#</a></h1>
<p>Åaduje plik dÅºwiÄ™kowy do pamiÄ™ci i tworzy z niego <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>. Jest to optymalizacja dla krÃ³tkich, czÄ™sto uÅ¼ywanych dÅºwiÄ™kÃ³w. Bufor jest przechowywany w cache (<code class="docutils literal notranslate"><span class="pre">m_buffers</span></code>).</p>
</section>
<section id="soundsourceptr-soundmanager-play">
<h1><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundManager::play(...)</span></code><a class="headerlink" href="#soundsourceptr-soundmanager-play" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda do odtwarzania dÅºwiÄ™ku.</p>
<ol class="arabic simple">
<li><p>Tworzy odpowiednie ÅºrÃ³dÅ‚o dÅºwiÄ™ku (<code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> dla skeszowanych plikÃ³w lub <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> dla strumieniowanych).</p></li>
<li><p>Ustawia jego parametry (gÅ‚oÅ›noÅ›Ä‡, fadetime).</p></li>
<li><p>Rozpoczyna odtwarzanie i dodaje ÅºrÃ³dÅ‚o do listy aktywnych ÅºrÃ³deÅ‚.</p></li>
</ol>
</section>
<section id="soundchannelptr-soundmanager-getchannel-int-channel">
<h1><code class="docutils literal notranslate"><span class="pre">SoundChannelPtr</span> <span class="pre">SoundManager::getChannel(int</span> <span class="pre">channel)</span></code><a class="headerlink" href="#soundchannelptr-soundmanager-getchannel-int-channel" title="Link to this heading">#</a></h1>
<p>Zwraca obiekt kanaÅ‚u o danym ID. JeÅ›li kanaÅ‚ nie istnieje, jest tworzony.</p>
</section>
<section id="soundsourceptr-soundmanager-createsoundsource">
<h1><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundManager::createSoundSource(...)</span></code><a class="headerlink" href="#soundsourceptr-soundmanager-createsoundsource" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza, ktÃ³ra decyduje, czy utworzyÄ‡ <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> (z bufora) czy <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> (strumieniowanie z pliku). Dla Linuksa implementuje obejÅ›cie problemu z dÅºwiÄ™kiem stereo, tworzÄ…c <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code> z dwoma ÅºrÃ³dÅ‚ami mono.</p>
</section>
<section id="void-soundmanager-ensurecontext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::ensureContext()</span></code><a class="headerlink" href="#void-soundmanager-ensurecontext" title="Link to this heading">#</a></h1>
<p>Upewnia siÄ™, Å¼e kontekst OpenAL jest aktywny w bieÅ¼Ä…cym wÄ…tku.</p>
</section>
<section id="id912">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id912" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>OpenAL</strong>: Podstawowa biblioteka do obsÅ‚ugi dÅºwiÄ™ku.</p></li>
<li><p>WspÃ³Å‚pracuje ze wszystkimi klasami z moduÅ‚u <code class="docutils literal notranslate"><span class="pre">sound</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/asyncdispatcher.h</span></code>: UÅ¼ywany do asynchronicznego Å‚adowania plikÃ³w dÅºwiÄ™kowych.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="soundmanager-h">
<h1>ğŸ“„ soundmanager.h<a class="headerlink" href="#soundmanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id913">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id913" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundmanager.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_sounds</span></code>) zarzÄ…dzajÄ…cym caÅ‚ym systemem dÅºwiÄ™ku w aplikacji.</p>
</section>
<section id="id914">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code><a class="headerlink" href="#id914" title="Link to this heading">#</a></h1>
</section>
<section id="id915">
<h1>Opis semantyczny<a class="headerlink" href="#id915" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundManager</span></code> jest centralnym interfejsem do odtwarzania dÅºwiÄ™kÃ³w. Odpowiada za inicjalizacjÄ™ i zamykanie OpenAL, zarzÄ…dzanie ÅºrÃ³dÅ‚ami dÅºwiÄ™ku (<code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>), buforami (<code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>) i kanaÅ‚ami (<code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code>). Posiada mechanizm cachowania dla maÅ‚ych plikÃ³w dÅºwiÄ™kowych i strumieniowania dla wiÄ™kszych.</p>
</section>
<section id="id916">
<h1>StaÅ‚e<a class="headerlink" href="#id916" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_CACHE_SIZE</span></code>: Maksymalny rozmiar pliku (w bajtach), ktÃ³ry bÄ™dzie cachowany w pamiÄ™ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POLL_DELAY</span></code>: Minimalny interwaÅ‚ (w ms) miÄ™dzy wywoÅ‚aniami <code class="docutils literal notranslate"><span class="pre">poll()</span></code>.</p></li>
</ul>
</section>
<section id="id917">
<h1>Metody publiczne<a class="headerlink" href="#id917" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>InicjalizujÄ… i zamykajÄ… system dÅºwiÄ™ku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Aktualizuje stan wszystkich aktywnych ÅºrÃ³deÅ‚ i kanaÅ‚Ã³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setAudioEnabled(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">enableAudio()</span></code>, <code class="docutils literal notranslate"><span class="pre">disableAudio()</span></code></p></td>
<td class="text-left"><p>Globalnie wÅ‚Ä…czajÄ…/wyÅ‚Ä…czajÄ… dÅºwiÄ™k.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">stopAll()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje wszystkie odtwarzane dÅºwiÄ™ki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">preload(...)</span></code></p></td>
<td class="text-left"><p>Åaduje dÅºwiÄ™k do pamiÄ™ci podrÄ™cznej.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">play(...)</span></code></p></td>
<td class="text-left"><p>Odtwarza dÅºwiÄ™k z pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundChannelPtr</span> <span class="pre">getChannel(...)</span></code></p></td>
<td class="text-left"><p>Pobiera lub tworzy kanaÅ‚ dÅºwiÄ™kowy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">resolveSoundFile(...)</span></code></p></td>
<td class="text-left"><p>RozwiÄ…zuje Å›cieÅ¼kÄ™ do pliku dÅºwiÄ™kowego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ensureContext()</span></code></p></td>
<td class="text-left"><p>Upewnia siÄ™, Å¼e kontekst OpenAL jest aktywny.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id918">
<h1>Zmienne prywatne<a class="headerlink" href="#id918" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_device</span></code>, <code class="docutils literal notranslate"><span class="pre">m_context</span></code>: Uchwyty do urzÄ…dzenia i kontekstu OpenAL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_streamFiles</span></code>: Mapa do zarzÄ…dzania asynchronicznym Å‚adowaniem plikÃ³w strumieniowanych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffers</span></code>: Cache dla <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_sources</span></code>: Lista aktywnych ÅºrÃ³deÅ‚ dÅºwiÄ™ku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_audioEnabled</span></code>: Globalna flaga wÅ‚Ä…czenia dÅºwiÄ™ku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_channels</span></code>: Mapa kanaÅ‚Ã³w dÅºwiÄ™kowych.</p></li>
</ul>
</section>
<section id="id919">
<h1>Zmienne globalne<a class="headerlink" href="#id919" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_sounds</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<section id="id920">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id920" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">soundchannel.h</span></code>.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindsingleton</span> <span class="pre">g_sounds</span></code>, udostÄ™pnia swoje API w Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="soundsource-cpp">
<h1>ğŸ“„ soundsource.cpp<a class="headerlink" href="#soundsource-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id921">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id921" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundsource.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>, ktÃ³ra jest opakowaniem na ÅºrÃ³dÅ‚o dÅºwiÄ™ku w OpenAL.</p>
</section>
<section id="klasa-soundsource">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code><a class="headerlink" href="#klasa-soundsource" title="Link to this heading">#</a></h1>
</section>
<section id="soundsource-soundsource">
<h1><code class="docutils literal notranslate"><span class="pre">SoundSource::SoundSource()</span></code><a class="headerlink" href="#soundsource-soundsource" title="Link to this heading">#</a></h1>
<p>Konstruktor. Generuje nowe ÅºrÃ³dÅ‚o w OpenAL za pomocÄ… <code class="docutils literal notranslate"><span class="pre">alGenSources()</span></code> i ustawia domyÅ›lne parametry, takie jak dystans referencyjny.</p>
</section>
<section id="id922">
<h1><code class="docutils literal notranslate"><span class="pre">SoundSource::~SoundSource()</span></code><a class="headerlink" href="#id922" title="Link to this heading">#</a></h1>
<p>Destruktor. Zatrzymuje odtwarzanie i zwalnia zasÃ³b ÅºrÃ³dÅ‚a w OpenAL za pomocÄ… <code class="docutils literal notranslate"><span class="pre">alDeleteSources()</span></code>.</p>
</section>
<section id="void-soundsource-play">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::play()</span></code><a class="headerlink" href="#void-soundsource-play" title="Link to this heading">#</a></h1>
<p>Rozpoczyna odtwarzanie dÅºwiÄ™ku za pomocÄ… <code class="docutils literal notranslate"><span class="pre">alSourcePlay()</span></code>.</p>
</section>
<section id="void-soundsource-stop">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::stop()</span></code><a class="headerlink" href="#void-soundsource-stop" title="Link to this heading">#</a></h1>
<p>Zatrzymuje odtwarzanie (<code class="docutils literal notranslate"><span class="pre">alSourceStop()</span></code>) i odÅ‚Ä…cza bufor od ÅºrÃ³dÅ‚a.</p>
</section>
<section id="bool-soundsource-isbuffering">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundSource::isBuffering()</span></code><a class="headerlink" href="#bool-soundsource-isbuffering" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy ÅºrÃ³dÅ‚o jest w stanie innym niÅ¼ <code class="docutils literal notranslate"><span class="pre">AL_STOPPED</span></code> (czyli <code class="docutils literal notranslate"><span class="pre">AL_PLAYING</span></code> lub <code class="docutils literal notranslate"><span class="pre">AL_PAUSED</span></code>).</p>
</section>
<section id="id923">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">set...()</span></code><a class="headerlink" href="#id923" title="Link to this heading">#</a></h1>
<p>SÄ… to opakowania na funkcje <code class="docutils literal notranslate"><span class="pre">alSource...()</span></code>, ktÃ³re ustawiajÄ… rÃ³Å¼ne wÅ‚aÅ›ciwoÅ›ci ÅºrÃ³dÅ‚a dÅºwiÄ™ku:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setBuffer</span></code>: Przypisuje <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> do ÅºrÃ³dÅ‚a.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setLooping</span></code>: Ustawia zapÄ™tlanie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setRelative</span></code>: Ustawia, czy pozycja ÅºrÃ³dÅ‚a jest wzglÄ™dna do sÅ‚uchacza.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setGain</span></code>: Ustawia gÅ‚oÅ›noÅ›Ä‡.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setPitch</span></code>: Ustawia wysokoÅ›Ä‡ dÅºwiÄ™ku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setPosition</span></code>, <code class="docutils literal notranslate"><span class="pre">setVelocity</span></code>: UstawiajÄ… wÅ‚aÅ›ciwoÅ›ci 3D dÅºwiÄ™ku.</p></li>
</ul>
</section>
<section id="void-soundsource-setfading">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::setFading(...)</span></code><a class="headerlink" href="#void-soundsource-setfading" title="Link to this heading">#</a></h1>
<p>Inicjuje proces pÅ‚ynnego zgÅ‚aÅ›niania (<code class="docutils literal notranslate"><span class="pre">FadingOn</span></code>) lub wyciszania (<code class="docutils literal notranslate"><span class="pre">FadingOff</span></code>) dÅºwiÄ™ku w okreÅ›lonym czasie. Zapisuje stan i czas rozpoczÄ™cia.</p>
</section>
<section id="void-soundsource-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::update()</span></code><a class="headerlink" href="#void-soundsource-update" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana cyklicznie przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>. Implementuje logikÄ™ â€œfadinguâ€, aktualizujÄ…c gÅ‚oÅ›noÅ›Ä‡ ÅºrÃ³dÅ‚a w kaÅ¼dej klatce na podstawie upÅ‚ywajÄ…cego czasu.</p>
</section>
<section id="id924">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id924" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundsource.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundbuffer.h</span></code>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> jako ÅºrÃ³dÅ‚a danych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Do obsÅ‚ugi czasu w mechanizmie â€œfadingâ€.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="streamsoundsource-cpp">
<h1>ğŸ“„ streamsoundsource.cpp<a class="headerlink" href="#streamsoundsource-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id925">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id925" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">streamsoundsource.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code>, ktÃ³ra jest specjalizacjÄ… <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> do odtwarzania dÅºwiÄ™kÃ³w strumieniowo z plikÃ³w.</p>
</section>
<section id="klasa-streamsoundsource">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code><a class="headerlink" href="#klasa-streamsoundsource" title="Link to this heading">#</a></h1>
</section>
<section id="id926">
<h1>Opis semantyczny<a class="headerlink" href="#id926" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> jest przeznaczona do odtwarzania dÅ‚ugich plikÃ³w dÅºwiÄ™kowych (np. muzyki), ktÃ³re nie sÄ… w caÅ‚oÅ›ci Å‚adowane do pamiÄ™ci. Zamiast tego, uÅ¼ywa mechanizmu kolejkowania maÅ‚ych buforÃ³w w OpenAL. Dane sÄ… odczytywane z pliku i dekodowane w locie, a nastÄ™pnie umieszczane w buforach, ktÃ³re sÄ… dodawane do kolejki odtwarzania ÅºrÃ³dÅ‚a.</p>
</section>
<section id="streamsoundsource-streamsoundsource">
<h1><code class="docutils literal notranslate"><span class="pre">StreamSoundSource::StreamSoundSource()</span></code><a class="headerlink" href="#streamsoundsource-streamsoundsource" title="Link to this heading">#</a></h1>
<p>Konstruktor. Tworzy <code class="docutils literal notranslate"><span class="pre">STREAM_FRAGMENTS</span></code> (zwykle 4) maÅ‚ych obiektÃ³w <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>, ktÃ³re bÄ™dÄ… uÅ¼ywane do kolejkowania.</p>
</section>
<section id="void-streamsoundsource-setsoundfile">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::setSoundFile(...)</span></code><a class="headerlink" href="#void-streamsoundsource-setsoundfile" title="Link to this heading">#</a></h1>
<p>Ustawia plik dÅºwiÄ™kowy, z ktÃ³rego bÄ™dÄ… strumieniowane dane. JeÅ›li ÅºrÃ³dÅ‚o czekaÅ‚o na plik, rozpoczyna odtwarzanie.</p>
</section>
<section id="void-streamsoundsource-play">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::play()</span></code><a class="headerlink" href="#void-streamsoundsource-play" title="Link to this heading">#</a></h1>
<p>Rozpoczyna odtwarzanie. JeÅ›li plik dÅºwiÄ™kowy nie zostaÅ‚ jeszcze zaÅ‚adowany (bo Å‚adowanie odbywa siÄ™ asynchronicznie), ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_waitingFile</span></code>. W przeciwnym razie, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">queueBuffers()</span></code> i <code class="docutils literal notranslate"><span class="pre">SoundSource::play()</span></code>.</p>
</section>
<section id="void-streamsoundsource-stop">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::stop()</span></code><a class="headerlink" href="#void-streamsoundsource-stop" title="Link to this heading">#</a></h1>
<p>Zatrzymuje odtwarzanie i czyÅ›ci kolejkÄ™ buforÃ³w za pomocÄ… <code class="docutils literal notranslate"><span class="pre">unqueueBuffers()</span></code>.</p>
</section>
<section id="void-streamsoundsource-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::update()</span></code><a class="headerlink" href="#void-streamsoundsource-update" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana cyklicznie.</p>
<ol class="arabic simple">
<li><p>Sprawdza, ile buforÃ³w zostaÅ‚o juÅ¼ przetworzonych (odtworzonych) przez OpenAL.</p></li>
<li><p>Odkolejkowuje przetworzone bufory.</p></li>
<li><p>WypeÅ‚nia je nowymi danymi z pliku i ponownie dodaje do kolejki.</p></li>
<li><p>ObsÅ‚uguje zapÄ™tlanie i sprawdza, czy odtwarzanie nie zostaÅ‚o przerwane przez â€œbuffer underrunâ€ (gdy OpenAL skoÅ„czy odtwarzaÄ‡, a nie ma nowych buforÃ³w w kolejce).</p></li>
</ol>
</section>
<section id="bool-streamsoundsource-fillbufferandqueue-uint-buffer">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">StreamSoundSource::fillBufferAndQueue(uint</span> <span class="pre">buffer)</span></code><a class="headerlink" href="#bool-streamsoundsource-fillbufferandqueue-uint-buffer" title="Link to this heading">#</a></h1>
<p>Kluczowa metoda.</p>
<ol class="arabic simple">
<li><p>Odczytuje fragment danych z <code class="docutils literal notranslate"><span class="pre">m_soundFile</span></code>.</p></li>
<li><p>ObsÅ‚uguje zapÄ™tlanie, resetujÄ…c plik po dojÅ›ciu do koÅ„ca.</p></li>
<li><p>Opcjonalnie wykonuje â€œdown-mixâ€ z stereo do mono, jeÅ›li <code class="docutils literal notranslate"><span class="pre">m_downMix</span></code> jest ustawione.</p></li>
<li><p>WypeÅ‚nia podany bufor OpenAL nowymi danymi.</p></li>
<li><p>Dodaje bufor do kolejki odtwarzania ÅºrÃ³dÅ‚a.</p></li>
</ol>
</section>
<section id="id927">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id927" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/streamsoundsource.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundbuffer.h</span></code>, <code class="docutils literal notranslate"><span class="pre">soundfile.h</span></code>: UÅ¼ywa tych klas do zarzÄ…dzania buforami i odczytu plikÃ³w.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code> dla plikÃ³w, ktÃ³re nie sÄ… cachowane.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="streamsoundsource-h">
<h1>ğŸ“„ streamsoundsource.h<a class="headerlink" href="#streamsoundsource-h" title="Link to this heading">#</a></h1>
</section>
<section id="id928">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id928" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">streamsoundsource.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code>, ktÃ³ra jest implementacjÄ… <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> do strumieniowego odtwarzania dÅºwiÄ™ku.</p>
</section>
<section id="id929">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code><a class="headerlink" href="#id929" title="Link to this heading">#</a></h1>
</section>
<section id="id930">
<h1>Opis semantyczny<a class="headerlink" href="#id930" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> pozwala na odtwarzanie dÅ‚ugich plikÃ³w dÅºwiÄ™kowych bez potrzeby Å‚adowania ich w caÅ‚oÅ›ci do pamiÄ™ci. DziaÅ‚a poprzez dzielenie dÅºwiÄ™ku na maÅ‚e fragmenty, ktÃ³re sÄ… dynamicznie Å‚adowane do kolejki buforÃ³w OpenAL w trakcie odtwarzania.</p>
</section>
<section id="id931">
<h1>StaÅ‚e<a class="headerlink" href="#id931" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">STREAM_BUFFER_SIZE</span></code>: CaÅ‚kowity rozmiar bufora cyklicznego w pamiÄ™ci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STREAM_FRAGMENTS</span></code>: Liczba fragmentÃ³w (buforÃ³w OpenAL), na ktÃ³re jest podzielony bufor cykliczny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STREAM_FRAGMENT_SIZE</span></code>: Rozmiar pojedynczego fragmentu.</p></li>
</ul>
</section>
<section id="typ-wyliczeniowy-downmix">
<h1>Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">DownMix</span></code><a class="headerlink" href="#typ-wyliczeniowy-downmix" title="Link to this heading">#</a></h1>
<p>OkreÅ›la, czy i jak konwertowaÄ‡ dÅºwiÄ™k stereo na mono (tylko lewy kanaÅ‚, tylko prawy, lub brak konwersji).</p>
</section>
<section id="id932">
<h1>Metody publiczne<a class="headerlink" href="#id932" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">StreamSoundSource()</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy bufory.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~StreamSoundSource()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">play()</span></code></p></td>
<td class="text-left"><p>Rozpoczyna strumieniowanie i odtwarzanie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">stop()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje odtwarzanie i czyÅ›ci kolejkÄ™ buforÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isPlaying()</span></code></p></td>
<td class="text-left"><p>Zwraca, czy ÅºrÃ³dÅ‚o jest w stanie odtwarzania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setSoundFile(...)</span></code></p></td>
<td class="text-left"><p>Ustawia plik dÅºwiÄ™kowy do strumieniowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">downMix(...)</span></code></p></td>
<td class="text-left"><p>Ustawia tryb konwersji na mono.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code></p></td>
<td class="text-left"><p>Aktualizuje kolejkÄ™ buforÃ³w (metoda cykliczna).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id933">
<h1>Zmienne prywatne<a class="headerlink" href="#id933" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_soundFile</span></code>: WskaÅºnik na plik dÅºwiÄ™kowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffers</span></code>: Tablica buforÃ³w OpenAL uÅ¼ywanych w kolejce.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_downMix</span></code>: Tryb konwersji na mono.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_looping</span></code>, <code class="docutils literal notranslate"><span class="pre">m_playing</span></code>, <code class="docutils literal notranslate"><span class="pre">m_eof</span></code>, <code class="docutils literal notranslate"><span class="pre">m_waitingFile</span></code>: Flagi stanu.</p></li>
</ul>
</section>
<section id="id934">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id934" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundsource.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code> do odtwarzania duÅ¼ych plikÃ³w dÅºwiÄ™kowych.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="soundsource-h">
<h1>ğŸ“„ soundsource.h<a class="headerlink" href="#soundsource-h" title="Link to this heading">#</a></h1>
</section>
<section id="id935">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id935" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundsource.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>, ktÃ³ra jest abstrakcyjnym opakowaniem na ÅºrÃ³dÅ‚o dÅºwiÄ™ku w OpenAL.</p>
</section>
<section id="id936">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code><a class="headerlink" href="#id936" title="Link to this heading">#</a></h1>
</section>
<section id="id937">
<h1>Opis semantyczny<a class="headerlink" href="#id937" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> reprezentuje punkt w przestrzeni, z ktÃ³rego wydobywa siÄ™ dÅºwiÄ™k. Enkapsuluje ona ID ÅºrÃ³dÅ‚a OpenAL i dostarcza interfejs do kontrolowania jego wÅ‚aÅ›ciwoÅ›ci, takich jak gÅ‚oÅ›noÅ›Ä‡, wysokoÅ›Ä‡ dÅºwiÄ™ku, pozycja, zapÄ™tlanie i stan odtwarzania. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p>
</section>
<section id="typ-wyliczeniowy-fadestate">
<h1>Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">FadeState</span></code><a class="headerlink" href="#typ-wyliczeniowy-fadestate" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NoFading</span></code>: Brak efektu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FadingOn</span></code>: DÅºwiÄ™k jest w trakcie zgÅ‚aÅ›niania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FadingOff</span></code>: DÅºwiÄ™k jest w trakcie wyciszania.</p></li>
</ul>
</section>
<section id="id938">
<h1>Metody publiczne<a class="headerlink" href="#id938" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundSource()</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~SoundSource()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">play()</span></code></p></td>
<td class="text-left"><p>Rozpoczyna odtwarzanie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">stop()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje odtwarzanie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">isBuffering()</span></code></p></td>
<td class="text-left"><p>Sprawdza stan ÅºrÃ³dÅ‚a w OpenAL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">isPlaying()</span></code></p></td>
<td class="text-left"><p>DomyÅ›lnie to samo co <code class="docutils literal notranslate"><span class="pre">isBuffering</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setName(...)</span></code></p></td>
<td class="text-left"><p>Ustawia nazwÄ™ (do identyfikacji).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setLooping(...)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza/wyÅ‚Ä…cza zapÄ™tlanie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setRelative(...)</span></code></p></td>
<td class="text-left"><p>Ustawia, czy pozycja jest wzglÄ™dna do sÅ‚uchacza.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setReferenceDistance(...)</span></code></p></td>
<td class="text-left"><p>Ustawia dystans referencyjny dla tÅ‚umienia dÅºwiÄ™ku 3D.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setGain(...)</span></code></p></td>
<td class="text-left"><p>Ustawia gÅ‚oÅ›noÅ›Ä‡.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setPitch(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wysokoÅ›Ä‡ dÅºwiÄ™ku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setPosition(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">setVelocity(...)</span></code></p></td>
<td class="text-left"><p>UstawiajÄ… wÅ‚aÅ›ciwoÅ›ci 3D.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setFading(...)</span></code></p></td>
<td class="text-left"><p>Inicjuje efekt pÅ‚ynnego zgÅ‚aÅ›niania/wyciszania.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id939">
<h1>Metody chronione<a class="headerlink" href="#id939" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setBuffer(...)</span></code>: Przypisuje <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> do ÅºrÃ³dÅ‚a.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">update()</span></code>: Metoda cykliczna do obsÅ‚ugi np. â€œfadinguâ€.</p></li>
</ul>
</section>
<section id="id940">
<h1>Zmienne<a class="headerlink" href="#id940" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_sourceId</span></code>: ID ÅºrÃ³dÅ‚a w OpenAL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>: Nazwa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: WskaÅºnik na <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> (dla ÅºrÃ³deÅ‚ nie-strumieniowych).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_fade...</span></code>: Zmienne do obsÅ‚ugi â€œfadinguâ€.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_gain</span></code>: Aktualna gÅ‚oÅ›noÅ›Ä‡.</p></li>
</ul>
</section>
<section id="id941">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id941" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">soundbuffer.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> i <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code>.</p></li>
<li><p>Jest tworzona i zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="any-h">
<h1>ğŸ“„ any.h<a class="headerlink" href="#any-h" title="Link to this heading">#</a></h1>
</section>
<section id="id942">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id942" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">any.h</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>, ktÃ³ra jest prostÄ…, wÅ‚asnÄ… wersjÄ… <code class="docutils literal notranslate"><span class="pre">std::any</span></code> (dostÄ™pnego od C++17) lub <code class="docutils literal notranslate"><span class="pre">boost::any</span></code>. Pozwala na przechowywanie wartoÅ›ci dowolnego typu w sposÃ³b bezpieczny typowo.</p>
</section>
<section id="klasa-any">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">any</span></code><a class="headerlink" href="#klasa-any" title="Link to this heading">#</a></h1>
</section>
<section id="id943">
<h1>Opis semantyczny<a class="headerlink" href="#id943" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">any</span></code> dziaÅ‚a jak polimorficzny kontener. WewnÄ…trz przechowuje wskaÅºnik na obiekt-opakowanie (<code class="docutils literal notranslate"><span class="pre">placeholder</span></code>), ktÃ³ry jest tworzony na stercie. Obiekt-opakowanie jest szablonem (<code class="docutils literal notranslate"><span class="pre">holder&lt;T&gt;</span></code>), ktÃ³ry przechowuje rzeczywistÄ… wartoÅ›Ä‡ i informacje o jej typie (<code class="docutils literal notranslate"><span class="pre">type_info</span></code>).</p>
</section>
<section id="struktury-wewnetrzne">
<h1>Struktury wewnÄ™trzne<a class="headerlink" href="#struktury-wewnetrzne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">placeholder</span></code></strong>: Abstrakcyjna klasa bazowa dla opakowaÅ„. Definiuje wirtualny interfejs do pobierania <code class="docutils literal notranslate"><span class="pre">type_info</span></code> i klonowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">holder&lt;T&gt;</span></code></strong>: Szablonowa klasa pochodna, ktÃ³ra faktycznie przechowuje wartoÅ›Ä‡ typu <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p></li>
</ul>
</section>
<section id="id944">
<h1>Metody publiczne<a class="headerlink" href="#id944" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">any()</span></code></p></td>
<td class="text-left"><p>Konstruktor domyÅ›lny (pusty).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">any(const</span> <span class="pre">any&amp;</span> <span class="pre">other)</span></code></p></td>
<td class="text-left"><p>Konstruktor kopiujÄ…cy (gÅ‚Ä™boka kopia).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">any(const</span> <span class="pre">T&amp;</span> <span class="pre">value)</span></code></p></td>
<td class="text-left"><p>Konstruktor szablonowy, tworzy <code class="docutils literal notranslate"><span class="pre">holder&lt;T&gt;</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~any()</span></code></p></td>
<td class="text-left"><p>Destruktor, zwalnia <code class="docutils literal notranslate"><span class="pre">placeholder</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">any&amp;</span> <span class="pre">swap(any&amp;</span> <span class="pre">rhs)</span></code></p></td>
<td class="text-left"><p>Zamienia zawartoÅ›Ä‡ dwÃ³ch obiektÃ³w <code class="docutils literal notranslate"><span class="pre">any</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">operator=</span></code></p></td>
<td class="text-left"><p>Operatory przypisania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">empty()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li <code class="docutils literal notranslate"><span class="pre">any</span></code> nie przechowuje wartoÅ›ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">const</span> <span class="pre">T&amp;</span> <span class="pre">cast()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Rzutuje i zwraca przechowywanÄ… wartoÅ›Ä‡. Rzuca <code class="docutils literal notranslate"><span class="pre">VALIDATE</span></code> error, jeÅ›li typ jest nieprawidÅ‚owy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::type_info</span> <span class="pre">&amp;</span> <span class="pre">type()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">type_info</span></code> przechowywanej wartoÅ›ci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="funkcja-any-cast">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">any_cast</span></code><a class="headerlink" href="#funkcja-any-cast" title="Link to this heading">#</a></h1>
<p>Funkcja pomocnicza, ktÃ³ra wykonuje bezpieczne rzutowanie. Sprawdza, czy typ przechowywany w <code class="docutils literal notranslate"><span class="pre">any</span></code> zgadza siÄ™ z typem docelowym.</p>
</section>
<section id="id945">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id945" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algorithm&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;typeinfo&gt;</span></code>: Standardowe nagÅ‚Ã³wki C++.</p></li>
<li><p>Jest uÅ¼ywana w <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code> do przechowywania wartoÅ›ci rÃ³Å¼nych typÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="cast-h">
<h1>ğŸ“„ cast.h<a class="headerlink" href="#cast-h" title="Link to this heading">#</a></h1>
</section>
<section id="id946">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id946" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">cast.h</span></code> zawiera zestaw szablonowych funkcji i klas do konwersji (rzutowania) miÄ™dzy rÃ³Å¼nymi typami danych, gÅ‚Ã³wnie z i do <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p>
</section>
<section id="funkcje-cast">
<h1>Funkcje <code class="docutils literal notranslate"><span class="pre">cast</span></code><a class="headerlink" href="#funkcje-cast" title="Link to this heading">#</a></h1>
</section>
<section id="template-typename-t-typename-r-bool-cast-const-t-in-r-out">
<h1><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T,</span> <span class="pre">typename</span> <span class="pre">R&gt;</span> <span class="pre">bool</span> <span class="pre">cast(const</span> <span class="pre">T&amp;</span> <span class="pre">in,</span> <span class="pre">R&amp;</span> <span class="pre">out)</span></code><a class="headerlink" href="#template-typename-t-typename-r-bool-cast-const-t-in-r-out" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna, szablonowa funkcja. UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">std::stringstream</span></code> do konwersji. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li konwersja siÄ™ powiodÅ‚a.</p>
</section>
<section id="specjalizacje">
<h1>Specjalizacje<a class="headerlink" href="#specjalizacje" title="Link to this heading">#</a></h1>
<p>Plik zawiera specjalizacje dla typowych i problematycznych konwersji, aby byÅ‚y one bardziej wydajne i niezawodne:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">string</span></code> do <code class="docutils literal notranslate"><span class="pre">string</span></code>: Proste przypisanie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string</span></code> do <code class="docutils literal notranslate"><span class="pre">bool</span></code>: ObsÅ‚uguje tylko â€œtrueâ€ i â€œfalseâ€.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string</span></code> do <code class="docutils literal notranslate"><span class="pre">char</span></code>: Tylko dla stringÃ³w o dÅ‚ugoÅ›ci 1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string</span></code> do <code class="docutils literal notranslate"><span class="pre">long</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>: UÅ¼ywajÄ… <code class="docutils literal notranslate"><span class="pre">atol</span></code> i <code class="docutils literal notranslate"><span class="pre">atof</span></code>, ale z dodatkowÄ… walidacjÄ… znakÃ³w, aby uniknÄ…Ä‡ nieprawidÅ‚owych konwersji (np. â€œ123aâ€ nie zostanie skonwertowane).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code> do <code class="docutils literal notranslate"><span class="pre">string</span></code>: Konwertuje na â€œtrueâ€ lub â€œfalseâ€.</p></li>
</ul>
</section>
<section id="klasa-cast-exception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">cast_exception</span></code><a class="headerlink" href="#klasa-cast-exception" title="Link to this heading">#</a></h1>
<p>WyjÄ…tek rzucany przez <code class="docutils literal notranslate"><span class="pre">safe_cast</span></code>, gdy konwersja siÄ™ nie powiedzie.</p>
</section>
<section id="funkcje-safe-cast-i-unsafe-cast">
<h1>Funkcje <code class="docutils literal notranslate"><span class="pre">safe_cast</span></code> i <code class="docutils literal notranslate"><span class="pre">unsafe_cast</span></code><a class="headerlink" href="#funkcje-safe-cast-i-unsafe-cast" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">safe_cast&lt;R,</span> <span class="pre">T&gt;(...)</span></code></strong>: Opakowanie na <code class="docutils literal notranslate"><span class="pre">cast</span></code>, ktÃ³re rzuca <code class="docutils literal notranslate"><span class="pre">cast_exception</span></code> w przypadku niepowodzenia.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">unsafe_cast&lt;R,</span> <span class="pre">T&gt;(...)</span></code></strong>: Opakowanie na <code class="docutils literal notranslate"><span class="pre">safe_cast</span></code>, ktÃ³re Å‚apie wyjÄ…tek, loguje bÅ‚Ä…d i zwraca wartoÅ›Ä‡ domyÅ›lnÄ….</p></li>
</ul>
</section>
<section id="id947">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id947" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/exception.h</span></code>, <code class="docutils literal notranslate"><span class="pre">demangle.h</span></code>: Do obsÅ‚ugi bÅ‚Ä™dÃ³w i nazw typÃ³w.</p></li>
<li><p>SÄ… to fundamentalne narzÄ™dzia uÅ¼ywane w caÅ‚ym projekcie, szczegÃ³lnie do parsowania wartoÅ›ci z plikÃ³w OTML i konwersji typÃ³w dla Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="demangle-cpp">
<h1>ğŸ“„ demangle.cpp<a class="headerlink" href="#demangle-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id948">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id948" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">demangle.cpp</span></code> zawiera implementacjÄ™ funkcji <code class="docutils literal notranslate"><span class="pre">demangle_name</span></code>, ktÃ³ra konwertuje â€œznieksztaÅ‚coneâ€ (mangled) nazwy typÃ³w C++ na ich czytelnÄ… formÄ™.</p>
</section>
<section id="funkcja-demangle-name">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">demangle_name</span></code><a class="headerlink" href="#funkcja-demangle-name" title="Link to this heading">#</a></h1>
</section>
<section id="const-char-demangle-name-const-char-name">
<h1><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span> <span class="pre">demangle_name(const</span> <span class="pre">char*</span> <span class="pre">name)</span></code><a class="headerlink" href="#const-char-demangle-name-const-char-name" title="Link to this heading">#</a></h1>
</section>
<section id="id949">
<h1>Opis semantyczny<a class="headerlink" href="#id949" title="Link to this heading">#</a></h1>
<p>Nazwy typÃ³w C++ (szczegÃ³lnie w przypadku szablonÃ³w i przestrzeni nazw) sÄ… przez kompilator zamieniane na unikalne, ale nieczytelne identyfikatory (np. <code class="docutils literal notranslate"><span class="pre">N6stdext11cast_exceptionE</span></code>). Funkcja ta odwraca ten proces, uÅ¼ywajÄ…c narzÄ™dzi specyficznych dla danego kompilatora.</p>
</section>
<section id="implementacja">
<h1>Implementacja<a class="headerlink" href="#implementacja" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Dla MSVC (<code class="docutils literal notranslate"><span class="pre">_MSC_VER</span></code>)</strong>: UÅ¼ywa funkcji <code class="docutils literal notranslate"><span class="pre">UnDecorateSymbolName</span></code> z biblioteki <code class="docutils literal notranslate"><span class="pre">DbgHelp.dll</span></code>.</p></li>
<li><p><strong>Dla GCC/Clang</strong>: UÅ¼ywa funkcji <code class="docutils literal notranslate"><span class="pre">abi::__cxa_demangle</span></code> z biblioteki <code class="docutils literal notranslate"><span class="pre">cxxabi</span></code>.</p></li>
</ul>
</section>
<section id="id950">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id950" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/demangle.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p>NagÅ‚Ã³wki specyficzne dla platformy (<code class="docutils literal notranslate"><span class="pre">dbghelp.h</span></code> lub <code class="docutils literal notranslate"><span class="pre">cxxabi.h</span></code>).</p></li>
<li><p>Jest uÅ¼ywana w systemie rzutowania (<code class="docutils literal notranslate"><span class="pre">cast_exception</span></code>) i w logowaniu, aby dostarczaÄ‡ czytelne nazwy typÃ³w w komunikatach o bÅ‚Ä™dach.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="compiler-h">
<h1>ğŸ“„ compiler.h<a class="headerlink" href="#compiler-h" title="Link to this heading">#</a></h1>
</section>
<section id="id951">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id951" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">compiler.h</span></code> zawiera makra i dyrektywy preprocesora specyficzne dla kompilatora. Jego celem jest ujednolicenie obsÅ‚ugi rÃ³Å¼nych kompilatorÃ³w (GCC, Clang, MSVC) i zapewnienie kompatybilnoÅ›ci.</p>
</section>
<section id="id952">
<h1>ZawartoÅ›Ä‡<a class="headerlink" href="#id952" title="Link to this heading">#</a></h1>
</section>
<section id="build-compiler">
<h1><code class="docutils literal notranslate"><span class="pre">BUILD_COMPILER</span></code><a class="headerlink" href="#build-compiler" title="Link to this heading">#</a></h1>
<p>Makro, ktÃ³re jest definiowane jako string zawierajÄ…cy nazwÄ™ i wersjÄ™ uÅ¼ywanego kompilatora. Jest to ustalane na podstawie predefiniowanych makr kompilatora (<code class="docutils literal notranslate"><span class="pre">__clang__</span></code>, <code class="docutils literal notranslate"><span class="pre">__GNUC__</span></code>, <code class="docutils literal notranslate"><span class="pre">_MSC_VER</span></code>).</p>
</section>
<section id="sprawdzanie-wersji-kompilatora">
<h1>Sprawdzanie wersji kompilatora<a class="headerlink" href="#sprawdzanie-wersji-kompilatora" title="Link to this heading">#</a></h1>
<p>Plik zawiera dyrektywy <code class="docutils literal notranslate"><span class="pre">#error</span></code>, ktÃ³re zatrzymajÄ… kompilacjÄ™, jeÅ›li wersja kompilatora jest zbyt stara (wymagany GCC &gt;= 4.6, MSVC &gt;= 2013).</p>
</section>
<section id="wylaczanie-ostrzezen-msvc">
<h1>WyÅ‚Ä…czanie ostrzeÅ¼eÅ„ (MSVC)<a class="headerlink" href="#wylaczanie-ostrzezen-msvc" title="Link to this heading">#</a></h1>
<p>Dla kompilatora MSVC, wyÅ‚Ä…cza szereg czÄ™sto wystÄ™pujÄ…cych, ale zazwyczaj nieszkodliwych ostrzeÅ¼eÅ„ (<code class="docutils literal notranslate"><span class="pre">#pragma</span> <span class="pre">warning(disable:</span> <span class="pre">...)</span></code>), aby utrzymaÄ‡ czysty output kompilacji.</p>
</section>
<section id="pretty-function">
<h1><code class="docutils literal notranslate"><span class="pre">__PRETTY_FUNCTION__</span></code><a class="headerlink" href="#pretty-function" title="Link to this heading">#</a></h1>
<p>Dla MSVC, definiuje <code class="docutils literal notranslate"><span class="pre">__PRETTY_FUNCTION__</span></code> jako alias dla <code class="docutils literal notranslate"><span class="pre">__FUNCDNAME__</span></code>, aby ujednoliciÄ‡ sposÃ³b uzyskiwania â€œozdobnejâ€ nazwy funkcji.</p>
</section>
<section id="likely-x-i-unlikely-x">
<h1><code class="docutils literal notranslate"><span class="pre">likely(x)</span></code> i <code class="docutils literal notranslate"><span class="pre">unlikely(x)</span></code><a class="headerlink" href="#likely-x-i-unlikely-x" title="Link to this heading">#</a></h1>
<p>Makra do optymalizacji podpowiedzi dla kompilatora (branch prediction). Dla GCC/Clang uÅ¼ywajÄ… <code class="docutils literal notranslate"><span class="pre">__builtin_expect</span></code>. Dla innych kompilatorÃ³w sÄ… puste.</p>
</section>
<section id="sprawdzanie-wsparcia-c-0x">
<h1>Sprawdzanie wsparcia C++0x<a class="headerlink" href="#sprawdzanie-wsparcia-c-0x" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy kompilator wspiera wymagany standard C++ (C++11 lub nowszy).</p>
</section>
<section id="id953">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id953" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to jeden z najbardziej fundamentalnych plikÃ³w nagÅ‚Ã³wkowych, doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">global.h</span></code>, i wpÅ‚ywa na kompilacjÄ™ caÅ‚ego projektu.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="demangle-h">
<h1>ğŸ“„ demangle.h<a class="headerlink" href="#demangle-h" title="Link to this heading">#</a></h1>
</section>
<section id="id954">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id954" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">demangle.h</span></code> deklaruje funkcje pomocnicze do â€œdemanglowaniaâ€ (odkodowywania) nazw typÃ³w C++, ktÃ³re sÄ… znieksztaÅ‚cane przez kompilator w procesie kompilacji.</p>
</section>
<section id="namespace-stdext">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#namespace-stdext" title="Link to this heading">#</a></h1>
</section>
<section id="id955">
<h1>Funkcje<a class="headerlink" href="#id955" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span> <span class="pre">demangle_name(const</span> <span class="pre">char*</span> <span class="pre">name)</span></code></p></td>
<td class="text-left"><p>Przyjmuje znieksztaÅ‚conÄ… nazwÄ™ i zwraca jej czytelnÄ… wersjÄ™.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">std::string</span> <span class="pre">demangle_class()</span></code></p></td>
<td class="text-left"><p>Szablonowa funkcja, ktÃ³ra zwraca czytelnÄ… nazwÄ™ klasy dla danego typu <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">std::string</span> <span class="pre">demangle_type()</span></code></p></td>
<td class="text-left"><p>Szablonowa funkcja, ktÃ³ra zwraca czytelnÄ… nazwÄ™ dowolnego typu <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id956">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id956" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;typeinfo&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>: Standardowe nagÅ‚Ã³wki.</p></li>
<li><p>Jest uÅ¼ywana do generowania czytelnych komunikatÃ³w o bÅ‚Ä™dach, np. w <code class="docutils literal notranslate"><span class="pre">cast_exception</span></code> i <code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="boolean-h">
<h1>ğŸ“„ boolean.h<a class="headerlink" href="#boolean-h" title="Link to this heading">#</a></h1>
</section>
<section id="id957">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id957" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">boolean.h</span></code> deklaruje prostÄ… klasÄ™ szablonowÄ… <code class="docutils literal notranslate"><span class="pre">stdext::boolean</span></code>, ktÃ³ra jest opakowaniem na typ <code class="docutils literal notranslate"><span class="pre">bool</span></code> z moÅ¼liwoÅ›ciÄ… zdefiniowania wartoÅ›ci domyÅ›lnej.</p>
</section>
<section id="klasa-boolean">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">boolean</span></code><a class="headerlink" href="#klasa-boolean" title="Link to this heading">#</a></h1>
</section>
<section id="template-bool-def">
<h1><code class="docutils literal notranslate"><span class="pre">template&lt;bool</span> <span class="pre">def&gt;</span></code><a class="headerlink" href="#template-bool-def" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Parametr szablonu <code class="docutils literal notranslate"><span class="pre">def</span></code></strong>: OkreÅ›la domyÅ›lnÄ… wartoÅ›Ä‡ (<code class="docutils literal notranslate"><span class="pre">true</span></code> lub <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p></li>
</ul>
</section>
<section id="id958">
<h1>Opis semantyczny<a class="headerlink" href="#id958" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">boolean</span></code> zachowuje siÄ™ jak standardowy <code class="docutils literal notranslate"><span class="pre">bool</span></code>, ale jego konstruktor domyÅ›lny inicjalizuje go wartoÅ›ciÄ… <code class="docutils literal notranslate"><span class="pre">def</span></code>. Jest to przydatne do inicjalizacji pÃ³l w klasach, gdzie domyÅ›lna wartoÅ›Ä‡ <code class="docutils literal notranslate"><span class="pre">bool</span></code> (ktÃ³ra jest nieokreÅ›lona) mogÅ‚aby prowadziÄ‡ do bÅ‚Ä™dÃ³w.</p>
</section>
<section id="przyklad-uzycia">
<h1>PrzykÅ‚ad uÅ¼ycia<a class="headerlink" href="#przyklad-uzycia" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">stdext</span><span class="o">::</span><span class="n">boolean</span><span class="o">&lt;</span><span class="nb">true</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_visible</span><span class="p">;</span><span class="w"> </span><span class="c1">// DomyÅ›lnie true</span>
<span class="w">    </span><span class="n">stdext</span><span class="o">::</span><span class="n">boolean</span><span class="o">&lt;</span><span class="nb">false</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_enabled</span><span class="p">;</span><span class="w"> </span><span class="c1">// DomyÅ›lnie false</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="operatory">
<h1>Operatory<a class="headerlink" href="#operatory" title="Link to this heading">#</a></h1>
<p>Klasa przeciÄ…Å¼a operatory <code class="docutils literal notranslate"><span class="pre">operator</span> <span class="pre">bool&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">operator</span> <span class="pre">bool</span> <span class="pre">const&amp;</span></code> i <code class="docutils literal notranslate"><span class="pre">operator=</span></code>, co pozwala na uÅ¼ywanie jej w taki sam sposÃ³b, jak standardowego <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</p>
</section>
<section id="id959">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id959" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to prosta klasa narzÄ™dziowa, uÅ¼ywana w wielu miejscach w projekcie (np. w <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>) do definiowania flag stanu.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="dumper-h">
<h1>ğŸ“„ dumper.h<a class="headerlink" href="#dumper-h" title="Link to this heading">#</a></h1>
</section>
<section id="id960">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id960" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">dumper.h</span></code> zawiera proste narzÄ™dzie do szybkiego debugowania, ktÃ³re pozwala na wypisywanie wartoÅ›ci wielu zmiennych na standardowe wyjÅ›cie w jednej linii.</p>
</section>
<section id="id961">
<h1>Zmienne globalne<a class="headerlink" href="#id961" title="Link to this heading">#</a></h1>
</section>
<section id="dump">
<h1><code class="docutils literal notranslate"><span class="pre">dump</span></code><a class="headerlink" href="#dump" title="Link to this heading">#</a></h1>
<p>Globalny obiekt o specjalnej strukturze, ktÃ³ry przeciÄ…Å¼a operator <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>.</p>
</section>
<section id="id962">
<h1>Opis semantyczny<a class="headerlink" href="#id962" title="Link to this heading">#</a></h1>
<p>UÅ¼ycie <code class="docutils literal notranslate"><span class="pre">dump</span></code> pozwala na tworzenie Å‚aÅ„cuchowych wywoÅ‚aÅ„, ktÃ³re wypisujÄ… wartoÅ›ci oddzielone spacjami, a na koÅ„cu automatycznie dodajÄ… znak nowej linii.</p>
</section>
<section id="id963">
<h1>PrzykÅ‚ad uÅ¼ycia<a class="headerlink" href="#id963" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"hello"</span><span class="p">;</span>
<span class="n">dump</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"WartoÅ›ci:"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>WyjÅ›cie:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WartoÅ›ci</span><span class="p">:</span> <span class="mi">10</span> <span class="n">hello</span>
</pre></div>
</div>
</section>
<section id="id964">
<h1>Implementacja<a class="headerlink" href="#id964" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Tworzy globalny obiekt, ktÃ³rego <code class="docutils literal notranslate"><span class="pre">operator&lt;&lt;</span></code> zwraca tymczasowy obiekt <code class="docutils literal notranslate"><span class="pre">dumper_dummy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dumper_dummy</span></code> ma przeciÄ…Å¼ony <code class="docutils literal notranslate"><span class="pre">operator&lt;&lt;</span></code> do wypisywania wartoÅ›ci i destruktor, ktÃ³ry wypisuje znak nowej linii.</p></li>
</ul>
</section>
<section id="id965">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id965" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;iostream&gt;</span></code>: Do wypisywania na <code class="docutils literal notranslate"><span class="pre">std::cout</span></code>.</p></li>
<li><p>Jest to narzÄ™dzie wyÅ‚Ä…cznie do celÃ³w debugowania.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="dynamic-storage-h">
<h1>ğŸ“„ dynamic_storage.h<a class="headerlink" href="#dynamic-storage-h" title="Link to this heading">#</a></h1>
</section>
<section id="id966">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id966" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">dynamic_storage.h</span></code> deklaruje klasÄ™ szablonowÄ… <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code>, ktÃ³ra implementuje dynamiczny kontener asocjacyjny, gdzie kluczem jest typ caÅ‚kowitoliczbowy, a wartoÅ›ciÄ… moÅ¼e byÄ‡ dowolny typ (przechowywany za pomocÄ… <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>).</p>
</section>
<section id="klasa-dynamic-storage">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code><a class="headerlink" href="#klasa-dynamic-storage" title="Link to this heading">#</a></h1>
</section>
<section id="id967">
<h1>Opis semantyczny<a class="headerlink" href="#id967" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code> dziaÅ‚a jak mapa, ale jest zaimplementowana w oparciu o <code class="docutils literal notranslate"><span class="pre">std::vector&lt;stdext::any&gt;</span></code>. Klucz (<code class="docutils literal notranslate"><span class="pre">Key</span></code>) jest uÅ¼ywany jako indeks w wektorze. Jest to wydajne, jeÅ›li klucze sÄ… maÅ‚ymi, kolejnymi liczbami caÅ‚kowitymi. Pozwala na przechowywanie heterogenicznych danych w jednym kontenerze.</p>
</section>
<section id="id968">
<h1>Metody publiczne<a class="headerlink" href="#id968" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">void</span> <span class="pre">set(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wartoÅ›Ä‡ dla danego klucza. W razie potrzeby rozszerza wektor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">remove(...)</span></code></p></td>
<td class="text-left"><p>Usuwa wartoÅ›Ä‡ dla danego klucza (zastÄ™pujÄ…c jÄ… pustym <code class="docutils literal notranslate"><span class="pre">any</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">T</span> <span class="pre">get(...)</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Pobiera wartoÅ›Ä‡ dla danego klucza, rzutujÄ…c jÄ… na typ <code class="docutils literal notranslate"><span class="pre">T</span></code>. Zwraca wartoÅ›Ä‡ domyÅ›lnÄ…, jeÅ›li klucz nie istnieje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">has(...)</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy klucz istnieje i ma przypisanÄ… wartoÅ›Ä‡.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::size_t</span> <span class="pre">size()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbÄ™ niepustych elementÃ³w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci kontener.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id969">
<h1>Zmienne prywatne<a class="headerlink" href="#id969" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_data</span></code>: Wektor <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>, ktÃ³ry przechowuje dane.</p></li>
</ul>
</section>
<section id="id970">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id970" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/types.h</span></code>, <code class="docutils literal notranslate"><span class="pre">stdext/any.h</span></code>: Wymagane definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;unordered_map&gt;</span></code>: NagÅ‚Ã³wek jest doÅ‚Ä…czony, ale nie jest uÅ¼ywany.</p></li>
<li><p>MoÅ¼e byÄ‡ uÅ¼ywana do implementacji niestandardowych systemÃ³w atrybutÃ³w lub wÅ‚aÅ›ciwoÅ›ci dla obiektÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="exception-h">
<h1>ğŸ“„ exception.h<a class="headerlink" href="#exception-h" title="Link to this heading">#</a></h1>
</section>
<section id="id971">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id971" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">exception.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>, ktÃ³ra jest bazowÄ… klasÄ… dla wszystkich niestandardowych wyjÄ…tkÃ³w w projekcie.</p>
</section>
<section id="klasa-exception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">exception</span></code><a class="headerlink" href="#klasa-exception" title="Link to this heading">#</a></h1>
</section>
<section id="id972">
<h1>Opis semantyczny<a class="headerlink" href="#id972" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">std::exception</span></code> i rozszerza jÄ… o konstruktor przyjmujÄ…cy <code class="docutils literal notranslate"><span class="pre">std::string</span></code> oraz o przechowywanie komunikatu bÅ‚Ä™du w <code class="docutils literal notranslate"><span class="pre">m_what</span></code>. Upraszcza to tworzenie i rzucanie wyjÄ…tkÃ³w z niestandardowymi komunikatami.</p>
</section>
<section id="id973">
<h1>Metody<a class="headerlink" href="#id973" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">exception(const</span> <span class="pre">std::string&amp;</span> <span class="pre">what)</span></code>: Konstruktor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">const</span> <span class="pre">char*</span> <span class="pre">what()</span> <span class="pre">const</span> <span class="pre">throw()</span></code>: Zwraca komunikat bÅ‚Ä™du.</p></li>
</ul>
</section>
<section id="funkcja-throw-exception">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">throw_exception</span></code><a class="headerlink" href="#funkcja-throw-exception" title="Link to this heading">#</a></h1>
<p>Funkcja pomocnicza, ktÃ³ra tworzy i rzuca <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">throw_exception</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">what</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="n">exception</span><span class="p">(</span><span class="n">what</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id974">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id974" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">cast_exception</span></code> i <code class="docutils literal notranslate"><span class="pre">LuaException</span></code>.</p></li>
<li><p>Jest uÅ¼ywana w caÅ‚ym projekcie do sygnalizowania bÅ‚Ä™dÃ³w, ktÃ³re mogÄ… byÄ‡ przechwycone i obsÅ‚uÅ¼one na wyÅ¼szym poziomie.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="fastrand-h">
<h1>ğŸ“„ fastrand.h<a class="headerlink" href="#fastrand-h" title="Link to this heading">#</a></h1>
</section>
<section id="id975">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id975" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">fastrand.h</span></code> zawiera implementacjÄ™ prostej i szybkiej funkcji do generowania liczb pseudolosowych.</p>
</section>
<section id="funkcja-fastrand">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">fastrand</span></code><a class="headerlink" href="#funkcja-fastrand" title="Link to this heading">#</a></h1>
</section>
<section id="static-int-fastrand">
<h1><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">int</span> <span class="pre">fastrand()</span></code><a class="headerlink" href="#static-int-fastrand" title="Link to this heading">#</a></h1>
</section>
<section id="id976">
<h1>Opis semantyczny<a class="headerlink" href="#id976" title="Link to this heading">#</a></h1>
<p>Implementuje liniowy generator kongruentny (Linear Congruential Generator - LCG). Jest to bardzo prosty i szybki algorytm, ale o niskiej jakoÅ›ci losowoÅ›ci w porÃ³wnaniu do nowoczeÅ›niejszych generatorÃ³w (jak Mersenne Twister). Jest odpowiedni do zastosowaÅ„, gdzie wydajnoÅ›Ä‡ jest waÅ¼niejsza niÅ¼ jakoÅ›Ä‡ losowoÅ›ci (np. proste efekty wizualne).</p>
</section>
<section id="id977">
<h1>DziaÅ‚anie<a class="headerlink" href="#id977" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>UÅ¼ywa statycznej zmiennej <code class="docutils literal notranslate"><span class="pre">g_seed</span></code> jako stanu.</p></li>
<li><p>W kaÅ¼dym wywoÅ‚aniu, aktualizuje <code class="docutils literal notranslate"><span class="pre">g_seed</span></code> wedÅ‚ug wzoru: <code class="docutils literal notranslate"><span class="pre">g_seed</span> <span class="pre">=</span> <span class="pre">(a</span> <span class="pre">*</span> <span class="pre">g_seed</span> <span class="pre">+</span> <span class="pre">c)</span></code>.</p></li>
<li><p>Zwraca 15 najbardziej znaczÄ…cych bitÃ³w z wyÅ¼szych 16 bitÃ³w wyniku.</p></li>
</ul>
</section>
<section id="id978">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id978" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to samodzielna funkcja narzÄ™dziowa.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="math-cpp">
<h1>ğŸ“„ math.cpp<a class="headerlink" href="#math-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id979">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id979" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">math.cpp</span></code> zawiera implementacjÄ™ funkcji matematycznych i losowych zadeklarowanych w <code class="docutils literal notranslate"><span class="pre">math.h</span></code>.</p>
</section>
<section id="id980">
<h1>Funkcje<a class="headerlink" href="#id980" title="Link to this heading">#</a></h1>
</section>
<section id="uint32-t-stdext-adler32">
<h1><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">stdext::adler32(...)</span></code><a class="headerlink" href="#uint32-t-stdext-adler32" title="Link to this heading">#</a></h1>
<p>Implementuje algorytm sumy kontrolnej Adler-32, ktÃ³ry jest szybszy, ale mniej niezawodny niÅ¼ CRC32.</p>
</section>
<section id="long-stdext-random-range-long-min-long-max">
<h1><code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">stdext::random_range(long</span> <span class="pre">min,</span> <span class="pre">long</span> <span class="pre">max)</span></code><a class="headerlink" href="#long-stdext-random-range-long-min-long-max" title="Link to this heading">#</a></h1>
<p>Generuje losowÄ… liczbÄ™ caÅ‚kowitÄ… z podanego zakresu (wÅ‚Ä…cznie). UÅ¼ywa generatora Mersenne Twister (<code class="docutils literal notranslate"><span class="pre">std::mt19937</span></code>) zasilanego przez <code class="docutils literal notranslate"><span class="pre">std::random_device</span></code>, co zapewnia wysokÄ… jakoÅ›Ä‡ losowoÅ›ci.</p>
</section>
<section id="float-stdext-random-range-float-min-float-max">
<h1><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">stdext::random_range(float</span> <span class="pre">min,</span> <span class="pre">float</span> <span class="pre">max)</span></code><a class="headerlink" href="#float-stdext-random-range-float-min-float-max" title="Link to this heading">#</a></h1>
<p>Generuje losowÄ… liczbÄ™ zmiennoprzecinkowÄ… z podanego zakresu.</p>
</section>
<section id="double-stdext-round-double-r">
<h1><code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">stdext::round(double</span> <span class="pre">r)</span></code><a class="headerlink" href="#double-stdext-round-double-r" title="Link to this heading">#</a></h1>
<p>Implementuje zaokrÄ…glanie matematyczne (od .5 w gÃ³rÄ™).</p>
</section>
<section id="id981">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id981" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/math.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;random&gt;</span></code>: Do generowania liczb losowych.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="math-h">
<h1>ğŸ“„ math.h<a class="headerlink" href="#math-h" title="Link to this heading">#</a></h1>
</section>
<section id="id982">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id982" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">math.h</span></code> deklaruje zestaw funkcji pomocniczych zwiÄ…zanych z matematykÄ…, operacjami bitowymi i losowoÅ›ciÄ….</p>
</section>
<section id="id983">
<h1>Funkcje<a class="headerlink" href="#id983" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">is_power_of_two(v)</span></code></strong>: Sprawdza, czy liczba jest potÄ™gÄ… dwÃ³jki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">to_power_of_two(v)</span></code></strong>: Zwraca najbliÅ¼szÄ… potÄ™gÄ™ dwÃ³jki, ktÃ³ra jest wiÄ™ksza lub rÃ³wna <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">readULE16</span></code>, <code class="docutils literal notranslate"><span class="pre">readULE32</span></code>, <code class="docutils literal notranslate"><span class="pre">readULE64</span></code></strong>: OdczytujÄ… liczby caÅ‚kowite bez znaku w porzÄ…dku Little Endian z bufora.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">writeULE16</span></code>, <code class="docutils literal notranslate"><span class="pre">writeULE32</span></code>, <code class="docutils literal notranslate"><span class="pre">writeULE64</span></code></strong>: ZapisujÄ… liczby do bufora w porzÄ…dku Little Endian.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">readSLE...</span></code>, <code class="docutils literal notranslate"><span class="pre">writeSLE...</span></code></strong>: Analogiczne funkcje dla liczb ze znakiem.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">adler32(...)</span></code></strong>: Deklaracja funkcji sumy kontrolnej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">random_range(...)</span></code></strong>: Deklaracje funkcji do generowania liczb losowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">round(...)</span></code></strong>: Deklaracja funkcji zaokrÄ…glajÄ…cej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">clamp(...)</span></code></strong>: Szablonowa funkcja ograniczajÄ…ca wartoÅ›Ä‡ do podanego zakresu.</p></li>
</ul>
</section>
<section id="id984">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id984" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>SÄ… to podstawowe funkcje narzÄ™dziowe, uÅ¼ywane w wielu miejscach, szczegÃ³lnie w obsÅ‚udze sieci (odczyt/zapis pakietÃ³w) i grafice (operacje na potÄ™gach dwÃ³jki dla tekstur).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="net-h">
<h1>ğŸ“„ net.h<a class="headerlink" href="#net-h" title="Link to this heading">#</a></h1>
</section>
<section id="id985">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id985" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">net.h</span></code> deklaruje funkcje pomocnicze zwiÄ…zane z operacjami na adresach IP.</p>
</section>
<section id="id986">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id986" title="Link to this heading">#</a></h1>
</section>
<section id="id987">
<h1>Funkcje<a class="headerlink" href="#id987" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ip_to_string(uint32</span> <span class="pre">ip)</span></code></p></td>
<td class="text-left"><p>Konwertuje 32-bitowy adres IP (w porzÄ…dku sieciowym) na jego reprezentacjÄ™ tekstowÄ… (np. â€œ127.0.0.1â€).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint32</span> <span class="pre">string_to_ip(const</span> <span class="pre">std::string&amp;</span> <span class="pre">string)</span></code></p></td>
<td class="text-left"><p>Konwertuje adres IP w formacie tekstowym na jego 32-bitowÄ… reprezentacjÄ™ w porzÄ…dku sieciowym.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint32&gt;</span> <span class="pre">listSubnetAddresses(...)</span></code></p></td>
<td class="text-left"><p>Generuje listÄ™ wszystkich adresÃ³w IP w danej podsieci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id988">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id988" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/types.h</span></code>.</p></li>
<li><p>Implementacja w <code class="docutils literal notranslate"><span class="pre">net.cpp</span></code> uÅ¼ywa Boost.Asio do konwersji.</p></li>
<li><p>Funkcje te sÄ… uÅ¼ywane w logice sieciowej, np. do logowania adresÃ³w IP.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="packed-any-h">
<h1>ğŸ“„ packed_any.h<a class="headerlink" href="#packed-any-h" title="Link to this heading">#</a></h1>
</section>
<section id="id989">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id989" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packed_any.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">stdext::packed_any</span></code>, ktÃ³ra jest zoptymalizowanÄ… pod kÄ…tem pamiÄ™ci wersjÄ… <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>.</p>
</section>
<section id="klasa-packed-any">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">packed_any</span></code><a class="headerlink" href="#klasa-packed-any" title="Link to this heading">#</a></h1>
</section>
<section id="id990">
<h1>Opis semantyczny<a class="headerlink" href="#id990" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">packed_any</span></code> dziaÅ‚a podobnie do <code class="docutils literal notranslate"><span class="pre">any</span></code>, ale wprowadza optymalizacjÄ™ dla maÅ‚ych, trywialnych typÃ³w (takich jak <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">enum</span></code>, wskaÅºniki). Zamiast alokowaÄ‡ pamiÄ™Ä‡ na stercie dla <code class="docutils literal notranslate"><span class="pre">holdera</span></code>, wartoÅ›ci takich typÃ³w sÄ… przechowywane bezpoÅ›rednio w wskaÅºniku <code class="docutils literal notranslate"><span class="pre">content</span></code> poprzez rzutowanie. Flaga <code class="docutils literal notranslate"><span class="pre">scalar</span></code> odrÃ³Å¼nia te dwa tryby przechowywania. Zmniejsza to fragmentacjÄ™ pamiÄ™ci i narzut na alokacjÄ™ dla czÄ™sto uÅ¼ywanych, maÅ‚ych typÃ³w.</p>
</section>
<section id="szablon-can-pack-in-any">
<h1>Szablon <code class="docutils literal notranslate"><span class="pre">can_pack_in_any</span></code><a class="headerlink" href="#szablon-can-pack-in-any" title="Link to this heading">#</a></h1>
<p>Szablon pomocniczy, ktÃ³ry w czasie kompilacji okreÅ›la, czy dany typ <code class="docutils literal notranslate"><span class="pre">T</span></code> moÅ¼e byÄ‡ â€œspakowanyâ€ bezpoÅ›rednio we wskaÅºniku. Warunkiem jest, aby <code class="docutils literal notranslate"><span class="pre">sizeof(T)</span></code> byÅ‚ mniejszy lub rÃ³wny <code class="docutils literal notranslate"><span class="pre">sizeof(void*)</span></code> i aby typ byÅ‚ trywialnie kopiowalny.</p>
</section>
<section id="metody-i-pola">
<h1>Metody i pola<a class="headerlink" href="#metody-i-pola" title="Link to this heading">#</a></h1>
<p>SÄ… analogiczne do <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>, z dodatkowym polem <code class="docutils literal notranslate"><span class="pre">scalar</span></code> do rozrÃ³Å¼niania trybu.</p>
</section>
<section id="funkcja-packed-any-cast">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">packed_any_cast</span></code><a class="headerlink" href="#funkcja-packed-any-cast" title="Link to this heading">#</a></h1>
<p>Posiada dwie specjalizacje: jednÄ… dla typÃ³w â€œpakowalnychâ€ (ktÃ³ra rzutuje wskaÅºnik z powrotem na wartoÅ›Ä‡) i drugÄ… dla typÃ³w nie-pakowalnych (ktÃ³ra dziaÅ‚a jak <code class="docutils literal notranslate"><span class="pre">any_cast</span></code>).</p>
</section>
<section id="id991">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id991" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest uÅ¼ywana w <code class="docutils literal notranslate"><span class="pre">packed_storage</span></code> jako mechanizm przechowywania wartoÅ›ci.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="shared-object-h">
<h1>ğŸ“„ shared_object.h<a class="headerlink" href="#shared-object-h" title="Link to this heading">#</a></h1>
</section>
<section id="id992">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id992" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shared_object.h</span></code> zawiera implementacjÄ™ wÅ‚asnego, intruzywnego inteligentnego wskaÅºnika (<code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>) i powiÄ…zanej z nim klasy bazowej (<code class="docutils literal notranslate"><span class="pre">shared_object</span></code>).</p>
</section>
<section id="klasa-shared-object">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">shared_object</span></code><a class="headerlink" href="#klasa-shared-object" title="Link to this heading">#</a></h1>
</section>
<section id="id993">
<h1>Opis semantyczny<a class="headerlink" href="#id993" title="Link to this heading">#</a></h1>
<p>Jest to klasa bazowa, po ktÃ³rej muszÄ… dziedziczyÄ‡ wszystkie klasy, ktÃ³re chcÄ… byÄ‡ zarzÄ…dzane przez <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>. Zawiera ona licznik referencji (<code class="docutils literal notranslate"><span class="pre">refs</span></code>) i metody do jego inkrementacji i dekrementacji. Jest to tzw. â€œintruzywnyâ€ wskaÅºnik, poniewaÅ¼ sam obiekt przechowuje swÃ³j licznik referencji.</p>
</section>
<section id="id994">
<h1>Metody<a class="headerlink" href="#id994" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">add_ref()</span></code>: Inkrementuje licznik.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dec_ref()</span></code>: Dekrementuje licznik. JeÅ›li osiÄ…gnie 0, obiekt usuwa sam siebie (<code class="docutils literal notranslate"><span class="pre">delete</span> <span class="pre">this</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ref_count()</span></code>: Zwraca liczbÄ™ referencji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">..._self_cast()</span></code>: Metody pomocnicze do bezpiecznego rzutowania <code class="docutils literal notranslate"><span class="pre">this</span></code> na <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>.</p></li>
</ul>
</section>
<section id="klasa-shared-object-ptr">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code><a class="headerlink" href="#klasa-shared-object-ptr" title="Link to this heading">#</a></h1>
</section>
<section id="id995">
<h1>Opis semantyczny<a class="headerlink" href="#id995" title="Link to this heading">#</a></h1>
<p>Jest to szablonowa klasa inteligentnego wskaÅºnika, ktÃ³ra naÅ›laduje zachowanie <code class="docutils literal notranslate"><span class="pre">std::shared_ptr</span></code>, ale wspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">shared_object</span></code>. ZarzÄ…dza czasem Å¼ycia obiektu, na ktÃ³ry wskazuje, automatycznie wywoÅ‚ujÄ…c <code class="docutils literal notranslate"><span class="pre">add_ref</span></code> i <code class="docutils literal notranslate"><span class="pre">dec_ref</span></code>.</p>
</section>
<section id="metody-i-operatory">
<h1>Metody i operatory<a class="headerlink" href="#metody-i-operatory" title="Link to this heading">#</a></h1>
<p>Implementuje wszystkie standardowe operacje dla inteligentnych wskaÅºnikÃ³w: konstruktory, destruktor, operatory przypisania, dereferencji (<code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">â†’</span></code>), porÃ³wnania, a takÅ¼e konwersjÄ™ do <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</p>
</section>
<section id="id996">
<h1>Funkcje pomocnicze<a class="headerlink" href="#id996" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">get_pointer</span></code>, <code class="docutils literal notranslate"><span class="pre">static_pointer_cast</span></code>, <code class="docutils literal notranslate"><span class="pre">const_pointer_cast</span></code>, <code class="docutils literal notranslate"><span class="pre">dynamic_pointer_cast</span></code>, <code class="docutils literal notranslate"><span class="pre">make_shared_object</span></code>: Funkcje globalne naÅ›ladujÄ…ce te znane z <code class="docutils literal notranslate"><span class="pre">&lt;memory&gt;</span></code>.</p></li>
</ul>
</section>
<section id="id997">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id997" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to fundamentalny element frameworka. Prawie wszystkie klasy, ktÃ³re sÄ… dynamicznie alokowane i przekazywane miÄ™dzy rÃ³Å¼nymi czÄ™Å›ciami systemu (szczegÃ³lnie do i z Lua), dziedziczÄ… po <code class="docutils literal notranslate"><span class="pre">shared_object</span></code> i sÄ… zarzÄ…dzane przez <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="stdext-h">
<h1>ğŸ“„ stdext.h<a class="headerlink" href="#stdext-h" title="Link to this heading">#</a></h1>
</section>
<section id="id998">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id998" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">stdext.h</span></code> jest gÅ‚Ã³wnym plikiem nagÅ‚Ã³wkowym dla moduÅ‚u <code class="docutils literal notranslate"><span class="pre">stdext</span></code> (standard extensions). Jego jedynym zadaniem jest doÅ‚Ä…czenie wszystkich innych plikÃ³w nagÅ‚Ã³wkowych z tego moduÅ‚u w jednym miejscu.</p>
</section>
<section id="id999">
<h1>ZawartoÅ›Ä‡<a class="headerlink" href="#id999" title="Link to this heading">#</a></h1>
<p>DoÅ‚Ä…cza wszystkie pliki z <code class="docutils literal notranslate"><span class="pre">framework/stdext/</span></code>, w tym:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">compiler.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dumper.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">types.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exception.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">demangle.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cast.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">math.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boolean.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shared_object.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">any.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">packed_any.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dynamic_storage.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">packed_storage.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format.h</span></code></p></li>
</ul>
</section>
<section id="id1000">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1000" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">global.h</span></code>, co sprawia, Å¼e wszystkie narzÄ™dzia z <code class="docutils literal notranslate"><span class="pre">stdext</span></code> sÄ… dostÄ™pne w caÅ‚ym projekcie.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="packed-storage-h">
<h1>ğŸ“„ packed_storage.h<a class="headerlink" href="#packed-storage-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1001">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1001" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packed_storage.h</span></code> deklaruje klasÄ™ szablonowÄ… <code class="docutils literal notranslate"><span class="pre">packed_storage</span></code>, ktÃ³ra jest kontenerem asocjacyjnym zoptymalizowanym pod kÄ…tem minimalnego zuÅ¼ycia pamiÄ™ci.</p>
</section>
<section id="klasa-packed-storage">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">packed_storage</span></code><a class="headerlink" href="#klasa-packed-storage" title="Link to this heading">#</a></h1>
</section>
<section id="id1002">
<h1>Opis semantyczny<a class="headerlink" href="#id1002" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">packed_storage</span></code> dziaÅ‚a jak mapa, ale zamiast zÅ‚oÅ¼onych struktur drzewiastych lub tablic hashujÄ…cych, przechowuje swoje elementy w prostej, dynamicznie alokowanej tablicy par <code class="docutils literal notranslate"><span class="pre">(klucz,</span> <span class="pre">wartoÅ›Ä‡)</span></code>. WartoÅ›ci sÄ… przechowywane w <code class="docutils literal notranslate"><span class="pre">packed_any</span></code>, co dodatkowo minimalizuje zuÅ¼ycie pamiÄ™ci. Jest to rozwiÄ…zanie kompromisowe: zuÅ¼ywa bardzo maÅ‚o pamiÄ™ci, ale operacje wyszukiwania, dodawania i usuwania majÄ… zÅ‚oÅ¼onoÅ›Ä‡ liniowÄ… O(n). Jest odpowiednia dla maÅ‚ej liczby elementÃ³w.</p>
</section>
<section id="id1003">
<h1>Metody publiczne<a class="headerlink" href="#id1003" title="Link to this heading">#</a></h1>
<p>SÄ… analogiczne do <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code>: <code class="docutils literal notranslate"><span class="pre">set</span></code>, <code class="docutils literal notranslate"><span class="pre">remove</span></code>, <code class="docutils literal notranslate"><span class="pre">get</span></code>, <code class="docutils literal notranslate"><span class="pre">has</span></code>, <code class="docutils literal notranslate"><span class="pre">clear</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code>.</p>
</section>
<section id="id1004">
<h1>Zmienne prywatne<a class="headerlink" href="#id1004" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_values</span></code>: WskaÅºnik na tablicÄ™ <code class="docutils literal notranslate"><span class="pre">value_pair</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Aktualna liczba elementÃ³w.</p></li>
</ul>
</section>
<section id="id1005">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1005" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/types.h</span></code>, <code class="docutils literal notranslate"><span class="pre">stdext/packed_any.h</span></code>.</p></li>
<li><p>MoÅ¼e byÄ‡ uÅ¼ywana tam, gdzie liczy siÄ™ kaÅ¼dy bajt pamiÄ™ci, a liczba przechowywanych elementÃ³w jest niewielka.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="thread-h">
<h1>ğŸ“„ thread.h<a class="headerlink" href="#thread-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1006">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1006" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">thread.h</span></code> jest prostym plikiem nagÅ‚Ã³wkowym, ktÃ³ry doÅ‚Ä…cza standardowe nagÅ‚Ã³wki C++ zwiÄ…zane z wielowÄ…tkowoÅ›ciÄ….</p>
</section>
<section id="id1007">
<h1>ZawartoÅ›Ä‡<a class="headerlink" href="#id1007" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;thread&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;condition_variable&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;mutex&gt;</span>
</pre></div>
</div>
</section>
<section id="id1008">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1008" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>SÅ‚uÅ¼y jako centralny punkt doÅ‚Ä…czania nagÅ‚Ã³wkÃ³w wielowÄ…tkowoÅ›ci, co uÅ‚atwia zarzÄ…dzanie zaleÅ¼noÅ›ciami.</p></li>
<li><p>Jest uÅ¼ywany przez klasy takie jak <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code>, <code class="docutils literal notranslate"><span class="pre">Logger</span></code>, <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="time-h">
<h1>ğŸ“„ time.h<a class="headerlink" href="#time-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1009">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1009" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">time.h</span></code> deklaruje zestaw funkcji i klas do obsÅ‚ugi czasu, stanowiÄ…c opakowanie na <code class="docutils literal notranslate"><span class="pre">std::chrono</span></code>.</p>
</section>
<section id="id1010">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id1010" title="Link to this heading">#</a></h1>
</section>
<section id="id1011">
<h1>Funkcje<a class="headerlink" href="#id1011" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">time()</span></code></p></td>
<td class="text-left"><p>Zwraca czas w sekundach od epoki (Unix timestamp).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">millis()</span></code></p></td>
<td class="text-left"><p>Zwraca czas w milisekundach od uruchomienia aplikacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">micros()</span></code></p></td>
<td class="text-left"><p>Zwraca czas w mikrosekundach od uruchomienia aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">millisleep(size_t</span> <span class="pre">ms)</span></code></p></td>
<td class="text-left"><p>Usypia bieÅ¼Ä…cy wÄ…tek na <code class="docutils literal notranslate"><span class="pre">ms</span></code> milisekund.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">microsleep(size_t</span> <span class="pre">us)</span></code></p></td>
<td class="text-left"><p>Usypia bieÅ¼Ä…cy wÄ…tek na <code class="docutils literal notranslate"><span class="pre">us</span></code> mikrosekund.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="struktura-timer">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">timer</span></code><a class="headerlink" href="#struktura-timer" title="Link to this heading">#</a></h1>
<p>Prosta klasa-stoper, podobna do <code class="docutils literal notranslate"><span class="pre">Timer</span></code> z moduÅ‚u <code class="docutils literal notranslate"><span class="pre">core</span></code>, ale dziaÅ‚ajÄ…ca na â€œrzeczywistymâ€ czasie z <code class="docutils literal notranslate"><span class="pre">stdext::micros()</span></code>, a nie na buforowanym czasie z <code class="docutils literal notranslate"><span class="pre">g_clock</span></code>.</p>
</section>
<section id="id1012">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1012" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/types.h</span></code>.</p></li>
<li><p>Implementacja w <code class="docutils literal notranslate"><span class="pre">time.cpp</span></code> uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">std::chrono</span></code> i <code class="docutils literal notranslate"><span class="pre">std::this_thread</span></code>.</p></li>
<li><p>SÄ… to niskopoziomowe funkcje czasowe, na ktÃ³rych bazuje <code class="docutils literal notranslate"><span class="pre">Clock</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="traits-h">
<h1>ğŸ“„ traits.h<a class="headerlink" href="#traits-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1013">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1013" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">traits.h</span></code> zawiera szablony metaprogramowania (type traits), ktÃ³re sÄ… uÅ¼ywane do manipulacji i analizy typÃ³w w czasie kompilacji.</p>
</section>
<section id="id1014">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id1014" title="Link to this heading">#</a></h1>
</section>
<section id="szablony">
<h1>Szablony<a class="headerlink" href="#szablony" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">replace_extent</span></code></strong>: Usuwa wymiar tablicy z typu i zastÄ™puje go wskaÅºnikiem. Np. <code class="docutils literal notranslate"><span class="pre">int[10]</span></code> staje siÄ™ <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int*</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">remove_const_ref</span></code></strong>: Metafunkcja, ktÃ³ra z danego typu <code class="docutils literal notranslate"><span class="pre">T</span></code> usuwa kwalifikatory <code class="docutils literal notranslate"><span class="pre">const</span></code> oraz referencjÄ™, zwracajÄ…c â€œczystyâ€ typ. Np. <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::string&amp;</span></code> staje siÄ™ <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p></li>
</ul>
</section>
<section id="id1015">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1015" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;type_traits&gt;</span></code>: Standardowy nagÅ‚Ã³wek C++.</p></li>
<li><p>SÄ… to zaawansowane narzÄ™dzia metaprogramowania, uÅ¼ywane gÅ‚Ã³wnie w <code class="docutils literal notranslate"><span class="pre">luabinder.h</span></code> do analizy sygnatur funkcji i w <code class="docutils literal notranslate"><span class="pre">format.h</span></code> do obsÅ‚ugi argumentÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="string-h">
<h1>ğŸ“„ string.h<a class="headerlink" href="#string-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1016">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1016" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">string.h</span></code> deklaruje zestaw funkcji pomocniczych do manipulacji i konwersji ciÄ…gÃ³w znakÃ³w (<code class="docutils literal notranslate"><span class="pre">std::string</span></code>).</p>
</section>
<section id="id1017">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id1017" title="Link to this heading">#</a></h1>
</section>
<section id="id1018">
<h1>Funkcje<a class="headerlink" href="#id1018" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">to_string&lt;T&gt;(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">from_string&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>SkrÃ³ty do <code class="docutils literal notranslate"><span class="pre">unsafe_cast</span></code> dla konwersji z/do stringa.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">resolve_path(...)</span></code></p></td>
<td class="text-left"><p>ÅÄ…czy Å›cieÅ¼kÄ™ do pliku ze Å›cieÅ¼kÄ… ÅºrÃ³dÅ‚owÄ….</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">date_time_string()</span></code></p></td>
<td class="text-left"><p>Zwraca sformatowanÄ… datÄ™ i czas.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">dec_to_hex(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">hex_to_dec(...)</span></code></p></td>
<td class="text-left"><p>Konwersje miÄ™dzy systemem dziesiÄ™tnym a szesnastkowym.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">tolower(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">toupper(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">trim(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">ucwords(...)</span></code></p></td>
<td class="text-left"><p>Standardowe operacje na stringach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ends_with(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">starts_with(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">replace_all(...)</span></code></p></td>
<td class="text-left"><p>Operacje wyszukiwania i zamiany.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">is_valid_utf8(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy string jest poprawnym ciÄ…giem UTF-8.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">utf8_to_latin1(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">latin1_to_utf8(...)</span></code></p></td>
<td class="text-left"><p>Konwersje kodowania znakÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">utf8_to_utf16(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">utf16_to_utf8(...)</span></code></p></td>
<td class="text-left"><p>(Windows) Konwersje do/z UTF-16 (<code class="docutils literal notranslate"><span class="pre">std::wstring</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">split(...)</span></code></p></td>
<td class="text-left"><p>Dzieli string na wektor stringÃ³w na podstawie separatorÃ³w.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1019">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1019" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/types.h</span></code>, <code class="docutils literal notranslate"><span class="pre">cast.h</span></code>.</p></li>
<li><p>Implementacja w <code class="docutils literal notranslate"><span class="pre">string.cpp</span></code> uÅ¼ywa biblioteki Boost.StringAlgo do niektÃ³rych operacji.</p></li>
<li><p>SÄ… to podstawowe funkcje narzÄ™dziowe uÅ¼ywane w caÅ‚ym projekcie.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="time-cpp">
<h1>ğŸ“„ time.cpp<a class="headerlink" href="#time-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1020">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1020" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">time.cpp</span></code> zawiera implementacjÄ™ funkcji czasowych zadeklarowanych w <code class="docutils literal notranslate"><span class="pre">time.h</span></code>.</p>
</section>
<section id="id1021">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id1021" title="Link to this heading">#</a></h1>
</section>
<section id="startup-time">
<h1><code class="docutils literal notranslate"><span class="pre">startup_time</span></code><a class="headerlink" href="#startup-time" title="Link to this heading">#</a></h1>
<p>Statyczna zmienna, ktÃ³ra przechowuje czas uruchomienia aplikacji. Jest uÅ¼ywana jako punkt odniesienia dla <code class="docutils literal notranslate"><span class="pre">millis()</span></code> i <code class="docutils literal notranslate"><span class="pre">micros()</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">startup_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="implementacje-funkcji">
<h1>Implementacje funkcji<a class="headerlink" href="#implementacje-funkcji" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">time()</span></code></strong>: UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">std::time(NULL)</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">millis()</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">micros()</span></code></strong>: ObliczajÄ… rÃ³Å¼nicÄ™ miÄ™dzy bieÅ¼Ä…cym czasem a <code class="docutils literal notranslate"><span class="pre">startup_time</span></code> za pomocÄ… <code class="docutils literal notranslate"><span class="pre">std::chrono</span></code> i konwertujÄ… wynik na odpowiedniÄ… jednostkÄ™.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">millisleep()</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">microsleep()</span></code></strong>: UÅ¼ywajÄ… <code class="docutils literal notranslate"><span class="pre">std::this_thread::sleep_for</span></code>.</p></li>
</ul>
</section>
<section id="id1022">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1022" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/time.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;chrono&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;ctime&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;thread&gt;</span></code>: Standardowe biblioteki C++.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uri-h">
<h1>ğŸ“„ uri.h<a class="headerlink" href="#uri-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1023">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1023" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uri.h</span></code> deklaruje strukturÄ™ <code class="docutils literal notranslate"><span class="pre">ParsedURI</span></code> oraz funkcjÄ™ do parsowania adresÃ³w URL.</p>
</section>
<section id="struktura-parseduri">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">ParsedURI</span></code><a class="headerlink" href="#struktura-parseduri" title="Link to this heading">#</a></h1>
<p>Przechowuje rozbity na czÄ™Å›ci adres URL.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">protocol</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>ProtokÃ³Å‚ (np. â€œhttpâ€, â€œwssâ€).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">domain</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Domena (np. â€œ<a class="reference external" href="http://example.com">example.com</a>â€).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">port</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Port.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">query</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>ÅšcieÅ¼ka i zapytanie (np. â€œ/path?a=1â€).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="funkcja-parseuri">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">parseURI</span></code><a class="headerlink" href="#funkcja-parseuri" title="Link to this heading">#</a></h1>
</section>
<section id="parseduri-parseuri-const-std-string-url">
<h1><code class="docutils literal notranslate"><span class="pre">ParsedURI</span> <span class="pre">parseURI(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url)</span></code><a class="headerlink" href="#parseduri-parseuri-const-std-string-url" title="Link to this heading">#</a></h1>
<p>Parsuje podany URL i zwraca strukturÄ™ <code class="docutils literal notranslate"><span class="pre">ParsedURI</span></code> z jego komponentami.</p>
</section>
<section id="id1024">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1024" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> i <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code> do analizy podanego adresu URL.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="net-cpp">
<h1>ğŸ“„ net.cpp<a class="headerlink" href="#net-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1025">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1025" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">net.cpp</span></code> zawiera implementacjÄ™ funkcji pomocniczych do operacji na adresach IP, zadeklarowanych w <code class="docutils literal notranslate"><span class="pre">net.h</span></code>.</p>
</section>
<section id="id1026">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id1026" title="Link to this heading">#</a></h1>
</section>
<section id="std-string-ip-to-string-uint32-ip">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ip_to_string(uint32</span> <span class="pre">ip)</span></code><a class="headerlink" href="#std-string-ip-to-string-uint32-ip" title="Link to this heading">#</a></h1>
<p>Konwertuje 32-bitowy adres IP z porzÄ…dku sieciowego na porzÄ…dek hosta, a nastÄ™pnie na <code class="docutils literal notranslate"><span class="pre">std::string</span></code> za pomocÄ… <code class="docutils literal notranslate"><span class="pre">boost::asio::ip::address_v4</span></code>.</p>
</section>
<section id="uint32-string-to-ip-const-std-string-string">
<h1><code class="docutils literal notranslate"><span class="pre">uint32</span> <span class="pre">string_to_ip(const</span> <span class="pre">std::string&amp;</span> <span class="pre">string)</span></code><a class="headerlink" href="#uint32-string-to-ip-const-std-string-string" title="Link to this heading">#</a></h1>
<p>Konwertuje <code class="docutils literal notranslate"><span class="pre">std::string</span></code> na obiekt <code class="docutils literal notranslate"><span class="pre">address_v4</span></code>, a nastÄ™pnie na 32-bitowÄ… liczbÄ™ w porzÄ…dku sieciowym.</p>
</section>
<section id="std-vector-uint32-listsubnetaddresses-uint32-address-uint8-mask">
<h1><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint32&gt;</span> <span class="pre">listSubnetAddresses(uint32</span> <span class="pre">address,</span> <span class="pre">uint8</span> <span class="pre">mask)</span></code><a class="headerlink" href="#std-vector-uint32-listsubnetaddresses-uint32-address-uint8-mask" title="Link to this heading">#</a></h1>
<p>Generuje listÄ™ wszystkich adresÃ³w IP w podanej podsieci. Oblicza maskÄ™ bitowÄ… i iteruje po wszystkich moÅ¼liwych adresach w zakresie, dodajÄ…c je do listy.</p>
</section>
<section id="id1027">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1027" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/net.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>: UÅ¼ywana do konwersji adresÃ³w IP.</p></li>
<li><p>SÄ… to funkcje narzÄ™dziowe uÅ¼ywane w logice sieciowej.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uri-cpp">
<h1>ğŸ“„ uri.cpp<a class="headerlink" href="#uri-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1028">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1028" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uri.cpp</span></code> zawiera implementacjÄ™ funkcji <code class="docutils literal notranslate"><span class="pre">parseURI</span></code> do parsowania adresÃ³w URL.</p>
</section>
<section id="id1029">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">parseURI</span></code><a class="headerlink" href="#id1029" title="Link to this heading">#</a></h1>
</section>
<section id="id1030">
<h1><code class="docutils literal notranslate"><span class="pre">ParsedURI</span> <span class="pre">parseURI(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url)</span></code><a class="headerlink" href="#id1030" title="Link to this heading">#</a></h1>
<p>UÅ¼ywa wyraÅ¼enia regularnego (<code class="docutils literal notranslate"><span class="pre">std::regex</span></code>) do rozbicia adresu URL na jego komponenty: protokÃ³Å‚, domenÄ™, port i Å›cieÅ¼kÄ™/zapytanie. ObsÅ‚uguje protokoÅ‚y â€œhttpâ€, â€œhttpsâ€, â€œwsâ€, â€œwssâ€ i poprawnie ustawia domyÅ›lne porty (80 dla http/ws, 443 dla https/wss).</p>
</section>
<section id="id1031">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1031" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/uri.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;regex&gt;</span></code>: Do parsowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/string.hpp</span></code>: Do konwersji na maÅ‚e litery.</p></li>
<li><p>Jest uÅ¼ywana przez <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> i <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="types-h">
<h1>ğŸ“„ types.h<a class="headerlink" href="#types-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1032">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1032" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">types.h</span></code> definiuje zestaw aliasÃ³w dla typÃ³w caÅ‚kowitoliczbowych o staÅ‚ym rozmiarze oraz inne podstawowe typy uÅ¼ywane w caÅ‚ym frameworku.</p>
</section>
<section id="id1033">
<h1>Definicje typÃ³w<a class="headerlink" href="#id1033" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>SkrÃ³ty</strong>: <code class="docutils literal notranslate"><span class="pre">uchar</span></code>, <code class="docutils literal notranslate"><span class="pre">ushort</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code>, <code class="docutils literal notranslate"><span class="pre">ulong</span></code>.</p></li>
<li><p><strong>Liczby o staÅ‚ym rozmiarze</strong>: <code class="docutils literal notranslate"><span class="pre">uint64</span></code>, <code class="docutils literal notranslate"><span class="pre">uint32</span></code>, <code class="docutils literal notranslate"><span class="pre">uint16</span></code>, <code class="docutils literal notranslate"><span class="pre">uint8</span></code> oraz ich wersje ze znakiem (<code class="docutils literal notranslate"><span class="pre">int...</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ticks_t</span></code></strong>: Alias dla <code class="docutils literal notranslate"><span class="pre">int64</span></code>, uÅ¼ywany do przechowywania czasu w milisekundach lub mikrosekundach.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">refcount_t</span></code></strong>: Typ dla licznika referencji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">size_t</span></code>, <code class="docutils literal notranslate"><span class="pre">ptrdiff_t</span></code></strong>: Importuje typy ze <code class="docutils literal notranslate"><span class="pre">std</span></code>.</p></li>
</ul>
</section>
<section id="id1034">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1034" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;cstdint&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;cstddef&gt;</span></code>: Standardowe nagÅ‚Ã³wki.</p></li>
<li><p>Jest to fundamentalny plik, doÅ‚Ä…czany przez <code class="docutils literal notranslate"><span class="pre">stdext.h</span></code> i <code class="docutils literal notranslate"><span class="pre">global.h</span></code>, zapewniajÄ…cy spÃ³jne i przenoÅ›ne typy danych w caÅ‚ym projekcie.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="format-h">
<h1>ğŸ“„ format.h<a class="headerlink" href="#format-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1035">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1035" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">format.h</span></code> zawiera implementacjÄ™ funkcji <code class="docutils literal notranslate"><span class="pre">stdext::format</span></code>, ktÃ³ra jest bezpiecznÄ… typowo alternatywÄ… dla <code class="docutils literal notranslate"><span class="pre">sprintf</span></code>, podobnÄ… do <code class="docutils literal notranslate"><span class="pre">boost::format</span></code> lub <code class="docutils literal notranslate"><span class="pre">fmt::format</span></code>.</p>
</section>
<section id="id1036">
<h1>Funkcje<a class="headerlink" href="#id1036" title="Link to this heading">#</a></h1>
</section>
<section id="stdext-print">
<h1><code class="docutils literal notranslate"><span class="pre">stdext::print(...)</span></code><a class="headerlink" href="#stdext-print" title="Link to this heading">#</a></h1>
<p>Funkcja debugujÄ…ca, ktÃ³ra wypisuje na konsolÄ™ dowolnÄ… liczbÄ™ argumentÃ³w, oddzielajÄ…c je tabulatorami, podobnie jak <code class="docutils literal notranslate"><span class="pre">print</span></code> w Lua.</p>
</section>
<section id="stdext-snprintf">
<h1><code class="docutils literal notranslate"><span class="pre">stdext::snprintf(...)</span></code><a class="headerlink" href="#stdext-snprintf" title="Link to this heading">#</a></h1>
<p>Opakowanie na <code class="docutils literal notranslate"><span class="pre">snprintf</span></code> / <code class="docutils literal notranslate"><span class="pre">_snprintf</span></code>, ktÃ³re potrafi obsÅ‚ugiwaÄ‡ typy niestandardowe, takie jak <code class="docutils literal notranslate"><span class="pre">std::string</span></code>, poprzez <code class="docutils literal notranslate"><span class="pre">sprintf_cast</span></code>.</p>
</section>
<section id="stdext-format">
<h1><code class="docutils literal notranslate"><span class="pre">stdext::format(...)</span></code><a class="headerlink" href="#stdext-format" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna funkcja.</p>
<ul class="simple">
<li><p><strong>DziaÅ‚anie</strong>:</p>
<ol class="arabic simple">
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">snprintf</span></code> z <code class="docutils literal notranslate"><span class="pre">NULL</span></code> jako buforem, aby obliczyÄ‡ wymaganÄ… dÅ‚ugoÅ›Ä‡ wynikowego stringa.</p></li>
<li><p>Alokuje <code class="docutils literal notranslate"><span class="pre">std::string</span></code> o odpowiednim rozmiarze.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">snprintf</span></code> ponownie, tym razem zapisujÄ…c wynik do bufora stringa.</p></li>
</ol>
</li>
<li><p><strong>Zalety</strong>: Jest w peÅ‚ni bezpieczna (brak przepeÅ‚nienia bufora) i obsÅ‚uguje rÃ³Å¼ne typy danych.</p></li>
</ul>
</section>
<section id="id1037">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1037" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/traits.h</span></code>: Do analizy typÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;tuple&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;sstream&gt;</span></code>: Do metaprogramowania i formatowania.</p></li>
<li><p>Jest to kluczowe narzÄ™dzie uÅ¼ywane w caÅ‚ym projekcie do formatowania stringÃ³w, szczegÃ³lnie w logach i komunikatach o bÅ‚Ä™dach.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="string-cpp">
<h1>ğŸ“„ string.cpp<a class="headerlink" href="#string-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1038">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1038" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">string.cpp</span></code> zawiera implementacjÄ™ funkcji pomocniczych do manipulacji stringami, zadeklarowanych w <code class="docutils literal notranslate"><span class="pre">string.h</span></code>.</p>
</section>
<section id="id1039">
<h1>Funkcje<a class="headerlink" href="#id1039" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">resolve_path(...)</span></code></strong>: Implementuje logikÄ™ Å‚Ä…czenia Å›cieÅ¼ek, obsÅ‚ugujÄ…c Å›cieÅ¼ki absolutne i wzglÄ™dne.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">date_time_string()</span></code>, <code class="docutils literal notranslate"><span class="pre">timestamp_to_date(...)</span></code></strong>: UÅ¼ywajÄ… <code class="docutils literal notranslate"><span class="pre">std::localtime</span></code> i <code class="docutils literal notranslate"><span class="pre">std::strftime</span></code> do formatowania daty i czasu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">dec_to_hex(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">hex_to_dec(...)</span></code></strong>: UÅ¼ywajÄ… <code class="docutils literal notranslate"><span class="pre">std::stringstream</span></code> do konwersji.</p></li>
<li><p><strong>Konwersje kodowania</strong>: <code class="docutils literal notranslate"><span class="pre">is_valid_utf8</span></code> implementuje walidacjÄ™ bajt po bajcie. <code class="docutils literal notranslate"><span class="pre">utf8_to_latin1</span></code> i <code class="docutils literal notranslate"><span class="pre">latin1_to_utf8</span></code> implementujÄ… uproszczonÄ… konwersjÄ™. Wersje dla Windows (<code class="docutils literal notranslate"><span class="pre">..._to_utf16</span></code>) uÅ¼ywajÄ… funkcji WinAPI <code class="docutils literal notranslate"><span class="pre">MultiByteToWideChar</span></code> i <code class="docutils literal notranslate"><span class="pre">WideCharToMultiByte</span></code>.</p></li>
<li><p><strong>Inne operacje</strong>: <code class="docutils literal notranslate"><span class="pre">tolower</span></code>, <code class="docutils literal notranslate"><span class="pre">toupper</span></code>, <code class="docutils literal notranslate"><span class="pre">trim</span></code>, <code class="docutils literal notranslate"><span class="pre">ends_with</span></code>, <code class="docutils literal notranslate"><span class="pre">starts_with</span></code>, <code class="docutils literal notranslate"><span class="pre">replace_all</span></code>, <code class="docutils literal notranslate"><span class="pre">split</span></code> sÄ… opakowaniami na odpowiednie funkcje z biblioteki Boost.StringAlgo.</p></li>
</ul>
</section>
<section id="id1040">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1040" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/string.h</span></code>, <code class="docutils literal notranslate"><span class="pre">format.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/string.hpp</span></code>: Kluczowa zaleÅ¼noÅ›Ä‡ dla wielu operacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">physfs.h</span></code>: Potencjalnie, choÄ‡ nie jest bezpoÅ›rednio uÅ¼ywany.</p></li>
<li><p>NagÅ‚Ã³wki WinAPI (dla konwersji kodowania).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="id1041">
<h1>ğŸ“„ declarations.h<a class="headerlink" href="#id1041" title="Link to this heading">#</a></h1>
</section>
<section id="id1042">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1042" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">ui</span></code> jest plikiem nagÅ‚Ã³wkowym do wczesnych deklaracji (forward declarations) i definicji typÃ³w dla klas interfejsu uÅ¼ytkownika.</p>
</section>
<section id="id1043">
<h1>Wczesne deklaracje<a class="headerlink" href="#id1043" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UIManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIWidget</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UILayout</span></code> i wszystkie jego podklasy (<code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code>, <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code>, <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code></p></li>
</ul>
</section>
<section id="id1044">
<h1>Definicje typÃ³w<a class="headerlink" href="#id1044" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span></code>, <code class="docutils literal notranslate"><span class="pre">UITextEditPtr</span></code>, <code class="docutils literal notranslate"><span class="pre">UILayoutPtr</span></code>, â€¦: Aliasy dla <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code> do klas UI.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIWidgetList</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::deque&lt;UIWidgetPtr&gt;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIAnchorList</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::vector&lt;UIAnchorPtr&gt;</span></code>.</p></li>
</ul>
</section>
<section id="id1045">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1045" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest doÅ‚Ä…czany przez wszystkie pliki nagÅ‚Ã³wkowe w module <code class="docutils literal notranslate"><span class="pre">ui</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="ui-h">
<h1>ğŸ“„ ui.h<a class="headerlink" href="#ui-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1046">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1046" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">ui.h</span></code> jest gÅ‚Ã³wnym, zbiorczym plikiem nagÅ‚Ã³wkowym dla moduÅ‚u UI. Jego zadaniem jest doÅ‚Ä…czenie wszystkich najwaÅ¼niejszych nagÅ‚Ã³wkÃ³w zwiÄ…zanych z interfejsem uÅ¼ytkownika w jednym miejscu.</p>
</section>
<section id="id1047">
<h1>ZawartoÅ›Ä‡<a class="headerlink" href="#id1047" title="Link to this heading">#</a></h1>
<p>DoÅ‚Ä…cza wszystkie podstawowe komponenty UI:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">uimanager.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uiwidget.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uitextedit.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uilayout.h</span></code> i jego pochodne (<code class="docutils literal notranslate"><span class="pre">uihorizontallayout.h</span></code>, <code class="docutils literal notranslate"><span class="pre">uiverticallayout.h</span></code>, <code class="docutils literal notranslate"><span class="pre">uigridlayout.h</span></code>, <code class="docutils literal notranslate"><span class="pre">uianchorlayout.h</span></code>).</p></li>
</ul>
</section>
<section id="id1048">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1048" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>UÅ‚atwia doÅ‚Ä…czanie caÅ‚ego podsystemu UI w innych czÄ™Å›ciach projektu, ktÃ³re go potrzebujÄ… (np. w plikach moduÅ‚Ã³w gry).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uiboxlayout-cpp">
<h1>ğŸ“„ uiboxlayout.cpp<a class="headerlink" href="#uiboxlayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1049">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1049" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiboxlayout.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>, ktÃ³ra jest abstrakcyjnÄ… klasÄ… bazowÄ… dla layoutÃ³w ukÅ‚adajÄ…cych widgety w jednej linii (poziomo lub pionowo).</p>
</section>
<section id="klasa-uiboxlayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code><a class="headerlink" href="#klasa-uiboxlayout" title="Link to this heading">#</a></h1>
</section>
<section id="uiboxlayout-uiboxlayout-uiwidgetptr-parentwidget">
<h1><code class="docutils literal notranslate"><span class="pre">UIBoxLayout::UIBoxLayout(UIWidgetPtr</span> <span class="pre">parentWidget)</span></code><a class="headerlink" href="#uiboxlayout-uiboxlayout-uiwidgetptr-parentwidget" title="Link to this heading">#</a></h1>
<p>Konstruktor. WywoÅ‚uje konstruktor <code class="docutils literal notranslate"><span class="pre">UILayout</span></code> i inicjalizuje <code class="docutils literal notranslate"><span class="pre">m_spacing</span></code> na 0.</p>
</section>
<section id="void-uiboxlayout-applystyle-const-otmlnodeptr-stylenode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIBoxLayout::applyStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code><a class="headerlink" href="#void-uiboxlayout-applystyle-const-otmlnodeptr-stylenode" title="Link to this heading">#</a></h1>
<p>Parsuje atrybuty specyficzne dla <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code> z wÄ™zÅ‚a OTML.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">spacing</span></code>: OdstÄ™p miÄ™dzy widgetami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fit-children</span></code>: Flaga okreÅ›lajÄ…ca, czy layout powinien dostosowaÄ‡ rozmiar rodzica do sumarycznego rozmiaru dzieci.</p></li>
</ul>
</section>
<section id="addwidget-i-removewidget">
<h1><code class="docutils literal notranslate"><span class="pre">addWidget</span></code> i <code class="docutils literal notranslate"><span class="pre">removeWidget</span></code><a class="headerlink" href="#addwidget-i-removewidget" title="Link to this heading">#</a></h1>
<p>Te metody po prostu wywoÅ‚ujÄ… <code class="docutils literal notranslate"><span class="pre">update()</span></code>, poniewaÅ¼ kaÅ¼da zmiana w liczbie dzieci wymaga ponownego przeliczenia layoutu.</p>
</section>
<section id="id1050">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1050" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiboxlayout.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Operuje na widgetach.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code> i <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uiboxlayout-h">
<h1>ğŸ“„ uiboxlayout.h<a class="headerlink" href="#uiboxlayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1051">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1051" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiboxlayout.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>, ktÃ³ra jest abstrakcyjnÄ… klasÄ… bazowÄ… dla layoutÃ³w liniowych.</p>
</section>
<section id="id1052">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code><a class="headerlink" href="#id1052" title="Link to this heading">#</a></h1>
</section>
<section id="id1053">
<h1>Opis semantyczny<a class="headerlink" href="#id1053" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">UILayout</span></code> i dodaje wspÃ³lnÄ… funkcjonalnoÅ›Ä‡ dla layoutÃ³w horyzontalnych i wertykalnych, a mianowicie:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">spacing</span></code>: OdstÄ™p miÄ™dzy kolejnymi elementami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fit-children</span></code>: MoÅ¼liwoÅ›Ä‡ automatycznego dostosowania rozmiaru widgetu-rodzica, aby zmieÅ›ciÅ‚ wszystkie swoje dzieci.</p></li>
</ul>
</section>
<section id="id1054">
<h1>Metody publiczne<a class="headerlink" href="#id1054" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setSpacing(int</span> <span class="pre">spacing)</span></code></p></td>
<td class="text-left"><p>Ustawia odstÄ™p miÄ™dzy widgetami.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setFitChildren(bool</span> <span class="pre">fitParent)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza/wyÅ‚Ä…cza dopasowywanie rozmiaru rodzica.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1055">
<h1>Zmienne chronione<a class="headerlink" href="#id1055" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_fitChildren</span></code>: Flaga <code class="docutils literal notranslate"><span class="pre">fit-children</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_spacing</span></code>: WartoÅ›Ä‡ odstÄ™pu.</p></li>
</ul>
</section>
<section id="id1056">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1056" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uilayout.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code> i <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, jej metody sÄ… dostÄ™pne w Lua.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uigridlayout-cpp">
<h1>ğŸ“„ uigridlayout.cpp<a class="headerlink" href="#uigridlayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1057">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1057" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uigridlayout.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>, ktÃ³ra ukÅ‚ada widgety w siatce o staÅ‚ym rozmiarze komÃ³rek.</p>
</section>
<section id="klasa-uigridlayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code><a class="headerlink" href="#klasa-uigridlayout" title="Link to this heading">#</a></h1>
</section>
<section id="uigridlayout-uigridlayout">
<h1><code class="docutils literal notranslate"><span class="pre">UIGridLayout::UIGridLayout(...)</span></code><a class="headerlink" href="#uigridlayout-uigridlayout" title="Link to this heading">#</a></h1>
<p>Konstruktor, ustawia domyÅ›lne wartoÅ›ci (rozmiar komÃ³rki 16x16, 1 kolumna).</p>
</section>
<section id="void-uigridlayout-applystyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIGridLayout::applyStyle(...)</span></code><a class="headerlink" href="#void-uigridlayout-applystyle" title="Link to this heading">#</a></h1>
<p>Parsuje atrybuty specyficzne dla siatki z wÄ™zÅ‚a OTML, takie jak <code class="docutils literal notranslate"><span class="pre">cell-size</span></code>, <code class="docutils literal notranslate"><span class="pre">cell-spacing</span></code>, <code class="docutils literal notranslate"><span class="pre">num-columns</span></code>, <code class="docutils literal notranslate"><span class="pre">flow</span></code>.</p>
</section>
<section id="bool-uigridlayout-internalupdate">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIGridLayout::internalUpdate()</span></code><a class="headerlink" href="#bool-uigridlayout-internalupdate" title="Link to this heading">#</a></h1>
</section>
<section id="id1058">
<h1>Opis semantyczny<a class="headerlink" href="#id1058" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda przeliczajÄ…ca pozycje widgetÃ³w w siatce.</p>
</section>
<section id="id1059">
<h1>DziaÅ‚anie<a class="headerlink" href="#id1059" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera listÄ™ dzieci od rodzica.</p></li>
<li><p><strong>Tryb <code class="docutils literal notranslate"><span class="pre">flow</span></code></strong>: JeÅ›li wÅ‚Ä…czony, dynamicznie oblicza liczbÄ™ kolumn (<code class="docutils literal notranslate"><span class="pre">numColumns</span></code>), tak aby zmieÅ›ciÅ‚y siÄ™ w szerokoÅ›ci rodzica. Na podstawie tego oblicza liczbÄ™ wierszy.</p></li>
<li><p><strong>Tryb <code class="docutils literal notranslate"><span class="pre">auto-spacing</span></code></strong>: JeÅ›li wÅ‚Ä…czony, dynamicznie oblicza odstÄ™p miÄ™dzy komÃ³rkami (<code class="docutils literal notranslate"><span class="pre">cellSpacing</span></code>), aby rÃ³wnomiernie rozÅ‚oÅ¼yÄ‡ je na caÅ‚ej szerokoÅ›ci rodzica.</p></li>
<li><p>W pÄ™tli przechodzi przez wszystkie widoczne widgety:</p>
<ul class="simple">
<li><p>Oblicza wiersz i kolumnÄ™ dla bieÅ¼Ä…cego widgetu.</p></li>
<li><p>Na tej podstawie oblicza jego pozycjÄ™.</p></li>
<li><p>Ustawia docelowy prostokÄ…t (<code class="docutils literal notranslate"><span class="pre">Rect</span></code>) widgetu na rozmiar komÃ³rki w obliczonej pozycji.</p></li>
</ul>
</li>
<li><p><strong>Tryb <code class="docutils literal notranslate"><span class="pre">fit-children</span></code></strong>: JeÅ›li wÅ‚Ä…czony, oblicza wymaganÄ… wysokoÅ›Ä‡ rodzica, aby zmieÅ›ciÄ‡ wszystkie wiersze, i planuje jej ustawienie w <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> (aby uniknÄ…Ä‡ problemÃ³w z rekurencyjnymi aktualizacjami).</p></li>
</ol>
</section>
<section id="id1060">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1060" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uigridlayout.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Operuje na widgetach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do asynchronicznego ustawiania wysokoÅ›ci rodzica.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uigridlayout-h">
<h1>ğŸ“„ uigridlayout.h<a class="headerlink" href="#uigridlayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1061">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1061" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uigridlayout.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>, ktÃ³ra implementuje layout siatkowy.</p>
</section>
<section id="id1062">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code><a class="headerlink" href="#id1062" title="Link to this heading">#</a></h1>
</section>
<section id="id1063">
<h1>Opis semantyczny<a class="headerlink" href="#id1063" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code> ukÅ‚ada swoje widgety w regularnej siatce. MoÅ¼e mieÄ‡ staÅ‚Ä… liczbÄ™ kolumn lub dynamicznie dostosowywaÄ‡ jÄ… do dostÄ™pnej przestrzeni (<code class="docutils literal notranslate"><span class="pre">flow</span></code>). Posiada rÃ³wnieÅ¼ opcje automatycznego dostosowywania odstÄ™pÃ³w i rozmiaru rodzica.</p>
</section>
<section id="id1064">
<h1>Metody publiczne<a class="headerlink" href="#id1064" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setCellSize(...)</span></code></p></td>
<td class="text-left"><p>Ustawia rozmiar pojedynczej komÃ³rki siatki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setCellSpacing(...)</span></code></p></td>
<td class="text-left"><p>Ustawia odstÄ™p miÄ™dzy komÃ³rkami.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setNumColumns(...)</span></code></p></td>
<td class="text-left"><p>Ustawia staÅ‚Ä… liczbÄ™ kolumn.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setNumLines(...)</span></code></p></td>
<td class="text-left"><p>Ustawia maksymalnÄ… liczbÄ™ wierszy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setFlow(bool</span> <span class="pre">enable)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza/wyÅ‚Ä…cza tryb â€œpÅ‚ynnyâ€, w ktÃ³rym liczba kolumn jest dynamiczna.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setAutoSpacing(bool</span> <span class="pre">enable)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza/wyÅ‚Ä…cza automatyczne obliczanie odstÄ™pÃ³w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setFitChildren(bool</span> <span class="pre">enable)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza/wyÅ‚Ä…cza dopasowywanie wysokoÅ›ci rodzica.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1065">
<h1>Zmienne prywatne<a class="headerlink" href="#id1065" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_cellSize</span></code>: Rozmiar komÃ³rki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cellSpacing</span></code>: OdstÄ™p miÄ™dzy komÃ³rkami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_numColumns</span></code>, <code class="docutils literal notranslate"><span class="pre">m_numLines</span></code>: Liczba kolumn i wierszy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_autoSpacing</span></code>, <code class="docutils literal notranslate"><span class="pre">m_fitChildren</span></code>, <code class="docutils literal notranslate"><span class="pre">m_flow</span></code>: Flagi trybÃ³w.</p></li>
</ul>
</section>
<section id="id1066">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1066" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uilayout.h</span></code>: Klasa bazowa.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uihorizontallayout-cpp">
<h1>ğŸ“„ uihorizontallayout.cpp<a class="headerlink" href="#uihorizontallayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1067">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1067" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uihorizontallayout.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code>, ktÃ³ra ukÅ‚ada widgety w jednym rzÄ™dzie, od lewej do prawej lub od prawej do lewej.</p>
</section>
<section id="klasa-uihorizontallayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code><a class="headerlink" href="#klasa-uihorizontallayout" title="Link to this heading">#</a></h1>
</section>
<section id="void-uihorizontallayout-applystyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIHorizontalLayout::applyStyle(...)</span></code><a class="headerlink" href="#void-uihorizontallayout-applystyle" title="Link to this heading">#</a></h1>
<p>Parsuje atrybut <code class="docutils literal notranslate"><span class="pre">align-right</span></code> z wÄ™zÅ‚a OTML.</p>
</section>
<section id="bool-uihorizontallayout-internalupdate">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIHorizontalLayout::internalUpdate()</span></code><a class="headerlink" href="#bool-uihorizontallayout-internalupdate" title="Link to this heading">#</a></h1>
</section>
<section id="id1068">
<h1>Opis semantyczny<a class="headerlink" href="#id1068" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda przeliczajÄ…ca pozycje widgetÃ³w.</p>
</section>
<section id="id1069">
<h1>DziaÅ‚anie<a class="headerlink" href="#id1069" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera listÄ™ dzieci. JeÅ›li <code class="docutils literal notranslate"><span class="pre">m_alignRight</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, odwraca kolejnoÅ›Ä‡ listy.</p></li>
<li><p>Iteruje po widgetach:</p>
<ul class="simple">
<li><p>Oblicza pozycjÄ™ <code class="docutils literal notranslate"><span class="pre">x</span></code> na podstawie pozycji i szerokoÅ›ci poprzedniego widgetu oraz odstÄ™pÃ³w (<code class="docutils literal notranslate"><span class="pre">spacing</span></code>, <code class="docutils literal notranslate"><span class="pre">margin</span></code>).</p></li>
<li><p>Oblicza pozycjÄ™ <code class="docutils literal notranslate"><span class="pre">y</span></code> w zaleÅ¼noÅ›ci od wyrÃ³wnania pionowego widgetu (<code class="docutils literal notranslate"><span class="pre">AlignTop</span></code>, <code class="docutils literal notranslate"><span class="pre">AlignBottom</span></code>, <code class="docutils literal notranslate"><span class="pre">AlignCenter</span></code>) wewnÄ…trz wysokoÅ›ci rodzica.</p></li>
<li><p>JeÅ›li widget nie ma staÅ‚ego rozmiaru, jego wysokoÅ›Ä‡ jest rozciÄ…gana do wysokoÅ›ci rodzica.</p></li>
<li><p>Ustawia nowy <code class="docutils literal notranslate"><span class="pre">Rect</span></code> dla widgetu.</p></li>
</ul>
</li>
<li><p>Oblicza sumarycznÄ…, preferowanÄ… szerokoÅ›Ä‡ (<code class="docutils literal notranslate"><span class="pre">preferredWidth</span></code>).</p></li>
<li><p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">m_fitChildren</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, planuje asynchroniczne ustawienie szerokoÅ›ci rodzica na <code class="docutils literal notranslate"><span class="pre">preferredWidth</span></code>.</p></li>
</ol>
</section>
<section id="id1070">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1070" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uihorizontallayout.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Operuje na widgetach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do asynchronicznego ustawiania szerokoÅ›ci rodzica.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uihorizontallayout-h">
<h1>ğŸ“„ uihorizontallayout.h<a class="headerlink" href="#uihorizontallayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1071">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1071" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uihorizontallayout.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code>, ktÃ³ra implementuje layout horyzontalny.</p>
</section>
<section id="id1072">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code><a class="headerlink" href="#id1072" title="Link to this heading">#</a></h1>
</section>
<section id="id1073">
<h1>Opis semantyczny<a class="headerlink" href="#id1073" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code> i specjalizuje go do ukÅ‚adania widgetÃ³w w pojedynczym rzÄ™dzie. MoÅ¼e ukÅ‚adaÄ‡ elementy od lewej do prawej (domyÅ›lnie) lub od prawej do lewej (<code class="docutils literal notranslate"><span class="pre">align-right</span></code>).</p>
</section>
<section id="id1074">
<h1>Metody publiczne<a class="headerlink" href="#id1074" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setAlignRight(bool</span> <span class="pre">alignRight)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza/wyÅ‚Ä…cza ukÅ‚adanie od prawej do lewej.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1075">
<h1>Zmienne chronione<a class="headerlink" href="#id1075" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_alignRight</span></code>: Flaga trybu wyrÃ³wnania do prawej.</p></li>
</ul>
</section>
<section id="id1076">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1076" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiboxlayout.h</span></code>: Klasa bazowa.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uilayout-cpp">
<h1>ğŸ“„ uilayout.cpp<a class="headerlink" href="#uilayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1077">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1077" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uilayout.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>, ktÃ³ra jest abstrakcyjnÄ… klasÄ… bazowÄ… dla wszystkich menedÅ¼erÃ³w layoutu.</p>
</section>
<section id="klasa-uilayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UILayout</span></code><a class="headerlink" href="#klasa-uilayout" title="Link to this heading">#</a></h1>
</section>
<section id="void-uilayout-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UILayout::update()</span></code><a class="headerlink" href="#void-uilayout-update" title="Link to this heading">#</a></h1>
</section>
<section id="id1078">
<h1>Opis semantyczny<a class="headerlink" href="#id1078" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda publiczna inicjujÄ…ca aktualizacjÄ™ layoutu.</p>
</section>
<section id="id1079">
<h1>DziaÅ‚anie<a class="headerlink" href="#id1079" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy aktualizacje nie sÄ… wyÅ‚Ä…czone (<code class="docutils literal notranslate"><span class="pre">m_updateDisabled</span></code>).</p></li>
<li><p>Sprawdza, czy aktualizacja nie jest juÅ¼ w toku (<code class="docutils literal notranslate"><span class="pre">m_updating</span></code>), aby zapobiec rekurencji. JeÅ›li tak, planuje aktualizacjÄ™ na pÃ³Åºniej (<code class="docutils literal notranslate"><span class="pre">updateLater()</span></code>).</p></li>
<li><p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_updating</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>WywoÅ‚uje wirtualnÄ… metodÄ™ <code class="docutils literal notranslate"><span class="pre">internalUpdate()</span></code>, gdzie klasy pochodne implementujÄ… swojÄ… logikÄ™.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">onLayoutUpdate</span></code> na widÅ¼ecie-rodzicu.</p></li>
<li><p>Resetuje flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_updating</span></code>.</p></li>
</ol>
</section>
<section id="void-uilayout-updatelater">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UILayout::updateLater()</span></code><a class="headerlink" href="#void-uilayout-updatelater" title="Link to this heading">#</a></h1>
<p>Planuje wykonanie <code class="docutils literal notranslate"><span class="pre">update()</span></code> w nastÄ™pnej iteracji pÄ™tli <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>. Jest to mechanizm zapobiegajÄ…cy wielokrotnym, zbÄ™dnym przeliczeniom layoutu w tej samej klatce.</p>
</section>
<section id="id1080">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1080" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uilayout.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: KaÅ¼dy layout jest powiÄ…zany z widgetem-rodzicem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do planowania opÃ³Åºnionych aktualizacji.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uilayout-h">
<h1>ğŸ“„ uilayout.h<a class="headerlink" href="#uilayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1081">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1081" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uilayout.h</span></code> deklaruje abstrakcyjnÄ… klasÄ™ bazowÄ… <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>, ktÃ³ra definiuje wspÃ³lny interfejs dla wszystkich klas zarzÄ…dzajÄ…cych pozycjÄ… i rozmiarem widgetÃ³w-dzieci.</p>
</section>
<section id="id1082">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UILayout</span></code><a class="headerlink" href="#id1082" title="Link to this heading">#</a></h1>
</section>
<section id="id1083">
<h1>Opis semantyczny<a class="headerlink" href="#id1083" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UILayout</span></code> jest powiÄ…zany z jednym widgetem-rodzicem (<code class="docutils literal notranslate"><span class="pre">m_parentWidget</span></code>). Jego zadaniem jest automatyczne zarzÄ…dzanie geometriÄ… dzieci tego widgetu. KaÅ¼da podklasa (<code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code> itd.) implementuje inny algorytm ukÅ‚adania elementÃ³w. Posiada mechanizmy do wÅ‚Ä…czania/wyÅ‚Ä…czania aktualizacji oraz do unikania rekurencyjnych i zbÄ™dnych przeliczeÅ„.</p>
</section>
<section id="id1084">
<h1>Metody publiczne<a class="headerlink" href="#id1084" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">UILayout(UIWidgetPtr</span> <span class="pre">parentWidget)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code></p></td>
<td class="text-left"><p>Natychmiast Å¼Ä…da przeliczenia layoutu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">updateLater()</span></code></p></td>
<td class="text-left"><p>Planuje przeliczenie layoutu w najbliÅ¼szej przyszÅ‚oÅ›ci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">applyStyle(...)</span></code></p></td>
<td class="text-left"><p>Stosuje wÅ‚aÅ›ciwoÅ›ci layoutu z wÄ™zÅ‚a OTML.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">addWidget(...)</span></code></p></td>
<td class="text-left"><p>Powiadamia layout o dodaniu nowego widgetu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">removeWidget(...)</span></code></p></td>
<td class="text-left"><p>Powiadamia layout o usuniÄ™ciu widgetu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">disableUpdates()</span></code> / <code class="docutils literal notranslate"><span class="pre">enableUpdates()</span></code></p></td>
<td class="text-left"><p>Tymczasowo wstrzymuje/wznawia aktualizacje layoutu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setParent(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">getParentWidget()</span></code></p></td>
<td class="text-left"><p>ZarzÄ…dza powiÄ…zaniem z widgetem-rodzicem.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isUpdating()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeÅ›li layout jest w trakcie aktualizacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isUI...Layout()</span></code></p></td>
<td class="text-left"><p>Metody RTTI (Run-Time Type Information) do identyfikacji typu layoutu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1085">
<h1>Zmienne chronione<a class="headerlink" href="#id1085" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_updateDisabled</span></code>: Licznik blokad aktualizacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_updating</span></code>, <code class="docutils literal notranslate"><span class="pre">m_updateScheduled</span></code>: Flagi zapobiegajÄ…ce rekurencji i wielokrotnym aktualizacjom.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_parentWidget</span></code>: WskaÅºnik do widgetu, ktÃ³rego dzieÄ‡mi zarzÄ…dza layout.</p></li>
</ul>
</section>
<section id="id1086">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1086" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code>: Do parsowania stylÃ³w.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla wszystkich konkretnych implementacji layoutÃ³w.</p></li>
<li><p>KaÅ¼dy <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> moÅ¼e mieÄ‡ jeden <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uimanager-h">
<h1>ğŸ“„ uimanager.h<a class="headerlink" href="#uimanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1087">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1087" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uimanager.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, ktÃ³ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_ui</span></code>) i centralnym punktem zarzÄ…dzania caÅ‚ym interfejsem uÅ¼ytkownika.</p>
</section>
<section id="klasa-uimanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIManager</span></code><a class="headerlink" href="#klasa-uimanager" title="Link to this heading">#</a></h1>
</section>
<section id="id1088">
<h1>Opis semantyczny<a class="headerlink" href="#id1088" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIManager</span></code> zarzÄ…dza hierarchiÄ… widgetÃ³w, poczynajÄ…c od korzenia (<code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code>). Odpowiada za propagacjÄ™ zdarzeÅ„ wejÅ›ciowych (mysz, klawiatura), renderowanie, zarzÄ…dzanie stylami OTML oraz Å›ledzenie globalnych stanÃ³w UI, takich jak aktualnie wciÅ›niÄ™ty, najechany czy przeciÄ…gany widget.</p>
</section>
<section id="id1089">
<h1>Metody publiczne<a class="headerlink" href="#id1089" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje i zwalnia menedÅ¼era.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">render(Fw::DrawPane)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna proces renderowania UI dla danej warstwy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(const</span> <span class="pre">Size&amp;)</span></code></p></td>
<td class="text-left"><p>Aktualizuje rozmiar <code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">inputEvent(...)</span></code></p></td>
<td class="text-left"><p>GÅ‚Ã³wny punkt wejÅ›cia dla wszystkich zdarzeÅ„ wejÅ›ciowych.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clearStyles()</span></code></p></td>
<td class="text-left"><p>CzyÅ›ci zaÅ‚adowane style.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">importStyle(...)</span></code></p></td>
<td class="text-left"><p>Åaduje style z pliku <code class="docutils literal notranslate"><span class="pre">.otui</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">getStyle(...)</span></code></p></td>
<td class="text-left"><p>Zwraca definicjÄ™ stylu o podanej nazwie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">loadUI(...)</span></code></p></td>
<td class="text-left"><p>Åaduje i tworzy hierarchiÄ™ widgetÃ³w z pliku <code class="docutils literal notranslate"><span class="pre">.otui</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">createWidget(...)</span></code></p></td>
<td class="text-left"><p>Tworzy widget na podstawie nazwy stylu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setMouseReceiver(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">setKeyboardReceiver(...)</span></code></p></td>
<td class="text-left"><p>Ustawia widget, ktÃ³ry â€œprzechwytujeâ€ zdarzenia myszy/klawiatury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">get...Widget()</span></code></p></td>
<td class="text-left"><p>ZwracajÄ… wskaÅºniki na widgety w okreÅ›lonych stanach (przeciÄ…gany, najechany, wciÅ›niÄ™ty).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-chronione-wywolywane-przez-uiwidget">
<h1>Metody chronione (wywoÅ‚ywane przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>)<a class="headerlink" href="#metody-chronione-wywolywane-przez-uiwidget" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">onWidgetAppear(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">onWidgetDisappear(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">onWidgetDestroy(...)</span></code>: Callbacki informujÄ…ce menedÅ¼era o zmianach w drzewie widgetÃ³w, co pozwala na aktualizacjÄ™ globalnych stanÃ³w (np. <code class="docutils literal notranslate"><span class="pre">m_hoveredWidget</span></code>).</p></li>
</ul>
</section>
<section id="id1090">
<h1>Zmienne prywatne<a class="headerlink" href="#id1090" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code>: KorzeÅ„ drzewa widgetÃ³w, wypeÅ‚nia caÅ‚e okno.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mouseReceiver</span></code>, <code class="docutils literal notranslate"><span class="pre">m_keyboardReceiver</span></code>: Widgety przechwytujÄ…ce zdarzenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_draggingWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">m_hoveredWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">m_pressedWidget</span></code>: ÅšledzÄ… globalne stany myszy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_styles</span></code>: Mapa przechowujÄ…ca wszystkie zaÅ‚adowane style.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_destroyedWidgets</span></code>: Lista do Å›ledzenia niszczonych widgetÃ³w w celach debugowania wyciekÃ³w pamiÄ™ci.</p></li>
</ul>
</section>
<section id="id1091">
<h1>Zmienne globalne<a class="headerlink" href="#id1091" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_ui</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
</ul>
</section>
<section id="id1092">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1092" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">uiwidget.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/inputevent.h</span></code>.</p></li>
<li><p>ÅšciÅ›le wspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> (ktÃ³ra przekazuje jej zdarzenia) i <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>.</p></li>
<li><p>ZarzÄ…dza cyklem Å¼ycia i interakcjami wszystkich <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uitextedit-cpp">
<h1>ğŸ“„ uitextedit.cpp<a class="headerlink" href="#uitextedit-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1093">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1093" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uitextedit.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code>, ktÃ³ra jest specjalizowanym widgetem do wprowadzania i edycji tekstu.</p>
</section>
<section id="klasa-uitextedit">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code><a class="headerlink" href="#klasa-uitextedit" title="Link to this heading">#</a></h1>
</section>
<section id="uitextedit-uitextedit">
<h1><code class="docutils literal notranslate"><span class="pre">UITextEdit::UITextEdit()</span></code><a class="headerlink" href="#uitextedit-uitextedit" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje wszystkie pola zwiÄ…zane z edycjÄ… tekstu do wartoÅ›ci domyÅ›lnych (np. kursor na pozycji 0, widoczny, tekst edytowalny).</p>
</section>
<section id="void-uitextedit-drawself">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UITextEdit::drawSelf(...)</span></code><a class="headerlink" href="#void-uitextedit-drawself" title="Link to this heading">#</a></h1>
<p>PrzesÅ‚oniÄ™ta metoda rysujÄ…ca.</p>
<ol class="arabic simple">
<li><p>Rysuje tÅ‚o, ramkÄ™, obraz i ikonÄ™ (dziedziczone z <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>).</p></li>
<li><p>JeÅ›li tekst jest pusty, rysuje <code class="docutils literal notranslate"><span class="pre">placeholder</span></code>.</p></li>
<li><p>Rysuje tekst, uÅ¼ywajÄ…c <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> (<code class="docutils literal notranslate"><span class="pre">m_glyphsTextCoordsBuffer</span></code>) do zbuforowania geometrii.</p></li>
<li><p>Rysuje zaznaczenie, najpierw rysujÄ…c tÅ‚o zaznaczenia, a potem tekst w innym kolorze na wierzchu.</p></li>
<li><p>Rysuje migajÄ…cy kursor w odpowiedniej pozycji.</p></li>
</ol>
</section>
<section id="void-uitextedit-update-bool-focuscursor">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UITextEdit::update(bool</span> <span class="pre">focusCursor)</span></code><a class="headerlink" href="#void-uitextedit-update-bool-focuscursor" title="Link to this heading">#</a></h1>
<p>Kluczowa metoda, ktÃ³ra przelicza caÅ‚Ä… geometriÄ™ tekstu.</p>
<ol class="arabic simple">
<li><p>Pobiera tekst do wyÅ›wietlenia (zwykÅ‚y lub ukryty <code class="docutils literal notranslate"><span class="pre">*</span></code>).</p></li>
<li><p>Zawija tekst, jeÅ›li <code class="docutils literal notranslate"><span class="pre">m_textWrap</span></code> jest wÅ‚Ä…czone.</p></li>
<li><p>Oblicza pozycje wszystkich glifÃ³w za pomocÄ… <code class="docutils literal notranslate"><span class="pre">m_fontâ†’calculateGlyphsPositions</span></code>.</p></li>
<li><p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">m_autoScroll</span></code> i <code class="docutils literal notranslate"><span class="pre">focusCursor</span></code> sÄ… <code class="docutils literal notranslate"><span class="pre">true</span></code>, automatycznie przewija widok, tak aby kursor byÅ‚ zawsze widoczny.</p></li>
<li><p>Przelicza, ktÃ³re glify sÄ… widoczne w obszarze widgetu, i generuje dla nich wspÃ³Å‚rzÄ™dne w <code class="docutils literal notranslate"><span class="pre">m_glyphsCoords</span></code>.</p></li>
</ol>
</section>
<section id="metody-edycji-tekstu">
<h1>Metody edycji tekstu<a class="headerlink" href="#metody-edycji-tekstu" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setCursorPos</span></code>, <code class="docutils literal notranslate"><span class="pre">setSelection</span></code>, <code class="docutils literal notranslate"><span class="pre">clearSelection</span></code>, <code class="docutils literal notranslate"><span class="pre">selectAll</span></code>: ZarzÄ…dzajÄ… pozycjÄ… kursora i zaznaczeniem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">appendText</span></code>, <code class="docutils literal notranslate"><span class="pre">appendCharacter</span></code>, <code class="docutils literal notranslate"><span class="pre">removeCharacter</span></code>: ModyfikujÄ… tekst.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">del</span></code>, <code class="docutils literal notranslate"><span class="pre">paste</span></code>, <code class="docutils literal notranslate"><span class="pre">copy</span></code>, <code class="docutils literal notranslate"><span class="pre">cut</span></code>: ImplementujÄ… standardowe operacje edycyjne.</p></li>
</ul>
</section>
<section id="int-uitextedit-gettextpos-point-pos">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">UITextEdit::getTextPos(Point</span> <span class="pre">pos)</span></code><a class="headerlink" href="#int-uitextedit-gettextpos-point-pos" title="Link to this heading">#</a></h1>
<p>Konwertuje pozycjÄ™ myszy (w pikselach) na indeks znaku w tekÅ›cie.</p>
</section>
<section id="obsluga-zdarzen-on">
<h1>ObsÅ‚uga zdarzeÅ„ (<code class="docutils literal notranslate"><span class="pre">on...</span></code>)<a class="headerlink" href="#obsluga-zdarzen-on" title="Link to this heading">#</a></h1>
<p>PrzesÅ‚ania metody obsÅ‚ugi zdarzeÅ„ z <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, aby zaimplementowaÄ‡ logikÄ™ edycji tekstu:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">onKeyPress</span></code>: ObsÅ‚uguje nawigacjÄ™ (strzaÅ‚ki, Home, End), usuwanie (Delete, Backspace), zaznaczanie (Shift + strzaÅ‚ki), kopiowanie/wklejanie (Ctrl+C/V).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onKeyText</span></code>: Wstawia wprowadzony tekst.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onMousePress</span></code>, <code class="docutils literal notranslate"><span class="pre">onMouseMove</span></code>, <code class="docutils literal notranslate"><span class="pre">onDoubleClick</span></code>: ObsÅ‚ugujÄ… ustawianie kursora i zaznaczanie tekstu myszÄ….</p></li>
</ul>
</section>
<section id="id1094">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1094" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uitextedit.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/bitmapfont.h</span></code>: Intensywnie uÅ¼ywa <code class="docutils literal notranslate"><span class="pre">Bitmapfont</span></code> do obliczeÅ„.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platformwindow.h</span></code>: Do interakcji ze schowkiem.</p></li>
<li><p>Na Androidzie, zamiast wÅ‚asnego renderowania, wywoÅ‚uje natywne pole edycji tekstu.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uimanager-cpp">
<h1>ğŸ“„ uimanager.cpp<a class="headerlink" href="#uimanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1095">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1095" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uimanager.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, ktÃ³ra jest centralnym menedÅ¼erem interfejsu uÅ¼ytkownika.</p>
</section>
<section id="id1096">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIManager</span></code><a class="headerlink" href="#id1096" title="Link to this heading">#</a></h1>
</section>
<section id="void-uimanager-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::init()</span></code><a class="headerlink" href="#void-uimanager-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje menedÅ¼era, tworzÄ…c gÅ‚Ã³wny, niewidoczny widget (<code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code>), ktÃ³ry jest korzeniem caÅ‚ego drzewa UI i zajmuje caÅ‚Ä… powierzchniÄ™ okna.</p>
</section>
<section id="void-uimanager-render-fw-drawpane-drawpane">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::render(Fw::DrawPane</span> <span class="pre">drawPane)</span></code><a class="headerlink" href="#void-uimanager-render-fw-drawpane-drawpane" title="Link to this heading">#</a></h1>
<p>Rozpoczyna proces renderowania, wywoÅ‚ujÄ…c metodÄ™ <code class="docutils literal notranslate"><span class="pre">draw()</span></code> na <code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code> dla okreÅ›lonej warstwy rysowania.</p>
</section>
<section id="void-uimanager-resize-const-size-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-uimanager-resize-const-size-size" title="Link to this heading">#</a></h1>
<p>Aktualizuje rozmiar <code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code>, co powoduje rekurencyjne przeliczenie layoutu dla wszystkich widgetÃ³w potomnych.</p>
</section>
<section id="void-uimanager-inputevent-const-inputevent-event">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::inputEvent(const</span> <span class="pre">InputEvent&amp;</span> <span class="pre">event)</span></code><a class="headerlink" href="#void-uimanager-inputevent-const-inputevent-event" title="Link to this heading">#</a></h1>
</section>
<section id="id1097">
<h1>Opis semantyczny<a class="headerlink" href="#id1097" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wny punkt wejÅ›cia dla wszystkich zdarzeÅ„ wejÅ›ciowych. TÅ‚umaczy surowe zdarzenia na akcje w UI.</p>
</section>
<section id="id1098">
<h1>DziaÅ‚anie<a class="headerlink" href="#id1098" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Dla zdarzeÅ„ klawiatury, przekazuje je do <code class="docutils literal notranslate"><span class="pre">m_keyboardReceiver</span></code>.</p></li>
<li><p>Dla wciÅ›niÄ™cia przycisku myszy:</p>
<ol class="arabic simple">
<li><p>Identyfikuje widget pod kursorem.</p></li>
<li><p>Aktualizuje <code class="docutils literal notranslate"><span class="pre">m_pressedWidget</span></code>.</p></li>
<li><p>Propaguje zdarzenie <code class="docutils literal notranslate"><span class="pre">onMousePress</span></code> w dÃ³Å‚ drzewa.</p></li>
</ol>
</li>
<li><p>Dla zwolnienia przycisku myszy:</p>
<ol class="arabic simple">
<li><p>JeÅ›li trwaÅ‚o przeciÄ…ganie, koÅ„czy je i obsÅ‚uguje â€œupuszczenieâ€.</p></li>
<li><p>Propaguje zdarzenie <code class="docutils literal notranslate"><span class="pre">onMouseRelease</span></code>.</p></li>
<li><p>JeÅ›li zwolnienie nastÄ…piÅ‚o nad pierwotnie wciÅ›niÄ™tym widgetem, generuje zdarzenie <code class="docutils literal notranslate"><span class="pre">onClick</span></code>.</p></li>
</ol>
</li>
<li><p>Dla ruchu myszy:</p>
<ol class="arabic simple">
<li><p>Aktualizuje <code class="docutils literal notranslate"><span class="pre">m_hoveredWidget</span></code>.</p></li>
<li><p>JeÅ›li jakiÅ› widget jest wciÅ›niÄ™ty i przeciÄ…galny, rozpoczyna przeciÄ…ganie.</p></li>
<li><p>Propaguje zdarzenie <code class="docutils literal notranslate"><span class="pre">onMouseMove</span></code>.</p></li>
</ol>
</li>
<li><p>Dla kÃ³Å‚ka myszy, propaguje zdarzenie.</p></li>
</ul>
</section>
<section id="void-uimanager-update-widget">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::update...Widget(...)</span></code><a class="headerlink" href="#void-uimanager-update-widget" title="Link to this heading">#</a></h1>
<p>Metody te zarzÄ…dzajÄ… globalnym stanem UI:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">updatePressedWidget</span></code>: Zmienia, ktÃ³ry widget jest aktualnie wciÅ›niÄ™ty.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">updateDraggingWidget</span></code>: Rozpoczyna lub koÅ„czy przeciÄ…ganie widgetu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">updateHoveredWidget</span></code>: Aktualizuje, nad ktÃ³rym widgetem znajduje siÄ™ kursor.</p></li>
</ul>
</section>
<section id="bool-uimanager-importstyle">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIManager::importStyle(...)</span></code><a class="headerlink" href="#bool-uimanager-importstyle" title="Link to this heading">#</a></h1>
<p>Åaduje i parsuje plik <code class="docutils literal notranslate"><span class="pre">.otui</span></code> ze stylami, dodajÄ…c je do <code class="docutils literal notranslate"><span class="pre">m_styles</span></code>.</p>
</section>
<section id="uiwidgetptr-uimanager-loadui-i-createwidgetfromotml">
<h1><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">UIManager::loadUI(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">createWidgetFromOTML(...)</span></code><a class="headerlink" href="#uiwidgetptr-uimanager-loadui-i-createwidgetfromotml" title="Link to this heading">#</a></h1>
<p>ImplementujÄ… logikÄ™ tworzenia widgetÃ³w na podstawie plikÃ³w i wÄ™zÅ‚Ã³w OTML. <code class="docutils literal notranslate"><span class="pre">createWidgetFromOTML</span></code> jest kluczowÄ… metodÄ…, ktÃ³ra:</p>
<ol class="arabic simple">
<li><p>Znajduje styl bazowy.</p></li>
<li><p>ÅÄ…czy (merge) go ze stylem zdefiniowanym w pliku UI.</p></li>
<li><p>Na podstawie atrybutu <code class="docutils literal notranslate"><span class="pre">__class</span></code>, wywoÅ‚uje w Lua funkcjÄ™ fabrycznÄ… (<code class="docutils literal notranslate"><span class="pre">create</span></code>) dla danego typu widgetu.</p></li>
<li><p>Stosuje styl i rekurencyjnie tworzy dzieci.</p></li>
</ol>
</section>
<section id="void-uimanager-onwidgetdestroy">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::onWidgetDestroy(...)</span></code><a class="headerlink" href="#void-uimanager-onwidgetdestroy" title="Link to this heading">#</a></h1>
<p>Callback wywoÅ‚ywany przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. CzyÅ›ci wszystkie globalne referencje do niszczonego widgetu (np. <code class="docutils literal notranslate"><span class="pre">m_hoveredWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">m_pressedWidget</span></code>). W trybie debugowania, planuje sprawdzenie, czy nie pozostaÅ‚y Å¼adne wiszÄ…ce referencje do widgetu po jego zniszczeniu.</p>
</section>
<section id="id1099">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1099" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to centralna klasa UI, ktÃ³ra Å‚Ä…czy <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> (ÅºrÃ³dÅ‚o zdarzeÅ„) z <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (odbiorcy zdarzeÅ„).</p></li>
<li><p>ZarzÄ…dza caÅ‚ym drzewem widgetÃ³w.</p></li>
<li><p>WspÃ³Å‚pracuje z <code class="docutils literal notranslate"><span class="pre">OTML</span></code> do parsowania stylÃ³w i layoutÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uitextedit-h">
<h1>ğŸ“„ uitextedit.h<a class="headerlink" href="#uitextedit-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1100">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1100" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uitextedit.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code>, ktÃ³ra jest widgetem sÅ‚uÅ¼Ä…cym do wprowadzania i edycji tekstu przez uÅ¼ytkownika.</p>
</section>
<section id="id1101">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code><a class="headerlink" href="#id1101" title="Link to this heading">#</a></h1>
</section>
<section id="id1102">
<h1>Opis semantyczny<a class="headerlink" href="#id1102" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> i rozszerza jego funkcjonalnoÅ›Ä‡ o logikÄ™ obsÅ‚ugi kursora, zaznaczania tekstu, wprowadzania z klawiatury, kopiowania/wklejania i zawijania wierszy. Jest to jeden z najbardziej zÅ‚oÅ¼onych widgetÃ³w w podstawowym zestawie.</p>
</section>
<section id="id1103">
<h1>Metody publiczne<a class="headerlink" href="#id1103" title="Link to this heading">#</a></h1>
</section>
<section id="zarzadzanie-tekstem-i-kursorem">
<h1>ZarzÄ…dzanie tekstem i kursorem<a class="headerlink" href="#zarzadzanie-tekstem-i-kursorem" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setCursorPos(...)</span></code>: Ustawia pozycjÄ™ kursora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setSelection(...)</span></code>: Ustawia zaznaczenie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setTextHidden(...)</span></code>: WÅ‚Ä…cza tryb â€œhasÅ‚aâ€ (wyÅ›wietla <code class="docutils literal notranslate"><span class="pre">*</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setMaxLength(...)</span></code>: Ustawia maksymalnÄ… dÅ‚ugoÅ›Ä‡ tekstu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">appendText(...)</span></code>: Dodaje tekst w pozycji kursora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">del()</span></code>, <code class="docutils literal notranslate"><span class="pre">paste()</span></code>, <code class="docutils literal notranslate"><span class="pre">copy()</span></code>, <code class="docutils literal notranslate"><span class="pre">cut()</span></code>: Standardowe operacje edycyjne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">selectAll()</span></code>, <code class="docutils literal notranslate"><span class="pre">clearSelection()</span></code>: ZarzÄ…dzanie zaznaczeniem.</p></li>
</ul>
</section>
<section id="konfiguracja">
<h1>Konfiguracja<a class="headerlink" href="#konfiguracja" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setEditable(...)</span></code>: WÅ‚Ä…cza/wyÅ‚Ä…cza moÅ¼liwoÅ›Ä‡ edycji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setMultiline(...)</span></code>: WÅ‚Ä…cza/wyÅ‚Ä…cza tryb wieloliniowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setValidCharacters(...)</span></code>: Ogranicza dozwolone znaki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setPlaceholder(...)</span></code>: Ustawia tekst wyÅ›wietlany, gdy pole jest puste.</p></li>
</ul>
</section>
<section id="gettery">
<h1>Gettery<a class="headerlink" href="#gettery" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">getCursorPos()</span></code>, <code class="docutils literal notranslate"><span class="pre">getSelection()</span></code>, <code class="docutils literal notranslate"><span class="pre">getTextPos(...)</span></code>, â€¦: ZwracajÄ… informacje o stanie edytora.</p></li>
</ul>
</section>
<section id="id1104">
<h1>Zmienne prywatne<a class="headerlink" href="#id1104" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursorPos</span></code>: Pozycja kursora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_selectionStart</span></code>, <code class="docutils literal notranslate"><span class="pre">m_selectionEnd</span></code>: Granice zaznaczenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textHidden</span></code>, <code class="docutils literal notranslate"><span class="pre">m_multiline</span></code>, <code class="docutils literal notranslate"><span class="pre">m_editable</span></code>, â€¦: Flagi konfiguracyjne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphsCoords</span></code>, <code class="docutils literal notranslate"><span class="pre">m_glyphsTexCoords</span></code>: Wektory przechowujÄ…ce geometriÄ™ renderowanego tekstu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphsTextCoordsBuffer</span></code>, <code class="docutils literal notranslate"><span class="pre">m_glyphsSelectCoordsBuffer</span></code>: Bufory <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> dla tekstu i zaznaczenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_placeholder</span></code>, <code class="docutils literal notranslate"><span class="pre">m_placeholderColor</span></code>, â€¦: WÅ‚aÅ›ciwoÅ›ci placeholdera.</p></li>
</ul>
</section>
<section id="id1105">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1105" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>, co udostÄ™pnia jej bogate API w Lua.</p></li>
<li><p>Jest jednym z podstawowych, predefiniowanych typÃ³w widgetÃ³w tworzonych przez <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uitranslator-cpp">
<h1>ğŸ“„ uitranslator.cpp<a class="headerlink" href="#uitranslator-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1106">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1106" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uitranslator.cpp</span></code> zawiera implementacje funkcji, ktÃ³re tÅ‚umaczÄ… tekstowe reprezentacje rÃ³Å¼nych enumÃ³w uÅ¼ywanych w UI na ich faktyczne wartoÅ›ci liczbowe.</p>
</section>
<section id="id1107">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code><a class="headerlink" href="#id1107" title="Link to this heading">#</a></h1>
</section>
<section id="fw-alignmentflag-fw-translatealignment-std-string-aligment">
<h1><code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span> <span class="pre">Fw::translateAlignment(std::string</span> <span class="pre">aligment)</span></code><a class="headerlink" href="#fw-alignmentflag-fw-translatealignment-std-string-aligment" title="Link to this heading">#</a></h1>
<p>Konwertuje string (np. â€œtop-leftâ€, â€œcenterâ€) na odpowiedniÄ… flagÄ™ z <code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span></code>. UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">boost::to_lower</span></code> i <code class="docutils literal notranslate"><span class="pre">boost::erase_all</span></code> do normalizacji wejÅ›cia.</p>
</section>
<section id="fw-anchoredge-fw-translateanchoredge-std-string-anchoredge">
<h1><code class="docutils literal notranslate"><span class="pre">Fw::AnchorEdge</span> <span class="pre">Fw::translateAnchorEdge(std::string</span> <span class="pre">anchorEdge)</span></code><a class="headerlink" href="#fw-anchoredge-fw-translateanchoredge-std-string-anchoredge" title="Link to this heading">#</a></h1>
<p>Konwertuje string (np. â€œleftâ€, â€œhorizontal-centerâ€) na odpowiedniÄ… wartoÅ›Ä‡ z <code class="docutils literal notranslate"><span class="pre">Fw::AnchorEdge</span></code>.</p>
</section>
<section id="fw-widgetstate-fw-translatestate-std-string-state">
<h1><code class="docutils literal notranslate"><span class="pre">Fw::WidgetState</span> <span class="pre">Fw::translateState(std::string</span> <span class="pre">state)</span></code><a class="headerlink" href="#fw-widgetstate-fw-translatestate-std-string-state" title="Link to this heading">#</a></h1>
<p>Konwertuje string (np. â€œhoverâ€, â€œpressedâ€) na odpowiedniÄ… flagÄ™ z <code class="docutils literal notranslate"><span class="pre">Fw::WidgetState</span></code>.</p>
</section>
<section id="fw-autofocuspolicy-fw-translateautofocuspolicy-std-string-policy">
<h1><code class="docutils literal notranslate"><span class="pre">Fw::AutoFocusPolicy</span> <span class="pre">Fw::translateAutoFocusPolicy(std::string</span> <span class="pre">policy)</span></code><a class="headerlink" href="#fw-autofocuspolicy-fw-translateautofocuspolicy-std-string-policy" title="Link to this heading">#</a></h1>
<p>Konwertuje string (np. â€œfirstâ€, â€œlastâ€) na odpowiedniÄ… wartoÅ›Ä‡ z <code class="docutils literal notranslate"><span class="pre">Fw::AutoFocusPolicy</span></code>.</p>
</section>
<section id="id1108">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1108" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uitranslator.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/string.hpp</span></code>: Do normalizacji stringÃ³w.</p></li>
<li><p>Funkcje te sÄ… uÅ¼ywane przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> i jego podklasy podczas parsowania stylÃ³w z OTML, aby przekonwertowaÄ‡ wartoÅ›ci tekstowe na enumy.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uitranslator-h">
<h1>ğŸ“„ uitranslator.h<a class="headerlink" href="#uitranslator-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1109">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1109" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uitranslator.h</span></code> deklaruje zestaw funkcji pomocniczych do konwersji stringÃ³w na wartoÅ›ci wyliczeniowe (enum) uÅ¼ywane w systemie UI.</p>
</section>
<section id="id1110">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code><a class="headerlink" href="#id1110" title="Link to this heading">#</a></h1>
</section>
<section id="deklaracje-funkcji">
<h1>Deklaracje funkcji<a class="headerlink" href="#deklaracje-funkcji" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignmentFlag</span> <span class="pre">translateAlignment(...)</span></code></p></td>
<td class="text-left"><p>Konwertuje string na <code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AnchorEdge</span> <span class="pre">translateAnchorEdge(...)</span></code></p></td>
<td class="text-left"><p>Konwertuje string na <code class="docutils literal notranslate"><span class="pre">Fw::AnchorEdge</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">WidgetState</span> <span class="pre">translateState(...)</span></code></p></td>
<td class="text-left"><p>Konwertuje string na <code class="docutils literal notranslate"><span class="pre">Fw::WidgetState</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AutoFocusPolicy</span> <span class="pre">translateAutoFocusPolicy(...)</span></code></p></td>
<td class="text-left"><p>Konwertuje string na <code class="docutils literal notranslate"><span class="pre">Fw::AutoFocusPolicy</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1111">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1111" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/const.h</span></code>: Definicje enumÃ³w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>: Do operacji na stringach.</p></li>
<li><p>Te funkcje sÄ… kluczowe dla parsowania plikÃ³w OTML, gdzie wÅ‚aÅ›ciwoÅ›ci takie jak wyrÃ³wnanie sÄ… zdefiniowane za pomocÄ… sÅ‚Ã³w kluczowych.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uiverticallayout-cpp">
<h1>ğŸ“„ uiverticallayout.cpp<a class="headerlink" href="#uiverticallayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1112">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1112" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiverticallayout.cpp</span></code> zawiera implementacjÄ™ klasy <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>, ktÃ³ra ukÅ‚ada widgety w jednej kolumnie, od gÃ³ry do doÅ‚u lub od doÅ‚u do gÃ³ry.</p>
</section>
<section id="klasa-uiverticallayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code><a class="headerlink" href="#klasa-uiverticallayout" title="Link to this heading">#</a></h1>
</section>
<section id="void-uiverticallayout-applystyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIVerticalLayout::applyStyle(...)</span></code><a class="headerlink" href="#void-uiverticallayout-applystyle" title="Link to this heading">#</a></h1>
<p>Parsuje atrybut <code class="docutils literal notranslate"><span class="pre">align-bottom</span></code> z wÄ™zÅ‚a OTML.</p>
</section>
<section id="bool-uiverticallayout-internalupdate">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIVerticalLayout::internalUpdate()</span></code><a class="headerlink" href="#bool-uiverticallayout-internalupdate" title="Link to this heading">#</a></h1>
</section>
<section id="id1113">
<h1>Opis semantyczny<a class="headerlink" href="#id1113" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda przeliczajÄ…ca pozycje widgetÃ³w. DziaÅ‚a analogicznie do <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout::internalUpdate</span></code>, ale operuje na osi Y.</p>
</section>
<section id="id1114">
<h1>DziaÅ‚anie<a class="headerlink" href="#id1114" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera listÄ™ dzieci. JeÅ›li <code class="docutils literal notranslate"><span class="pre">m_alignBottom</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, odwraca kolejnoÅ›Ä‡ listy.</p></li>
<li><p>Iteruje po widgetach:</p>
<ul class="simple">
<li><p>Oblicza pozycjÄ™ <code class="docutils literal notranslate"><span class="pre">y</span></code> na podstawie pozycji i wysokoÅ›ci poprzedniego widgetu oraz odstÄ™pÃ³w.</p></li>
<li><p>Oblicza pozycjÄ™ <code class="docutils literal notranslate"><span class="pre">x</span></code> w zaleÅ¼noÅ›ci od wyrÃ³wnania poziomego widgetu (<code class="docutils literal notranslate"><span class="pre">AlignLeft</span></code>, <code class="docutils literal notranslate"><span class="pre">AlignRight</span></code>, <code class="docutils literal notranslate"><span class="pre">AlignCenter</span></code>) wewnÄ…trz szerokoÅ›ci rodzica.</p></li>
<li><p>JeÅ›li widget nie ma staÅ‚ego rozmiaru, jego szerokoÅ›Ä‡ jest rozciÄ…gana do szerokoÅ›ci rodzica.</p></li>
<li><p>Ustawia nowy <code class="docutils literal notranslate"><span class="pre">Rect</span></code> dla widgetu.</p></li>
</ul>
</li>
<li><p>Oblicza sumarycznÄ…, preferowanÄ… wysokoÅ›Ä‡ (<code class="docutils literal notranslate"><span class="pre">preferredHeight</span></code>).</p></li>
<li><p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">m_fitChildren</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, planuje asynchroniczne ustawienie wysokoÅ›ci rodzica na <code class="docutils literal notranslate"><span class="pre">preferredHeight</span></code>.</p></li>
</ol>
</section>
<section id="id1115">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1115" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiverticallayout.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Operuje na widgetach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do asynchronicznego ustawiania wysokoÅ›ci rodzica.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uiverticallayout-h">
<h1>ğŸ“„ uiverticallayout.h<a class="headerlink" href="#uiverticallayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1116">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1116" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiverticallayout.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>, ktÃ³ra implementuje layout wertykalny.</p>
</section>
<section id="id1117">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code><a class="headerlink" href="#id1117" title="Link to this heading">#</a></h1>
</section>
<section id="id1118">
<h1>Opis semantyczny<a class="headerlink" href="#id1118" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code> i specjalizuje go do ukÅ‚adania widgetÃ³w w pojedynczej kolumnie. MoÅ¼e ukÅ‚adaÄ‡ elementy od gÃ³ry do doÅ‚u (domyÅ›lnie) lub od doÅ‚u do gÃ³ry (<code class="docutils literal notranslate"><span class="pre">align-bottom</span></code>).</p>
</section>
<section id="id1119">
<h1>Metody publiczne<a class="headerlink" href="#id1119" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setAlignBottom(bool</span> <span class="pre">alignBottom)</span></code></p></td>
<td class="text-left"><p>WÅ‚Ä…cza/wyÅ‚Ä…cza ukÅ‚adanie od doÅ‚u do gÃ³ry.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isAlignBottom()</span></code></p></td>
<td class="text-left"><p>Zwraca stan flagi <code class="docutils literal notranslate"><span class="pre">align-bottom</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1120">
<h1>Zmienne chronione<a class="headerlink" href="#id1120" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_alignBottom</span></code>: Flaga trybu wyrÃ³wnania do doÅ‚u.</p></li>
</ul>
</section>
<section id="id1121">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1121" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiboxlayout.h</span></code>: Klasa bazowa.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uiwidget-cpp">
<h1>ğŸ“„ uiwidget.cpp<a class="headerlink" href="#uiwidget-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1122">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1122" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiwidget.cpp</span></code> jest gÅ‚Ã³wnym plikiem implementacyjnym dla klasy <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Zawiera on logikÄ™ dla podstawowych operacji na widgetach, takich jak zarzÄ…dzanie dzieÄ‡mi, obsÅ‚uga layoutÃ³w, zdarzeÅ„, stanÃ³w i stylÃ³w.</p>
</section>
<section id="klasa-uiwidget">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code><a class="headerlink" href="#klasa-uiwidget" title="Link to this heading">#</a></h1>
</section>
<section id="uiwidget-uiwidget">
<h1><code class="docutils literal notranslate"><span class="pre">UIWidget::UIWidget()</span></code><a class="headerlink" href="#uiwidget-uiwidget" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje wszystkie pola do wartoÅ›ci domyÅ›lnych, w tym podstawowy styl, wÅ‚aÅ›ciwoÅ›ci tekstu i obrazu. Co waÅ¼ne, zapisuje Å›cieÅ¼kÄ™ do skryptu Lua, w ktÃ³rym widget zostaÅ‚ utworzony (<code class="docutils literal notranslate"><span class="pre">m_source</span></code>), co jest niezwykle przydatne do debugowania.</p>
</section>
<section id="void-uiwidget-draw">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::draw(...)</span></code><a class="headerlink" href="#void-uiwidget-draw" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda renderujÄ…ca. Jest rekurencyjna.</p>
<ol class="arabic simple">
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">drawSelf()</span></code> do narysowania samego widgetu.</p></li>
<li><p>JeÅ›li wÅ‚Ä…czone jest przycinanie (<code class="docutils literal notranslate"><span class="pre">m_clipping</span></code>), ustawia odpowiedni <code class="docutils literal notranslate"><span class="pre">DrawQueueConditionClip</span></code>.</p></li>
<li><p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">drawChildren()</span></code> do narysowania wszystkich widocznych dzieci.</p></li>
<li><p>Stosuje globalne efekty dla widgetu i jego dzieci, takie jak przezroczystoÅ›Ä‡ (<code class="docutils literal notranslate"><span class="pre">setOpacity</span></code>) i rotacja (<code class="docutils literal notranslate"><span class="pre">setRotation</span></code>), dodajÄ…c odpowiednie warunki do <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>.</p></li>
</ol>
</section>
<section id="void-uiwidget-addchild-insertchild-removechild">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::addChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">insertChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeChild(...)</span></code><a class="headerlink" href="#void-uiwidget-addchild-insertchild-removechild" title="Link to this heading">#</a></h1>
<p>Metody do zarzÄ…dzania hierarchiÄ… widgetÃ³w. Poza modyfikacjÄ… <code class="docutils literal notranslate"><span class="pre">m_children</span></code>, dbajÄ… o:</p>
<ul class="simple">
<li><p>Ustawienie/zresetowanie wskaÅºnika <code class="docutils literal notranslate"><span class="pre">m_parent</span></code> w dziecku.</p></li>
<li><p>Dodanie/usuniÄ™cie widgetu z layoutu rodzica.</p></li>
<li><p>AktualizacjÄ™ stanu fokusu, jeÅ›li usuwane jest dziecko z fokusem.</p></li>
<li><p>AktualizacjÄ™ stanÃ³w indeksowych (<code class="docutils literal notranslate"><span class="pre">FirstState</span></code>, <code class="docutils literal notranslate"><span class="pre">LastState</span></code>) u rodzeÅ„stwa.</p></li>
<li><p>Powiadomienie <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> o pojawieniu siÄ™/znikniÄ™ciu widgetu.</p></li>
</ul>
</section>
<section id="void-uiwidget-focuschild-focusnextchild-focuspreviouschild">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::focusChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">focusNextChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">focusPreviousChild(...)</span></code><a class="headerlink" href="#void-uiwidget-focuschild-focusnextchild-focuspreviouschild" title="Link to this heading">#</a></h1>
<p>ImplementujÄ… logikÄ™ zarzÄ…dzania fokusem wewnÄ…trz widgetu. <code class="docutils literal notranslate"><span class="pre">focusChild</span></code> zmienia <code class="docutils literal notranslate"><span class="pre">m_focusedChild</span></code> i wywoÅ‚uje callbacki <code class="docutils literal notranslate"><span class="pre">onFocusChange</span></code>. <code class="docutils literal notranslate"><span class="pre">focusNext/PreviousChild</span></code> implementujÄ… nawigacjÄ™ (np. klawiszem Tab).</p>
</section>
<section id="void-uiwidget-applystyle-const-otmlnodeptr-stylenode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::applyStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code><a class="headerlink" href="#void-uiwidget-applystyle-const-otmlnodeptr-stylenode" title="Link to this heading">#</a></h1>
<p>Aplikuje wÅ‚aÅ›ciwoÅ›ci z wÄ™zÅ‚a stylu do widgetu. WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">onStyleApply</span></code> oraz <code class="docutils literal notranslate"><span class="pre">onStyleApply</span></code> w Lua.</p>
</section>
<section id="void-uiwidget-updatestate-fw-widgetstate-state">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateState(Fw::WidgetState</span> <span class="pre">state)</span></code><a class="headerlink" href="#void-uiwidget-updatestate-fw-widgetstate-state" title="Link to this heading">#</a></h1>
<p>Kluczowa metoda, ktÃ³ra aktualizuje pojedynczÄ… flagÄ™ stanu (np. <code class="docutils literal notranslate"><span class="pre">HoverState</span></code>). Oblicza, czy widget powinien mieÄ‡ dany stan (np. dla <code class="docutils literal notranslate"><span class="pre">HoverState</span></code> sprawdza, czy <code class="docutils literal notranslate"><span class="pre">g_ui.getHoveredWidget()</span> <span class="pre">==</span> <span class="pre">this</span></code>), a nastÄ™pnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">setState</span></code>.</p>
</section>
<section id="void-uiwidget-updatestates">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateStates()</span></code><a class="headerlink" href="#void-uiwidget-updatestates" title="Link to this heading">#</a></h1>
<p>WywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">updateState</span></code> dla wszystkich moÅ¼liwych stanÃ³w, synchronizujÄ…c peÅ‚ny stan widgetu.</p>
</section>
<section id="void-uiwidget-updatestyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateStyle()</span></code><a class="headerlink" href="#void-uiwidget-updatestyle" title="Link to this heading">#</a></h1>
<p>Gdy stan widgetu siÄ™ zmienia, ta metoda jest wywoÅ‚ywana. Przebudowuje ona tymczasowy wÄ™zeÅ‚ stylu (<code class="docutils literal notranslate"><span class="pre">m_stateStyle</span></code>), Å‚Ä…czÄ…c style z warunkÃ³w (<code class="docutils literal notranslate"><span class="pre">$!hover</span></code>, <code class="docutils literal notranslate"><span class="pre">$checked</span></code>, itp.), a nastÄ™pnie wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">applyStyle</span></code> z tym nowym, poÅ‚Ä…czonym stylem.</p>
</section>
<section id="metody-on-i-propagateon">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">on...</span></code> i <code class="docutils literal notranslate"><span class="pre">propagateOn...</span></code><a class="headerlink" href="#metody-on-i-propagateon" title="Link to this heading">#</a></h1>
<p>ImplementujÄ… domyÅ›lnÄ… obsÅ‚ugÄ™ i propagacjÄ™ zdarzeÅ„ w drzewie widgetÃ³w. Metody <code class="docutils literal notranslate"><span class="pre">propagate...</span></code> decydujÄ…, do ktÃ³rych dzieci przekazaÄ‡ zdarzenie, a nastÄ™pnie wywoÅ‚ujÄ… metodÄ™ <code class="docutils literal notranslate"><span class="pre">on...</span></code> na samym widgecie.</p>
</section>
<section id="id1123">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1123" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to centralna klasa moduÅ‚u UI, ktÃ³ra zaleÅ¼y od prawie wszystkich innych jego czÄ™Å›ci (<code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UITranslator</span></code>) oraz wielu moduÅ‚Ã³w frameworka (<code class="docutils literal notranslate"><span class="pre">Graphics</span></code>, <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>, <code class="docutils literal notranslate"><span class="pre">OTML</span></code>).</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uiwidget-h">
<h1>ğŸ“„ uiwidget.h<a class="headerlink" href="#uiwidget-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1124">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1124" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiwidget.h</span></code> deklaruje klasÄ™ <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, ktÃ³ra jest fundamentalnÄ… klasÄ… bazowÄ… dla wszystkich elementÃ³w interfejsu uÅ¼ytkownika.</p>
</section>
<section id="struktura-edgegroup">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">EdgeGroup</span></code><a class="headerlink" href="#struktura-edgegroup" title="Link to this heading">#</a></h1>
<p>Szablonowa struktura pomocnicza do przechowywania wartoÅ›ci dla czterech krawÄ™dzi (gÃ³ra, prawo, dÃ³Å‚, lewo), uÅ¼ywana dla <code class="docutils literal notranslate"><span class="pre">margin</span></code>, <code class="docutils literal notranslate"><span class="pre">padding</span></code>, <code class="docutils literal notranslate"><span class="pre">border-width</span></code> i <code class="docutils literal notranslate"><span class="pre">border-color</span></code>.</p>
</section>
<section id="id1125">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code><a class="headerlink" href="#id1125" title="Link to this heading">#</a></h1>
</section>
<section id="id1126">
<h1>Opis semantyczny<a class="headerlink" href="#id1126" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> jest obiektowym odpowiednikiem elementu DOM. Reprezentuje prostokÄ…tny obszar na ekranie, ktÃ³ry moÅ¼e byÄ‡ rysowany, reagowaÄ‡ na zdarzenia i zawieraÄ‡ inne widgety. Implementuje model drzewa (rodzic-dzieci), system zdarzeÅ„ (propagacja i obsÅ‚uga), system stanÃ³w (aktywny, najechany, etc.), zarzÄ…dzanie layoutem oraz integracjÄ™ z OTML i Lua.</p>
</section>
<section id="podzial-interfejsu-w-pliku-h">
<h1>PodziaÅ‚ interfejsu (w pliku <code class="docutils literal notranslate"><span class="pre">.h</span></code>)<a class="headerlink" href="#podzial-interfejsu-w-pliku-h" title="Link to this heading">#</a></h1>
<p>Interfejs klasy jest podzielony na sekcje tematyczne:</p>
<ul class="simple">
<li><p><strong>Widget Core</strong>: Podstawowe metody do zarzÄ…dzania hierarchiÄ…, layoutem, stylami i stanami.</p></li>
<li><p><strong>State Management</strong>: Metody do zarzÄ…dzania stanami (<code class="docutils literal notranslate"><span class="pre">setState</span></code>, <code class="docutils literal notranslate"><span class="pre">hasState</span></code>).</p></li>
<li><p><strong>Event Processing</strong>: Wirtualne metody <code class="docutils literal notranslate"><span class="pre">on...</span></code> do obsÅ‚ugi zdarzeÅ„.</p></li>
<li><p><strong>Function Shortcuts</strong>: Wygodne metody opakowujÄ…ce (<code class="docutils literal notranslate"><span class="pre">hide</span></code>, <code class="docutils literal notranslate"><span class="pre">show</span></code>, <code class="docutils literal notranslate"><span class="pre">enable</span></code>).</p></li>
<li><p><strong>Base Style</strong>: Pola i metody zwiÄ…zane z podstawowymi wÅ‚aÅ›ciwoÅ›ciami wizualnymi (tÅ‚o, ramka, ikona, przezroczystoÅ›Ä‡).</p></li>
<li><p><strong>Image</strong>: Pola i metody zwiÄ…zane z wyÅ›wietlaniem obrazu (<code class="docutils literal notranslate"><span class="pre">m_imageTexture</span></code>, <code class="docutils literal notranslate"><span class="pre">setImageSource</span></code>).</p></li>
<li><p><strong>Text</strong>: Pola i metody zwiÄ…zane z wyÅ›wietlaniem tekstu (<code class="docutils literal notranslate"><span class="pre">m_text</span></code>, <code class="docutils literal notranslate"><span class="pre">m_font</span></code>, <code class="docutils literal notranslate"><span class="pre">setText</span></code>).</p></li>
</ul>
</section>
<section id="kluczowe-wlasciwosci">
<h1>Kluczowe wÅ‚aÅ›ciwoÅ›ci<a class="headerlink" href="#kluczowe-wlasciwosci" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Hierarchia</strong>: <code class="docutils literal notranslate"><span class="pre">m_parent</span></code>, <code class="docutils literal notranslate"><span class="pre">m_children</span></code>.</p></li>
<li><p><strong>Geometria</strong>: <code class="docutils literal notranslate"><span class="pre">m_rect</span></code>.</p></li>
<li><p><strong>Styl</strong>: <code class="docutils literal notranslate"><span class="pre">m_style</span></code> (wÄ™zeÅ‚ OTML), <code class="docutils literal notranslate"><span class="pre">m_states</span></code>.</p></li>
<li><p><strong>Layout</strong>: <code class="docutils literal notranslate"><span class="pre">m_layout</span></code>.</p></li>
<li><p><strong>Zdarzenia</strong>: Zestaw wirtualnych metod <code class="docutils literal notranslate"><span class="pre">on...</span></code> (np. <code class="docutils literal notranslate"><span class="pre">onMousePress</span></code>, <code class="docutils literal notranslate"><span class="pre">onKeyPress</span></code>).</p></li>
<li><p><strong>WyglÄ…d</strong>: <code class="docutils literal notranslate"><span class="pre">m_backgroundColor</span></code>, <code class="docutils literal notranslate"><span class="pre">m_borderColor</span></code>, <code class="docutils literal notranslate"><span class="pre">m_imageTexture</span></code>, <code class="docutils literal notranslate"><span class="pre">m_text</span></code>, <code class="docutils literal notranslate"><span class="pre">m_font</span></code>, etc.</p></li>
</ul>
</section>
<section id="id1127">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1127" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">uilayout.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest klasÄ… bazowÄ… dla wszystkich innych widgetÃ³w, np. <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code>.</p></li>
<li><p>Jest zarzÄ…dzana przez <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uiwidgetimage-cpp">
<h1>ğŸ“„ uiwidgetimage.cpp<a class="headerlink" href="#uiwidgetimage-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1128">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1128" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiwidgetimage.cpp</span></code> zawiera implementacjÄ™ czÄ™Å›ci klasy <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> odpowiedzialnej za obsÅ‚ugÄ™ i renderowanie obrazu tÅ‚a.</p>
<blockquote>
<div><p><strong>NOTE:</strong> To nie jest osobna klasa, lecz czÄ™Å›Ä‡ implementacji <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, wydzielona do osobnego pliku dla lepszej organizacji kodu.</p>
</div></blockquote>
</section>
<section id="klasa-uiwidget-czesc-implementacji">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czÄ™Å›Ä‡ implementacji)<a class="headerlink" href="#klasa-uiwidget-czesc-implementacji" title="Link to this heading">#</a></h1>
</section>
<section id="void-uiwidget-initimage">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initImage()</span></code><a class="headerlink" href="#void-uiwidget-initimage" title="Link to this heading">#</a></h1>
<p>Inicjalizuje pola zwiÄ…zane z obrazem do wartoÅ›ci domyÅ›lnych.</p>
</section>
<section id="void-uiwidget-parseimagestyle-const-otmlnodeptr-stylenode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseImageStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code><a class="headerlink" href="#void-uiwidget-parseimagestyle-const-otmlnodeptr-stylenode" title="Link to this heading">#</a></h1>
<p>Parsuje z wÄ™zÅ‚a OTML wszystkie atrybuty zwiÄ…zane z obrazem (<code class="docutils literal notranslate"><span class="pre">image-source</span></code>, <code class="docutils literal notranslate"><span class="pre">image-clip</span></code>, <code class="docutils literal notranslate"><span class="pre">image-color</span></code>, <code class="docutils literal notranslate"><span class="pre">image-border</span></code>, <code class="docutils literal notranslate"><span class="pre">image-shader</span></code> itp.) i wywoÅ‚uje odpowiednie settery.</p>
</section>
<section id="void-uiwidget-drawimage-const-rect-screencoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawImage(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code><a class="headerlink" href="#void-uiwidget-drawimage-const-rect-screencoords" title="Link to this heading">#</a></h1>
</section>
<section id="id1129">
<h1>Opis semantyczny<a class="headerlink" href="#id1129" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda rysujÄ…ca obraz.</p>
</section>
<section id="id1130">
<h1>DziaÅ‚anie<a class="headerlink" href="#id1130" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy tekstura obrazu istnieje.</p></li>
<li><p>JeÅ›li geometria (<code class="docutils literal notranslate"><span class="pre">screenCoords</span></code>) lub wÅ‚aÅ›ciwoÅ›ci obrazu ulegÅ‚y zmianie (<code class="docutils literal notranslate"><span class="pre">m_imageMustRecache</span></code>), przelicza i buforuje wspÃ³Å‚rzÄ™dne wierzchoÅ‚kÃ³w i tekstur w <code class="docutils literal notranslate"><span class="pre">m_imageCoordsBuffer</span></code>.</p>
<ul class="simple">
<li><p>ObsÅ‚uguje rÃ³Å¼ne tryby: proste skalowanie, zachowanie proporcji (<code class="docutils literal notranslate"><span class="pre">m_imageFixedRatio</span></code>), powtarzanie (<code class="docutils literal notranslate"><span class="pre">m_imageRepeated</span></code>) oraz zÅ‚oÅ¼one rysowanie z ramkÄ… (<code class="docutils literal notranslate"><span class="pre">m_imageBordered</span></code>), ktÃ³re dzieli obraz na 9 czÄ™Å›ci i odpowiednio je skaluje/powtarza.</p></li>
</ul>
</li>
<li><p>Dodaje zadanie rysowania do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code>. JeÅ›li zdefiniowano <code class="docutils literal notranslate"><span class="pre">m_shader</span></code>, uÅ¼ywa specjalnego <code class="docutils literal notranslate"><span class="pre">DrawQueueItemImageWithShader</span></code>.</p></li>
</ol>
</section>
<section id="void-uiwidget-setqrcode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setQRCode(...)</span></code><a class="headerlink" href="#void-uiwidget-setqrcode" title="Link to this heading">#</a></h1>
<p>Generuje obraz kodu QR, tworzy z niego teksturÄ™ i ustawia jÄ… jako <code class="docutils literal notranslate"><span class="pre">m_imageTexture</span></code>.</p>
</section>
<section id="void-uiwidget-setimagesource-const-std-string-source">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setImageSource(const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code><a class="headerlink" href="#void-uiwidget-setimagesource-const-std-string-source" title="Link to this heading">#</a></h1>
<p>Åaduje teksturÄ™ z pliku za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_textures</span></code> i ustawia jÄ… jako <code class="docutils literal notranslate"><span class="pre">m_imageTexture</span></code>. JeÅ›li wÅ‚Ä…czone jest <code class="docutils literal notranslate"><span class="pre">m_imageAutoResize</span></code>, dostosowuje rozmiar widgetu do rozmiaru obrazu.</p>
</section>
<section id="void-uiwidget-setimagesourcebase64">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setImageSourceBase64(...)</span></code><a class="headerlink" href="#void-uiwidget-setimagesourcebase64" title="Link to this heading">#</a></h1>
<p>Dekoduje obraz zakodowany w Base64, tworzy z niego teksturÄ™ i ustawia jÄ….</p>
</section>
<section id="id1131">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1131" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Plik nagÅ‚Ã³wkowy klasy, ktÃ³rÄ… implementuje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>, <code class="docutils literal notranslate"><span class="pre">image.h</span></code>, <code class="docutils literal notranslate"><span class="pre">texture.h</span></code>, <code class="docutils literal notranslate"><span class="pre">texturemanager.h</span></code>: Komponenty graficzne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/crypt.h</span></code>: Do dekodowania Base64.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uianchorlayout-h">
<h1>ğŸ“„ uianchorlayout.h<a class="headerlink" href="#uianchorlayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1132">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1132" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uianchorlayout.h</span></code> deklaruje klasy <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code>, <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code> i <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>, ktÃ³re razem implementujÄ… system layoutu oparty na â€œkotwicachâ€ (anchors).</p>
</section>
<section id="klasa-uianchor">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code><a class="headerlink" href="#klasa-uianchor" title="Link to this heading">#</a></h1>
</section>
<section id="id1133">
<h1>Opis semantyczny<a class="headerlink" href="#id1133" title="Link to this heading">#</a></h1>
<p>Reprezentuje pojedynczÄ… reguÅ‚Ä™ â€œkotwiczeniaâ€, ktÃ³ra wiÄ…Å¼e jednÄ… krawÄ™dÅº widgetu z krawÄ™dziÄ… innego widgetu (lub rodzica).</p>
<ul class="simple">
<li><p><strong>Pola</strong>: <code class="docutils literal notranslate"><span class="pre">m_anchoredEdge</span></code> (krawÄ™dÅº tego widgetu), <code class="docutils literal notranslate"><span class="pre">m_hookedWidgetId</span></code> (ID widgetu docelowego), <code class="docutils literal notranslate"><span class="pre">m_hookedEdge</span></code> (krawÄ™dÅº widgetu docelowego).</p></li>
</ul>
</section>
<section id="klasa-uianchorgroup">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code><a class="headerlink" href="#klasa-uianchorgroup" title="Link to this heading">#</a></h1>
</section>
<section id="id1134">
<h1>Opis semantyczny<a class="headerlink" href="#id1134" title="Link to this heading">#</a></h1>
<p>Kontener na wszystkie kotwice (<code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code>) przypisane do jednego widgetu. Posiada rÃ³wnieÅ¼ flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_updated</span></code> uÅ¼ywanÄ… przez algorytm layoutu.</p>
</section>
<section id="klasa-uianchorlayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code><a class="headerlink" href="#klasa-uianchorlayout" title="Link to this heading">#</a></h1>
</section>
<section id="id1135">
<h1>Opis semantyczny<a class="headerlink" href="#id1135" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code> to menedÅ¼er layoutu, ktÃ³ry pozycjonuje i skaluje swoje widgety-dzieci na podstawie zdefiniowanych dla nich reguÅ‚ kotwiczenia. Pozwala to na tworzenie elastycznych i responsywnych interfejsÃ³w, ktÃ³re dostosowujÄ… siÄ™ do zmian rozmiaru okna.</p>
</section>
<section id="id1136">
<h1>Metody publiczne<a class="headerlink" href="#id1136" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addAnchor(...)</span></code></p></td>
<td class="text-left"><p>Dodaje nowÄ… reguÅ‚Ä™ kotwiczenia dla widgetu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">removeAnchors(...)</span></code></p></td>
<td class="text-left"><p>Usuwa wszystkie kotwice z widgetu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">hasAnchors(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy widget ma jakiekolwiek kotwice.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">centerIn(...)</span></code></p></td>
<td class="text-left"><p>SkrÃ³t do dodania kotwic centrujÄ…cych widget.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">fill(...)</span></code></p></td>
<td class="text-left"><p>SkrÃ³t do dodania kotwic rozciÄ…gajÄ…cych widget na caÅ‚y obszar innego widgetu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1137">
<h1>Zmienne prywatne<a class="headerlink" href="#id1137" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_anchorsGroups</span></code>: Mapa przechowujÄ…ca <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code> dla kaÅ¼dego zarzÄ…dzanego widgetu.</p></li>
</ul>
</section>
<section id="id1138">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1138" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uilayout.h</span></code>: Klasa bazowa.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">@bindclass</span></code>.</p></li>
<li><p>Jest jednym z najczÄ™Å›ciej uÅ¼ywanych layoutÃ³w w projekcie.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uiwidgettext-cpp">
<h1>ğŸ“„ uiwidgettext.cpp<a class="headerlink" href="#uiwidgettext-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1139">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1139" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiwidgettext.cpp</span></code> zawiera implementacjÄ™ czÄ™Å›ci klasy <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> odpowiedzialnej za obsÅ‚ugÄ™ i renderowanie tekstu.</p>
<blockquote>
<div><p><strong>NOTE:</strong> To nie jest osobna klasa, lecz czÄ™Å›Ä‡ implementacji <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, wydzielona do osobnego pliku.</p>
</div></blockquote>
</section>
<section id="id1140">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czÄ™Å›Ä‡ implementacji)<a class="headerlink" href="#id1140" title="Link to this heading">#</a></h1>
</section>
<section id="void-uiwidget-inittext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initText()</span></code><a class="headerlink" href="#void-uiwidget-inittext" title="Link to this heading">#</a></h1>
<p>Inicjalizuje pola zwiÄ…zane z tekstem do wartoÅ›ci domyÅ›lnych (np. domyÅ›lny font, wyrÃ³wnanie do Å›rodka).</p>
</section>
<section id="void-uiwidget-updatetext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateText()</span></code><a class="headerlink" href="#void-uiwidget-updatetext" title="Link to this heading">#</a></h1>
<p>Metoda wywoÅ‚ywana po kaÅ¼dej zmianie tekstu lub jego wÅ‚aÅ›ciwoÅ›ci.</p>
<ol class="arabic simple">
<li><p>JeÅ›li zawijanie jest wÅ‚Ä…czone, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">m_fontâ†’wrapText()</span></code>, aby przygotowaÄ‡ tekst do wyÅ›wietlenia (<code class="docutils literal notranslate"><span class="pre">m_drawText</span></code>).</p></li>
<li><p>JeÅ›li wÅ‚Ä…czone jest <code class="docutils literal notranslate"><span class="pre">m_textAutoResize</span></code>, oblicza nowy, preferowany rozmiar widgetu na podstawie rozmiaru tekstu i go ustawia.</p></li>
<li><p>Ustawia flagÄ™ <code class="docutils literal notranslate"><span class="pre">m_textMustRecache</span></code>, aby geometria zostaÅ‚a przeliczona przy nastÄ™pnym rysowaniu.</p></li>
</ol>
</section>
<section id="void-uiwidget-parsetextstyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseTextStyle(...)</span></code><a class="headerlink" href="#void-uiwidget-parsetextstyle" title="Link to this heading">#</a></h1>
<p>Parsuje z wÄ™zÅ‚a OTML wszystkie atrybuty zwiÄ…zane z tekstem (<code class="docutils literal notranslate"><span class="pre">text</span></code>, <code class="docutils literal notranslate"><span class="pre">font</span></code>, <code class="docutils literal notranslate"><span class="pre">text-align</span></code>, <code class="docutils literal notranslate"><span class="pre">text-wrap</span></code> itp.).</p>
</section>
<section id="void-uiwidget-drawtext-const-rect-screencoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawText(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code><a class="headerlink" href="#void-uiwidget-drawtext-const-rect-screencoords" title="Link to this heading">#</a></h1>
<p>Dodaje zadanie rysowania tekstu do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code>. UÅ¼ywa <code class="docutils literal notranslate"><span class="pre">m_font</span></code> do wykonania wÅ‚aÅ›ciwej operacji rysowania, przekazujÄ…c mu tekst (<code class="docutils literal notranslate"><span class="pre">m_drawText</span></code>), obszar (<code class="docutils literal notranslate"><span class="pre">m_textCachedScreenCoords</span></code>), wyrÃ³wnanie, kolor i ewentualne informacje o wielu kolorach.</p>
</section>
<section id="void-uiwidget-ontextchange-i-onfontchange">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::onTextChange(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">onFontChange(...)</span></code><a class="headerlink" href="#void-uiwidget-ontextchange-i-onfontchange" title="Link to this heading">#</a></h1>
<p>Wirtualne metody, ktÃ³re domyÅ›lnie wywoÅ‚ujÄ… odpowiednie <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> w Lua.</p>
</section>
<section id="void-uiwidget-settext-std-string-text">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setText(std::string</span> <span class="pre">text,</span> <span class="pre">...)</span></code><a class="headerlink" href="#void-uiwidget-settext-std-string-text" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wny setter dla tekstu. JeÅ›li <code class="docutils literal notranslate"><span class="pre">m_textOnlyUpperCase</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, konwertuje tekst na wielkie litery. Aktualizuje <code class="docutils literal notranslate"><span class="pre">m_text</span></code>, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">updateText()</span></code> i <code class="docutils literal notranslate"><span class="pre">onTextChange</span></code>.</p>
</section>
<section id="void-uiwidget-setcoloredtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setColoredText(...)</span></code><a class="headerlink" href="#void-uiwidget-setcoloredtext" title="Link to this heading">#</a></h1>
<p>Setter dla tekstu wielokolorowego. Parsuje wektor stringÃ³w, budujÄ…c <code class="docutils literal notranslate"><span class="pre">m_text</span></code> i <code class="docutils literal notranslate"><span class="pre">m_textColors</span></code>.</p>
</section>
<section id="void-uiwidget-setfont">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setFont(...)</span></code><a class="headerlink" href="#void-uiwidget-setfont" title="Link to this heading">#</a></h1>
<p>Ustawia font, pobierajÄ…c go z <code class="docutils literal notranslate"><span class="pre">g_fonts</span></code>.</p>
</section>
<section id="id1141">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1141" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uitranslator.h</span></code>: Do parsowania <code class="docutils literal notranslate"><span class="pre">text-align</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/fontmanager.h</span></code>: Do pobierania fontÃ³w.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uiwidgetbasestyle-cpp">
<h1>ğŸ“„ uiwidgetbasestyle.cpp<a class="headerlink" href="#uiwidgetbasestyle-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1142">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1142" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiwidgetbasestyle.cpp</span></code> zawiera implementacjÄ™ czÄ™Å›ci klasy <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> odpowiedzialnej za podstawowy styl, czyli wÅ‚aÅ›ciwoÅ›ci wspÃ³lne dla wszystkich widgetÃ³w, takie jak tÅ‚o, ramka, ikona i ogÃ³lne atrybuty.</p>
</section>
<section id="id1143">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czÄ™Å›Ä‡ implementacji)<a class="headerlink" href="#id1143" title="Link to this heading">#</a></h1>
</section>
<section id="void-uiwidget-initbasestyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initBaseStyle()</span></code><a class="headerlink" href="#void-uiwidget-initbasestyle" title="Link to this heading">#</a></h1>
<p>Inicjalizuje podstawowe wÅ‚aÅ›ciwoÅ›ci stylu do wartoÅ›ci domyÅ›lnych (np. przezroczyste tÅ‚o, biaÅ‚y kolor, brak ramki).</p>
</section>
<section id="void-uiwidget-parsebasestyle-const-otmlnodeptr-stylenode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseBaseStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code><a class="headerlink" href="#void-uiwidget-parsebasestyle-const-otmlnodeptr-stylenode" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda parsujÄ…ca styl.</p>
<ol class="arabic simple">
<li><p>Najpierw parsuje pola i <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> Lua (<code class="docutils literal notranslate"><span class="pre">@</span></code> i <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>), aby byÅ‚y dostÄ™pne podczas parsowania innych atrybutÃ³w.</p></li>
<li><p>NastÄ™pnie parsuje wszystkie podstawowe atrybuty, takie jak <code class="docutils literal notranslate"><span class="pre">color</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">width</span></code>, <code class="docutils literal notranslate"><span class="pre">height</span></code>, <code class="docutils literal notranslate"><span class="pre">background-color</span></code>, <code class="docutils literal notranslate"><span class="pre">opacity</span></code>, <code class="docutils literal notranslate"><span class="pre">rotation</span></code>, <code class="docutils literal notranslate"><span class="pre">enabled</span></code>, <code class="docutils literal notranslate"><span class="pre">visible</span></code>, <code class="docutils literal notranslate"><span class="pre">margin</span></code>, <code class="docutils literal notranslate"><span class="pre">padding</span></code>, <code class="docutils literal notranslate"><span class="pre">border</span></code>, <code class="docutils literal notranslate"><span class="pre">icon</span></code>, etc.</p></li>
<li><p>ObsÅ‚uguje rÃ³wnieÅ¼ definicjÄ™ layoutu (<code class="docutils literal notranslate"><span class="pre">layout:</span> <span class="pre">...</span></code>) oraz deklaracje kotwic (<code class="docutils literal notranslate"><span class="pre">anchors.left:</span> <span class="pre">...</span></code>).</p></li>
</ol>
</section>
<section id="void-uiwidget-drawbackground-const-rect-screencoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawBackground(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code><a class="headerlink" href="#void-uiwidget-drawbackground-const-rect-screencoords" title="Link to this heading">#</a></h1>
<p>Dodaje do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code> zadanie narysowania prostokÄ…ta wypeÅ‚nionego kolorem <code class="docutils literal notranslate"><span class="pre">m_backgroundColor</span></code>.</p>
</section>
<section id="void-uiwidget-drawborder-const-rect-screencoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawBorder(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code><a class="headerlink" href="#void-uiwidget-drawborder-const-rect-screencoords" title="Link to this heading">#</a></h1>
<p>Dodaje do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code> zadania narysowania czterech prostokÄ…tÃ³w tworzÄ…cych ramkÄ™, kaÅ¼dy z odpowiednim kolorem i gruboÅ›ciÄ….</p>
</section>
<section id="void-uiwidget-drawicon-const-rect-screencoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawIcon(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code><a class="headerlink" href="#void-uiwidget-drawicon-const-rect-screencoords" title="Link to this heading">#</a></h1>
<p>JeÅ›li <code class="docutils literal notranslate"><span class="pre">m_icon</span></code> jest ustawiony, dodaje do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code> zadanie narysowania tekstury ikony w odpowiednim miejscu, uwzglÄ™dniajÄ…c <code class="docutils literal notranslate"><span class="pre">m_iconAlign</span></code>, <code class="docutils literal notranslate"><span class="pre">m_iconOffset</span></code> i <code class="docutils literal notranslate"><span class="pre">m_iconColor</span></code>.</p>
</section>
<section id="void-uiwidget-seticon-const-std-string-iconfile">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setIcon(const</span> <span class="pre">std::string&amp;</span> <span class="pre">iconFile)</span></code><a class="headerlink" href="#void-uiwidget-seticon-const-std-string-iconfile" title="Link to this heading">#</a></h1>
<p>Åaduje teksturÄ™ ikony za pomocÄ… <code class="docutils literal notranslate"><span class="pre">g_textures</span></code> i ustawia jej domyÅ›lny <code class="docutils literal notranslate"><span class="pre">clip-rect</span></code>.</p>
</section>
<section id="id1144">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1144" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uitranslator.h</span></code>: Do parsowania <code class="docutils literal notranslate"><span class="pre">icon-align</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texturemanager.h</span></code>: Do Å‚adowania tekstur ikon.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: PoÅ›rednio, poprzez <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code>.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="uianchorlayout-cpp">
<h1>ğŸ“„ uianchorlayout.cpp<a class="headerlink" href="#uianchorlayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1145">
<h1>Opis ogÃ³lny<a class="headerlink" href="#id1145" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uianchorlayout.cpp</span></code> zawiera implementacjÄ™ klas <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code>, <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code> i <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>, ktÃ³re razem tworzÄ… system layoutu opartego na kotwicach.</p>
</section>
<section id="id1146">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code><a class="headerlink" href="#id1146" title="Link to this heading">#</a></h1>
</section>
<section id="uiwidgetptr-uianchor-gethookedwidget">
<h1><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">UIAnchor::getHookedWidget(...)</span></code><a class="headerlink" href="#uiwidgetptr-uianchor-gethookedwidget" title="Link to this heading">#</a></h1>
<p>Znajduje widget, do ktÃ³rego dana kotwica jest â€œprzyczepionaâ€. ObsÅ‚uguje specjalne identyfikatory:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parent</span></code>: widget-rodzic.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">next</span></code>: nastÄ™pne rodzeÅ„stwo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prev</span></code>: poprzednie rodzeÅ„stwo.</p></li>
<li><p>Inne: szuka dziecka o danym ID w rodzicu.</p></li>
</ul>
</section>
<section id="int-uianchor-gethookedpoint">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">UIAnchor::getHookedPoint(...)</span></code><a class="headerlink" href="#int-uianchor-gethookedpoint" title="Link to this heading">#</a></h1>
<p>Oblicza wspÃ³Å‚rzÄ™dnÄ… (X lub Y) krawÄ™dzi widgetu, do ktÃ³rego kotwica jest przyczepiona.</p>
</section>
<section id="id1147">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code><a class="headerlink" href="#id1147" title="Link to this heading">#</a></h1>
</section>
<section id="void-uianchorgroup-addanchor">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIAnchorGroup::addAnchor(...)</span></code><a class="headerlink" href="#void-uianchorgroup-addanchor" title="Link to this heading">#</a></h1>
<p>Dodaje nowÄ… kotwicÄ™ do grupy. JeÅ›li kotwica dla tej samej krawÄ™dzi juÅ¼ istnieje, jest ona zastÄ™powana.</p>
</section>
<section id="id1148">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code><a class="headerlink" href="#id1148" title="Link to this heading">#</a></h1>
</section>
<section id="void-uianchorlayout-addanchor">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIAnchorLayout::addAnchor(...)</span></code><a class="headerlink" href="#void-uianchorlayout-addanchor" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda do tworzenia i dodawania nowej reguÅ‚y kotwiczenia. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code> i dodaje go do odpowiedniej <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code>.</p>
</section>
<section id="bool-uianchorlayout-updatewidget">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIAnchorLayout::updateWidget(...)</span></code><a class="headerlink" href="#bool-uianchorlayout-updatewidget" title="Link to this heading">#</a></h1>
</section>
<section id="id1149">
<h1>Opis semantyczny<a class="headerlink" href="#id1149" title="Link to this heading">#</a></h1>
<p>Rekurencyjna metoda, ktÃ³ra oblicza nowy <code class="docutils literal notranslate"><span class="pre">Rect</span></code> dla pojedynczego widgetu na podstawie jego kotwic.</p>
</section>
<section id="id1150">
<h1>DziaÅ‚anie<a class="headerlink" href="#id1150" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>JeÅ›li widget, do ktÃ³rego siÄ™ kotwiczymy, sam nie zostaÅ‚ jeszcze zaktualizowany, wywoÅ‚uje <code class="docutils literal notranslate"><span class="pre">updateWidget</span></code> rekurencyjnie dla niego.</p></li>
<li><p>Iteruje po wszystkich kotwicach widgetu.</p></li>
<li><p>Dla kaÅ¼dej kotwicy, oblicza docelowy punkt (<code class="docutils literal notranslate"><span class="pre">point</span></code>) na podstawie <code class="docutils literal notranslate"><span class="pre">getHookedPoint</span></code>.</p></li>
<li><p>Modyfikuje <code class="docutils literal notranslate"><span class="pre">newRect</span></code> widgetu, ustawiajÄ…c lub przesuwajÄ…c odpowiedniÄ… krawÄ™dÅº (<code class="docutils literal notranslate"><span class="pre">moveLeft</span></code>, <code class="docutils literal notranslate"><span class="pre">setRight</span></code>, <code class="docutils literal notranslate"><span class="pre">moveVerticalCenter</span></code>, itp.).</p></li>
<li><p>Po przetworzeniu wszystkich kotwic, ustawia nowy <code class="docutils literal notranslate"><span class="pre">Rect</span></code> dla widgetu.</p></li>
</ol>
</section>
<section id="bool-uianchorlayout-internalupdate">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIAnchorLayout::internalUpdate()</span></code><a class="headerlink" href="#bool-uianchorlayout-internalupdate" title="Link to this heading">#</a></h1>
<p>GÅ‚Ã³wna metoda aktualizacji layoutu.</p>
<ol class="arabic simple">
<li><p>Resetuje flagi <code class="docutils literal notranslate"><span class="pre">m_updated</span></code> we wszystkich <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code>.</p></li>
<li><p>W pÄ™tli przechodzi przez wszystkie widgety zarzÄ…dzane przez ten layout i, jeÅ›li nie zostaÅ‚y jeszcze zaktualizowane, wywoÅ‚uje dla nich <code class="docutils literal notranslate"><span class="pre">updateWidget</span></code>. PÄ™tla zapewnia, Å¼e wszystkie zaleÅ¼noÅ›ci zostanÄ… rozwiÄ…zane.</p></li>
</ol>
</section>
<section id="id1151">
<h1>ZaleÅ¼noÅ›ci i powiÄ…zania<a class="headerlink" href="#id1151" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uianchorlayout.h</span></code>: Plik nagÅ‚Ã³wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Operuje na widgetach.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="meta-dokumenty">
<h1>Meta-dokumenty<a class="headerlink" href="#meta-dokumenty" title="Link to this heading">#</a></h1>
</section>
<section id="spis-tresci">
<h1>ğŸ“‘ Spis treÅ›ci<a class="headerlink" href="#spis-tresci" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">const.h</span></code></strong>: Definicje globalnych staÅ‚ych, makr i typÃ³w wyliczeniowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></strong>: Skrypt konfiguracyjny budowania projektu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">global.h</span></code></strong>: Centralny plik nagÅ‚Ã³wkowy, agregujÄ…cy podstawowe zaleÅ¼noÅ›ci.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pch.h</span></code></strong>: Prekompilowany nagÅ‚Ã³wek ze standardowymi bibliotekami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luafunctions.cpp</span></code></strong>: Implementacja bindowaÅ„ C++ do Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">resourcemanager.h</span></code></strong>: Deklaracja menedÅ¼era zasobÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">adaptiverenderer.cpp</span></code></strong>: Implementacja renderera adaptacyjnego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">adaptiverenderer.h</span></code></strong>: Deklaracja renderera adaptacyjnego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">application.cpp</span></code></strong>: Implementacja bazowej klasy aplikacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">application.h</span></code></strong>: Deklaracja bazowej klasy aplikacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">asyncdispatcher.h</span></code></strong>: Deklaracja dyspozytora zadaÅ„ asynchronicznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">binarytree.cpp</span></code></strong>: Implementacja czytnika/writera formatu binarnego drzewa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">asyncdispatcher.cpp</span></code></strong>: Implementacja dyspozytora zadaÅ„ asynchronicznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">clock.h</span></code></strong>: Deklaracja klasy zegara.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">binarytree.h</span></code></strong>: Deklaracja klas do obsÅ‚ugi formatu binarnego drzewa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">config.cpp</span></code></strong>: Implementacja klasy do zarzÄ…dzania pojedynczÄ… konfiguracjÄ….</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">configmanager.cpp</span></code></strong>: Implementacja menedÅ¼era konfiguracji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">configmanager.h</span></code></strong>: Deklaracja menedÅ¼era konfiguracji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">config.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">clock.cpp</span></code></strong>: Implementacja klasy zegara.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">consoleapplication.h</span></code></strong>: Deklaracja aplikacji konsolowej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla moduÅ‚u <code class="docutils literal notranslate"><span class="pre">core</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">event.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Event</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">event.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Event</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">eventdispatcher.cpp</span></code></strong>: Implementacja dyspozytora zdarzeÅ„.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code></strong>: Deklaracja dyspozytora zdarzeÅ„.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">filestream.cpp</span></code></strong>: Implementacja strumienia plikowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">filestream.h</span></code></strong>: Deklaracja strumienia plikowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graphicalapplication.cpp</span></code></strong>: Implementacja aplikacji graficznej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">inputevent.h</span></code></strong>: Deklaracja struktury <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graphicalapplication.h</span></code></strong>: Deklaracja aplikacji graficznej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">logger.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Logger</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">module.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">modulemanager.cpp</span></code></strong>: Implementacja menedÅ¼era moduÅ‚Ã³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">logger.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Logger</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">module.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">modulemanager.h</span></code></strong>: Deklaracja menedÅ¼era moduÅ‚Ã³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">scheduledevent.cpp</span></code></strong>: Implementacja zdarzenia zaplanowanego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">resourcemanager.cpp</span></code></strong>: Implementacja menedÅ¼era zasobÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">scheduledevent.h</span></code></strong>: Deklaracja zdarzenia zaplanowanego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">timer.cpp</span></code></strong>: Implementacja timera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">timer.h</span></code></strong>: Deklaracja timera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">consoleapplication.cpp</span></code></strong>: Implementacja aplikacji konsolowej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shaderprogram.h</span></code></strong>: Deklaracja programu shadera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">animatedtexture.cpp</span></code></strong>: Implementacja tekstury animowanej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">animatedtexture.h</span></code></strong>: Deklaracja tekstury animowanej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">apngloader.cpp</span></code></strong>: Implementacja Å‚adowarki APNG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">apngloader.h</span></code></strong>: Deklaracja Å‚adowarki APNG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">atlas.cpp</span></code></strong>: Implementacja atlasu tekstur.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">bitmapfont.cpp</span></code></strong>: Implementacja fontu bitmapowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">atlas.h</span></code></strong>: Deklaracja atlasu tekstur.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">bitmapfont.h</span></code></strong>: Deklaracja fontu bitmapowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">cachedtext.cpp</span></code></strong>: Implementacja keszowanego tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">colorarray.h</span></code></strong>: Deklaracja tablicy kolorÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">cachedtext.h</span></code></strong>: Deklaracja keszowanego tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code></strong>: Deklaracja bufora wspÃ³Å‚rzÄ™dnych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">deptharray.h</span></code></strong>: Deklaracja tablicy gÅ‚Ä™bokoÅ›ci.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla moduÅ‚u <code class="docutils literal notranslate"><span class="pre">graphics</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">coordsbuffer.cpp</span></code></strong>: Implementacja bufora wspÃ³Å‚rzÄ™dnych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawcache.cpp</span></code></strong>: Implementacja cacheâ€™a rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawcache.h</span></code></strong>: Deklaracja cacheâ€™a rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawqueue.cpp</span></code></strong>: Implementacja kolejki rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">fontmanager.cpp</span></code></strong>: Implementacja menedÅ¼era fontÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">fontmanager.h</span></code></strong>: Deklaracja menedÅ¼era fontÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawqueue.h</span></code></strong>: Deklaracja kolejki rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framebuffer.cpp</span></code></strong>: Implementacja bufora ramki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framebuffer.h</span></code></strong>: Deklaracja bufora ramki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framebuffermanager.cpp</span></code></strong>: Implementacja menedÅ¼era buforÃ³w ramki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graph.cpp</span></code></strong>: Implementacja wykresu debugujÄ…cego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graph.h</span></code></strong>: Deklaracja wykresu debugujÄ…cego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">glutil.h</span></code></strong>: NarzÄ™dzia OpenGL.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graphics.cpp</span></code></strong>: Implementacja menedÅ¼era grafiki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graphics.h</span></code></strong>: Deklaracja menedÅ¼era grafiki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">image.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Image</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">hardwarebuffer.h</span></code></strong>: Deklaracja bufora sprzÄ™towego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">image.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Image</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framebuffermanager.h</span></code></strong>: Deklaracja menedÅ¼era buforÃ³w ramki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">painter.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">painter.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">hardwarebuffer.cpp</span></code></strong>: Implementacja bufora sprzÄ™towego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">paintershaderprogram.cpp</span></code></strong>: Implementacja programu shadera dla <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">paintershaderprogram.h</span></code></strong>: Deklaracja programu shadera dla <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shader.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Shader</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shadermanager.h</span></code></strong>: Deklaracja menedÅ¼era shaderÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shadermanager.cpp</span></code></strong>: Implementacja menedÅ¼era shaderÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shader.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Shader</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">textrender.cpp</span></code></strong>: Implementacja renderera tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shaderprogram.cpp</span></code></strong>: Implementacja programu shadera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">texture.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">texture.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">texturemanager.cpp</span></code></strong>: Implementacja menedÅ¼era tekstur.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">vertexarray.h</span></code></strong>: Deklaracja tablicy wierzchoÅ‚kÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">texturemanager.h</span></code></strong>: Deklaracja menedÅ¼era tekstur.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">textrender.h</span></code></strong>: Deklaracja renderera tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">outfits.h</span></code></strong>: Shadery dla strojÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">newshader.h</span></code></strong>: Nowe shadery.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shaders.h</span></code></strong>: Agregacja shaderÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shadersources.h</span></code></strong>: Å¹rÃ³dÅ‚a standardowych shaderÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">http.cpp</span></code></strong>: Implementacja klienta HTTP/WebSocket.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">websocket.h</span></code></strong>: Deklaracja sesji WebSocket.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">http.h</span></code></strong>: Deklaracja klienta HTTP/WebSocket.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">result.h</span></code></strong>: Deklaracja struktury <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">session.cpp</span></code></strong>: Implementacja sesji HTTP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">session.h</span></code></strong>: Deklaracja sesji HTTP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">websocket.cpp</span></code></strong>: Implementacja sesji WebSocket.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mouse.cpp</span></code></strong>: Implementacja menedÅ¼era myszy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mouse.h</span></code></strong>: Deklaracja menedÅ¼era myszy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla moduÅ‚u <code class="docutils literal notranslate"><span class="pre">luaengine</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lbitlib.cpp</span></code></strong>: Implementacja biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code> dla Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lbitlib.h</span></code></strong>: Deklaracja biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luabinder.h</span></code></strong>: Mechanizm bindowania C++ do Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaexception.h</span></code></strong>: Deklaracja wyjÄ…tkÃ³w Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaexception.cpp</span></code></strong>: Implementacja wyjÄ…tkÃ³w Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luainterface.cpp</span></code></strong>: Implementacja interfejsu Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luainterface.h</span></code></strong>: Deklaracja interfejsu Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaobject.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaobject.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luavaluecasts.cpp</span></code></strong>: Implementacja konwersji typÃ³w Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luavaluecasts.h</span></code></strong>: Deklaracja konwersji typÃ³w Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">connection.cpp</span></code></strong>: Implementacja poÅ‚Ä…czenia TCP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">server.h</span></code></strong>: Deklaracja serwera TCP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">connection.h</span></code></strong>: Deklaracja poÅ‚Ä…czenia TCP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla moduÅ‚u <code class="docutils literal notranslate"><span class="pre">net</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">inputmessage.h</span></code></strong>: Deklaracja wiadomoÅ›ci przychodzÄ…cej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">outputmessage.cpp</span></code></strong>: Implementacja wiadomoÅ›ci wychodzÄ…cej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">outputmessage.h</span></code></strong>: Deklaracja wiadomoÅ›ci wychodzÄ…cej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packet_player.cpp</span></code></strong>: Implementacja odtwarzacza pakietÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packet_player.h</span></code></strong>: Deklaracja odtwarzacza pakietÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">protocol.h</span></code></strong>: Deklaracja protokoÅ‚u sieciowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packet_recorder.cpp</span></code></strong>: Implementacja nagrywarki pakietÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">protocol.cpp</span></code></strong>: Implementacja protokoÅ‚u sieciowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">server.cpp</span></code></strong>: Implementacja serwera TCP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">inputmessage.cpp</span></code></strong>: Implementacja wiadomoÅ›ci przychodzÄ…cej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packet_recorder.h</span></code></strong>: Deklaracja nagrywarki pakietÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla moduÅ‚u <code class="docutils literal notranslate"><span class="pre">otml</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlparser.h</span></code></strong>: Deklaracja parsera OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otml.h</span></code></strong>: Agregacja nagÅ‚Ã³wkÃ³w OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmldocument.cpp</span></code></strong>: Implementacja dokumentu OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmldocument.h</span></code></strong>: Deklaracja dokumentu OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlemitter.cpp</span></code></strong>: Implementacja emittera OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlexception.cpp</span></code></strong>: Implementacja wyjÄ…tkÃ³w OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlexception.h</span></code></strong>: Deklaracja wyjÄ…tkÃ³w OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlemitter.h</span></code></strong>: Deklaracja emittera OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlparser.cpp</span></code></strong>: Implementacja parsera OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlnode.h</span></code></strong>: Deklaracja wÄ™zÅ‚a OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlnode.cpp</span></code></strong>: Implementacja wÄ™zÅ‚a OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">androidplatform.cpp</span></code></strong>: Implementacja platformy dla Androida.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">androidwindow.cpp</span></code></strong>: Implementacja okna dla Androida.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">androidwindow.h</span></code></strong>: Deklaracja okna dla Androida.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">crashhandler.h</span></code></strong>: Deklaracja obsÅ‚ugi awarii.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">platform.cpp</span></code></strong>: Implementacja globalnej instancji platformy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">platformwindow.cpp</span></code></strong>: Implementacja bazowej klasy okna.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">platform.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code></strong>: Deklaracja bazowej klasy okna.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">sdlwindow.cpp</span></code></strong>: Implementacja okna SDL (WASM).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">sdlwindow.h</span></code></strong>: Deklaracja okna SDL.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">unixcrashhandler.cpp</span></code></strong>: Implementacja obsÅ‚ugi awarii dla Uniksa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">unixplatform.cpp</span></code></strong>: Implementacja platformy dla Uniksa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">win32crashhandler.cpp</span></code></strong>: Implementacja obsÅ‚ugi awarii dla Windows.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">win32platform.cpp</span></code></strong>: Implementacja platformy dla Windows.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">win32window.cpp</span></code></strong>: Implementacja okna dla Windows.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">win32window.h</span></code></strong>: Deklaracja okna dla Windows.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">x11window.h</span></code></strong>: Deklaracja okna X11.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">x11window.cpp</span></code></strong>: Implementacja okna X11.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">proxy.cpp</span></code></strong>: Implementacja menedÅ¼era proxy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">proxy.h</span></code></strong>: Deklaracja menedÅ¼era proxy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">proxy_client.h</span></code></strong>: Deklaracja klienta proxy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">proxy_client.cpp</span></code></strong>: Implementacja klienta proxy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">combinedsoundsource.cpp</span></code></strong>: Implementacja zÅ‚oÅ¼onego ÅºrÃ³dÅ‚a dÅºwiÄ™ku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">combinedsoundsource.h</span></code></strong>: Deklaracja zÅ‚oÅ¼onego ÅºrÃ³dÅ‚a dÅºwiÄ™ku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">oggsoundfile.cpp</span></code></strong>: Implementacja pliku dÅºwiÄ™kowego OGG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla moduÅ‚u <code class="docutils literal notranslate"><span class="pre">sound</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">oggsoundfile.h</span></code></strong>: Deklaracja pliku dÅºwiÄ™kowego OGG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundbuffer.cpp</span></code></strong>: Implementacja bufora dÅºwiÄ™ku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundbuffer.h</span></code></strong>: Deklaracja bufora dÅºwiÄ™ku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundfile.cpp</span></code></strong>: Implementacja pliku dÅºwiÄ™kowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundchannel.cpp</span></code></strong>: Implementacja kanaÅ‚u dÅºwiÄ™kowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundchannel.h</span></code></strong>: Deklaracja kanaÅ‚u dÅºwiÄ™kowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundfile.h</span></code></strong>: Deklaracja pliku dÅºwiÄ™kowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundmanager.cpp</span></code></strong>: Implementacja menedÅ¼era dÅºwiÄ™ku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundmanager.h</span></code></strong>: Deklaracja menedÅ¼era dÅºwiÄ™ku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundsource.cpp</span></code></strong>: Implementacja ÅºrÃ³dÅ‚a dÅºwiÄ™ku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">streamsoundsource.cpp</span></code></strong>: Implementacja strumieniowego ÅºrÃ³dÅ‚a dÅºwiÄ™ku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">streamsoundsource.h</span></code></strong>: Deklaracja strumieniowego ÅºrÃ³dÅ‚a dÅºwiÄ™ku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundsource.h</span></code></strong>: Deklaracja ÅºrÃ³dÅ‚a dÅºwiÄ™ku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">any.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">cast.h</span></code></strong>: Funkcje do rzutowania typÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">demangle.cpp</span></code></strong>: Implementacja demanglowania nazw.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">compiler.h</span></code></strong>: Makra specyficzne dla kompilatora.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">demangle.h</span></code></strong>: Deklaracja demanglowania nazw.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">boolean.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">stdext::boolean</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">dumper.h</span></code></strong>: NarzÄ™dzie do debugowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">dynamic_storage.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">exception.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">fastrand.h</span></code></strong>: Szybki generator liczb losowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">math.cpp</span></code></strong>: Implementacja funkcji matematycznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">math.h</span></code></strong>: Deklaracja funkcji matematycznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">net.h</span></code></strong>: Deklaracja narzÄ™dzi sieciowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packed_any.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">packed_any</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shared_object.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">shared_object</span></code> i <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stdext.h</span></code></strong>: Agregacja nagÅ‚Ã³wkÃ³w <code class="docutils literal notranslate"><span class="pre">stdext</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packed_storage.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">packed_storage</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thread.h</span></code></strong>: Agregacja nagÅ‚Ã³wkÃ³w wÄ…tkÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">time.h</span></code></strong>: Deklaracja funkcji czasowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">traits.h</span></code></strong>: NarzÄ™dzia metaprogramowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">string.h</span></code></strong>: Deklaracja funkcji do stringÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">time.cpp</span></code></strong>: Implementacja funkcji czasowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uri.h</span></code></strong>: Deklaracja parsera URI.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">net.cpp</span></code></strong>: Implementacja narzÄ™dzi sieciowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uri.cpp</span></code></strong>: Implementacja parsera URI.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">types.h</span></code></strong>: Definicje typÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">format.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">stdext::format</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">string.cpp</span></code></strong>: Implementacja funkcji do stringÃ³w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla moduÅ‚u <code class="docutils literal notranslate"><span class="pre">ui</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ui.h</span></code></strong>: Agregacja nagÅ‚Ã³wkÃ³w UI.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiboxlayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiboxlayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uigridlayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uigridlayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uihorizontallayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uihorizontallayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uilayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uilayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uimanager.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uitextedit.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uimanager.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uitextedit.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uitranslator.cpp</span></code></strong>: Implementacja translatorÃ³w UI.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uitranslator.h</span></code></strong>: Deklaracja translatorÃ³w UI.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiverticallayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiverticallayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiwidget.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiwidget.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiwidgetimage.cpp</span></code></strong>: Implementacja czÄ™Å›ci <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (obraz).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uianchorlayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiwidgettext.cpp</span></code></strong>: Implementacja czÄ™Å›ci <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (tekst).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiwidgetbasestyle.cpp</span></code></strong>: Implementacja czÄ™Å›ci <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (styl).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uianchorlayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">color.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Color</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">color.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Color</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">crypt.cpp</span></code></strong>: Implementacja narzÄ™dzi kryptograficznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">databuffer.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">DataBuffer</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">crypt.h</span></code></strong>: Deklaracja narzÄ™dzi kryptograficznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">extras.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">Extras</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">extras.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">Extras</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framecounter.h</span></code></strong>: Implementacja licznika klatek.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">matrix.h</span></code></strong>: Implementacja macierzy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pngunpacker.cpp</span></code></strong>: Implementacja unpackera PNG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pngunpacker.h</span></code></strong>: Deklaracja unpackera PNG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">point.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">qrcodegen.c</span></code></strong>: Implementacja generatora kodÃ³w QR.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">qrcodegen.h</span></code></strong>: Deklaracja generatora kodÃ³w QR.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">rect.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">Rect</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">size.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">Size</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stats.cpp</span></code></strong>: Implementacja systemu statystyk.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stats.h</span></code></strong>: Deklaracja systemu statystyk.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinystr.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">TiXmlString</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinyxmlparser.cpp</span></code></strong>: Implementacja parsera TinyXML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinystr.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">TiXmlString</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinyxml.cpp</span></code></strong>: Implementacja TinyXML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinyxmlerror.cpp</span></code></strong>: BÅ‚Ä™dy TinyXML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinyxml.h</span></code></strong>: Deklaracja TinyXML.</p></li>
</ul>
</section>
<hr class="docutils"/>
<section id="indeks-funkcji-metod">
<h1>ğŸ” Indeks funkcji/metod<a class="headerlink" href="#indeks-funkcji-metod" title="Link to this heading">#</a></h1>
<p><em>W przygotowaniu</em></p>
</section>
<hr class="docutils"/>
<section id="mapa-zaleznosci">
<h1>ğŸ§­ Mapa zaleÅ¼noÅ›ci<a class="headerlink" href="#mapa-zaleznosci" title="Link to this heading">#</a></h1>
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>graph TD
    subgraph Aplikacja
        Application --dziedziczy-â†’ GraphicalApplication
        Application --dziedziczy-â†’ ConsoleApplication
        GraphicalApplication -â†’ PlatformWindow
        GraphicalApplication -â†’ UIManager
        GraphicalApplication -â†’ Graphics
        GraphicalApplication -â†’ SoundManager
    end

    subgraph Framework_Core
        Application -â†’ EventDispatcher
        Application -â†’ ModuleManager
        Application -â†’ ResourceManager
        Application -â†’ ConfigManager
        Application -â†’ Logger
        EventDispatcher -â†’ Event
        Event --dziedziczy-â†’ ScheduledEvent
        Clock &amp; Timer
    end

    subgraph Framework_UI
        UIManager -â†’ UIWidget
        UIWidget -â†’ UILayout
        UILayout --dziedziczy-â†’ UIAnchorLayout
        UILayout --dziedziczy-â†’ UIBoxLayout
        UIBoxLayout --dziedziczy-â†’ UIHorizontalLayout
        UIBoxLayout --dziedziczy-â†’ UIVerticalLayout
        UIWidget -â†’ BitmapFont
        UIWidget -â†’ Painter
    end

    subgraph Framework_Graphics
        Graphics -â†’ Painter
        Graphics -â†’ TextureManager
        Graphics -â†’ FrameBufferManager
        Graphics -â†’ ShaderManager
        Painter -â†’ ShaderProgram
        TextureManager -â†’ Texture
        Texture --dziedziczy-â†’ AnimatedTexture
        Texture -â†’ Image
    end

    subgraph Framework_Platform
        PlatformWindow --implementuje-â†’ WIN32Window
        PlatformWindow --implementuje-â†’ X11Window
        PlatformWindow --implementuje-â†’ AndroidWindow
        PlatformWindow --implementuje-â†’ SDLWindow
        Platform
    end

    subgraph Framework_Lua
        LuaInterface -â†’ LuaObject
        LuaInterface -â†’ luabinder
        UIWidget --dziedziczy-â†’ LuaObject
        Protocol --dziedziczy-â†’ LuaObject
    end

    subgraph Framework_Net
        Protocol -â†’ Connection
        Protocol -â†’ InputMessage &amp; OutputMessage
        ProxyManager -â†’ Proxy &amp; Session
        Connection &amp; Proxy &amp; Session -â†’ Boost.Asio
    end

    subgraph ZaleÅ¼noÅ›ci_ZewnÄ™trzne
        Boost.Asio
        Boost.Beast
        Boost.Process
        OpenGL/GLES/GLEW
        OpenAL
        Lua/LuaJIT
        PhysFS
        ZLIB
        OpenSSL
        TinyXML
    end

    Application -â†’ Framework_Core
    GraphicalApplication -â†’ Framework_Graphics
    GraphicalApplication -â†’ Framework_UI
    GraphicalApplication -â†’ Framework_Platform
    Application -â†’ Framework_Lua
    Application -â†’ Framework_Net

    Framework_Graphics -â†’ OpenGL/GLES/GLEW
    Framework_Net -â†’ ZaleÅ¼noÅ›ci_ZewnÄ™trzne
    ResourceManager -â†’ PhysFS
</pre></div>
</div>
</section>
<section id="architektura-systemu">
<h1>ğŸ§± Architektura systemu<a class="headerlink" href="#architektura-systemu" title="Link to this heading">#</a></h1>
<p>System <code class="docutils literal notranslate"><span class="pre">otclient</span></code> jest zbudowany w oparciu o architekturÄ™ moduÅ‚owÄ… i warstwowÄ…, ktÃ³ra oddziela rdzeÅ„ frameworka od logiki specyficznej dla klienta gry.</p>
</section>
<section id="warstwy">
<h1>Warstwy<a class="headerlink" href="#warstwy" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>Warstwa platformy (<code class="docutils literal notranslate"><span class="pre">framework/platform</span></code>)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: NajniÅ¼sza warstwa, ktÃ³ra abstrakcjonuje interakcje z systemem operacyjnym. Zawiera implementacje dla Windows (WinAPI), Linux/macOS (X11) i Android (NDK/JNI).</p></li>
<li><p><strong>Komponenty</strong>: <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (operacje na plikach, procesach), <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> (zarzÄ…dzanie oknem, wejÅ›ciem, kontekstem graficznym), <code class="docutils literal notranslate"><span class="pre">CrashHandler</span></code>.</p></li>
<li><p><strong>Cel</strong>: Zapewnienie przenoÅ›noÅ›ci kodu miÄ™dzy rÃ³Å¼nymi systemami.</p></li>
</ul>
</li>
<li><p><strong>Warstwa rozszerzeÅ„ standardowych (<code class="docutils literal notranslate"><span class="pre">framework/stdext</span></code>)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: ZbiÃ³r narzÄ™dzi i rozszerzeÅ„ do standardowej biblioteki C++, ktÃ³re sÄ… uÅ¼ywane w caÅ‚ym projekcie.</p></li>
<li><p><strong>Komponenty</strong>: <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code> (inteligentne wskaÅºniki), <code class="docutils literal notranslate"><span class="pre">cast</span></code> (bezpieczne rzutowanie typÃ³w), <code class="docutils literal notranslate"><span class="pre">format</span></code> (formatowanie stringÃ³w), <code class="docutils literal notranslate"><span class="pre">string</span></code> (narzÄ™dzia do stringÃ³w), <code class="docutils literal notranslate"><span class="pre">time</span></code> (obsÅ‚uga czasu).</p></li>
<li><p><strong>Cel</strong>: Dostarczenie spÃ³jnego i rozbudowanego zestawu narzÄ™dzi podstawowych.</p></li>
</ul>
</li>
<li><p><strong>Warstwa rdzenia frameworka (<code class="docutils literal notranslate"><span class="pre">framework/core</span></code>)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: Serce aplikacji. Implementuje gÅ‚Ã³wne pÄ™tle, system zdarzeÅ„, zarzÄ…dzanie zasobami, moduÅ‚ami i konfiguracjÄ….</p></li>
<li><p><strong>Komponenty</strong>: <code class="docutils literal notranslate"><span class="pre">Application</span></code> (i pochodne), <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>, <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>, <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>, <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>, <code class="docutils literal notranslate"><span class="pre">Logger</span></code>.</p></li>
<li><p><strong>Cel</strong>: Zapewnienie solidnej podstawy i infrastruktury dla dziaÅ‚ania aplikacji.</p></li>
</ul>
</li>
<li><p><strong>Warstwa silnikÃ³w (Framework Engines)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: ZbiÃ³r wyspecjalizowanych podsystemÃ³w (silnikÃ³w), ktÃ³re realizujÄ… kluczowe funkcjonalnoÅ›ci.</p></li>
<li><p><strong>Komponenty</strong>:</p>
<ul>
<li><p><strong>Silnik graficzny (<code class="docutils literal notranslate"><span class="pre">framework/graphics</span></code>, <code class="docutils literal notranslate"><span class="pre">framework/ui</span></code>)</strong>: <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>, <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>, <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Odpowiada za caÅ‚e renderowanie 2D i interfejs uÅ¼ytkownika.</p></li>
<li><p><strong>Silnik Lua (<code class="docutils literal notranslate"><span class="pre">framework/luaengine</span></code>)</strong>: <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, <code class="docutils literal notranslate"><span class="pre">luabinder</span></code>. Most miÄ™dzy C++ a Lua, umoÅ¼liwiajÄ…cy skryptowanie.</p></li>
<li><p><strong>Silnik sieciowy (<code class="docutils literal notranslate"><span class="pre">framework/net</span></code>, <code class="docutils literal notranslate"><span class="pre">framework/proxy</span></code>)</strong>: <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>. ObsÅ‚uguje komunikacjÄ™ z serwerem.</p></li>
<li><p><strong>Silnik dÅºwiÄ™ku (<code class="docutils literal notranslate"><span class="pre">framework/sound</span></code>)</strong>: <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>. ObsÅ‚uguje odtwarzanie dÅºwiÄ™ku.</p></li>
</ul>
</li>
<li><p><strong>Cel</strong>: Enkapsulacja zÅ‚oÅ¼onych funkcjonalnoÅ›ci w oddzielne, zarzÄ…dzalne moduÅ‚y.</p></li>
</ul>
</li>
<li><p><strong>Warstwa logiki klienta (<code class="docutils literal notranslate"><span class="pre">src/client</span></code>)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: NajwyÅ¼sza warstwa, ktÃ³ra zawiera logikÄ™ specyficznÄ… dla klienta gry Tibii. Implementuje ona mechanikÄ™ gry, renderowanie Å›wiata, postaci, przedmiotÃ³w itp.</p></li>
<li><p><strong>Komponenty</strong>: (NiezaÅ‚Ä…czone w promptcie) <code class="docutils literal notranslate"><span class="pre">Game</span></code>, <code class="docutils literal notranslate"><span class="pre">Map</span></code>, <code class="docutils literal notranslate"><span class="pre">Creature</span></code>, <code class="docutils literal notranslate"><span class="pre">Item</span></code>, <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code>.</p></li>
<li><p><strong>Cel</strong>: Implementacja wÅ‚aÅ›ciwej gry. Ta warstwa intensywnie korzysta z API dostarczanego przez niÅ¼sze warstwy frameworka.</p></li>
</ul>
</li>
<li><p><strong>Warstwa skryptowa (ModuÅ‚y Lua)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: ZewnÄ™trzna warstwa, ktÃ³ra pozwala na rozszerzanie i modyfikowanie klienta bez potrzeby rekompilacji kodu C++. Skrypty Lua majÄ… dostÄ™p do API frameworka i logiki klienta za poÅ›rednictwem bindowaÅ„.</p></li>
<li><p><strong>Komponenty</strong>: Pliki <code class="docutils literal notranslate"><span class="pre">.lua</span></code> i <code class="docutils literal notranslate"><span class="pre">.otmod</span></code> w katalogach <code class="docutils literal notranslate"><span class="pre">modules/</span></code> i <code class="docutils literal notranslate"><span class="pre">mods/</span></code>.</p></li>
<li><p><strong>Cel</strong>: UmoÅ¼liwienie tworzenia wtyczek, modyfikacji interfejsu i dodawania nowej funkcjonalnoÅ›ci.</p></li>
</ul>
</li>
</ol>
</section>
<section id="przeplyw-danych-i-interakcje">
<h1>PrzepÅ‚yw danych i interakcje<a class="headerlink" href="#przeplyw-danych-i-interakcje" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Start aplikacji</strong>: <code class="docutils literal notranslate"><span class="pre">main()</span></code> tworzy instancjÄ™ <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, ktÃ³ra inicjalizuje warstwy od doÅ‚u do gÃ³ry (Platforma â†’ RdzeÅ„ â†’ Silniki).</p></li>
<li><p><strong>GÅ‚Ã³wna pÄ™tla</strong>: <code class="docutils literal notranslate"><span class="pre">GraphicalApplication::run()</span></code> uruchamia wielowÄ…tkowÄ… pÄ™tlÄ™. WÄ…tek logiki (<code class="docutils literal notranslate"><span class="pre">worker</span></code>) aktualizuje stan gry i przygotowuje dane do rysowania. WÄ…tek renderowania (gÅ‚Ã³wny) rysuje te dane na ekranie i odbiera zdarzenia od <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>.</p></li>
<li><p><strong>Zdarzenia wejÅ›ciowe</strong>: <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> â†’ <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> â†’ <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> â†’ <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> â†’ Skrypt Lua (callback <code class="docutils literal notranslate"><span class="pre">onClick</span></code> itp.).</p></li>
<li><p><strong>Komunikacja sieciowa</strong>: Skrypt Lua (np. <code class="docutils literal notranslate"><span class="pre">g_game.login(...)</span></code>) â†’ <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code> (Lua) â†’ <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> (C++) â†’ <code class="docutils literal notranslate"><span class="pre">Connection</span></code> (C++) â†’ SieÄ‡. Pakiety przychodzÄ…ce idÄ… w odwrotnÄ… stronÄ™.</p></li>
<li><p><strong>Renderowanie</strong>: Logika klienta (C++ lub Lua) tworzy widgety i ustawia ich wÅ‚aÅ›ciwoÅ›ci â†’ <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> i <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> przygotowujÄ… <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> â†’ <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> przekazuje <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do <code class="docutils literal notranslate"><span class="pre">Painter</span></code> â†’ <code class="docutils literal notranslate"><span class="pre">Painter</span></code> wykonuje wywoÅ‚ania OpenGL.</p></li>
</ul>
</section>
</article>
<footer class="prev-next-footer d-print-none">
<div class="prev-next-area">
</div>
</footer>
</div>
<dialog id="pst-secondary-sidebar-modal"></dialog>
<div class="bd-sidebar-secondary bd-toc" id="pst-secondary-sidebar"><div class="sidebar-secondary-items sidebar-secondary__inner">
<div class="sidebar-secondary-item">
<div class="page-toc tocsection onthispage" id="pst-page-navigation-heading-2">
<i class="fa-solid fa-list"></i> On this page
  </div>
<nav aria-labelledby="pst-page-navigation-heading-2" class="bd-toc-nav page-toc">
<ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">src framework</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ponizej-znajduje-sie-kompletna-dokumentacja-techniczna-dla-repozytorium-src-framework">PoniÅ¼ej znajduje siÄ™ kompletna dokumentacja techniczna dla repozytorium, src/framework</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#opis-ogolny">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definicje-i-makra">Definicje i Makra</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#makra-matematyczne">Makra matematyczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-deg-to-rad-acos-1-180-0">define DEG_TO_RAD (acos(-1)/180.0)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-rad-to-dec-180-0-acos-1">define RAD_TO_DEC (180.0/acos(-1))</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#makra-budowania-build-macros">Makra budowania (Build Macros)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ifndef-build-commit">ifndef BUILD_COMMIT</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-commit-dev">define BUILD_COMMIT â€œdevâ€</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#endif">endif</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ifndef-build-revision">ifndef BUILD_REVISION</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-revision-0">define BUILD_REVISION 0</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">endif</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ifndef-build-type">ifndef BUILD_TYPE</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-type-unknown">define BUILD_TYPE â€œunknownâ€</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">endif</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ifndef-build-arch">ifndef BUILD_ARCH</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#if-defined-amd64-defined-m-x64">if defined(__amd64) || defined(_M_X64)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-arch-x64">define BUILD_ARCH â€œx64â€</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#elif-defined-i386-defined-m-ix86-defined-x86">elif defined(__i386) || defined(_M_IX86) || defined(<em>X86</em>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-arch-x86">define BUILD_ARCH â€œx86â€</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#else">else</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-arch-unknown">define BUILD_ARCH â€œunknownâ€</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">endif</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">endif</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-fw">Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne-globalne">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typy-wyliczeniowe-enums">Typy wyliczeniowe (Enums)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-key"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">Key</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-loglevel"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">LogLevel</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-aspectratiomode"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AspectRatioMode</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-alignmentflag"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AlignmentFlag</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-anchoredge"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AnchorEdge</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-focusreason"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">FocusReason</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-autofocuspolicy"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AutoFocusPolicy</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-inputeventtype"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">InputEventType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-mousebutton"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">MouseButton</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-mousewheeldirection"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">MouseWheelDirection</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-keyboardmodifier"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">KeyboardModifier</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-widgetstate"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">WidgetState</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-drawpane"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">DrawPane</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zaleznosci-i-powiazania">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cmakelists-txt">ğŸ“„ CMakeLists.txt</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#opcje-budowania">Opcje budowania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#flagi-frameworka">Flagi frameworka</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-projektu-pliki-zrodlowe">Struktura projektu (pliki ÅºrÃ³dÅ‚owe)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#konfiguracja-dla-webassembly-wasm">Konfiguracja dla WebAssembly (WASM)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#flagi-kompilatora">Flagi kompilatora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#global-h">ğŸ“„ global.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Definicje i Makra</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#validate-expression"><code class="docutils literal notranslate"><span class="pre">VALIDATE(expression)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pch-h">ğŸ“„ pch.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zawartosc-pliku">ZawartoÅ›Ä‡ pliku</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#standardowe-naglowki-c">Standardowe nagÅ‚Ã³wki C</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#standardowe-naglowki-stl-c">Standardowe nagÅ‚Ã³wki STL (C++)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#nowoczesne-naglowki-c-c-11-i-nowsze">Nowoczesne nagÅ‚Ã³wki C++ (C++11 i nowsze)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#biblioteka-boost">Biblioteka Boost</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luafunctions-cpp">ğŸ“„ luafunctions.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#application-registerluafunctions"><code class="docutils literal notranslate"><span class="pre">Application::registerLuaFunctions()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#opis-semantyczny">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zarejestrowane-elementy">Zarejestrowane elementy</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#konwersje-i-narzedzia-globalne">Konwersje i narzÄ™dzia globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#platform-g-platform">Platform (<code class="docutils literal notranslate"><span class="pre">g_platform</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#application-g-app">Application (<code class="docutils literal notranslate"><span class="pre">g_app</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#crypt-g-crypt">Crypt (<code class="docutils literal notranslate"><span class="pre">g_crypt</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#clock-g-clock">Clock (<code class="docutils literal notranslate"><span class="pre">g_clock</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configmanager-g-configs">ConfigManager (<code class="docutils literal notranslate"><span class="pre">g_configs</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logger-g-logger">Logger (<code class="docutils literal notranslate"><span class="pre">g_logger</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#resourcemanager-g-resources">ResourceManager (<code class="docutils literal notranslate"><span class="pre">g_resources</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ui-i-grafika-zalezne-od-fw-graphics">UI i Grafika (zaleÅ¼ne od <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#siec-zalezne-od-fw-net">SieÄ‡ (zaleÅ¼ne od <code class="docutils literal notranslate"><span class="pre">FW_NET</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dzwiek-zalezne-od-fw-sound">DÅºwiÄ™k (zaleÅ¼ne od <code class="docutils literal notranslate"><span class="pre">FW_SOUND</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#resourcemanager-h">ğŸ“„ resourcemanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-resourcemanager">Klasa <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-publiczne">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne-prywatne">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptiverenderer-cpp">ğŸ“„ adaptiverenderer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-adaptiverenderer"><code class="docutils literal notranslate"><span class="pre">g_adaptiveRenderer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-adaptiverenderer">Klasa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-newframe"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">newFrame()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dzialanie">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-refresh"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">refresh()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-limitujace">Metody limitujÄ…ce</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-getdebuginfo"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getDebugInfo()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptiverenderer-h">ğŸ“„ adaptiverenderer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">Definicje i Makra</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#constexpr-int-renderspeeds"><code class="docutils literal notranslate"><span class="pre">constexpr</span> <span class="pre">int</span> <span class="pre">RenderSpeeds</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">Klasa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#application-cpp">ğŸ“„ application.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-globalne">Funkcje globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#exitsignalhandler-int-sig"><code class="docutils literal notranslate"><span class="pre">exitSignalHandler(int</span> <span class="pre">sig)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-application">Klasa <code class="docutils literal notranslate"><span class="pre">Application</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#application-application"><code class="docutils literal notranslate"><span class="pre">Application::Application()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-init-std-vector-std-string-args"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::init(std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-deinit"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::deinit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-exit"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::exit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-quick-exit"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::quick_exit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-close"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-restart-i-void-application-restartargs-const-std-vector-std-string-args"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::restart()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::restartArgs(const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-application-getos"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Application::getOs()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#application-h">ğŸ“„ application.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">Klasa <code class="docutils literal notranslate"><span class="pre">Application</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id44">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-chronione">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne-chronione">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dolaczanie-implementacji">DoÅ‚Ä…czanie implementacji</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id45">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#asyncdispatcher-h">ğŸ“„ asyncdispatcher.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id46">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-asyncdispatcher">Klasa <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id47">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id48">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklad-uzycia-schedule">PrzykÅ‚ad uÅ¼ycia <code class="docutils literal notranslate"><span class="pre">schedule</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklad-uzycia-dispatch">PrzykÅ‚ad uÅ¼ycia <code class="docutils literal notranslate"><span class="pre">dispatch</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id49">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id50">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id51">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id52">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#binarytree-cpp">ğŸ“„ binarytree.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id53">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-binarytree">Klasa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#binarytree-binarytree-const-filestreamptr-fin"><code class="docutils literal notranslate"><span class="pre">BinaryTree::BinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-binarytree-skipnodes"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BinaryTree::skipNodes()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-binarytree-unserialize"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BinaryTree::unserialize()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id54">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#binarytreevec-binarytree-getchildren"><code class="docutils literal notranslate"><span class="pre">BinaryTreeVec</span> <span class="pre">BinaryTree::getChildren()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-odczytu-danych-getu8-getu16-getstring-etc">Metody odczytu danych (<code class="docutils literal notranslate"><span class="pre">getU8</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16</span></code>, <code class="docutils literal notranslate"><span class="pre">getString</span></code>, etc.)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-outputbinarytree">Klasa <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outputbinarytree-outputbinarytree-const-filestreamptr-fin"><code class="docutils literal notranslate"><span class="pre">OutputBinaryTree::OutputBinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-zapisu-danych-addu8-addu16-addstring-etc">Metody zapisu danych (<code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16</span></code>, <code class="docutils literal notranslate"><span class="pre">addString</span></code>, etc.)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputbinarytree-startnode-uint8-node"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::startNode(uint8</span> <span class="pre">node)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputbinarytree-endnode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::endNode()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputbinarytree-write-const-uint8-data-size-t-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::write(const</span> <span class="pre">uint8*</span> <span class="pre">data,</span> <span class="pre">size_t</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id55">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#asyncdispatcher-cpp">ğŸ“„ asyncdispatcher.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id56">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id57">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-asyncdispatcher"><code class="docutils literal notranslate"><span class="pre">g_asyncDispatcher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id58">Klasa <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-asyncdispatcher-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id59">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-asyncdispatcher-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id60">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-asyncdispatcher-spawn-thread"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::spawn_thread()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id61">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-asyncdispatcher-stop"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::stop()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id62">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-asyncdispatcher-exec-loop"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::exec_loop()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id63">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id64">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id65">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#clock-h">ğŸ“„ clock.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id66">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-clock">Klasa <code class="docutils literal notranslate"><span class="pre">Clock</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id67">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id68">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id69">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id70">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id71">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#binarytree-h">ğŸ“„ binarytree.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id72">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id73">Definicje i Makra</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#znaczniki-binarne">Znaczniki binarne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id74">Klasa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id75">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id76">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id77">Klasa <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id78">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id79">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id80">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#config-cpp">ğŸ“„ config.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id81">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-config">Klasa <code class="docutils literal notranslate"><span class="pre">Config</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#config-config"><code class="docutils literal notranslate"><span class="pre">Config::Config()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-config-load-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id82">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id83">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-config-unload"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::unload()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-config-save"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::save()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-clear"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::clear()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-setvalue-const-std-string-key-const-std-string-value"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setValue(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">value)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-setlist-const-std-string-key-const-std-vector-std-string-list"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setList(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">list)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-config-exists-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::exists(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-config-getvalue-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Config::getValue(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-vector-std-string-config-getlist-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">Config::getList(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-remove-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::remove(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-setnode-const-std-string-key-const-otmlnodeptr-node"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-mergenode-const-std-string-key-const-otmlnodeptr-node"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::mergeNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnodeptr-config-getnode-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">Config::getNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-config-getnodesize-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Config::getNodeSize(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-config-isloaded"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::isLoaded()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id84">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configmanager-cpp">ğŸ“„ configmanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id85">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id86">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-configs"><code class="docutils literal notranslate"><span class="pre">g_configs</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-configmanager">Klasa <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-configmanager-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id87">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-configmanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id88">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id89">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configptr-configmanager-getsettings"><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::getSettings()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configptr-configmanager-get-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configptr-configmanager-loadsettings-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::loadSettings(const</span> <span class="pre">std::string</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configptr-configmanager-create-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::create(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id90">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configptr-configmanager-load-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-configmanager-unload-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ConfigManager::unload(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-configmanager-remove-const-configptr-config"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::remove(const</span> <span class="pre">ConfigPtr</span> <span class="pre">config)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id91">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configmanager-h">ğŸ“„ configmanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id92">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id93">Klasa <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id94">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id95">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id96">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id97">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id98">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id99">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#config-h">ğŸ“„ config.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id100">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id101">Klasa <code class="docutils literal notranslate"><span class="pre">Config</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id102">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id103">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id104">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id105">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#clock-cpp">ğŸ“„ clock.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id106">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id107">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-clock"><code class="docutils literal notranslate"><span class="pre">g_clock</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id108">Klasa <code class="docutils literal notranslate"><span class="pre">Clock</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#clock-clock"><code class="docutils literal notranslate"><span class="pre">Clock::Clock()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-clock-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Clock::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id109">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id110">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ticks-t-clock-realmicros"><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Clock::realMicros()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ticks-t-clock-realmillis"><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Clock::realMillis()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id111">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#consoleapplication-h">ğŸ“„ consoleapplication.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id112">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-consoleapplication">Klasa <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id113">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id114">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id115">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id116">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#declarations-h">ğŸ“„ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id117">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wczesne-deklaracje-forward-declarations">Wczesne deklaracje (Forward Declarations)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definicje-typow-typedefs">Definicje typÃ³w (Typedefs)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id118">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#event-cpp">ğŸ“„ event.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id119">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-event">Klasa <code class="docutils literal notranslate"><span class="pre">Event</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#event-event-const-std-string-function-const-std-function-void-callback-bool-botsafe"><code class="docutils literal notranslate"><span class="pre">Event::Event(const</span> <span class="pre">std::string&amp;</span> <span class="pre">function,</span> <span class="pre">const</span> <span class="pre">std::function&lt;void()&gt;&amp;</span> <span class="pre">callback,</span> <span class="pre">bool</span> <span class="pre">botSafe)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#event-event"><code class="docutils literal notranslate"><span class="pre">Event::~Event()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-event-execute"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Event::execute()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id120">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id121">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-event-cancel"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Event::cancel()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id122">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id123">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id124">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#event-h">ğŸ“„ event.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id125">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id126">Klasa <code class="docutils literal notranslate"><span class="pre">Event</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id127">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id128">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id129">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id130">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#eventdispatcher-cpp">ğŸ“„ eventdispatcher.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id131">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id132">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-eventdispatcher">Klasa <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-eventdispatcher-shutdown"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">EventDispatcher::shutdown()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id133">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id134">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-eventdispatcher-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">EventDispatcher::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id135">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id136">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduledeventptr-eventdispatcher-scheduleeventex"><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">EventDispatcher::scheduleEventEx(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduledeventptr-eventdispatcher-cycleeventex"><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">EventDispatcher::cycleEventEx(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#eventptr-eventdispatcher-addeventex"><code class="docutils literal notranslate"><span class="pre">EventPtr</span> <span class="pre">EventDispatcher::addEventEx(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id137">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#eventdispatcher-h">ğŸ“„ eventdispatcher.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id138">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id139">Definicje i Makra</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#makra-pomocnicze-do-dodawania-zdarzen">Makra pomocnicze do dodawania zdarzeÅ„</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#makra-do-walidacji-watkow">Makra do walidacji wÄ…tkÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id140">Klasa <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id141">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id142">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id143">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id144">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id145">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#filestream-cpp">ğŸ“„ filestream.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id146">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-filestream">Klasa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#konstruktory">Konstruktory</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-filestream-initfromgzip-const-std-string-buffer"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">FileStream::initFromGzip(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#filestream-filestream-i-void-filestream-close"><code class="docutils literal notranslate"><span class="pre">FileStream::~FileStream()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-filestream-flush"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::flush()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-filestream-read-void-buffer-uint32-size-uint32-nmemb"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">FileStream::read(void*</span> <span class="pre">buffer,</span> <span class="pre">uint32</span> <span class="pre">size,</span> <span class="pre">uint32</span> <span class="pre">nmemb)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-filestream-write-const-void-buffer-uint32-count"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::write(const</span> <span class="pre">void</span> <span class="pre">*buffer,</span> <span class="pre">uint32</span> <span class="pre">count)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#seek-skip-size-tell-eof"><code class="docutils literal notranslate"><span class="pre">seek</span></code>, <code class="docutils literal notranslate"><span class="pre">skip</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code>, <code class="docutils literal notranslate"><span class="pre">tell</span></code>, <code class="docutils literal notranslate"><span class="pre">eof</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-odczytu-typow-getu8-getu16-getstring-etc">Metody odczytu typÃ³w (<code class="docutils literal notranslate"><span class="pre">getU8</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16</span></code>, <code class="docutils literal notranslate"><span class="pre">getString</span></code>, etc.)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#binarytreeptr-filestream-getbinarytree"><code class="docutils literal notranslate"><span class="pre">BinaryTreePtr</span> <span class="pre">FileStream::getBinaryTree()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-zapisu-typow-addu8-addu16-addstring-etc">Metody zapisu typÃ³w (<code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16</span></code>, <code class="docutils literal notranslate"><span class="pre">addString</span></code>, etc.)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-filestream-throwerror"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::throwError(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id147">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#filestream-h">ğŸ“„ filestream.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id148">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id149">Klasa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id150">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id151">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id152">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id153">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graphicalapplication-cpp">ğŸ“„ graphicalapplication.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id154">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id155">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-app"><code class="docutils literal notranslate"><span class="pre">g_app</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-graphicalapplication">Klasa <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphicalapplication-init-std-vector-std-string-args"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::init(std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id156">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id157">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphicalapplication-deinit"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::deinit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphicalapplication-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphicalapplication-run"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::run()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id158">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dzialanie-watku-logiki-worker">DziaÅ‚anie wÄ…tku logiki (<code class="docutils literal notranslate"><span class="pre">worker</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dzialanie-watku-renderowania-glownego">DziaÅ‚anie wÄ…tku renderowania (gÅ‚Ã³wnego)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphicalapplication-poll-i-void-graphicalapplication-pollgraphics"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::poll()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::pollGraphics()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inne-metody">Inne metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id159">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inputevent-h">ğŸ“„ inputevent.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id160">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-inputevent">Struktura <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id161">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pola-struktury">Pola struktury</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id162">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graphicalapplication-h">ğŸ“„ graphicalapplication.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id163">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id164">Klasa <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id165">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id166">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id167">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id168">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id169">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id170">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logger-h">ğŸ“„ logger.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id171">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-logmessage">Struktura <code class="docutils literal notranslate"><span class="pre">LogMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-logger">Klasa <code class="docutils literal notranslate"><span class="pre">Logger</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id172">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id173">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id174">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#makra-pomocnicze">Makra pomocnicze</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id175">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id176">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#module-cpp">ğŸ“„ module.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id177">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-module">Klasa <code class="docutils literal notranslate"><span class="pre">Module</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#module-module-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">Module::Module(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-module-load"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::load()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id178">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id179">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-module-unload"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Module::unload()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id180">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id181">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-module-reload"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::reload()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-module-isdependent"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::isDependent()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-module-hasdependency-const-std-string-name-bool-recursive"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::hasDependency(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">bool</span> <span class="pre">recursive)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-module-getsandbox-luainterface-lua"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Module::getSandbox(LuaInterface*</span> <span class="pre">lua)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-module-discover-const-otmlnodeptr-modulenode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Module::discover(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">moduleNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id182">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modulemanager-cpp">ğŸ“„ modulemanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id183">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id184">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-modules"><code class="docutils literal notranslate"><span class="pre">g_modules</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-modulemanager">Klasa <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-clear"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::clear()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-discovermodules"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::discoverModules()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id185">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-autoloadmodules-int-maxpriority"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::autoLoadModules(int</span> <span class="pre">maxPriority)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#moduleptr-modulemanager-discovermodule-const-std-string-modulefile"><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">ModuleManager::discoverModule(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleFile)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-ensuremoduleloaded-const-std-string-modulename"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::ensureModuleLoaded(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-unloadmodules"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::unloadModules()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-reloadmodules"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::reloadModules()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id186">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id187">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#moduleptr-modulemanager-getmodule-const-std-string-modulename"><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">ModuleManager::getModule(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-updatemoduleloadorder-moduleptr-module"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::updateModuleLoadOrder(ModulePtr</span> <span class="pre">module)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id188">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logger-cpp">ğŸ“„ logger.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id189">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id190">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-logger"><code class="docutils literal notranslate"><span class="pre">g_logger</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id191">Funkcje globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-fatalerror-const-char-error-const-char-file-int-line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">fatalError(const</span> <span class="pre">char*</span> <span class="pre">error,</span> <span class="pre">const</span> <span class="pre">char*</span> <span class="pre">file,</span> <span class="pre">int</span> <span class="pre">line)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id192">Klasa <code class="docutils literal notranslate"><span class="pre">Logger</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-logger-log-fw-loglevel-level-const-std-string-message"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::log(Fw::LogLevel</span> <span class="pre">level,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">message)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id193">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id194">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-logger-logfunc-fw-loglevel-level-const-std-string-message-std-string-prettyfunction"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::logFunc(Fw::LogLevel</span> <span class="pre">level,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">message,</span> <span class="pre">std::string</span> <span class="pre">prettyFunction)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-logger-fireoldmessages"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::fireOldMessages()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-logger-setlogfile-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::setLogFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id195">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#module-h">ğŸ“„ module.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id196">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id197">Klasa <code class="docutils literal notranslate"><span class="pre">Module</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id198">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id199">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id200">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id201">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id202">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modulemanager-h">ğŸ“„ modulemanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id203">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id204">Klasa <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id205">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id206">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id207">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id208">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id209">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id210">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduledevent-cpp">ğŸ“„ scheduledevent.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id211">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-scheduledevent">Klasa <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduledevent-scheduledevent"><code class="docutils literal notranslate"><span class="pre">ScheduledEvent::ScheduledEvent(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-scheduledevent-execute"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ScheduledEvent::execute()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id212">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id213">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-scheduledevent-nextcycle"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ScheduledEvent::nextCycle()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id214">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id215">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id216">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#resourcemanager-cpp">ğŸ“„ resourcemanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id217">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id218">Klasa <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-resourcemanager-init-const-char-argv0"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ResourceManager::init(const</span> <span class="pre">char</span> <span class="pre">*argv0)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-resourcemanager-setupwritedir"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::setupWriteDir(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-resourcemanager-setup"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::setup()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-resourcemanager-getcompactname"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::getCompactName()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-resourcemanager-loaddatafromself"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::loadDataFromSelf(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-resourcemanager-readfilecontents"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::readFileContents(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-resourcemanager-decryptbuffer-std-string-buffer"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::decryptBuffer(std::string&amp;</span> <span class="pre">buffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-resourcemanager-encryptbuffer"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::encryptBuffer(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-resourcemanager-resolvepath-std-string-path"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::resolvePath(std::string</span> <span class="pre">path)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#updatedata-i-updateexecutable"><code class="docutils literal notranslate"><span class="pre">updateData(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">updateExecutable(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#createarchive-i-decompressarchive"><code class="docutils literal notranslate"><span class="pre">createArchive(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">decompressArchive(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id219">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduledevent-h">ğŸ“„ scheduledevent.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id220">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id221">Klasa <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id222">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id223">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id224">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-lessscheduledevent">Struktura <code class="docutils literal notranslate"><span class="pre">lessScheduledEvent</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id225">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#timer-cpp">ğŸ“„ timer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id226">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-timer">Klasa <code class="docutils literal notranslate"><span class="pre">Timer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-timer-restart"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Timer::restart()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id227">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id228">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ticks-t-timer-tickselapsed"><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Timer::ticksElapsed()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id229">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id230">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id231">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#timer-h">ğŸ“„ timer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id232">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id233">Klasa <code class="docutils literal notranslate"><span class="pre">Timer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id234">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id235">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id236">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id237">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#consoleapplication-cpp">ğŸ“„ consoleapplication.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id238">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id239">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id240"><code class="docutils literal notranslate"><span class="pre">g_app</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id241">Klasa <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-consoleapplication-run"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConsoleApplication::run()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id242">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id243">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id244">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shaderprogram-h">ğŸ“„ shaderprogram.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id245">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-shaderprogram">Klasa <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id246">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id247">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id248">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id249">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#animatedtexture-cpp">ğŸ“„ animatedtexture.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id250">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-animatedtexture">Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#animatedtexture-animatedtexture"><code class="docutils literal notranslate"><span class="pre">AnimatedTexture::AnimatedTexture(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-animatedtexture-buildhardwaremipmaps"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">AnimatedTexture::buildHardwareMipmaps()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-animatedtexture-setsmooth-bool-smooth-i-void-animatedtexture-setrepeat-bool-repeat"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::setSmooth(bool</span> <span class="pre">smooth)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::setRepeat(bool</span> <span class="pre">repeat)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-animatedtexture-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id251">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id252">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id253">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#animatedtexture-h">ğŸ“„ animatedtexture.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id254">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id255">Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id256">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id257">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id258">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id259">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id260">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#apngloader-cpp">ğŸ“„ apngloader.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id261">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#load-apng-std-stringstream-file-struct-apng-data-apng"><code class="docutils literal notranslate"><span class="pre">load_apng(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">struct</span> <span class="pre">apng_data</span> <span class="pre">*apng)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id262">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id263">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#save-png-std-stringstream-f-unsigned-int-width-unsigned-int-height-int-channels-unsigned-char-pixels"><code class="docutils literal notranslate"><span class="pre">save_png(std::stringstream&amp;</span> <span class="pre">f,</span> <span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">width,</span> <span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">height,</span> <span class="pre">int</span> <span class="pre">channels,</span> <span class="pre">unsigned</span> <span class="pre">char</span> <span class="pre">*pixels)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id264">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id265">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-pomocnicze">Funkcje pomocnicze</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id266">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#apngloader-h">ğŸ“„ apngloader.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id267">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-apng-data">Struktura <code class="docutils literal notranslate"><span class="pre">apng_data</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id268">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id269">Pola struktury</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-publiczne">Funkcje publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id270">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#atlas-cpp">ğŸ“„ atlas.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id271">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id272">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-atlas"><code class="docutils literal notranslate"><span class="pre">g_atlas</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-atlas">Klasa <code class="docutils literal notranslate"><span class="pre">Atlas</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-atlas-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id273">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id274">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-atlas-reset-i-void-atlas-resetatlas-int-location"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::reset()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::resetAtlas(int</span> <span class="pre">location)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-atlas-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#point-atlas-cache-uint64-t-hash-const-size-size-bool-draw"><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">Atlas::cache(uint64_t</span> <span class="pre">hash,</span> <span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">bool&amp;</span> <span class="pre">draw)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id275">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id276">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-atlas-bind-i-void-atlas-release"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::release()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#point-atlas-cachefont-const-textureptr-fonttexture"><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">Atlas::cacheFont(const</span> <span class="pre">TexturePtr&amp;</span> <span class="pre">fontTexture)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-atlas-calculateindex-const-size-size"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Atlas::calculateIndex(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-atlas-findspace-int-location-int-index"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Atlas::findSpace(int</span> <span class="pre">location,</span> <span class="pre">int</span> <span class="pre">index)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-atlas-getstats"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Atlas::getStats()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id277">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bitmapfont-cpp">ğŸ“„ bitmapfont.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id278">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-bitmapfont">Klasa <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-bitmapfont-load-const-otmlnodeptr-fontnode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::load(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">fontNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id279">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id280">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-bitmapfont-drawtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::drawText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-bitmapfont-calculatedrawtextcoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::calculateDrawTextCoords(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#const-std-vector-point-bitmapfont-calculateglyphspositions"><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::vector&lt;Point&gt;&amp;</span> <span class="pre">BitmapFont::calculateGlyphsPositions(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#size-bitmapfont-calculatetextrectsize-const-std-string-text"><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">BitmapFont::calculateTextRectSize(const</span> <span class="pre">std::string&amp;</span> <span class="pre">text)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-bitmapfont-wraptext"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">BitmapFont::wrapText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-bitmapfont-calculateglyphswidthsautomatically"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::calculateGlyphsWidthsAutomatically(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id281">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#atlas-h">ğŸ“„ atlas.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id282">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id283">Klasa <code class="docutils literal notranslate"><span class="pre">Atlas</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id284">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id285">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id286">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id287">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id288">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bitmapfont-h">ğŸ“„ bitmapfont.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id289">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id290">Klasa <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id291">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id292">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id293">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id294">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cachedtext-cpp">ğŸ“„ cachedtext.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id295">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-cachedtext">Klasa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cachedtext-cachedtext"><code class="docutils literal notranslate"><span class="pre">CachedText::CachedText()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-cachedtext-draw-const-rect-rect-const-color-color"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">rect,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id296">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id297">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-cachedtext-setcoloredtext-const-std-vector-std-string-texts"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::setColoredText(const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">texts)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-cachedtext-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-cachedtext-wraptext-int-maxwidth"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::wrapText(int</span> <span class="pre">maxWidth)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id298">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#colorarray-h">ğŸ“„ colorarray.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id299">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-colorarray">Klasa <code class="docutils literal notranslate"><span class="pre">ColorArray</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id300">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id301">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id302">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id303">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cachedtext-h">ğŸ“„ cachedtext.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id304">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id305">Klasa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id306">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id307">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id308">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id309">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#coordsbuffer-h">ğŸ“„ coordsbuffer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id310">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-coordsbuffer">Klasa <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id311">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id312">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id313">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id314">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deptharray-h">ğŸ“„ deptharray.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id315">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-deptharray">Klasa <code class="docutils literal notranslate"><span class="pre">DepthArray</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id316">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id317">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id318">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id319">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id320">ğŸ“„ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id321">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id322">Wczesne deklaracje (Forward Declarations)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id323">Definicje typÃ³w (Typedefs)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id324">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#coordsbuffer-cpp">ğŸ“„ coordsbuffer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id325">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id326">Klasa <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#coordsbuffer-coordsbuffer"><code class="docutils literal notranslate"><span class="pre">CoordsBuffer::CoordsBuffer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-coordsbuffer-addboudingrect-const-rect-dest-int-innerlinewidth"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::addBoudingRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">int</span> <span class="pre">innerLineWidth)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-coordsbuffer-addrepeatedrects-const-rect-dest-const-rect-src"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::addRepeatedRects(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">src)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-coordsbuffer-unlock-bool-clear"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::unlock(bool</span> <span class="pre">clear)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rect-coordsbuffer-gettexturerect"><code class="docutils literal notranslate"><span class="pre">Rect</span> <span class="pre">CoordsBuffer::getTextureRect()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id327">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#drawcache-cpp">ğŸ“„ drawcache.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id328">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id329">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-drawcache"><code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-drawcache">Klasa <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawcache-draw"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::draw()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id330">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id331">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawcache-bind-i-void-drawcache-release"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::release()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-dodawania-do-bufora">Metody dodawania do bufora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-pomocnicze-addrectraw-addcolorraw">Metody pomocnicze (<code class="docutils literal notranslate"><span class="pre">addRectRaw</span></code>, <code class="docutils literal notranslate"><span class="pre">addColorRaw</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id332">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#drawcache-h">ğŸ“„ drawcache.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id333">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id334">Klasa <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id335">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stale">StaÅ‚e</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id336">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id337">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id338">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id339">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#drawqueue-cpp">ğŸ“„ drawqueue.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id340">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id341">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-drawqueue"><code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasy-drawqueueitem-implementacje">Klasy <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> (implementacje)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklady-implementacji">PrzykÅ‚ady implementacji:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-drawqueue">Klasa <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawqueue-setframebuffer"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::setFrameBuffer(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawqueue-addtext-i-void-drawqueue-addcoloredtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::addText(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::addColoredText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawqueue-correctoutfit"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::correctOutfit(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawqueue-draw-drawtype-drawtype"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::draw(DrawType</span> <span class="pre">drawType)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id342">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id343">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id344">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fontmanager-cpp">ğŸ“„ fontmanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id345">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id346">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-fonts"><code class="docutils literal notranslate"><span class="pre">g_fonts</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-fontmanager">Klasa <code class="docutils literal notranslate"><span class="pre">FontManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fontmanager-fontmanager"><code class="docutils literal notranslate"><span class="pre">FontManager::FontManager()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-fontmanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-fontmanager-clearfonts"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::clearFonts()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-fontmanager-importfont-std-string-file"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::importFont(std::string</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id347">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id348">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-fontmanager-fontexists-const-std-string-fontname"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">FontManager::fontExists(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fontName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bitmapfontptr-fontmanager-getfont-const-std-string-fontname"><code class="docutils literal notranslate"><span class="pre">BitmapFontPtr</span> <span class="pre">FontManager::getFont(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fontName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id349">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#drawqueue-h">ğŸ“„ drawqueue.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id350">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typ-wyliczeniowy-drawtype">Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">DrawType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hierarchia-klas-drawqueueitem">Hierarchia klas <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struct-drawqueueitem-baza"><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">DrawQueueItem</span></code> (baza)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasy-pochodne">Klasy pochodne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hierarchia-klas-drawqueuecondition">Hierarchia klas <code class="docutils literal notranslate"><span class="pre">DrawQueueCondition</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struct-drawqueuecondition-baza"><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">DrawQueueCondition</span></code> (baza)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id351">Klasy pochodne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id352">Klasa <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id353">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id354">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffer-cpp">ğŸ“„ framebuffer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id355">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id356">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint-framebuffer-boundfbo"><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">FrameBuffer::boundFbo</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-framebuffer">Klasa <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffer-framebuffer-bool-withdepth"><code class="docutils literal notranslate"><span class="pre">FrameBuffer::FrameBuffer(bool</span> <span class="pre">withDepth)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffer-framebuffer"><code class="docutils literal notranslate"><span class="pre">FrameBuffer::~FrameBuffer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffer-resize-const-size-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id357">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id358">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffer-bind-const-framebufferptr-depthframebuffer"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::bind(const</span> <span class="pre">FrameBufferPtr&amp;</span> <span class="pre">depthFramebuffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffer-release"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::release()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffer-draw"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::draw(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffer-doscreenshot-std-string-filename"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::doScreenshot(std::string</span> <span class="pre">fileName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-internal">Metody <code class="docutils literal notranslate"><span class="pre">internal...</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id359">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffer-h">ğŸ“„ framebuffer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id360">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id361">Klasa <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id362">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id363">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id364">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id365">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffermanager-cpp">ğŸ“„ framebuffermanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id366">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id367">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-framebuffers"><code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-framebuffermanager">Klasa <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffermanager-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBufferManager::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id368">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffermanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBufferManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebufferptr-framebuffermanager-createframebuffer-bool-withdepth"><code class="docutils literal notranslate"><span class="pre">FrameBufferPtr</span> <span class="pre">FrameBufferManager::createFrameBuffer(bool</span> <span class="pre">withDepth)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id369">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id370">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id371">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graph-cpp">ğŸ“„ graph.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id372">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id373">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-graphs-graph-last-1"><code class="docutils literal notranslate"><span class="pre">g_graphs[GRAPH_LAST</span> <span class="pre">+</span> <span class="pre">1]</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-graph">Klasa <code class="docutils literal notranslate"><span class="pre">Graph</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graph-graph-const-std-string-name-size-t-capacity"><code class="docutils literal notranslate"><span class="pre">Graph::Graph(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">size_t</span> <span class="pre">capacity)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graph-draw-const-rect-dest"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id374">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id375">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graph-clear"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::clear()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graph-addvalue-int-value-bool-ignoresmallvalues"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::addValue(int</span> <span class="pre">value,</span> <span class="pre">bool</span> <span class="pre">ignoreSmallValues)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id376">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id377">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id378">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graph-h">ğŸ“„ graph.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id379">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typ-wyliczeniowy-graphtype">Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">GraphType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id380">Klasa <code class="docutils literal notranslate"><span class="pre">Graph</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id381">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id382">StaÅ‚e</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id383">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id384">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id385">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id386">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glutil-h">ğŸ“„ glutil.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id387">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logika-warunkowego-dolaczania">Logika warunkowego doÅ‚Ä…czania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id388">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graphics-cpp">ğŸ“„ graphics.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id389">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id390">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-graphics"><code class="docutils literal notranslate"><span class="pre">g_graphics</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-graphics">Klasa <code class="docutils literal notranslate"><span class="pre">Graphics</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graphics-graphics"><code class="docutils literal notranslate"><span class="pre">Graphics::Graphics()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphics-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id391">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id392">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphics-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphics-resize-const-size-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphics-checkforerror"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::checkForError(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id393">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graphics-h">ğŸ“„ graphics.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id394">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id395">Klasa <code class="docutils literal notranslate"><span class="pre">Graphics</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id396">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id397">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id398">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id399">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id400">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-cpp">ğŸ“„ image.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id401">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-image">Klasa <code class="docutils literal notranslate"><span class="pre">Image</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-image-const-size-size-int-bpp-uint8-pixels"><code class="docutils literal notranslate"><span class="pre">Image::Image(const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">int</span> <span class="pre">bpp,</span> <span class="pre">uint8</span> <span class="pre">*pixels)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#imageptr-image-load-std-string-file"><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::load(std::string</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#imageptr-image-loadpng"><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::loadPNG(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-image-savepng-const-std-string-filename"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::savePNG(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-image-blit-const-point-dest-const-imageptr-other"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::blit(const</span> <span class="pre">Point&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">other)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-image-paste-const-imageptr-other"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::paste(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">other)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#imageptr-image-upscale"><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::upscale()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-image-nextmipmap"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Image::nextMipmap()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#imageptr-image-fromqrcode-const-std-string-code-int-border"><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::fromQRCode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">code,</span> <span class="pre">int</span> <span class="pre">border)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id402">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hardwarebuffer-h">ğŸ“„ hardwarebuffer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id403">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-hardwarebuffer">Klasa <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id404">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id405">Typy wyliczeniowe (Enums)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id406">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id407">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id408">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-h">ğŸ“„ image.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id409">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id410">Klasa <code class="docutils literal notranslate"><span class="pre">Image</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id411">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id412">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id413">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id414">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffermanager-h">ğŸ“„ framebuffermanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id415">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id416">Klasa <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id417">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id418">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id419">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id420">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id421">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#painter-h">ğŸ“„ painter.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id422">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-painter">Klasa <code class="docutils literal notranslate"><span class="pre">Painter</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id423">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id424">Typy wyliczeniowe (Enums)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-painterstate">Struktura <code class="docutils literal notranslate"><span class="pre">PainterState</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id425">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne-chronione-prywatne">Zmienne chronione/prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id426">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id427">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#painter-cpp">ğŸ“„ painter.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id428">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id429">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-painter"><code class="docutils literal notranslate"><span class="pre">g_painter</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id430">Klasa <code class="docutils literal notranslate"><span class="pre">Painter</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#painter-painter"><code class="docutils literal notranslate"><span class="pre">Painter::Painter()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-bind-i-void-painter-unbind"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::unbind()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-resetstate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::resetState()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-savestate-i-void-painter-restoresavedstate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::saveState()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::restoreSavedState()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-updategl">Metody <code class="docutils literal notranslate"><span class="pre">updateGl...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-setresolution-const-size-resolution"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::setResolution(const</span> <span class="pre">Size&amp;</span> <span class="pre">resolution)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-drawcoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::drawCoords(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-draw-rect-i-draw-coords">Metody <code class="docutils literal notranslate"><span class="pre">draw...Rect(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">draw...Coords(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-drawcache"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::drawCache(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id431">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hardwarebuffer-cpp">ğŸ“„ hardwarebuffer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id432">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id433">Klasa <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hardwarebuffer-hardwarebuffer-type-type"><code class="docutils literal notranslate"><span class="pre">HardwareBuffer::HardwareBuffer(Type</span> <span class="pre">type)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hardwarebuffer-hardwarebuffer"><code class="docutils literal notranslate"><span class="pre">HardwareBuffer::~HardwareBuffer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id434">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#paintershaderprogram-cpp">ğŸ“„ paintershaderprogram.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id435">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-paintershaderprogram">Klasa <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#paintershaderprogram-paintershaderprogram-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">PainterShaderProgram::PainterShaderProgram(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-paintershaderprogram-setupuniforms"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::setupUniforms()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id436">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-paintershaderprogram-link"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">PainterShaderProgram::link()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-set">Metody <code class="docutils literal notranslate"><span class="pre">set...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-paintershaderprogram-updatetime"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::updateTime()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-paintershaderprogram-addmultitexture-i-void-paintershaderprogram-bindmultitextures"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::addMultiTexture(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::bindMultiTextures()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id437">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#paintershaderprogram-h">ğŸ“„ paintershaderprogram.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id438">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id439">Klasa <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id440">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id441">Typy wyliczeniowe (Enums)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id442">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id443">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id444">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-cpp">ğŸ“„ shader.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id445">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-shader">Klasa <code class="docutils literal notranslate"><span class="pre">Shader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-shader-shader-shadertype-shadertype"><code class="docutils literal notranslate"><span class="pre">Shader::Shader(Shader::ShaderType</span> <span class="pre">shaderType)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-shader"><code class="docutils literal notranslate"><span class="pre">Shader::~Shader()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shader-compilesourcecode-const-std-string-sourcecode"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Shader::compileSourceCode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">sourceCode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id446">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id447">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shader-compilesourcefile-const-std-string-sourcefile"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Shader::compileSourceFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">sourceFile)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-shader-log"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Shader::log()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id448">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shadermanager-h">ğŸ“„ shadermanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id449">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-shadermanager">Klasa <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id450">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id451">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id452">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id453">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id454">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shadermanager-cpp">ğŸ“„ shadermanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id455">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id456">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-shaders"><code class="docutils literal notranslate"><span class="pre">g_shaders</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id457">Klasa <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-shadermanager-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-shadermanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-shadermanager-createshader-const-std-string-name-std-string-vertex-std-string-fragment-bool-colormatrix"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::createShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">std::string</span> <span class="pre">vertex,</span> <span class="pre">std::string</span> <span class="pre">fragment,</span> <span class="pre">bool</span> <span class="pre">colorMatrix)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id458">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id459">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-shadermanager-addtexture-const-std-string-name-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::addTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#paintershaderprogramptr-shadermanager-getshader-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span> <span class="pre">ShaderManager::getShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id460">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-h">ğŸ“„ shader.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id461">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id462">Klasa <code class="docutils literal notranslate"><span class="pre">Shader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id463">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typ-wyliczeniowy-shadertype">Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">ShaderType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id464">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id465">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id466">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#textrender-cpp">ğŸ“„ textrender.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id467">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id468">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-text"><code class="docutils literal notranslate"><span class="pre">g_text</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-textrender">Klasa <code class="docutils literal notranslate"><span class="pre">TextRender</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id469">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-textrender-init-i-void-textrender-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-textrender-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint64-t-textrender-addtext"><code class="docutils literal notranslate"><span class="pre">uint64_t</span> <span class="pre">TextRender::addText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-textrender-drawtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-textrender-drawtext-const-point-pos-uint64-t-hash"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawText(const</span> <span class="pre">Point&amp;</span> <span class="pre">pos,</span> <span class="pre">uint64_t</span> <span class="pre">hash,</span> <span class="pre">...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-textrender-drawcoloredtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawColoredText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id470">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shaderprogram-cpp">ğŸ“„ shaderprogram.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id471">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id472">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint-shaderprogram-m-currentprogram"><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">ShaderProgram::m_currentProgram</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id473">Klasa <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shaderprogram-shaderprogram-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">ShaderProgram::ShaderProgram(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shaderprogram-shaderprogram"><code class="docutils literal notranslate"><span class="pre">ShaderProgram::~ShaderProgram()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#paintershaderprogramptr-shaderprogram-create"><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span> <span class="pre">ShaderProgram::create(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id474">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shaderprogram-addshader"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::addShader(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shaderprogram-addshaderfromsourcecode-i-addshaderfromsourcefile"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::addShaderFromSourceCode(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">addShaderFromSourceFile(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shaderprogram-link"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::link()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id475">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id476">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shaderprogram-bind"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::bind()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-shaderprogram-release"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderProgram::release()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-location-i-set-value">Metody <code class="docutils literal notranslate"><span class="pre">...Location(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">set...Value(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id477">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texture-cpp">ğŸ“„ texture.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id478">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id479">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint-texture-uniqueid"><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">Texture::uniqueId</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-texture">Klasa <code class="docutils literal notranslate"><span class="pre">Texture</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texture-texture"><code class="docutils literal notranslate"><span class="pre">Texture::Texture(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id480"><code class="docutils literal notranslate"><span class="pre">Texture::~Texture()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texture-replace-const-imageptr-image"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::replace(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">image)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texture-resize-const-size-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texture-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id481">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id482">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texture-setsmooth-bool-smooth-i-void-texture-setrepeat-bool-repeat"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::setSmooth(bool</span> <span class="pre">smooth)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::setRepeat(bool</span> <span class="pre">repeat)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-setup">Metody <code class="docutils literal notranslate"><span class="pre">setup...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id483">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texture-h">ğŸ“„ texture.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id484">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id485">Klasa <code class="docutils literal notranslate"><span class="pre">Texture</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id486">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id487">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id488">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id489">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texturemanager-cpp">ğŸ“„ texturemanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id490">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id491">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-textures"><code class="docutils literal notranslate"><span class="pre">g_textures</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-texturemanager">Klasa <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texturemanager-init-i-void-texturemanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texturemanager-clearcache"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::clearCache()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texturemanager-reload"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::reload()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#textureptr-texturemanager-gettexture-const-std-string-filename"><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">TextureManager::getTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id492">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id493">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#textureptr-texturemanager-loadtexture-std-stringstream-file-const-std-string-source"><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">TextureManager::loadTexture(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id494">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#vertexarray-h">ğŸ“„ vertexarray.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id495">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-vertexarray">Klasa <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id496">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id497">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id498">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id499">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texturemanager-h">ğŸ“„ texturemanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id500">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id501">Klasa <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id502">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id503">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id504">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id505">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#textrender-h">ğŸ“„ textrender.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id506">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-textrendercache">Struktura <code class="docutils literal notranslate"><span class="pre">TextRenderCache</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id507">Klasa <code class="docutils literal notranslate"><span class="pre">TextRender</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id508">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id509">StaÅ‚e</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id510">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id511">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id512">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id513">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outfits-h">ğŸ“„ outfits.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id514">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shadery">Shadery</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glsladvancedoutfitvertexshader"><code class="docutils literal notranslate"><span class="pre">glslAdvancedOutfitVertexShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#opis">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id515">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glsladvancedoutfitfragmentshader"><code class="docutils literal notranslate"><span class="pre">glslAdvancedOutfitFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id516">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id517">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id518">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#newshader-h">ğŸ“„ newshader.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id519">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id520">Shadery</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#newvertexshader"><code class="docutils literal notranslate"><span class="pre">newVertexShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id521">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id522">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#newfragmentshader"><code class="docutils literal notranslate"><span class="pre">newFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id523">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id524">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#textvertexshader-i-textfragmentshader"><code class="docutils literal notranslate"><span class="pre">textVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">textFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#linevertexshader-i-linefragmentshader"><code class="docutils literal notranslate"><span class="pre">lineVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">lineFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id525">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shaders-h">ğŸ“„ shaders.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id526">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zawartosc">ZawartoÅ›Ä‡</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id527">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shadersources-h">ğŸ“„ shadersources.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id528">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id529">Shadery</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glslmainvertexshader-i-glslmainwithtexcoordsvertexshader"><code class="docutils literal notranslate"><span class="pre">glslMainVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">glslMainWithTexCoordsVertexShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glslpositiononlyvertexshader"><code class="docutils literal notranslate"><span class="pre">glslPositionOnlyVertexShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glslmainfragmentshader"><code class="docutils literal notranslate"><span class="pre">glslMainFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glsltexturesrcfragmentshader"><code class="docutils literal notranslate"><span class="pre">glslTextureSrcFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glslsolidcolorfragmentshader"><code class="docutils literal notranslate"><span class="pre">glslSolidColorFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glslsolidcolorontexturefragmentshader"><code class="docutils literal notranslate"><span class="pre">glslSolidColorOnTextureFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glsloutfitvertexshader-i-glsloutfitfragmentshader"><code class="docutils literal notranslate"><span class="pre">glslOutfitVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">glslOutfitFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id530">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#http-cpp">ğŸ“„ http.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id531">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id532">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-http"><code class="docutils literal notranslate"><span class="pre">g_http</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-http">Klasa <code class="docutils literal notranslate"><span class="pre">Http</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-http-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Http::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-http-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Http::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-http-get-const-std-string-url-int-timeout"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url,</span> <span class="pre">int</span> <span class="pre">timeout)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id533">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id534">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-http-post"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::post(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-http-download"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::download(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-http-ws"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::ws(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-http-wssend-int-operationid-std-string-message"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Http::wsSend(int</span> <span class="pre">operationId,</span> <span class="pre">std::string</span> <span class="pre">message)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-http-cancel-int-id"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Http::cancel(int</span> <span class="pre">id)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id535">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#websocket-h">ğŸ“„ websocket.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id536">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typy-wyliczeniowe-i-definicje">Typy wyliczeniowe i definicje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-websocketsession">Klasa <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id537">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id538">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id539">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-prywatne-on">Metody prywatne (<code class="docutils literal notranslate"><span class="pre">on_...</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id540">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#http-h">ğŸ“„ http.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id541">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id542">Klasa <code class="docutils literal notranslate"><span class="pre">Http</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id543">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id544">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id545">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id546">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id547">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#result-h">ğŸ“„ result.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id548">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-httpresult">Struktura <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id549">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id550">Pola struktury</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definicje-typow">Definicje typÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id551">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#session-cpp">ğŸ“„ session.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id552">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-httpsession">Klasa <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-httpsession-start"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">HttpSession::start()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id553">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id554">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-on">Metody <code class="docutils literal notranslate"><span class="pre">on_...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-httpsession-close"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">HttpSession::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id555">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#session-h">ğŸ“„ session.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id556">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id557">Klasa <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id558">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id559">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id560">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-prywatne-on-close-onerror">Metody prywatne (<code class="docutils literal notranslate"><span class="pre">on_...</span></code>, <code class="docutils literal notranslate"><span class="pre">close</span></code>, <code class="docutils literal notranslate"><span class="pre">onError</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id561">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#websocket-cpp">ğŸ“„ websocket.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id562">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id563">Klasa <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-websocketsession-start"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::start()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id564">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id565">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-websocketsession-send-std-string-data"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::send(std::string</span> <span class="pre">data)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id566">Metody <code class="docutils literal notranslate"><span class="pre">on_...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-websocketsession-close"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id567">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mouse-cpp">ğŸ“„ mouse.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id568">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id569">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-mouse"><code class="docutils literal notranslate"><span class="pre">g_mouse</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-mouse">Klasa <code class="docutils literal notranslate"><span class="pre">Mouse</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-mouse-init-i-void-mouse-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-mouse-loadcursors-std-string-filename"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::loadCursors(std::string</span> <span class="pre">filename)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-mouse-addcursor-const-std-string-name-const-std-string-file-const-point-hotspot"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::addCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">file,</span> <span class="pre">const</span> <span class="pre">Point&amp;</span> <span class="pre">hotSpot)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id570">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id571">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-mouse-pushcursor-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::pushCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id572">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id573">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-mouse-popcursor-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::popCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id574">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id575">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-mouse-iscursorchanged"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Mouse::isCursorChanged()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-mouse-ispressed-fw-mousebutton-mousebutton"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Mouse::isPressed(Fw::MouseButton</span> <span class="pre">mouseButton)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id576">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mouse-h">ğŸ“„ mouse.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id577">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id578">Klasa <code class="docutils literal notranslate"><span class="pre">Mouse</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id579">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id580">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id581">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id582">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id583">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id584">ğŸ“„ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id585">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wczesne-deklaracje">Wczesne deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id586">Definicje typÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id587">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lbitlib-cpp">ğŸ“„ lbitlib.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id588">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id589">ZawartoÅ›Ä‡</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-biblioteki-bit32">Funkcje biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-luaopen-bit32-lua-state-l"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">luaopen_bit32</span> <span class="pre">(lua_State</span> <span class="pre">*L)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id590">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lbitlib-h">ğŸ“„ lbitlib.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id591">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deklaracje">Deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id592"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">luaopen_bit32</span> <span class="pre">(lua_State</span> <span class="pre">*L)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id593">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luabinder-h">ğŸ“„ luabinder.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id594">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-luabinder">Namespace <code class="docutils literal notranslate"><span class="pre">luabinder</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id595">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glowne-szablony">GÅ‚Ã³wne szablony</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id596">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaexception-h">ğŸ“„ luaexception.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id597">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-luaexception">Klasa <code class="docutils literal notranslate"><span class="pre">LuaException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id598">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id599">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-luabadnumberofargumentsexception">Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id600">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id601">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-luabadvaluecastexception">Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id602">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id603">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id604">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaexception-cpp">ğŸ“„ luaexception.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id605">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id606">Klasa <code class="docutils literal notranslate"><span class="pre">LuaException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaexception-luaexception-const-std-string-error-int-tracelevel"><code class="docutils literal notranslate"><span class="pre">LuaException::LuaException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">traceLevel)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaexception-generateluaerrormessage-const-std-string-error-int-tracelevel"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaException::generateLuaErrorMessage(const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">traceLevel)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id607">Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luabadnumberofargumentsexception-luabadnumberofargumentsexception-int-expected-int-got"><code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException::LuaBadNumberOfArgumentsException(int</span> <span class="pre">expected,</span> <span class="pre">int</span> <span class="pre">got)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id608">Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luabadvaluecastexception-luabadvaluecastexception-const-std-string-luatypename-const-std-string-cpptypename"><code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException::LuaBadValueCastException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">luaTypeName,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">cppTypeName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id609">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luainterface-cpp">ğŸ“„ luainterface.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id610">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id611">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-lua"><code class="docutils literal notranslate"><span class="pre">g_lua</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-luainterface">Klasa <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inicjalizacja-i-zamykanie">Inicjalizacja i zamykanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rejestracja-i-bindowanie">Rejestracja i bindowanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-obslugi-metametod-obiektow">Metody obsÅ‚ugi metametod obiektÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wykonywanie-skryptow">Wykonywanie skryptÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inne">Inne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id612">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luainterface-h">ğŸ“„ luainterface.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id613">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id614">Klasa <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id615">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-publiczne-wybrane">Metody publiczne (wybrane)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inicjalizacja-i-zarzadzanie">Inicjalizacja i zarzÄ…dzanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id616">Rejestracja i bindowanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id617">Wykonywanie skryptÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulacja-stosem-i-typami">Manipulacja stosem i typami</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id618">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dolaczane-pliki">DoÅ‚Ä…czane pliki</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id619">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaobject-cpp">ğŸ“„ luaobject.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id620">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-luaobject">Klasa <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaobject-luaobject"><code class="docutils literal notranslate"><span class="pre">LuaObject::LuaObject()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id621"><code class="docutils literal notranslate"><span class="pre">LuaObject::~LuaObject()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-luaobject-hasluafield-const-std-string-field"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">LuaObject::hasLuaField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">field)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaobject-releaseluafieldstable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::releaseLuaFieldsTable()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaobject-luasetfield-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaSetField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id622">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id623">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaobject-luagetfield-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaobject-luagetmetatable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetMetatable()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaobject-luagetfieldstable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetFieldsTable()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-luaobject-getusecount"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">LuaObject::getUseCount()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-luaobject-getclassname"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">LuaObject::getClassName()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id624">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaobject-h">ğŸ“„ luaobject.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id625">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id626">Klasa <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id627">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id628">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id629">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-globalne-connect">Funkcje globalne (<code class="docutils literal notranslate"><span class="pre">connect</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id630">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luavaluecasts-cpp">ğŸ“„ luavaluecasts.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id631">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-push-luavalue">Funkcje <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id632">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#implementacje">Implementacje:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-luavalue-cast">Funkcje <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id633">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id634">Implementacje:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id635">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luavaluecasts-h">ğŸ“„ luavaluecasts.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id636">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#szablony-i-funkcje">Szablony i funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#push-luavalue-t-const-t-v"><code class="docutils literal notranslate"><span class="pre">push_luavalue&lt;T&gt;(const</span> <span class="pre">T&amp;</span> <span class="pre">v)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id637">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luavalue-cast-t-int-index-t-v"><code class="docutils literal notranslate"><span class="pre">luavalue_cast&lt;T&gt;(int</span> <span class="pre">index,</span> <span class="pre">T&amp;</span> <span class="pre">v)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id638">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zadeklarowane-specjalizacje">Zadeklarowane specjalizacje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklad-dzialania">PrzykÅ‚ad dziaÅ‚ania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id639">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#connection-cpp">ğŸ“„ connection.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id640">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id641">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-connection">Klasa <code class="docutils literal notranslate"><span class="pre">Connection</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#connection-connection"><code class="docutils literal notranslate"><span class="pre">Connection::Connection()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-connection-poll-i-void-connection-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::poll()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-connection-close"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-connection-connect"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::connect(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-connection-write-uint8-buffer-size-t-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::write(uint8*</span> <span class="pre">buffer,</span> <span class="pre">size_t</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-read-read-until-read-some">Metody <code class="docutils literal notranslate"><span class="pre">read(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">read_until(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">read_some(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id642">Metody <code class="docutils literal notranslate"><span class="pre">on...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-connection-handleerror"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::handleError(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id643">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#server-h">ğŸ“„ server.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id644">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-server">Klasa <code class="docutils literal notranslate"><span class="pre">Server</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id645">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id646">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id647">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id648">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#connection-h">ğŸ“„ connection.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id649">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id650">Klasa <code class="docutils literal notranslate"><span class="pre">Connection</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id651">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id652">StaÅ‚e</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id653">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id654">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id655">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id656">ğŸ“„ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id657">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id658">Deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-asio"><code class="docutils literal notranslate"><span class="pre">namespace</span> <span class="pre">asio</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wczesne-deklaracje-klas">Wczesne deklaracje klas</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id659">Definicje typÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id660">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inputmessage-h">ğŸ“„ inputmessage.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id661">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-inputmessage">Klasa <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id662">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id663">StaÅ‚e</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id664">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-chronione-uzywane-przez-protocol">Metody chronione (uÅ¼ywane przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id665">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id666">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outputmessage-cpp">ğŸ“„ outputmessage.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id667">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-outputmessage">Klasa <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outputmessage-outputmessage"><code class="docutils literal notranslate"><span class="pre">OutputMessage::OutputMessage()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputmessage-reset"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::reset()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputmessage-setbuffer-const-std-string-buffer"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::setBuffer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-add">Metody <code class="docutils literal notranslate"><span class="pre">add...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputmessage-encryptrsa"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::encryptRsa()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-write">Metody <code class="docutils literal notranslate"><span class="pre">write...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputmessage-checkwrite-int-bytes"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::checkWrite(int</span> <span class="pre">bytes)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id668">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outputmessage-h">ğŸ“„ outputmessage.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id669">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id670">Klasa <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id671">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id672">StaÅ‚e</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id673">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id674">Metody chronione (uÅ¼ywane przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id675">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id676">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packet-player-cpp">ğŸ“„ packet_player.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id677">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-packetplayer">Klasa <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packetplayer-packetplayer-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">PacketPlayer::PacketPlayer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packetplayer-packetplayer"><code class="docutils literal notranslate"><span class="pre">PacketPlayer::~PacketPlayer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetplayer-start"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::start(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetplayer-stop"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::stop()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetplayer-onoutputpacket-const-outputmessageptr-packet"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::onOutputPacket(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">packet)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetplayer-process"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::process()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id678">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id679">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id680">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packet-player-h">ğŸ“„ packet_player.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id681">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id682">Klasa <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id683">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id684">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id685">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id686">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocol-h">ğŸ“„ protocol.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id687">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-protocol">Klasa <code class="docutils literal notranslate"><span class="pre">Protocol</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id688">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id689">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id690">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne">Zmienne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id691">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packet-recorder-cpp">ğŸ“„ packet_recorder.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id692">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-packetrecorder">Klasa <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packetrecorder-packetrecorder-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">PacketRecorder::PacketRecorder(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetrecorder-addinputpacket-const-inputmessageptr-packet"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketRecorder::addInputPacket(const</span> <span class="pre">InputMessagePtr&amp;</span> <span class="pre">packet)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetrecorder-addoutputpacket-const-outputmessageptr-packet"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketRecorder::addOutputPacket(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">packet)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id693">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocol-cpp">ğŸ“„ protocol.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id694">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id695">Klasa <code class="docutils literal notranslate"><span class="pre">Protocol</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocol-protocol"><code class="docutils literal notranslate"><span class="pre">Protocol::Protocol()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-connect-const-std-string-host-uint16-port"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::connect(const</span> <span class="pre">std::string&amp;</span> <span class="pre">host,</span> <span class="pre">uint16</span> <span class="pre">port)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-disconnect"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::disconnect()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-send-const-outputmessageptr-outputmessage-bool-rawpacket"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::send(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">outputMessage,</span> <span class="pre">bool</span> <span class="pre">rawPacket)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id696">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id697">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-recv"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::recv()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-internalrecvheader-i-internalrecvdata"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::internalRecvHeader(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">internalRecvData(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-generatexteakey-i-setxteakey"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::generateXteaKey()</span></code> i <code class="docutils literal notranslate"><span class="pre">setXteaKey(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-protocol-xteadecrypt-i-void-protocol-xteaencrypt"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Protocol::xteaDecrypt(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::xteaEncrypt(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-onconnect-onrecv-onerror"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::onConnect()</span></code>, <code class="docutils literal notranslate"><span class="pre">onRecv(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">onError(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id698">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#server-cpp">ğŸ“„ server.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id699">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id700">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-ioservice"><code class="docutils literal notranslate"><span class="pre">g_ioService</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id701">Klasa <code class="docutils literal notranslate"><span class="pre">Server</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#server-server-int-port"><code class="docutils literal notranslate"><span class="pre">Server::Server(int</span> <span class="pre">port)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#serverptr-server-create-int-port"><code class="docutils literal notranslate"><span class="pre">ServerPtr</span> <span class="pre">Server::create(int</span> <span class="pre">port)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-server-close"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Server::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-server-acceptnext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Server::acceptNext()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id702">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id703">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id704">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inputmessage-cpp">ğŸ“„ inputmessage.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id705">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id706">Klasa <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inputmessage-inputmessage"><code class="docutils literal notranslate"><span class="pre">InputMessage::InputMessage()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-inputmessage-reset"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::reset()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-inputmessage-setbuffer-const-std-string-buffer"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::setBuffer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-get">Metody <code class="docutils literal notranslate"><span class="pre">get...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-inputmessage-decryptrsa-int-size"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">InputMessage::decryptRsa(int</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-inputmessage-fillbuffer"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::fillBuffer(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-inputmessage-setheadersize-uint32-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::setHeaderSize(uint32</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-inputmessage-readchecksum"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">InputMessage::readChecksum()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-inputmessage-checkread-int-bytes"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::checkRead(int</span> <span class="pre">bytes)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id707">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packet-recorder-h">ğŸ“„ packet_recorder.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id708">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id709">Klasa <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id710">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id711">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id712">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id713">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id714">ğŸ“„ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id715">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id716">Wczesne deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id717">Definicje typÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id718">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlparser-h">ğŸ“„ otmlparser.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id719">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-otmlparser">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id720">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id721">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-prywatne">Metody prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id722">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id723">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otml-h">ğŸ“„ otml.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id724">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id725">ZawartoÅ›Ä‡</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id726">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocument-cpp">ğŸ“„ otmldocument.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id727">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-otmldocument">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocumentptr-otmldocument-create"><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::create()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocumentptr-otmldocument-parse-const-std-string-filename"><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parse(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocumentptr-otmldocument-parsestring-const-std-string-data-const-std-string-source"><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parseString(const</span> <span class="pre">std::string&amp;</span> <span class="pre">data,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocumentptr-otmldocument-parse-std-istream-in-const-std-string-source"><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parse(std::istream&amp;</span> <span class="pre">in,</span> <span class="pre">const</span> <span class="pre">std::::string&amp;</span> <span class="pre">source)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-otmldocument-emit"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">OTMLDocument::emit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-otmldocument-save-const-std-string-filename"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLDocument::save(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id728">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocument-h">ğŸ“„ otmldocument.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id729">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id730">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id731">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-publiczne-statyczne">Metody publiczne (statyczne)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-publiczne-instancji">Metody publiczne (instancji)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id732">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlemitter-cpp">ğŸ“„ otmlemitter.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id733">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-otmlemitter">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-otmlemitter-emitnode-const-otmlnodeptr-node-int-currentdepth"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">OTMLEmitter::emitNode(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node,</span> <span class="pre">int</span> <span class="pre">currentDepth)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id734">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id735">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id736">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlexception-cpp">ğŸ“„ otmlexception.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id737">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-otmlexception">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id738">Konstruktory</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id739">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id740">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlexception-h">ğŸ“„ otmlexception.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id741">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id742">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id743">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id744">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id745">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id746">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlemitter-h">ğŸ“„ otmlemitter.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id747">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id748">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id749">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id750">Metody publiczne (statyczne)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id751">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlparser-cpp">ğŸ“„ otmlparser.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id752">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id753">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlparser-otmlparser"><code class="docutils literal notranslate"><span class="pre">OTMLParser::OTMLParser(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlparser-parse"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parse()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-otmlparser-getlinedepth"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">OTMLParser::getLineDepth(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlparser-parseline-std-string-line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parseLine(std::string</span> <span class="pre">line)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlparser-parsenode-const-std-string-data"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parseNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">data)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id754">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnode-h">ğŸ“„ otmlnode.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id755">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-otmlnode">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id756">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id757">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id758">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id759">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnode-cpp">ğŸ“„ otmlnode.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id760">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id761">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnodeptr-otmlnode-create"><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::create(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-otmlnode-haschildren"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLNode::hasChildren()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnodeptr-otmlnode-get-const-std-string-childtag"><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">childTag)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlnode-addchild-const-otmlnodeptr-newchild"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::addChild(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">newChild)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-otmlnode-removechild"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLNode::removeChild(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlnode-copy-const-otmlnodeptr-node"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::copy(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlnode-merge-const-otmlnodeptr-node"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::merge(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnodelist-otmlnode-children"><code class="docutils literal notranslate"><span class="pre">OTMLNodeList</span> <span class="pre">OTMLNode::children()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnodeptr-otmlnode-clone"><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::clone()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id762">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#androidplatform-cpp">ğŸ“„ androidplatform.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id763">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-platform-implementacja-dla-androida">Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Androida)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id764">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#androidwindow-cpp">ğŸ“„ androidwindow.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id765">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id766">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-androidwindow"><code class="docutils literal notranslate"><span class="pre">g_androidWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-androidwindow">Klasa <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#androidwindow-androidwindow"><code class="docutils literal notranslate"><span class="pre">AndroidWindow::AndroidWindow()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-internalinitgl-i-internaldestroygl"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::internalInitGL()</span></code> i <code class="docutils literal notranslate"><span class="pre">internalDestroyGL()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-init-struct-android-app-app"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::init(struct</span> <span class="pre">android_app*</span> <span class="pre">app)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-swapbuffers"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::swapBuffers()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-handlecmd-int32-t-cmd"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::handleCmd(int32_t</span> <span class="pre">cmd)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-androidwindow-handleinput-ainputevent-event"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">AndroidWindow::handleInput(AInputEvent*</span> <span class="pre">event)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-showtexteditor"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::showTextEditor(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-openurl-std-string-url"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::openUrl(std::string</span> <span class="pre">url)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-jniexport-committext">Funkcja <code class="docutils literal notranslate"><span class="pre">JNIEXPORT</span> <span class="pre">...</span> <span class="pre">commitText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id767">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#androidwindow-h">ğŸ“„ androidwindow.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id768">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id769">Klasa <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id770">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id771">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id772">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id773">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id774">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#crashhandler-h">ğŸ“„ crashhandler.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id775">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id776">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-installcrashhandler"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uninstallcrashhandler"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dyrektywa-preprocesora">Dyrektywa preprocesora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id777">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#platform-cpp">ğŸ“„ platform.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id778">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id779">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-platform"><code class="docutils literal notranslate"><span class="pre">g_platform</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id780">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#platformwindow-cpp">ğŸ“„ platformwindow.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id781">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id782">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-window"><code class="docutils literal notranslate"><span class="pre">g_window</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-platformwindow">Klasa <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-platformwindow-loadmousecursor"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">PlatformWindow::loadMouseCursor(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-platformwindow-updateunmaximizedcoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::updateUnmaximizedCoords()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-platformwindow-processkeydown-fw-key-keycode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::processKeyDown(Fw::Key</span> <span class="pre">keyCode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-platformwindow-processkeyup-fw-key-keycode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::processKeyUp(Fw::Key</span> <span class="pre">keyCode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-platformwindow-releaseallkeys"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::releaseAllKeys()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-platformwindow-firekeyspress"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::fireKeysPress()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id783">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#platform-h">ğŸ“„ platform.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id784">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-platform">Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id785">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id786">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id787">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id788">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#platformwindow-h">ğŸ“„ platformwindow.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id789">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id790">Klasa <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id791">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-czysto-wirtualne-do-implementacji-przez-klasy-pochodne">Metody czysto wirtualne (do implementacji przez klasy pochodne)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-z-implementacja">Metody z implementacjÄ…</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id792">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id793">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id794">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sdlwindow-cpp">ğŸ“„ sdlwindow.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id795">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-sdlwindow">Klasa <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sdlwindow-sdlwindow"><code class="docutils literal notranslate"><span class="pre">SDLWindow::SDLWindow()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-sdlwindow-getplatformtype"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">SDLWindow::getPlatformType()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id796">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sdlwindow-h">ğŸ“„ sdlwindow.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id797">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id798">Klasa <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id799">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id800">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id801">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id802">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#unixcrashhandler-cpp">ğŸ“„ unixcrashhandler.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id803">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id804">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-crashhandler-int-signum-siginfo-t-info-void-secret"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">crashHandler(int</span> <span class="pre">signum,</span> <span class="pre">siginfo_t*</span> <span class="pre">info,</span> <span class="pre">void*</span> <span class="pre">secret)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id805">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id806">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id807"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id808"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id809">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#unixplatform-cpp">ğŸ“„ unixplatform.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id810">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-platform-implementacja-dla-uniksa">Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Uniksa)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id811">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#win32crashhandler-cpp">ğŸ“„ win32crashhandler.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id812">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id813">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#const-char-getexceptionname-dword-exceptioncode"><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*getExceptionName(DWORD</span> <span class="pre">exceptionCode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-stacktrace-lpexception-pointers-e-std-stringstream-ss"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Stacktrace(LPEXCEPTION_POINTERS</span> <span class="pre">e,</span> <span class="pre">std::stringstream&amp;</span> <span class="pre">ss)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#long-callback-exceptionhandler-pexception-pointers-e"><code class="docutils literal notranslate"><span class="pre">LONG</span> <span class="pre">CALLBACK</span> <span class="pre">ExceptionHandler(PEXCEPTION_POINTERS</span> <span class="pre">e)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#long-winapi-unhandledexceptionfilter2-pexception-pointers-exception"><code class="docutils literal notranslate"><span class="pre">LONG</span> <span class="pre">WINAPI</span> <span class="pre">UnhandledExceptionFilter2(PEXCEPTION_POINTERS</span> <span class="pre">exception)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id814"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id815"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id816">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#win32platform-cpp">ğŸ“„ win32platform.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id817">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-platform-implementacja-dla-windows">Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Windows)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id818">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#win32window-cpp">ğŸ“„ win32window.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id819">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-win32window">Klasa <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#win32window-win32window"><code class="docutils literal notranslate"><span class="pre">WIN32Window::WIN32Window()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-win32window-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-win32window-internalcreateglcontext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::internalCreateGLContext()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lresult-win32window-windowproc"><code class="docutils literal notranslate"><span class="pre">LRESULT</span> <span class="pre">WIN32Window::windowProc(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lresult-win32window-dispatcherwindowproc"><code class="docutils literal notranslate"><span class="pre">LRESULT</span> <span class="pre">WIN32Window::dispatcherWindowProc(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-win32window-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-win32window-swapbuffers"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::swapBuffers()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-win32window-setverticalsync-bool-enable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::setVerticalSync(bool</span> <span class="pre">enable)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id820">Inne metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id821">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#win32window-h">ğŸ“„ win32window.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id822">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id823">Klasa <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id824">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-prywatne-i-chronione">Metody prywatne i chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id825">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id826">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#x11window-h">ğŸ“„ x11window.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id827">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-x11window">Klasa <code class="docutils literal notranslate"><span class="pre">X11Window</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id828">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id829">Metody prywatne i chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id830">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id831">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#x11window-cpp">ğŸ“„ x11window.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id832">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id833">Klasa <code class="docutils literal notranslate"><span class="pre">X11Window</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#x11window-x11window"><code class="docutils literal notranslate"><span class="pre">X11Window::X11Window()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-internalcreatewindow"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::internalCreateWindow()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-swapbuffers"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::swapBuffers()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-setfullscreen-bool-fullscreen"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::setFullscreen(bool</span> <span class="pre">fullscreen)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-setclipboardtext-i-getclipboardtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::setClipboardText(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">getClipboardText()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id834">Inne metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id835">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#proxy-cpp">ğŸ“„ proxy.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id836">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id837">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-proxy"><code class="docutils literal notranslate"><span class="pre">g_proxy</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-proxymanager">Klasa <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-init-i-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-clear"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::clear()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-proxymanager-isactive"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ProxyManager::isActive()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-addproxy"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::addProxy(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-removeproxy"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::removeProxy(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint32-t-proxymanager-addsession"><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">ProxyManager::addSession(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-removesession"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::removeSession(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-send"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::send(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-proxymanager-getping"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ProxyManager::getPing()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id838">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#proxy-h">ğŸ“„ proxy.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id839">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id840">Klasa <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id841">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id842">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id843">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id844">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id845">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#proxy-client-h">ğŸ“„ proxy_client.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id846">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id847">Definicje typÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-proxy">Klasa <code class="docutils literal notranslate"><span class="pre">Proxy</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id848">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stale-i-typy-wyliczeniowe">StaÅ‚e i typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id849">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-session">Klasa <code class="docutils literal notranslate"><span class="pre">Session</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id850">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id851">StaÅ‚e</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id852">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id853">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#proxy-client-cpp">ğŸ“„ proxy_client.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id854">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id855">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-proxy-implementacja">Klasa <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> (implementacja)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-check"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::check(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-connect"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::connect()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-disconnect"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::disconnect()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-ping"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::ping()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-onping-uint32-t-packetid"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::onPing(uint32_t</span> <span class="pre">packetId)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-readheader-i-onheader"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::readHeader()</span></code> i <code class="docutils literal notranslate"><span class="pre">onHeader(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-onpacket"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::onPacket(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-send"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::send(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-session-implementacja">Klasa <code class="docutils literal notranslate"><span class="pre">Session</span></code> (implementacja)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-start-int-maxconnections"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::start(int</span> <span class="pre">maxConnections)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::terminate(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-check"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::check(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-selectproxies"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::selectProxies()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-onproxypacket"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::onProxyPacket(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-onpacket"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::onPacket(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#combinedsoundsource-cpp">ğŸ“„ combinedsoundsource.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id856">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-combinedsoundsource">Klasa <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id857">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#combinedsoundsource-combinedsoundsource"><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource::CombinedSoundSource()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-combinedsoundsource-addsource-const-soundsourceptr-source"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CombinedSoundSource::addSource(const</span> <span class="pre">SoundSourcePtr&amp;</span> <span class="pre">source)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-operacyjne-play-stop-setlooping-setgain-etc">Metody operacyjne (<code class="docutils literal notranslate"><span class="pre">play</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code>, <code class="docutils literal notranslate"><span class="pre">setLooping</span></code>, <code class="docutils literal notranslate"><span class="pre">setGain</span></code>, etc.)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-sprawdzajace-stan-isbuffering-isplaying">Metody sprawdzajÄ…ce stan (<code class="docutils literal notranslate"><span class="pre">isBuffering</span></code>, <code class="docutils literal notranslate"><span class="pre">isPlaying</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-combinedsoundsource-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CombinedSoundSource::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id858">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#combinedsoundsource-h">ğŸ“„ combinedsoundsource.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id859">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id860">Klasa <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id861">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id862">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id863">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id864">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id865">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#oggsoundfile-cpp">ğŸ“„ oggsoundfile.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id866">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-oggsoundfile">Klasa <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#oggsoundfile-oggsoundfile-const-filestreamptr-filestream"><code class="docutils literal notranslate"><span class="pre">OggSoundFile::OggSoundFile(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fileStream)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#oggsoundfile-oggsoundfile"><code class="docutils literal notranslate"><span class="pre">OggSoundFile::~OggSoundFile()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-oggsoundfile-prepareogg"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OggSoundFile::prepareOgg()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id867">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id868">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-oggsoundfile-read-void-buffer-int-buffersize"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">OggSoundFile::read(void</span> <span class="pre">*buffer,</span> <span class="pre">int</span> <span class="pre">bufferSize)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-oggsoundfile-reset"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OggSoundFile::reset()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#statyczne-metody-cb">Statyczne metody <code class="docutils literal notranslate"><span class="pre">cb_...</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id869">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id870">ğŸ“„ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id871">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id872">Wczesne deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id873">Definicje typÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dolaczanie-naglowkow-openal">DoÅ‚Ä…czanie nagÅ‚Ã³wkÃ³w OpenAL</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id874">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#oggsoundfile-h">ğŸ“„ oggsoundfile.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id875">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id876">Klasa <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id877">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id878">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-prywatne-statyczne">Metody prywatne (statyczne)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id879">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id880">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundbuffer-cpp">ğŸ“„ soundbuffer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id881">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-soundbuffer">Klasa <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id882">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundbuffer-soundbuffer"><code class="docutils literal notranslate"><span class="pre">SoundBuffer::SoundBuffer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id883"><code class="docutils literal notranslate"><span class="pre">SoundBuffer::~SoundBuffer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-soundbuffer-fillbuffer-const-soundfileptr-soundfile"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundBuffer::fillBuffer(const</span> <span class="pre">SoundFilePtr&amp;</span> <span class="pre">soundFile)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-soundbuffer-fillbuffer-alenum-sampleformat-const-databuffer-char-data-int-size-int-rate"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundBuffer::fillBuffer(ALenum</span> <span class="pre">sampleFormat,</span> <span class="pre">const</span> <span class="pre">DataBuffer&lt;char&gt;&amp;</span> <span class="pre">data,</span> <span class="pre">int</span> <span class="pre">size,</span> <span class="pre">int</span> <span class="pre">rate)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id884">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundbuffer-h">ğŸ“„ soundbuffer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id885">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id886">Klasa <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id887">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id888">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id889">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id890">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundfile-cpp">ğŸ“„ soundfile.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id891">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-soundfile">Klasa <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundfile-soundfile-const-filestreamptr-filestream"><code class="docutils literal notranslate"><span class="pre">SoundFile::SoundFile(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fileStream)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundfileptr-soundfile-loadsoundfile-const-std-string-filename"><code class="docutils literal notranslate"><span class="pre">SoundFilePtr</span> <span class="pre">SoundFile::loadSoundFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">filename)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id892">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id893">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#alenum-soundfile-getsampleformat"><code class="docutils literal notranslate"><span class="pre">ALenum</span> <span class="pre">SoundFile::getSampleFormat()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id894">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundchannel-cpp">ğŸ“„ soundchannel.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id895">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-soundchannel">Klasa <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsourceptr-soundchannel-play"><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundChannel::play(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundchannel-stop-float-fadetime"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::stop(float</span> <span class="pre">fadetime)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundchannel-enqueue"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::enqueue(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundchannel-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundchannel-setenabled-bool-enable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::setEnabled(bool</span> <span class="pre">enable)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundchannel-setgain-float-gain"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::setGain(float</span> <span class="pre">gain)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id896">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundchannel-h">ğŸ“„ soundchannel.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id897">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id898">Klasa <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id899">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id900">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id901">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id902">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id903">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundfile-h">ğŸ“„ soundfile.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id904">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id905">Klasa <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id906">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id907">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id908">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id909">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundmanager-cpp">ğŸ“„ soundmanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id910">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id911">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-sounds"><code class="docutils literal notranslate"><span class="pre">g_sounds</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-soundmanager">Klasa <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-setaudioenabled-bool-enable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::setAudioEnabled(bool</span> <span class="pre">enable)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-preload-std-string-filename"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::preload(std::string</span> <span class="pre">filename)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsourceptr-soundmanager-play"><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundManager::play(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundchannelptr-soundmanager-getchannel-int-channel"><code class="docutils literal notranslate"><span class="pre">SoundChannelPtr</span> <span class="pre">SoundManager::getChannel(int</span> <span class="pre">channel)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsourceptr-soundmanager-createsoundsource"><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundManager::createSoundSource(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-ensurecontext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::ensureContext()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id912">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundmanager-h">ğŸ“„ soundmanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id913">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id914">Klasa <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id915">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id916">StaÅ‚e</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id917">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id918">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id919">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id920">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsource-cpp">ğŸ“„ soundsource.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id921">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-soundsource">Klasa <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsource-soundsource"><code class="docutils literal notranslate"><span class="pre">SoundSource::SoundSource()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id922"><code class="docutils literal notranslate"><span class="pre">SoundSource::~SoundSource()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundsource-play"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::play()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundsource-stop"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::stop()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-soundsource-isbuffering"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundSource::isBuffering()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id923">Metody <code class="docutils literal notranslate"><span class="pre">set...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundsource-setfading"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::setFading(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundsource-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id924">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#streamsoundsource-cpp">ğŸ“„ streamsoundsource.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id925">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-streamsoundsource">Klasa <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id926">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#streamsoundsource-streamsoundsource"><code class="docutils literal notranslate"><span class="pre">StreamSoundSource::StreamSoundSource()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-streamsoundsource-setsoundfile"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::setSoundFile(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-streamsoundsource-play"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::play()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-streamsoundsource-stop"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::stop()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-streamsoundsource-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-streamsoundsource-fillbufferandqueue-uint-buffer"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">StreamSoundSource::fillBufferAndQueue(uint</span> <span class="pre">buffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id927">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#streamsoundsource-h">ğŸ“„ streamsoundsource.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id928">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id929">Klasa <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id930">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id931">StaÅ‚e</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typ-wyliczeniowy-downmix">Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">DownMix</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id932">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id933">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id934">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsource-h">ğŸ“„ soundsource.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id935">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id936">Klasa <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id937">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typ-wyliczeniowy-fadestate">Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">FadeState</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id938">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id939">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id940">Zmienne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id941">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#any-h">ğŸ“„ any.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id942">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-any">Klasa <code class="docutils literal notranslate"><span class="pre">any</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id943">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktury-wewnetrzne">Struktury wewnÄ™trzne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id944">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-any-cast">Funkcja <code class="docutils literal notranslate"><span class="pre">any_cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id945">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cast-h">ğŸ“„ cast.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id946">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-cast">Funkcje <code class="docutils literal notranslate"><span class="pre">cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#template-typename-t-typename-r-bool-cast-const-t-in-r-out"><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T,</span> <span class="pre">typename</span> <span class="pre">R&gt;</span> <span class="pre">bool</span> <span class="pre">cast(const</span> <span class="pre">T&amp;</span> <span class="pre">in,</span> <span class="pre">R&amp;</span> <span class="pre">out)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#specjalizacje">Specjalizacje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-cast-exception">Klasa <code class="docutils literal notranslate"><span class="pre">cast_exception</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-safe-cast-i-unsafe-cast">Funkcje <code class="docutils literal notranslate"><span class="pre">safe_cast</span></code> i <code class="docutils literal notranslate"><span class="pre">unsafe_cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id947">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#demangle-cpp">ğŸ“„ demangle.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id948">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-demangle-name">Funkcja <code class="docutils literal notranslate"><span class="pre">demangle_name</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#const-char-demangle-name-const-char-name"><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span> <span class="pre">demangle_name(const</span> <span class="pre">char*</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id949">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#implementacja">Implementacja</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id950">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#compiler-h">ğŸ“„ compiler.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id951">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id952">ZawartoÅ›Ä‡</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#build-compiler"><code class="docutils literal notranslate"><span class="pre">BUILD_COMPILER</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sprawdzanie-wersji-kompilatora">Sprawdzanie wersji kompilatora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wylaczanie-ostrzezen-msvc">WyÅ‚Ä…czanie ostrzeÅ¼eÅ„ (MSVC)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pretty-function"><code class="docutils literal notranslate"><span class="pre">__PRETTY_FUNCTION__</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#likely-x-i-unlikely-x"><code class="docutils literal notranslate"><span class="pre">likely(x)</span></code> i <code class="docutils literal notranslate"><span class="pre">unlikely(x)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sprawdzanie-wsparcia-c-0x">Sprawdzanie wsparcia C++0x</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id953">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#demangle-h">ğŸ“„ demangle.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id954">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-stdext">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id955">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id956">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#boolean-h">ğŸ“„ boolean.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id957">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-boolean">Klasa <code class="docutils literal notranslate"><span class="pre">boolean</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#template-bool-def"><code class="docutils literal notranslate"><span class="pre">template&lt;bool</span> <span class="pre">def&gt;</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id958">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklad-uzycia">PrzykÅ‚ad uÅ¼ycia</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#operatory">Operatory</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id959">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dumper-h">ğŸ“„ dumper.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id960">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id961">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dump"><code class="docutils literal notranslate"><span class="pre">dump</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id962">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id963">PrzykÅ‚ad uÅ¼ycia</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id964">Implementacja</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id965">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dynamic-storage-h">ğŸ“„ dynamic_storage.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id966">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-dynamic-storage">Klasa <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id967">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id968">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id969">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id970">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#exception-h">ğŸ“„ exception.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id971">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-exception">Klasa <code class="docutils literal notranslate"><span class="pre">exception</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id972">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id973">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-throw-exception">Funkcja <code class="docutils literal notranslate"><span class="pre">throw_exception</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id974">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fastrand-h">ğŸ“„ fastrand.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id975">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-fastrand">Funkcja <code class="docutils literal notranslate"><span class="pre">fastrand</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#static-int-fastrand"><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">int</span> <span class="pre">fastrand()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id976">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id977">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id978">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#math-cpp">ğŸ“„ math.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id979">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id980">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint32-t-stdext-adler32"><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">stdext::adler32(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#long-stdext-random-range-long-min-long-max"><code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">stdext::random_range(long</span> <span class="pre">min,</span> <span class="pre">long</span> <span class="pre">max)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#float-stdext-random-range-float-min-float-max"><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">stdext::random_range(float</span> <span class="pre">min,</span> <span class="pre">float</span> <span class="pre">max)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#double-stdext-round-double-r"><code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">stdext::round(double</span> <span class="pre">r)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id981">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#math-h">ğŸ“„ math.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id982">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id983">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id984">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#net-h">ğŸ“„ net.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id985">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id986">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id987">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id988">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packed-any-h">ğŸ“„ packed_any.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id989">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-packed-any">Klasa <code class="docutils literal notranslate"><span class="pre">packed_any</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id990">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#szablon-can-pack-in-any">Szablon <code class="docutils literal notranslate"><span class="pre">can_pack_in_any</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-i-pola">Metody i pola</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-packed-any-cast">Funkcja <code class="docutils literal notranslate"><span class="pre">packed_any_cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id991">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shared-object-h">ğŸ“„ shared_object.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id992">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-shared-object">Klasa <code class="docutils literal notranslate"><span class="pre">shared_object</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id993">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id994">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-shared-object-ptr">Klasa <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id995">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-i-operatory">Metody i operatory</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id996">Funkcje pomocnicze</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id997">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stdext-h">ğŸ“„ stdext.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id998">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id999">ZawartoÅ›Ä‡</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1000">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packed-storage-h">ğŸ“„ packed_storage.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1001">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-packed-storage">Klasa <code class="docutils literal notranslate"><span class="pre">packed_storage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1002">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1003">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1004">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1005">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#thread-h">ğŸ“„ thread.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1006">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1007">ZawartoÅ›Ä‡</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1008">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#time-h">ğŸ“„ time.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1009">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1010">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1011">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-timer">Struktura <code class="docutils literal notranslate"><span class="pre">timer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1012">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#traits-h">ğŸ“„ traits.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1013">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1014">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#szablony">Szablony</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1015">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#string-h">ğŸ“„ string.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1016">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1017">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1018">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1019">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#time-cpp">ğŸ“„ time.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1020">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1021">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#startup-time"><code class="docutils literal notranslate"><span class="pre">startup_time</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#implementacje-funkcji">Implementacje funkcji</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1022">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uri-h">ğŸ“„ uri.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1023">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-parseduri">Struktura <code class="docutils literal notranslate"><span class="pre">ParsedURI</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-parseuri">Funkcja <code class="docutils literal notranslate"><span class="pre">parseURI</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#parseduri-parseuri-const-std-string-url"><code class="docutils literal notranslate"><span class="pre">ParsedURI</span> <span class="pre">parseURI(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1024">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#net-cpp">ğŸ“„ net.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1025">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1026">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-ip-to-string-uint32-ip"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ip_to_string(uint32</span> <span class="pre">ip)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint32-string-to-ip-const-std-string-string"><code class="docutils literal notranslate"><span class="pre">uint32</span> <span class="pre">string_to_ip(const</span> <span class="pre">std::string&amp;</span> <span class="pre">string)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-vector-uint32-listsubnetaddresses-uint32-address-uint8-mask"><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint32&gt;</span> <span class="pre">listSubnetAddresses(uint32</span> <span class="pre">address,</span> <span class="pre">uint8</span> <span class="pre">mask)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1027">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uri-cpp">ğŸ“„ uri.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1028">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1029">Funkcja <code class="docutils literal notranslate"><span class="pre">parseURI</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1030"><code class="docutils literal notranslate"><span class="pre">ParsedURI</span> <span class="pre">parseURI(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1031">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#types-h">ğŸ“„ types.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1032">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1033">Definicje typÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1034">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#format-h">ğŸ“„ format.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1035">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1036">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stdext-print"><code class="docutils literal notranslate"><span class="pre">stdext::print(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stdext-snprintf"><code class="docutils literal notranslate"><span class="pre">stdext::snprintf(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stdext-format"><code class="docutils literal notranslate"><span class="pre">stdext::format(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1037">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#string-cpp">ğŸ“„ string.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1038">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1039">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1040">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1041">ğŸ“„ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1042">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1043">Wczesne deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1044">Definicje typÃ³w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1045">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ui-h">ğŸ“„ ui.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1046">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1047">ZawartoÅ›Ä‡</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1048">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiboxlayout-cpp">ğŸ“„ uiboxlayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1049">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiboxlayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiboxlayout-uiboxlayout-uiwidgetptr-parentwidget"><code class="docutils literal notranslate"><span class="pre">UIBoxLayout::UIBoxLayout(UIWidgetPtr</span> <span class="pre">parentWidget)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiboxlayout-applystyle-const-otmlnodeptr-stylenode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIBoxLayout::applyStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#addwidget-i-removewidget"><code class="docutils literal notranslate"><span class="pre">addWidget</span></code> i <code class="docutils literal notranslate"><span class="pre">removeWidget</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1050">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiboxlayout-h">ğŸ“„ uiboxlayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1051">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1052">Klasa <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1053">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1054">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1055">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1056">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uigridlayout-cpp">ğŸ“„ uigridlayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1057">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uigridlayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uigridlayout-uigridlayout"><code class="docutils literal notranslate"><span class="pre">UIGridLayout::UIGridLayout(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uigridlayout-applystyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIGridLayout::applyStyle(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uigridlayout-internalupdate"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIGridLayout::internalUpdate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1058">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1059">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1060">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uigridlayout-h">ğŸ“„ uigridlayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1061">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1062">Klasa <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1063">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1064">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1065">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1066">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uihorizontallayout-cpp">ğŸ“„ uihorizontallayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1067">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uihorizontallayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uihorizontallayout-applystyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIHorizontalLayout::applyStyle(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uihorizontallayout-internalupdate"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIHorizontalLayout::internalUpdate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1068">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1069">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1070">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uihorizontallayout-h">ğŸ“„ uihorizontallayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1071">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1072">Klasa <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1073">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1074">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1075">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1076">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uilayout-cpp">ğŸ“„ uilayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1077">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uilayout">Klasa <code class="docutils literal notranslate"><span class="pre">UILayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uilayout-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UILayout::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1078">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1079">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uilayout-updatelater"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UILayout::updateLater()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1080">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uilayout-h">ğŸ“„ uilayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1081">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1082">Klasa <code class="docutils literal notranslate"><span class="pre">UILayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1083">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1084">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1085">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1086">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uimanager-h">ğŸ“„ uimanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1087">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uimanager">Klasa <code class="docutils literal notranslate"><span class="pre">UIManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1088">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1089">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-chronione-wywolywane-przez-uiwidget">Metody chronione (wywoÅ‚ywane przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1090">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1091">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1092">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uitextedit-cpp">ğŸ“„ uitextedit.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1093">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uitextedit">Klasa <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uitextedit-uitextedit"><code class="docutils literal notranslate"><span class="pre">UITextEdit::UITextEdit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uitextedit-drawself"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UITextEdit::drawSelf(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uitextedit-update-bool-focuscursor"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UITextEdit::update(bool</span> <span class="pre">focusCursor)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-edycji-tekstu">Metody edycji tekstu</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-uitextedit-gettextpos-point-pos"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">UITextEdit::getTextPos(Point</span> <span class="pre">pos)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#obsluga-zdarzen-on">ObsÅ‚uga zdarzeÅ„ (<code class="docutils literal notranslate"><span class="pre">on...</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1094">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uimanager-cpp">ğŸ“„ uimanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1095">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1096">Klasa <code class="docutils literal notranslate"><span class="pre">UIManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-render-fw-drawpane-drawpane"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::render(Fw::DrawPane</span> <span class="pre">drawPane)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-resize-const-size-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-inputevent-const-inputevent-event"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::inputEvent(const</span> <span class="pre">InputEvent&amp;</span> <span class="pre">event)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1097">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1098">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-update-widget"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::update...Widget(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uimanager-importstyle"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIManager::importStyle(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidgetptr-uimanager-loadui-i-createwidgetfromotml"><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">UIManager::loadUI(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">createWidgetFromOTML(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-onwidgetdestroy"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::onWidgetDestroy(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1099">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uitextedit-h">ğŸ“„ uitextedit.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1100">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1101">Klasa <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1102">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1103">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zarzadzanie-tekstem-i-kursorem">ZarzÄ…dzanie tekstem i kursorem</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#konfiguracja">Konfiguracja</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gettery">Gettery</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1104">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1105">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uitranslator-cpp">ğŸ“„ uitranslator.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1106">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1107">Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fw-alignmentflag-fw-translatealignment-std-string-aligment"><code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span> <span class="pre">Fw::translateAlignment(std::string</span> <span class="pre">aligment)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fw-anchoredge-fw-translateanchoredge-std-string-anchoredge"><code class="docutils literal notranslate"><span class="pre">Fw::AnchorEdge</span> <span class="pre">Fw::translateAnchorEdge(std::string</span> <span class="pre">anchorEdge)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fw-widgetstate-fw-translatestate-std-string-state"><code class="docutils literal notranslate"><span class="pre">Fw::WidgetState</span> <span class="pre">Fw::translateState(std::string</span> <span class="pre">state)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fw-autofocuspolicy-fw-translateautofocuspolicy-std-string-policy"><code class="docutils literal notranslate"><span class="pre">Fw::AutoFocusPolicy</span> <span class="pre">Fw::translateAutoFocusPolicy(std::string</span> <span class="pre">policy)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1108">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uitranslator-h">ğŸ“„ uitranslator.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1109">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1110">Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deklaracje-funkcji">Deklaracje funkcji</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1111">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiverticallayout-cpp">ğŸ“„ uiverticallayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1112">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiverticallayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiverticallayout-applystyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIVerticalLayout::applyStyle(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uiverticallayout-internalupdate"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIVerticalLayout::internalUpdate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1113">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1114">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1115">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiverticallayout-h">ğŸ“„ uiverticallayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1116">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1117">Klasa <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1118">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1119">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1120">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1121">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidget-cpp">ğŸ“„ uiwidget.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1122">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiwidget">Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidget-uiwidget"><code class="docutils literal notranslate"><span class="pre">UIWidget::UIWidget()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-draw"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::draw(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-addchild-insertchild-removechild"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::addChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">insertChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeChild(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-focuschild-focusnextchild-focuspreviouschild"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::focusChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">focusNextChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">focusPreviousChild(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-applystyle-const-otmlnodeptr-stylenode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::applyStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-updatestate-fw-widgetstate-state"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateState(Fw::WidgetState</span> <span class="pre">state)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-updatestates"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateStates()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-updatestyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateStyle()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-on-i-propagateon">Metody <code class="docutils literal notranslate"><span class="pre">on...</span></code> i <code class="docutils literal notranslate"><span class="pre">propagateOn...</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1123">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidget-h">ğŸ“„ uiwidget.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1124">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-edgegroup">Struktura <code class="docutils literal notranslate"><span class="pre">EdgeGroup</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1125">Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1126">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#podzial-interfejsu-w-pliku-h">PodziaÅ‚ interfejsu (w pliku <code class="docutils literal notranslate"><span class="pre">.h</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kluczowe-wlasciwosci">Kluczowe wÅ‚aÅ›ciwoÅ›ci</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1127">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidgetimage-cpp">ğŸ“„ uiwidgetimage.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1128">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiwidget-czesc-implementacji">Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czÄ™Å›Ä‡ implementacji)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-initimage"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initImage()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-parseimagestyle-const-otmlnodeptr-stylenode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseImageStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-drawimage-const-rect-screencoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawImage(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1129">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1130">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-setqrcode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setQRCode(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-setimagesource-const-std-string-source"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setImageSource(const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-setimagesourcebase64"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setImageSourceBase64(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1131">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uianchorlayout-h">ğŸ“„ uianchorlayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1132">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uianchor">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1133">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uianchorgroup">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1134">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uianchorlayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1135">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1136">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1137">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1138">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidgettext-cpp">ğŸ“„ uiwidgettext.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1139">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1140">Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czÄ™Å›Ä‡ implementacji)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-inittext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initText()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-updatetext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateText()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-parsetextstyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseTextStyle(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-drawtext-const-rect-screencoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawText(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-ontextchange-i-onfontchange"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::onTextChange(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">onFontChange(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-settext-std-string-text"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setText(std::string</span> <span class="pre">text,</span> <span class="pre">...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-setcoloredtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setColoredText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-setfont"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setFont(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1141">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidgetbasestyle-cpp">ğŸ“„ uiwidgetbasestyle.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1142">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1143">Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czÄ™Å›Ä‡ implementacji)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-initbasestyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initBaseStyle()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-parsebasestyle-const-otmlnodeptr-stylenode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseBaseStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-drawbackground-const-rect-screencoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawBackground(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-drawborder-const-rect-screencoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawBorder(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-drawicon-const-rect-screencoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawIcon(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-seticon-const-std-string-iconfile"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setIcon(const</span> <span class="pre">std::string&amp;</span> <span class="pre">iconFile)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1144">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uianchorlayout-cpp">ğŸ“„ uianchorlayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1145">Opis ogÃ³lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1146">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidgetptr-uianchor-gethookedwidget"><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">UIAnchor::getHookedWidget(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-uianchor-gethookedpoint"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">UIAnchor::getHookedPoint(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1147">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uianchorgroup-addanchor"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIAnchorGroup::addAnchor(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1148">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uianchorlayout-addanchor"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIAnchorLayout::addAnchor(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uianchorlayout-updatewidget"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIAnchorLayout::updateWidget(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1149">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1150">DziaÅ‚anie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uianchorlayout-internalupdate"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIAnchorLayout::internalUpdate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1151">ZaleÅ¼noÅ›ci i powiÄ…zania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#meta-dokumenty">Meta-dokumenty</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#spis-tresci">ğŸ“‘ Spis treÅ›ci</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#indeks-funkcji-metod">ğŸ” Indeks funkcji/metod</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mapa-zaleznosci">ğŸ§­ Mapa zaleÅ¼noÅ›ci</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#architektura-systemu">ğŸ§± Architektura systemu</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#warstwy">Warstwy</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przeplyw-danych-i-interakcje">PrzepÅ‚yw danych i interakcje</a></li>
</ul>
</nav></div>
<div class="sidebar-secondary-item">
<div aria-label="source link" role="note">
<h3>This Page</h3>
<ul class="this-page-menu">
<li><a href="../_sources/architektura/src_framework.md.txt" rel="nofollow">Show Source</a></li>
</ul>
</div></div>
</div></div>
</div>
<footer class="bd-footer-content">
</footer>
</main>
</div>
</div>
<!-- Scripts loaded after <body> so the DOM is not blocked -->
<script defer="" src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer="" src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>
<footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
<div class="footer-items__start">
<div class="footer-item">
<p class="copyright">
    
      Â© Copyright 2025, OTCv8.
      <br/>
</p>
</div>
<div class="footer-item">
<p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
</p>
</div>
</div>
<div class="footer-items__end">
<div class="footer-item">
<p class="theme-version">
<!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
</div>
</div>
</footer>
</body>
</html>