
<!DOCTYPE html>


<html lang="pl" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>src framework &#8212; OTClientV8 Dev Docs 0.1.0 - dokumentacja</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=8aaba760" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=8aaba760" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=c0495948"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/translations.js?v=da4973ce"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'architektura/src_framework';</script>
    <link rel="icon" href="../_static/logo-light.svg"/>
    <link rel="index" title="Indeks" href="../genindex.html" />
    <link rel="search" title="Szukaj" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="pl"/>
  <meta name="docsearch:version" content="0.1" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo-light.svg" class="logo__image only-light" alt="OTClientV8 Dev Docs 0.1.0 - dokumentacja - Home"/>
    <img src="../_static/logo-light.svg" class="logo__image only-dark pst-js-only" alt="OTClientV8 Dev Docs 0.1.0 - dokumentacja - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Szukaj" aria-label="Szukaj" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Szukaj</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/lukaszj321/otcv8-dev" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Szukaj" aria-label="Szukaj" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Szukaj</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/lukaszj321/otcv8-dev" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">src framework</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="src-framework">
<h1>src framework<a class="headerlink" href="#src-framework" title="Link to this heading">#</a></h1>
</section>
<section id="ponizej-znajduje-sie-kompletna-dokumentacja-techniczna-dla-repozytorium-src-framework">
<h1>Poni≈ºej znajduje siƒô kompletna dokumentacja techniczna dla repozytorium, src/framework<a class="headerlink" href="#ponizej-znajduje-sie-kompletna-dokumentacja-techniczna-dla-repozytorium-src-framework" title="Link to this heading">#</a></h1>
</section>
<section id="opis-ogolny">
<h1>Opis og√≥lny<a class="headerlink" href="#opis-ogolny" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">const.h</span></code> pe≈Çni rolƒô centralnego repozytorium dla sta≈Çych, makr i typ√≥w wyliczeniowych (enum) u≈ºywanych w ca≈Çym frameworku. Definiuje on kluczowe warto≈õci, takie jak kody klawiszy, poziomy logowania, flagi wyr√≥wnania, przyciski myszy, a tak≈ºe sta≈Çe matematyczne i makra kompilacji. Jest to fundamentalny plik nag≈Ç√≥wkowy, kt√≥ry zapewnia sp√≥jno≈õƒá i czytelno≈õƒá kodu poprzez zdefiniowanie nazwanych sta≈Çych zamiast ‚Äûmagicznych liczb‚Äù.</p>
</section>
<section id="definicje-i-makra">
<h1>Definicje i Makra<a class="headerlink" href="#definicje-i-makra" title="Link to this heading">#</a></h1>
</section>
<section id="makra-matematyczne">
<h1>Makra matematyczne<a class="headerlink" href="#makra-matematyczne" title="Link to this heading">#</a></h1>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DEG_TO_RAD</span></code>: S≈Çu≈ºy do konwersji stopni na radiany.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="define-deg-to-rad-acos-1-180-0">
<h1>define DEG_TO_RAD (acos(-1)/180.0)<a class="headerlink" href="#define-deg-to-rad-acos-1-180-0" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">RAD_TO_DEC</span></code>: S≈Çu≈ºy do konwersji radian√≥w na stopnie.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="define-rad-to-dec-180-0-acos-1">
<h1>define RAD_TO_DEC (180.0/acos(-1))<a class="headerlink" href="#define-rad-to-dec-180-0-acos-1" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
</section>
<section id="makra-budowania-build-macros">
<h1>Makra budowania (Build Macros)<a class="headerlink" href="#makra-budowania-build-macros" title="Link to this heading">#</a></h1>
<p>Makra te sƒÖ definiowane podczas kompilacji i dostarczajƒÖ informacji o wersji i ≈õrodowisku budowania.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">BUILD_COMMIT</span></code>: Przechowuje hash commita Git. Domy≈õlnie ‚Äûdev‚Äù.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="ifndef-build-commit">
<h1>ifndef BUILD_COMMIT<a class="headerlink" href="#ifndef-build-commit" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-commit-dev">
<h1>define BUILD_COMMIT ‚Äûdev‚Äù<a class="headerlink" href="#define-build-commit-dev" title="Link to this heading">#</a></h1>
</section>
<section id="endif">
<h1>endif<a class="headerlink" href="#endif" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">BUILD_REVISION</span></code>: Przechowuje numer rewizji. Domy≈õlnie 0.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="ifndef-build-revision">
<h1>ifndef BUILD_REVISION<a class="headerlink" href="#ifndef-build-revision" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-revision-0">
<h1>define BUILD_REVISION 0<a class="headerlink" href="#define-build-revision-0" title="Link to this heading">#</a></h1>
</section>
<section id="id1">
<h1>endif<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">BUILD_TYPE</span></code>: Okre≈õla typ budowania (np. ‚Äûrelease‚Äù, ‚Äûdebug‚Äù). Domy≈õlnie ‚Äûunknown‚Äù.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="ifndef-build-type">
<h1>ifndef BUILD_TYPE<a class="headerlink" href="#ifndef-build-type" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-type-unknown">
<h1>define BUILD_TYPE ‚Äûunknown‚Äù<a class="headerlink" href="#define-build-type-unknown" title="Link to this heading">#</a></h1>
</section>
<section id="id2">
<h1>endif<a class="headerlink" href="#id2" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">BUILD_ARCH</span></code>: Okre≈õla architekturƒô procesora (x64, x86). Wykrywane automatycznie, je≈õli nie jest zdefiniowane.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="ifndef-build-arch">
<h1>ifndef BUILD_ARCH<a class="headerlink" href="#ifndef-build-arch" title="Link to this heading">#</a></h1>
</section>
<section id="if-defined-amd64-defined-m-x64">
<h1>if defined(__amd64) || defined(_M_X64)<a class="headerlink" href="#if-defined-amd64-defined-m-x64" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-arch-x64">
<h1>define BUILD_ARCH ‚Äûx64‚Äù<a class="headerlink" href="#define-build-arch-x64" title="Link to this heading">#</a></h1>
</section>
<section id="elif-defined-i386-defined-m-ix86-defined-x86">
<h1>elif defined(__i386) || defined(_M_IX86) || defined(<em>X86</em>)<a class="headerlink" href="#elif-defined-i386-defined-m-ix86-defined-x86" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-arch-x86">
<h1>define BUILD_ARCH ‚Äûx86‚Äù<a class="headerlink" href="#define-build-arch-x86" title="Link to this heading">#</a></h1>
</section>
<section id="else">
<h1>else<a class="headerlink" href="#else" title="Link to this heading">#</a></h1>
</section>
<section id="define-build-arch-unknown">
<h1>define BUILD_ARCH ‚Äûunknown‚Äù<a class="headerlink" href="#define-build-arch-unknown" title="Link to this heading">#</a></h1>
</section>
<section id="id3">
<h1>endif<a class="headerlink" href="#id3" title="Link to this heading">#</a></h1>
</section>
<section id="id4">
<h1>endif<a class="headerlink" href="#id4" title="Link to this heading">#</a></h1>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>```
</pre></div>
</div>
</section>
<section id="namespace-fw">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code><a class="headerlink" href="#namespace-fw" title="Link to this heading">#</a></h1>
<p>Przestrze≈Ñ nazw <code class="docutils literal notranslate"><span class="pre">Fw</span></code> (skr√≥t od Framework) grupuje wszystkie sta≈Çe i typy wyliczeniowe, aby uniknƒÖƒá konflikt√≥w nazw w globalnej przestrzeni nazw.</p>
</section>
<section id="zmienne-globalne">
<h1>Zmienne globalne<a class="headerlink" href="#zmienne-globalne" title="Link to this heading">#</a></h1>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pi</span></code>: Sta≈Ça matematyczna przechowujƒÖca przybli≈ºonƒÖ warto≈õƒá liczby Pi.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">pi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14159265</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">MIN_ALPHA</span></code>: Minimalna warto≈õƒá alfa (przezroczysto≈õci), poni≈ºej kt√≥rej obiekty mogƒÖ byƒá uznawane za w pe≈Çni przezroczyste.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">MIN_ALPHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.003f</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="typy-wyliczeniowe-enums">
<h1>Typy wyliczeniowe (Enums)<a class="headerlink" href="#typy-wyliczeniowe-enums" title="Link to this heading">#</a></h1>
</section>
<section id="enum-key">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">Key</span></code><a class="headerlink" href="#enum-key" title="Link to this heading">#</a></h1>
<p>Definiuje kody klawiszy klawiatury. Warto≈õci liczbowe dla klawiszy drukowalnych odpowiadajƒÖ ich kodom ASCII.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Warto≈õƒá</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyUnknown</span></code></p></td>
<td class="text-left"><p>0</p></td>
<td class="text-left"><p>Nieznany klawisz</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyEscape</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>Klawisz Escape</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyTab</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>Klawisz Tab</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyBackspace</span></code></p></td>
<td class="text-left"><p>3</p></td>
<td class="text-left"><p>Klawisz Backspace</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyEnter</span></code></p></td>
<td class="text-left"><p>5</p></td>
<td class="text-left"><p>Klawisz Enter/Return</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyNumpad9</span></code></p></td>
<td class="text-left"><p>150</p></td>
<td class="text-left"><p>Klawisz 9 na klawiaturze numerycznej</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-loglevel">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">LogLevel</span></code><a class="headerlink" href="#enum-loglevel" title="Link to this heading">#</a></h1>
<p>Definiuje poziomy wa≈ºno≈õci dla komunikat√≥w w systemie logowania.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Warto≈õƒá</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LogDebug</span></code></p></td>
<td class="text-left"><p>0</p></td>
<td class="text-left"><p>Wiadomo≈õci debugowania</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LogInfo</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>Informacje og√≥lne</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LogWarning</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>Ostrze≈ºenia</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LogError</span></code></p></td>
<td class="text-left"><p>3</p></td>
<td class="text-left"><p>B≈Çƒôdy</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LogFatal</span></code></p></td>
<td class="text-left"><p>4</p></td>
<td class="text-left"><p>B≈Çƒôdy krytyczne, powodujƒÖce zamkniƒôcie aplikacji</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-aspectratiomode">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AspectRatioMode</span></code><a class="headerlink" href="#enum-aspectratiomode" title="Link to this heading">#</a></h1>
<p>Okre≈õla, w jaki spos√≥b zachowaƒá proporcje obrazu podczas skalowania.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">IgnoreAspectRatio</span></code></p></td>
<td class="text-left"><p>Ignoruje proporcje, rozciƒÖgajƒÖc obraz do pe≈Çnego rozmiaru.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeepAspectRatio</span></code></p></td>
<td class="text-left"><p>Zachowuje proporcje, dopasowujƒÖc obraz do mniejszego wymiaru.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeepAspectRatioByExpanding</span></code></p></td>
<td class="text-left"><p>Zachowuje proporcje, wype≈ÇniajƒÖc ca≈Çy obszar (mo≈ºe przyciƒÖƒá obraz).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-alignmentflag">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AlignmentFlag</span></code><a class="headerlink" href="#enum-alignmentflag" title="Link to this heading">#</a></h1>
<p>Flagi bitowe u≈ºywane do okre≈õlania wyr√≥wnania tekstu lub widget√≥w w kontenerze. Mo≈ºna je ≈ÇƒÖczyƒá za pomocƒÖ operatora <code class="docutils literal notranslate"><span class="pre">|</span></code>.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Warto≈õƒá</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignNone</span></code></p></td>
<td class="text-left"><p>0</p></td>
<td class="text-left"><p>Brak wyr√≥wnania</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignLeft</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>Wyr√≥wnanie do lewej</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignRight</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>Wyr√≥wnanie do prawej</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignTop</span></code></p></td>
<td class="text-left"><p>4</p></td>
<td class="text-left"><p>Wyr√≥wnanie do g√≥ry</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignBottom</span></code></p></td>
<td class="text-left"><p>8</p></td>
<td class="text-left"><p>Wyr√≥wnanie do do≈Çu</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignHorizontalCenter</span></code></p></td>
<td class="text-left"><p>16</p></td>
<td class="text-left"><p>Wy≈õrodkowanie w poziomie</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignVerticalCenter</span></code></p></td>
<td class="text-left"><p>32</p></td>
<td class="text-left"><p>Wy≈õrodkowanie w pionie</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignCenter</span></code></p></td>
<td class="text-left"><p>48</p></td>
<td class="text-left"><p>Pe≈Çne wy≈õrodkowanie (kombinacja <code class="docutils literal notranslate"><span class="pre">HorizontalCenter</span></code> i <code class="docutils literal notranslate"><span class="pre">VerticalCenter</span></code>)</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>Inne kombinacje</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-anchoredge">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AnchorEdge</span></code><a class="headerlink" href="#enum-anchoredge" title="Link to this heading">#</a></h1>
<p>Definiuje krawƒôdzie, do kt√≥rych mo≈ºna ‚Äûzakotwiczyƒá‚Äù widget w layoucie typu <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AnchorNone</span></code></p></td>
<td class="text-left"><p>Brak zakotwiczenia</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AnchorTop</span></code></p></td>
<td class="text-left"><p>G√≥rna krawƒôd≈∫</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AnchorBottom</span></code></p></td>
<td class="text-left"><p>Dolna krawƒôd≈∫</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-focusreason">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">FocusReason</span></code><a class="headerlink" href="#enum-focusreason" title="Link to this heading">#</a></h1>
<p>Okre≈õla przyczynƒô, dla kt√≥rej widget otrzyma≈Ç fokus.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseFocusReason</span></code></p></td>
<td class="text-left"><p>Fokus uzyskany przez klikniƒôcie myszƒÖ.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyboardFocusReason</span></code></p></td>
<td class="text-left"><p>Fokus uzyskany przez nawigacjƒô klawiaturƒÖ (np. Tab).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ActiveFocusReason</span></code></p></td>
<td class="text-left"><p>Fokus ustawiony programowo.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OtherFocusReason</span></code></p></td>
<td class="text-left"><p>Inna przyczyna.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-autofocuspolicy">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AutoFocusPolicy</span></code><a class="headerlink" href="#enum-autofocuspolicy" title="Link to this heading">#</a></h1>
<p>Definiuje, jak widget-rodzic powinien automatycznie ustawiaƒá fokus na swoich dzieciach.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AutoFocusNone</span></code></p></td>
<td class="text-left"><p>Brak automatycznego fokusa.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AutoFocusFirst</span></code></p></td>
<td class="text-left"><p>Ustawia fokus na pierwszym dziecku, kt√≥re mo≈ºe go otrzymaƒá.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AutoFocusLast</span></code></p></td>
<td class="text-left"><p>Ustawia fokus na ostatnim dziecku, kt√≥re mo≈ºe go otrzymaƒá.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-inputeventtype">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">InputEventType</span></code><a class="headerlink" href="#enum-inputeventtype" title="Link to this heading">#</a></h1>
<p>Definiuje typy zdarze≈Ñ wej≈õciowych (klawiatura, mysz).</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">NoInputEvent</span></code></p></td>
<td class="text-left"><p>Brak zdarzenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyTextInputEvent</span></code></p></td>
<td class="text-left"><p>Zdarzenie wprowadzenia tekstu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyDownInputEvent</span></code></p></td>
<td class="text-left"><p>Zdarzenie wci≈õniƒôcia klawisza.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyPressInputEvent</span></code></p></td>
<td class="text-left"><p>Zdarzenie przytrzymania klawisza (auto-powtarzanie).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-mousebutton">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">MouseButton</span></code><a class="headerlink" href="#enum-mousebutton" title="Link to this heading">#</a></h1>
<p>Definiuje przyciski myszy oraz dotyk.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseNoButton</span></code></p></td>
<td class="text-left"><p>Brak przycisku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseLeftButton</span></code></p></td>
<td class="text-left"><p>Lewy przycisk myszy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-mousewheeldirection">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">MouseWheelDirection</span></code><a class="headerlink" href="#enum-mousewheeldirection" title="Link to this heading">#</a></h1>
<p>Definiuje kierunek przewijania k√≥≈Çkiem myszy.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseNoWheel</span></code></p></td>
<td class="text-left"><p>Brak przewijania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseWheelUp</span></code></p></td>
<td class="text-left"><p>Przewijanie w g√≥rƒô.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MouseWheelDown</span></code></p></td>
<td class="text-left"><p>Przewijanie w d√≥≈Ç.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-keyboardmodifier">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">KeyboardModifier</span></code><a class="headerlink" href="#enum-keyboardmodifier" title="Link to this heading">#</a></h1>
<p>Flagi bitowe dla klawiszy modyfikujƒÖcych (Ctrl, Alt, Shift).</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Warto≈õƒá</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyboardNoModifier</span></code></p></td>
<td class="text-left"><p>0</p></td>
<td class="text-left"><p>Brak modyfikatora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyboardCtrlModifier</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>Wci≈õniƒôty Ctrl.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyboardAltModifier</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>Wci≈õniƒôty Alt.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">KeyboardShiftModifier</span></code></p></td>
<td class="text-left"><p>4</p></td>
<td class="text-left"><p>Wci≈õniƒôty Shift.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-widgetstate">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">WidgetState</span></code><a class="headerlink" href="#enum-widgetstate" title="Link to this heading">#</a></h1>
<p>Flagi bitowe definiujƒÖce stan widgetu (np. aktywny, najechany, wci≈õniƒôty). U≈ºywane do dynamicznego stylowania widget√≥w.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Warto≈õƒá</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">InvalidState</span></code></p></td>
<td class="text-left"><p>-1</p></td>
<td class="text-left"><p>Nieprawid≈Çowy stan.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">DefaultState</span></code></p></td>
<td class="text-left"><p>0</p></td>
<td class="text-left"><p>Stan domy≈õlny.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ActiveState</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>Widget jest aktywny.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">FocusState</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>Widget ma fokus.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HoverState</span></code></p></td>
<td class="text-left"><p>4</p></td>
<td class="text-left"><p>Kursor myszy jest nad widgetem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="enum-drawpane">
<h1><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">DrawPane</span></code><a class="headerlink" href="#enum-drawpane" title="Link to this heading">#</a></h1>
<p>Okre≈õla warstwƒô rysowania dla widget√≥w, co pozwala na kontrolowanie kolejno≈õci renderowania.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Warto≈õƒá</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ForegroundPane</span></code></p></td>
<td class="text-left"><p>1</p></td>
<td class="text-left"><p>Warstwa pierwszoplanowa (interfejs u≈ºytkownika).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MapBackgroundPane</span></code></p></td>
<td class="text-left"><p>2</p></td>
<td class="text-left"><p>T≈Ço mapy gry.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">MapForegroundPane</span></code></p></td>
<td class="text-left"><p>3</p></td>
<td class="text-left"><p>Pierwszy plan mapy gry (np. efekty nad postaciami).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zaleznosci-i-powiazania">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#zaleznosci-i-powiazania" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/compiler.h</span></code>: Plik ten dostarcza makr i definicji specyficznych dla kompilatora (np. <code class="docutils literal notranslate"><span class="pre">BUILD_COMPILER</span></code>).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="cmakelists-txt">
<h1>üìÑ CMakeLists.txt<a class="headerlink" href="#cmakelists-txt" title="Link to this heading">#</a></h1>
</section>
<section id="id5">
<h1>Opis og√≥lny<a class="headerlink" href="#id5" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> jest g≈Ç√≥wnym skryptem konfiguracyjnym dla systemu budowania CMake. Jego rolƒÖ jest zdefiniowanie, jak projekt <code class="docutils literal notranslate"><span class="pre">otclient</span></code> ma byƒá kompilowany. Okre≈õla on flagi kompilatora, zale≈ºno≈õci od bibliotek zewnƒôtrznych, listƒô plik√≥w ≈∫r√≥d≈Çowych oraz opcje konfiguracyjne, kt√≥re pozwalajƒÖ dostosowaƒá proces budowania do r√≥≈ºnych platform (Windows, Linux, Apple, WebAssembly) i potrzeb (np. w≈ÇƒÖczenie/wy≈ÇƒÖczenie obs≈Çugi d≈∫wiƒôku, grafiki, sieci).</p>
</section>
<section id="opcje-budowania">
<h1>Opcje budowania<a class="headerlink" href="#opcje-budowania" title="Link to this heading">#</a></h1>
<p>Skrypt definiuje kilka opcji, kt√≥re mo≈ºna kontrolowaƒá podczas generowania projektu.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Opcja</p></th>
<th class="head text-left"><p>Domy≈õlnie</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">LUAJIT</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ON</span></code></p></td>
<td class="text-left"><p>U≈ºywa LuaJIT zamiast standardowej biblioteki Lua.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CRASH_HANDLER</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ON</span></code> (poza Apple)</p></td>
<td class="text-left"><p>W≈ÇƒÖcza generowanie raport√≥w po awarii aplikacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">USE_STATIC_LIBS</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ON</span></code> (poza Apple)</p></td>
<td class="text-left"><p>Linkuje biblioteki statycznie zamiast dynamicznie (DLL).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">USE_LIBCPP</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code> (dla Apple <code class="docutils literal notranslate"><span class="pre">ON</span></code>)</p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">libc++</span></code> zamiast <code class="docutils literal notranslate"><span class="pre">stdc++</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">USE_LTO</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza optymalizacje w czasie linkowania (Link Time Optimizations).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OPENGLES</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td class="text-left"><p>U≈ºywa OpenGL ES zamiast standardowego OpenGL. Dostƒôpne wersje ‚Äû1.0‚Äù, ‚Äû2.0‚Äù.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">WINDOWS_CONSOLE</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza okno konsoli w systemie Windows.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="flagi-frameworka">
<h1>Flagi frameworka<a class="headerlink" href="#flagi-frameworka" title="Link to this heading">#</a></h1>
<p>Skrypt u≈ºywa flag preprocesora do warunkowej kompilacji modu≈Ç√≥w:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FRAMEWORK_SOUND</span></code>: W≈ÇƒÖcza kompilacjƒô modu≈Çu d≈∫wiƒôku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FRAMEWORK_GRAPHICS</span></code>: W≈ÇƒÖcza kompilacjƒô modu≈Çu grafiki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FRAMEWORK_NET</span></code>: W≈ÇƒÖcza kompilacjƒô modu≈Çu sieciowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FRAMEWORK_XML</span></code>: W≈ÇƒÖcza kompilacjƒô modu≈Çu do parsowania XML (TinyXML).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FRAMEWORK_THREAD_SAFE</span></code>: Dodaje definicjƒô <code class="docutils literal notranslate"><span class="pre">THREAD_SAFE</span></code>, prawdopodobnie dla kodu wielowƒÖtkowego.</p></li>
</ul>
</section>
<section id="struktura-projektu-pliki-zrodlowe">
<h1>Struktura projektu (pliki ≈∫r√≥d≈Çowe)<a class="headerlink" href="#struktura-projektu-pliki-zrodlowe" title="Link to this heading">#</a></h1>
<p>Plik definiuje listƒô wszystkich plik√≥w ≈∫r√≥d≈Çowych (<code class="docutils literal notranslate"><span class="pre">.h</span></code>, <code class="docutils literal notranslate"><span class="pre">.cpp</span></code>, <code class="docutils literal notranslate"><span class="pre">.c</span></code>) sk≈ÇadajƒÖcych siƒô na framework. SƒÖ one pogrupowane w logiczne modu≈Çy:</p>
<ul class="simple">
<li><p><strong>G≈Ç√≥wne pliki</strong>: <code class="docutils literal notranslate"><span class="pre">const.h</span></code>, <code class="docutils literal notranslate"><span class="pre">global.h</span></code>, <code class="docutils literal notranslate"><span class="pre">pch.h</span></code>, <code class="docutils literal notranslate"><span class="pre">luafunctions.cpp</span></code></p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">util</span></code></strong>: Narzƒôdzia pomocnicze (kolory, kryptografia, obs≈Çuga PNG, struktury danych jak <code class="docutils literal notranslate"><span class="pre">Rect</span></code>, <code class="docutils literal notranslate"><span class="pre">Point</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stdext</span></code></strong>: Rozszerzenia standardowej biblioteki C++ (obs≈Çuga string√≥w, czasu, rzutowania typ√≥w, wƒÖtk√≥w).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">core</span></code></strong>: Rdze≈Ñ aplikacji (pƒôtla g≈Ç√≥wna, obs≈Çuga zdarze≈Ñ, logowanie, zarzƒÖdzanie modu≈Çami i zasobami).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaengine</span></code></strong>: Silnik Lua i mechanizmy bindowania C++ do Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otml</span></code></strong>: Parser i emiter dla jƒôzyka OTML (OTClient Markup Language).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">platform</span></code></strong>: Kod specyficzny dla platformy (obs≈Çuga okien, obs≈Çuga awarii).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graphics</span></code> (warunkowo)</strong>: Silnik graficzny (OpenGL, shadery, tekstury, fonty, UI).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">sound</span></code> (warunkowo)</strong>: Silnik d≈∫wiƒôku (OpenAL, obs≈Çuga OGG Vorbis).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">net</span></code> (warunkowo)</strong>: Obs≈Çuga sieci (po≈ÇƒÖczenia, protoko≈Çy, serwer, proxy).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">xml</span></code> (warunkowo)</strong>: Parser TinyXML.</p></li>
</ul>
</section>
<section id="id6">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id6" title="Link to this heading">#</a></h1>
<p>Skrypt wyszukuje i linkuje nastƒôpujƒÖce biblioteki zewnƒôtrzne:</p>
<ul class="simple">
<li><p><strong>Boost</strong> (<code class="docutils literal notranslate"><span class="pre">system</span></code>, <code class="docutils literal notranslate"><span class="pre">filesystem</span></code>): U≈ºywane do operacji na systemie plik√≥w i innych podstawowych funkcjonalno≈õci.</p></li>
<li><p><strong>ZLIB, BZip2, LibZip</strong>: Do kompresji i dekompresji danych.</p></li>
<li><p><strong>LuaJIT</strong> lub <strong>Lua</strong>: Silnik skryptowy.</p></li>
<li><p><strong>PhysFS</strong>: Wirtualny system plik√≥w, do obs≈Çugi zasob√≥w w archiwach.</p></li>
<li><p><strong>OpenSSL</strong>: Do funkcji kryptograficznych (RSA, SHA, MD5).</p></li>
<li><p><strong>OpenGL/OpenGLES, EGL</strong>: Do renderowania grafiki.</p></li>
<li><p><strong>GLEW</strong>: Do zarzƒÖdzania rozszerzeniami OpenGL.</p></li>
<li><p><strong>OpenAL, Vorbis, Ogg</strong>: Do obs≈Çugi d≈∫wiƒôku.</p></li>
</ul>
</section>
<section id="konfiguracja-dla-webassembly-wasm">
<h1>Konfiguracja dla WebAssembly (WASM)<a class="headerlink" href="#konfiguracja-dla-webassembly-wasm" title="Link to this heading">#</a></h1>
<p>Specjalny blok <code class="docutils literal notranslate"><span class="pre">if(WASM)</span></code> dostosowuje kompilacjƒô dla platformy WebAssembly przy u≈ºyciu Emscripten. Ustawia specyficzne flagi (<code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">USE_ZLIB=1</span></code>, etc.), linkuje prekompilowane biblioteki (<code class="docutils literal notranslate"><span class="pre">.a</span></code>) i do≈ÇƒÖcza ≈∫r√≥d≈Ça Lua bezpo≈õrednio do projektu, zamiast linkowaƒá je jako zewnƒôtrznƒÖ bibliotekƒô.</p>
</section>
<section id="flagi-kompilatora">
<h1>Flagi kompilatora<a class="headerlink" href="#flagi-kompilatora" title="Link to this heading">#</a></h1>
<p>Skrypt ustawia r√≥≈ºne flagi kompilatora w zale≈ºno≈õci od typu budowania (<code class="docutils literal notranslate"><span class="pre">CMAKE_BUILD_TYPE</span></code>):</p>
<ul class="simple">
<li><p><strong>Debug</strong>: <code class="docutils literal notranslate"><span class="pre">-O0</span> <span class="pre">-g</span></code> (niska optymalizacja, pe≈Çne informacje debugowania).</p></li>
<li><p><strong>Release</strong>: <code class="docutils literal notranslate"><span class="pre">-O2</span></code> (wysoka optymalizacja, brak informacji debugowania).</p></li>
<li><p><strong>RelWithDebInfo</strong>: <code class="docutils literal notranslate"><span class="pre">-O1</span> <span class="pre">-g</span></code> (≈õrednia optymalizacja z informacjami debugowania).</p></li>
<li><p><strong>Performance</strong>: <code class="docutils literal notranslate"><span class="pre">-Ofast</span> <span class="pre">-march=native</span></code> (najwy≈ºsze optymalizacje, specyficzne dla architektury).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="global-h">
<h1>üìÑ global.h<a class="headerlink" href="#global-h" title="Link to this heading">#</a></h1>
</section>
<section id="id7">
<h1>Opis og√≥lny<a class="headerlink" href="#id7" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">global.h</span></code> jest jednym z kluczowych plik√≥w nag≈Ç√≥wkowych w frameworku. Jego g≈Ç√≥wnym zadaniem jest w≈ÇƒÖczenie najwa≈ºniejszych, globalnie u≈ºywanych definicji i nag≈Ç√≥wk√≥w w jednym miejscu. Dziƒôki temu inne pliki mogƒÖ do≈ÇƒÖczyƒá tylko ten jeden plik, aby uzyskaƒá dostƒôp do podstawowych typ√≥w danych, sta≈Çych, makr i narzƒôdzi.</p>
</section>
<section id="id8">
<h1>Definicje i Makra<a class="headerlink" href="#id8" title="Link to this heading">#</a></h1>
</section>
<section id="validate-expression">
<h1><code class="docutils literal notranslate"><span class="pre">VALIDATE(expression)</span></code><a class="headerlink" href="#validate-expression" title="Link to this heading">#</a></h1>
<p>Jest to makro asercji, kt√≥re jest aktywne tylko w trybie debugowania (gdy <code class="docutils literal notranslate"><span class="pre">NDEBUG</span></code> nie jest zdefiniowane). Je≈õli wyra≈ºenie (expression) jest fa≈Çszywe, makro wywo≈Çuje funkcjƒô <code class="docutils literal notranslate"><span class="pre">fatalError</span></code>, kt√≥ra przerywa dzia≈Çanie programu i wy≈õwietla komunikat o b≈Çƒôdzie zawierajƒÖcy nazwƒô pliku i numer linii. W trybie wydajno≈õciowym (<code class="docutils literal notranslate"><span class="pre">NDEBUG</span></code> zdefiniowane) makro jest puste i nie generuje ≈ºadnego kodu.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp"># if defined(NDEBUG)</span>
<span class="cp"># define VALIDATE(expression) ((void)0)</span>
<span class="cp"># else</span>
<span class="k">extern</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">fatalError</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">line</span><span class="p">);</span>
<span class="cp"># define VALIDATE(expression) { if(!(expression)) fatalError(#expression, __FILE__, __LINE__); };</span>
<span class="cp"># endif</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>U≈ºycie</strong>: S≈Çu≈ºy do sprawdzania warunk√≥w, kt√≥re muszƒÖ byƒá zawsze prawdziwe w trakcie dzia≈Çania programu, np. sprawdzania, czy wska≈∫nik nie jest <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p></li>
</ul>
</section>
<section id="id9">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id9" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">global.h</span></code> w≈ÇƒÖcza nastƒôpujƒÖce nag≈Ç√≥wki, udostƒôpniajƒÖc ich zawarto≈õƒá wszystkim plikom, kt√≥re go do≈ÇƒÖczajƒÖ:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/compiler.h</span></code>: Zawiera definicje specyficzne dla kompilatora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/pch.h</span></code>: Prekompilowany nag≈Ç√≥wek, kt√≥ry zawiera standardowe biblioteki C/C++ oraz biblioteki firm trzecich, takie jak Boost.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/const.h</span></code>: Definiuje globalne sta≈Çe, makra i typy wyliczeniowe (enumy).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/stdext.h</span></code>: Zawiera rozszerzenia standardowej biblioteki C++, takie jak dodatkowe algorytmy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/point.h</span></code>, <code class="docutils literal notranslate"><span class="pre">color.h</span></code>, <code class="docutils literal notranslate"><span class="pre">rect.h</span></code>, <code class="docutils literal notranslate"><span class="pre">size.h</span></code>, <code class="docutils literal notranslate"><span class="pre">matrix.h</span></code>: DefiniujƒÖ podstawowe struktury danych u≈ºywane w grafice i logice.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/logger.h</span></code>: Udostƒôpnia globalny obiekt <code class="docutils literal notranslate"><span class="pre">g_logger</span></code> do logowania komunikat√≥w.</p></li>
</ul>
<p>Dziƒôki temu <code class="docutils literal notranslate"><span class="pre">global.h</span></code> dzia≈Ça jako centralny punkt dostƒôpu do najczƒô≈õciej u≈ºywanych element√≥w frameworka.</p>
</section>
<hr class="docutils" />
<section id="pch-h">
<h1>üìÑ pch.h<a class="headerlink" href="#pch-h" title="Link to this heading">#</a></h1>
</section>
<section id="id10">
<h1>Opis og√≥lny<a class="headerlink" href="#id10" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">pch.h</span></code> (Precompiled Header) to plik nag≈Ç√≥wkowy, kt√≥rego celem jest przyspieszenie procesu kompilacji. Zawiera on dyrektywy <code class="docutils literal notranslate"><span class="pre">#include</span></code> dla nag≈Ç√≥wk√≥w, kt√≥re sƒÖ czƒôsto u≈ºywane w ca≈Çym projekcie, ale rzadko siƒô zmieniajƒÖ. Kompilator mo≈ºe wstƒôpnie przetworzyƒá ten plik i zapisaƒá jego stan, co pozwala na ponowne wykorzystanie go podczas kompilacji innych plik√≥w ≈∫r√≥d≈Çowych, zamiast parsowaƒá te same nag≈Ç√≥wki wielokrotnie.</p>
</section>
<section id="zawartosc-pliku">
<h1>Zawarto≈õƒá pliku<a class="headerlink" href="#zawartosc-pliku" title="Link to this heading">#</a></h1>
<p>Plik ten jest podzielony na kilka sekcji, grupujƒÖcych nag≈Ç√≥wki wed≈Çug ich pochodzenia i przeznaczenia.</p>
</section>
<section id="standardowe-naglowki-c">
<h1>Standardowe nag≈Ç√≥wki C<a class="headerlink" href="#standardowe-naglowki-c" title="Link to this heading">#</a></h1>
<p>Zawiera podstawowe nag≈Ç√≥wki z biblioteki standardowej C, takie jak <code class="docutils literal notranslate"><span class="pre">cstdio</span></code>, <code class="docutils literal notranslate"><span class="pre">cstdlib</span></code>, <code class="docutils literal notranslate"><span class="pre">cstring</span></code>, <code class="docutils literal notranslate"><span class="pre">cmath</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstdio&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstddef&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstring&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cmath&gt;</span>
</pre></div>
</div>
</section>
<section id="standardowe-naglowki-stl-c">
<h1>Standardowe nag≈Ç√≥wki STL (C++)<a class="headerlink" href="#standardowe-naglowki-stl-c" title="Link to this heading">#</a></h1>
<p>W≈ÇƒÖcza najwa≈ºniejsze i najczƒô≈õciej u≈ºywane kontenery, strumienie i algorytmy z biblioteki standardowej C++.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;sstream&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;set&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;list&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;deque&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;map&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;algorithm&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;functional&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;array&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;unordered_map&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;unordered_set&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;tuple&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;iomanip&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;typeinfo&gt;</span>
</pre></div>
</div>
</section>
<section id="nowoczesne-naglowki-c-c-11-i-nowsze">
<h1>Nowoczesne nag≈Ç√≥wki C++ (C++11 i nowsze)<a class="headerlink" href="#nowoczesne-naglowki-c-c-11-i-nowsze" title="Link to this heading">#</a></h1>
<p>W≈ÇƒÖcza nag≈Ç√≥wki zwiƒÖzane z wielowƒÖtkowo≈õciƒÖ, inteligentnymi wska≈∫nikami, czasem i losowo≈õciƒÖ, wprowadzone w nowszych standardach C++. Plik <code class="docutils literal notranslate"><span class="pre">filesystem</span></code> jest do≈ÇƒÖczany warunkowo (poza Androidem).</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;thread&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;memory&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;functional&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;condition_variable&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;mutex&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;future&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;chrono&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;random&gt;</span>
<span class="cp"># ifndef ANDROID</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;filesystem&gt;</span>
<span class="cp"># endif</span>
</pre></div>
</div>
</section>
<section id="biblioteka-boost">
<h1>Biblioteka Boost<a class="headerlink" href="#biblioteka-boost" title="Link to this heading">#</a></h1>
<p>W≈ÇƒÖcza nag≈Ç√≥wki z biblioteki Boost, g≈Ç√≥wnie z modu≈Ç√≥w <strong>Asio</strong> (do operacji sieciowych) i <strong>Beast</strong> (do obs≈Çugi protoko≈Ç√≥w HTTP i WebSocket).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">boost/system/config.hpp</span></code>, <code class="docutils literal notranslate"><span class="pre">error_code.hpp</span></code>: Podstawowe elementy systemu Boost.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio.hpp</span></code>, <code class="docutils literal notranslate"><span class="pre">beast.hpp</span></code>: G≈Ç√≥wne nag≈Ç√≥wki dla Asio i Beast.</p></li>
<li><p>Nag≈Ç√≥wki warunkowe dla SSL (<code class="docutils literal notranslate"><span class="pre">__EMSCRIPTEN__</span></code> wy≈ÇƒÖcza je, poniewa≈º obs≈Çuga SSL w przeglƒÖdarce jest inna).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/hex.hpp</span></code>: Do operacji na systemie szesnastkowym.</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp"># ifdef ANDROID</span>
<span class="cp"># define BOOST_UUID_RANDOM_PROVIDER_FORCE_POSIX</span>
<span class="cp"># endif</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;boost/system/config.hpp&gt;</span>
<span class="c1">// ... (inne nag≈Ç√≥wki boost)</span>
</pre></div>
</div>
</section>
<section id="id11">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id11" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">pch.h</span></code> jest plikiem ‚Äûli≈õciem‚Äù w hierarchii zale≈ºno≈õci ‚Äî sam nie zale≈ºy od innych plik√≥w projektu. Jednak≈ºe, jest on do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">global.h</span></code>, co czyni go po≈õredniƒÖ zale≈ºno≈õciƒÖ dla niemal ka≈ºdego pliku w projekcie. Zapewnia on dostƒôp do szerokiej gamy narzƒôdzi z biblioteki standardowej C++ i Boost.</p>
</section>
<hr class="docutils" />
<section id="luafunctions-cpp">
<h1>üìÑ luafunctions.cpp<a class="headerlink" href="#luafunctions-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id12">
<h1>Opis og√≥lny<a class="headerlink" href="#id12" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luafunctions.cpp</span></code> implementuje metodƒô <code class="docutils literal notranslate"><span class="pre">Application::registerLuaFunctions()</span></code>, kt√≥ra jest kluczowym elementem integracji silnika C++ z Lua. Funkcja ta jest odpowiedzialna za zarejestrowanie (zbindowanie) klas, funkcji i obiekt√≥w singletonowych z C++ w globalnym ≈õrodowisku Lua. Dziƒôki temu skrypty Lua mogƒÖ wywo≈Çywaƒá funkcje C++, tworzyƒá obiekty C++ (np. widgety UI) i manipulowaƒá nimi, co stanowi podstawƒô modularno≈õci i rozszerzalno≈õci klienta.</p>
</section>
<section id="application-registerluafunctions">
<h1><code class="docutils literal notranslate"><span class="pre">Application::registerLuaFunctions()</span></code><a class="headerlink" href="#application-registerluafunctions" title="Link to this heading">#</a></h1>
</section>
<section id="opis-semantyczny">
<h1>Opis semantyczny<a class="headerlink" href="#opis-semantyczny" title="Link to this heading">#</a></h1>
<p>Metoda ta jest wywo≈Çywana jednorazowo podczas inicjalizacji aplikacji (<code class="docutils literal notranslate"><span class="pre">Application::init</span></code>). Przechodzi przez wszystkie g≈Ç√≥wne modu≈Çy frameworka (takie jak <code class="docutils literal notranslate"><span class="pre">Platform</span></code>, <code class="docutils literal notranslate"><span class="pre">Application</span></code>, <code class="docutils literal notranslate"><span class="pre">Crypt</span></code>, <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>, <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> itd.) i udostƒôpnia ich publiczne API w ≈õrodowisku Lua. Ka≈ºdy zarejestrowany element staje siƒô dostƒôpny w Lua jako zmienna globalna (np. <code class="docutils literal notranslate"><span class="pre">g_app</span></code>, <code class="docutils literal notranslate"><span class="pre">g_crypt</span></code>) lub jako klasa (np. <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>).</p>
</section>
<section id="zarejestrowane-elementy">
<h1>Zarejestrowane elementy<a class="headerlink" href="#zarejestrowane-elementy" title="Link to this heading">#</a></h1>
<p>Poni≈ºej znajduje siƒô lista zarejestrowanych element√≥w pogrupowanych wed≈Çug modu≈Ç√≥w.</p>
</section>
<section id="konwersje-i-narzedzia-globalne">
<h1>Konwersje i narzƒôdzia globalne<a class="headerlink" href="#konwersje-i-narzedzia-globalne" title="Link to this heading">#</a></h1>
<p>Rejestruje globalne funkcje pomocnicze w Lua do konwersji typ√≥w danych miƒôdzy stringami a obiektami C++ oraz inne narzƒôdzia.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">torect</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">stdext::from_string&lt;Rect&gt;</span></code></p></td>
<td class="text-left"><p>Konwertuje string na obiekt <code class="docutils literal notranslate"><span class="pre">Rect</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">topoint</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">stdext::from_string&lt;Point&gt;</span></code></p></td>
<td class="text-left"><p>Konwertuje string na obiekt <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ucwords</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">stdext::ucwords</span></code></p></td>
<td class="text-left"><p>Zamienia pierwszƒÖ literƒô ka≈ºdego s≈Çowa na wielkƒÖ.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">regexMatch</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">lambda</span></code></p></td>
<td class="text-left"><p>Wyszukuje dopasowania wyra≈ºe≈Ñ regularnych w stringu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="platform-g-platform">
<h1>Platform (<code class="docutils literal notranslate"><span class="pre">g_platform</span></code>)<a class="headerlink" href="#platform-g-platform" title="Link to this heading">#</a></h1>
<p>Udostƒôpnia funkcje zwiƒÖzane z systemem operacyjnym. Niekt√≥re funkcje sƒÖ dostƒôpne tylko gdy zdefiniowano <code class="docutils literal notranslate"><span class="pre">UNSAFE_LUA_FUNCTIONS</span></code>.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">spawnProcess</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Platform::spawnProcess</span></code></p></td>
<td class="text-left"><p>Uruchamia nowy proces (niebezpieczne).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getProcessId</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Platform::getProcessId</span></code></p></td>
<td class="text-left"><p>Zwraca ID bie≈ºƒÖcego procesu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openUrl</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Platform::openUrl</span></code></p></td>
<td class="text-left"><p>Otwiera podany URL w domy≈õlnej przeglƒÖdarce.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getOSName</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Platform::getOSName</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô systemu operacyjnego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="application-g-app">
<h1>Application (<code class="docutils literal notranslate"><span class="pre">g_app</span></code>)<a class="headerlink" href="#application-g-app" title="Link to this heading">#</a></h1>
<p>Udostƒôpnia API do zarzƒÖdzania g≈Ç√≥wnym obiektem aplikacji.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setName</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Application::setName</span></code></p></td>
<td class="text-left"><p>Ustawia nazwƒô aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isRunning</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Application::isRunning</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy aplikacja jest uruchomiona.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">exit</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Application::exit</span></code></p></td>
<td class="text-left"><p>Inicjuje proces zamykania aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBuildCompiler</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Application::getBuildCompiler</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô kompilatora u≈ºytego do budowy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isMobile</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Application::isMobile</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy aplikacja dzia≈Ça w trybie mobilnym.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="crypt-g-crypt">
<h1>Crypt (<code class="docutils literal notranslate"><span class="pre">g_crypt</span></code>)<a class="headerlink" href="#crypt-g-crypt" title="Link to this heading">#</a></h1>
<p>Udostƒôpnia funkcje kryptograficzne.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">genUUID</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Crypt::genUUID</span></code></p></td>
<td class="text-left"><p>Generuje unikalny identyfikator UUID.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">sha1Encode</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Crypt::sha1Encode</span></code></p></td>
<td class="text-left"><p>Koduje string za pomocƒÖ SHA1.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">rsaGenerateKey</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Crypt::rsaGenerateKey</span></code></p></td>
<td class="text-left"><p>Generuje klucze RSA.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="clock-g-clock">
<h1>Clock (<code class="docutils literal notranslate"><span class="pre">g_clock</span></code>)<a class="headerlink" href="#clock-g-clock" title="Link to this heading">#</a></h1>
<p>Udostƒôpnia funkcje zwiƒÖzane z czasem i zegarem systemowym.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">micros</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Clock::micros</span></code></p></td>
<td class="text-left"><p>Zwraca czas w mikrosekundach od uruchomienia aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">millis</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Clock::millis</span></code></p></td>
<td class="text-left"><p>Zwraca czas w milisekundach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">seconds</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Clock::seconds</span></code></p></td>
<td class="text-left"><p>Zwraca czas w sekundach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="configmanager-g-configs">
<h1>ConfigManager (<code class="docutils literal notranslate"><span class="pre">g_configs</span></code>)<a class="headerlink" href="#configmanager-g-configs" title="Link to this heading">#</a></h1>
<p>API do zarzƒÖdzania plikami konfiguracyjnymi.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getSettings</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigManager::getSettings</span></code></p></td>
<td class="text-left"><p>Zwraca g≈Ç√≥wny obiekt konfiguracyjny.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">load</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigManager::load</span></code></p></td>
<td class="text-left"><p>≈Åaduje plik konfiguracyjny.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="logger-g-logger">
<h1>Logger (<code class="docutils literal notranslate"><span class="pre">g_logger</span></code>)<a class="headerlink" href="#logger-g-logger" title="Link to this heading">#</a></h1>
<p>API do logowania wiadomo≈õci.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">log</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Logger::log</span></code></p></td>
<td class="text-left"><p>Loguje wiadomo≈õƒá z podanym poziomem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">debug</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Logger::debug</span></code></p></td>
<td class="text-left"><p>Loguje wiadomo≈õƒá na poziomie <code class="docutils literal notranslate"><span class="pre">LogDebug</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="resourcemanager-g-resources">
<h1>ResourceManager (<code class="docutils literal notranslate"><span class="pre">g_resources</span></code>)<a class="headerlink" href="#resourcemanager-g-resources" title="Link to this heading">#</a></h1>
<p>ZarzƒÖdzanie plikami i zasobami.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa w Lua</p></th>
<th class="head text-left"><p>Funkcja C++</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">fileExists</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ResourceManager::fileExists</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy plik istnieje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">readFileContents</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ResourceManager::readFileContentsSafe</span></code></p></td>
<td class="text-left"><p>Odczytuje zawarto≈õƒá pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">writeFileContents</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ResourceManager::writeFileContents</span></code></p></td>
<td class="text-left"><p>Zapisuje zawarto≈õƒá do pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">createArchive</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ResourceManager::createArchive</span></code></p></td>
<td class="text-left"><p>Tworzy archiwum ZIP z podanych plik√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>‚Ä¶</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="ui-i-grafika-zalezne-od-fw-graphics">
<h1>UI i Grafika (zale≈ºne od <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>)<a class="headerlink" href="#ui-i-grafika-zalezne-od-fw-graphics" title="Link to this heading">#</a></h1>
<p>Rejestruje klasy i funkcje zwiƒÖzane z interfejsem u≈ºytkownika, oknem, grafikƒÖ i fontami. To najobszerniejsza sekcja.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_app</span></code> (metody graficzne)</strong>: <code class="docutils literal notranslate"><span class="pre">setMaxFps</span></code>, <code class="docutils literal notranslate"><span class="pre">getFps</span></code>, <code class="docutils literal notranslate"><span class="pre">doScreenshot</span></code></p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_window</span></code></strong>: ZarzƒÖdzanie oknem aplikacji (<code class="docutils literal notranslate"><span class="pre">move</span></code>, <code class="docutils literal notranslate"><span class="pre">resize</span></code>, <code class="docutils literal notranslate"><span class="pre">setTitle</span></code>, <code class="docutils literal notranslate"><span class="pre">setFullscreen</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_mouse</span></code></strong>: ZarzƒÖdzanie kursorami myszy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_graphics</span></code></strong>: Informacje o sterowniku graficznym.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_textures</span></code></strong>: ZarzƒÖdzanie teksturami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_shaders</span></code></strong>: Tworzenie i zarzƒÖdzanie shaderami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_ui</span></code></strong>: G≈Ç√≥wny mened≈ºer UI (<code class="docutils literal notranslate"><span class="pre">loadUI</span></code>, <code class="docutils literal notranslate"><span class="pre">createWidget</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_fonts</span></code></strong>: ZarzƒÖdzanie fontami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">UIWidget</span></code></strong>: Rejestracja klasy bazowej dla wszystkich widget√≥w z ogromnƒÖ liczbƒÖ metod (np. <code class="docutils literal notranslate"><span class="pre">addChild</span></code>, <code class="docutils literal notranslate"><span class="pre">setRect</span></code>, <code class="docutils literal notranslate"><span class="pre">setText</span></code>, <code class="docutils literal notranslate"><span class="pre">setImageSource</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">UILayout</span></code> i pochodne</strong>: Rejestracja klas layout√≥w (<code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code></strong>: Rejestracja widgetu do edycji tekstu.</p></li>
</ul>
</section>
<section id="siec-zalezne-od-fw-net">
<h1>Sieƒá (zale≈ºne od <code class="docutils literal notranslate"><span class="pre">FW_NET</span></code>)<a class="headerlink" href="#siec-zalezne-od-fw-net" title="Link to this heading">#</a></h1>
<p>Rejestruje klasy do obs≈Çugi sieci.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Server</span></code></strong>: Do tworzenia serwer√≥w nas≈ÇuchujƒÖcych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Connection</span></code></strong>: Reprezentuje po≈ÇƒÖczenie TCP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Protocol</span></code></strong>: Implementuje protok√≥≈Ç komunikacyjny.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">InputMessage</span></code> / <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code></strong>: Do odczytu i zapisu pakiet√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_proxy</span></code></strong>: Mened≈ºer proxy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_http</span></code></strong>: Do zapyta≈Ñ HTTP/HTTPS i WebSocket.</p></li>
</ul>
</section>
<section id="dzwiek-zalezne-od-fw-sound">
<h1>D≈∫wiƒôk (zale≈ºne od <code class="docutils literal notranslate"><span class="pre">FW_SOUND</span></code>)<a class="headerlink" href="#dzwiek-zalezne-od-fw-sound" title="Link to this heading">#</a></h1>
<p>Rejestruje klasy i funkcje do obs≈Çugi d≈∫wiƒôku.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">g_sounds</span></code></strong>: Mened≈ºer d≈∫wiƒôku (<code class="docutils literal notranslate"><span class="pre">play</span></code>, <code class="docutils literal notranslate"><span class="pre">stopAll</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code></strong>: Kana≈Çy d≈∫wiƒôkowe.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SoundSource</span></code></strong>: ≈πr√≥d≈Ça d≈∫wiƒôku.</p></li>
</ul>
</section>
<section id="id13">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id13" title="Link to this heading">#</a></h1>
<p>Plik ten jest silnie powiƒÖzany z praktycznie ka≈ºdym modu≈Çem frameworka, poniewa≈º jego zadaniem jest udostƒôpnienie ich funkcjonalno≈õci w Lua. W≈ÇƒÖcza nag≈Ç√≥wki z:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics</span></code> (je≈õli <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code> jest zdefiniowane)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound</span></code> (je≈õli <code class="docutils literal notranslate"><span class="pre">FW_SOUND</span></code> jest zdefiniowane)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/input</span></code></p></li>
</ul>
<p>Jest to centralny punkt ≈ÇƒÖczƒÖcy warstwƒô C++ z warstwƒÖ skryptowƒÖ Lua.</p>
</section>
<hr class="docutils" />
<section id="resourcemanager-h">
<h1>üìÑ resourcemanager.h<a class="headerlink" href="#resourcemanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id14">
<h1>Opis og√≥lny<a class="headerlink" href="#id14" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">resourcemanager.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_resources</span></code>) odpowiedzialnym za zarzƒÖdzanie wszystkimi zasobami plik√≥w w aplikacji. Abstrakcjonuje dostƒôp do plik√≥w, umo≈ºliwiajƒÖc ich odczyt zar√≥wno z fizycznego systemu plik√≥w, jak i z wirtualnych archiw√≥w (np. <code class="docutils literal notranslate"><span class="pre">data.zip</span></code>) lub nawet z pamiƒôci (dane wbudowane w plik wykonywalny). Jest to kluczowy element, kt√≥ry umo≈ºliwia ≈Çatwe zarzƒÖdzanie zasobami gry, takimi jak grafiki, d≈∫wiƒôki, skrypty i pliki konfiguracyjne.</p>
</section>
<section id="klasa-resourcemanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code><a class="headerlink" href="#klasa-resourcemanager" title="Link to this heading">#</a></h1>
</section>
<section id="id15">
<h1>Opis semantyczny<a class="headerlink" href="#id15" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> inicjalizuje wirtualny system plik√≥w oparty na bibliotece <strong>PhysFS</strong>. Okre≈õla on katalogi robocze (<code class="docutils literal notranslate"><span class="pre">work</span> <span class="pre">dir</span></code>) i katalogi do zapisu (<code class="docutils literal notranslate"><span class="pre">write</span> <span class="pre">dir</span></code>), montuje archiwa z danymi i dostarcza ujednolicony interfejs do operacji na plikach. Klasa ta obs≈Çuguje r√≥wnie≈º szyfrowanie i deszyfrowanie plik√≥w w locie oraz mechanizmy aktualizacji klienta.</p>
</section>
<section id="metody-publiczne">
<h1>Metody publiczne<a class="headerlink" href="#metody-publiczne" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">init(const</span> <span class="pre">char</span> <span class="pre">*argv0)</span></code></p></td>
<td class="text-left"><p>Inicjalizuje PhysFS i ustawia ≈õcie≈ºkƒô do pliku binarnego aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Deinicjalizuje PhysFS.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">launchCorrect(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy istnieje nowsza wersja pliku wykonywalnego w katalogu zapisu i jƒÖ uruchamia (tylko Windows).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setupWriteDir(...)</span></code></p></td>
<td class="text-left"><p>Konfiguruje i montuje katalog zapisu dla danych u≈ºytkownika.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setup()</span></code></p></td>
<td class="text-left"><p>Wyszukuje i montuje g≈Ç√≥wny katalog roboczy (np. z plikiem <code class="docutils literal notranslate"><span class="pre">init.lua</span></code> lub archiwum <code class="docutils literal notranslate"><span class="pre">data.zip</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">loadDataFromSelf(...)</span></code></p></td>
<td class="text-left"><p>Pr√≥buje za≈Çadowaƒá dane (archiwum) wbudowane w sam plik wykonywalny.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">fileExists(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy plik istnieje w wirtualnym systemie plik√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">directoryExists(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy katalog istnieje.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">readFileContents(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje zawarto≈õƒá pliku jako string, opcjonalnie deszyfrujƒÖc go.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">writeFileContents(...)</span></code></p></td>
<td class="text-left"><p>Zapisuje string do pliku w katalogu zapisu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openFile(...)</span></code></p></td>
<td class="text-left"><p>Otwiera plik i zwraca wska≈∫nik do <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> do odczytu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">createFile(...)</span></code></p></td>
<td class="text-left"><p>Tworzy plik i zwraca wska≈∫nik do <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> do zapisu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">deleteFile(...)</span></code></p></td>
<td class="text-left"><p>Usuwa plik.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">makeDir(...)</span></code></p></td>
<td class="text-left"><p>Tworzy katalog.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">listDirectoryFiles(...)</span></code></p></td>
<td class="text-left"><p>Zwraca listƒô plik√≥w w danym katalogu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">resolvePath(...)</span></code></p></td>
<td class="text-left"><p>T≈Çumaczy ≈õcie≈ºkƒô relatywnƒÖ (np. wzglƒôdem bie≈ºƒÖcego skryptu Lua) na ≈õcie≈ºkƒô absolutnƒÖ w wirtualnym systemie plik√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getWorkDir()</span></code></p></td>
<td class="text-left"><p>Zwraca g≈Ç√≥wny katalog roboczy (zawsze ‚Äû/‚Äù).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getWriteDir()</span></code></p></td>
<td class="text-left"><p>Zwraca ≈õcie≈ºkƒô do katalogu zapisu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBinaryName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô pliku wykonywalnego aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">fileChecksum(...)</span></code></p></td>
<td class="text-left"><p>Oblicza sumƒô kontrolnƒÖ CRC32 dla pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">filesChecksums()</span></code></p></td>
<td class="text-left"><p>Zwraca mapƒô sum kontrolnych dla wszystkich plik√≥w w zamontowanym archiwum.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">selfChecksum()</span></code></p></td>
<td class="text-left"><p>Oblicza sumƒô kontrolnƒÖ CRC32 dla samego pliku wykonywalnego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">updateData(...)</span></code></p></td>
<td class="text-left"><p>Aktualizuje pliki w g≈Ç√≥wnym archiwum <code class="docutils literal notranslate"><span class="pre">data.zip</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">updateExecutable(...)</span></code></p></td>
<td class="text-left"><p>Zastƒôpuje plik wykonywalny nowƒÖ wersjƒÖ (np. po aktualizacji).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">createArchive(...)</span></code></p></td>
<td class="text-left"><p>Tworzy archiwum ZIP w pamiƒôci z podanej mapy plik√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">decompressArchive(...)</span></code></p></td>
<td class="text-left"><p>Dekompresuje archiwum ZIP (z pliku lub danych w pamiƒôci) i zwraca mapƒô plik√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">encrypt(...)</span></code></p></td>
<td class="text-left"><p>(Tylko z <code class="docutils literal notranslate"><span class="pre">WITH_ENCRYPTION</span></code>) Szyfruje pliki w katalogach <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">modules</span></code> itp.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setLayout(...)</span></code></p></td>
<td class="text-left"><p>Ustawia aktywny layout UI, co wp≈Çywa na rozwiƒÖzywanie ≈õcie≈ºek do zasob√≥w.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zmienne-prywatne">
<h1>Zmienne prywatne<a class="headerlink" href="#zmienne-prywatne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_binaryPath</span></code>: ≈öcie≈ºka do pliku wykonywalnego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_writeDir</span></code>: ≈öcie≈ºka do katalogu zapisu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_loadedFromMemory</span></code>: Flaga wskazujƒÖca, czy zasoby zosta≈Çy za≈Çadowane z pamiƒôci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_loadedFromArchive</span></code>: Flaga wskazujƒÖca, czy zasoby zosta≈Çy za≈Çadowane z archiwum.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_memoryData</span></code>: Wska≈∫nik na dane archiwum w pamiƒôci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_customEncryption</span></code>: Klucz do niestandardowego szyfrowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_layout</span></code>: Nazwa aktywnego layoutu.</p></li>
</ul>
</section>
<section id="id16">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id16" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Definicje podstawowych typ√≥w w rdzeniu frameworka.</p></li>
<li><p><strong>PhysFS</strong>: Biblioteka do obs≈Çugi wirtualnego systemu plik√≥w jest kluczowƒÖ zale≈ºno≈õciƒÖ.</p></li>
<li><p><strong>ZLIB, LibZip</strong>: U≈ºywane do obs≈Çugi archiw√≥w ZIP.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FileStream</span></code>: Klasa <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> tworzy i zwraca obiekty <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> do operacji na plikach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Application</span></code>: U≈ºywane do sprawdzania stanu aplikacji (np. czy jest zamykana).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Logger</span></code>: Do logowania b≈Çƒôd√≥w i informacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Crypt</span></code>: Do obliczania sum kontrolnych i (de)szyfrowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Http</span></code>: U≈ºywane w kontek≈õcie pobierania plik√≥w (<code class="docutils literal notranslate"><span class="pre">/downloads</span></code>).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="adaptiverenderer-cpp">
<h1>üìÑ adaptiverenderer.cpp<a class="headerlink" href="#adaptiverenderer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id17">
<h1>Opis og√≥lny<a class="headerlink" href="#id17" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">adaptiverenderer.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code>, kt√≥ra jest odpowiedzialna za dynamiczne dostosowywanie jako≈õci i wydajno≈õci renderowania grafiki w zale≈ºno≈õci od aktualnej liczby klatek na sekundƒô (FPS). Celem tego mechanizmu jest utrzymanie p≈Çynno≈õci dzia≈Çania aplikacji, zw≈Çaszcza na s≈Çabszych komputerach, poprzez redukcjƒô liczby renderowanych obiekt√≥w lub obni≈ºenie czƒôstotliwo≈õci aktualizacji, gdy FPS spada.</p>
</section>
<section id="id18">
<h1>Zmienne globalne<a class="headerlink" href="#id18" title="Link to this heading">#</a></h1>
</section>
<section id="g-adaptiverenderer">
<h1><code class="docutils literal notranslate"><span class="pre">g_adaptiveRenderer</span></code><a class="headerlink" href="#g-adaptiverenderer" title="Link to this heading">#</a></h1>
<p>Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code>, dostƒôpna w ca≈Çym projekcie.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">AdaptiveRenderer</span><span class="w"> </span><span class="n">g_adaptiveRenderer</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-adaptiverenderer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code><a class="headerlink" href="#klasa-adaptiverenderer" title="Link to this heading">#</a></h1>
</section>
<section id="void-newframe">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">newFrame()</span></code><a class="headerlink" href="#void-newframe" title="Link to this heading">#</a></h1>
</section>
<section id="id19">
<h1>Opis semantyczny<a class="headerlink" href="#id19" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana na poczƒÖtku ka≈ºdej klatki renderowania. Rejestruje czas bie≈ºƒÖcej klatki i na podstawie liczby klatek z ostatnich 5 sekund decyduje, czy nale≈ºy zmieniƒá poziom wydajno≈õci (zwiƒôkszyƒá lub zmniejszyƒá).</p>
</section>
<section id="dzialanie">
<h1>Dzia≈Çanie<a class="headerlink" href="#dzialanie" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Dodaje bie≈ºƒÖcy czas (w milisekundach) do kolejki <code class="docutils literal notranslate"><span class="pre">m_frames</span></code>.</p></li>
<li><p>Usuwa z kolejki klatki starsze ni≈º 5 sekund.</p></li>
<li><p>Je≈õli poziom wydajno≈õci jest narzucony (<code class="docutils literal notranslate"><span class="pre">m_forcedSpeed</span></code>), metoda ko≈Ñczy dzia≈Çanie.</p></li>
<li><p>Co 5 sekund (<code class="docutils literal notranslate"><span class="pre">m_update</span> <span class="pre">+</span> <span class="pre">5000</span> <span class="pre">&gt;</span> <span class="pre">now</span></code>):</p>
<ul class="simple">
<li><p>Pobiera maksymalny docelowy FPS z <code class="docutils literal notranslate"><span class="pre">g_app.getMaxFps()</span></code>.</p></li>
<li><p>Je≈õli aktualna liczba klatek jest ni≈ºsza ni≈º pr√≥g, zwiƒôksza poziom <code class="docutils literal notranslate"><span class="pre">m_speed</span></code> (obni≈ºa jako≈õƒá).</p></li>
<li><p>Je≈õli aktualna liczba klatek jest wy≈ºsza ni≈º pr√≥g, zmniejsza poziom <code class="docutils literal notranslate"><span class="pre">m_speed</span></code> (zwiƒôksza jako≈õƒá).</p></li>
<li><p>Poziom <code class="docutils literal notranslate"><span class="pre">m_speed</span></code> jest ograniczony do przedzia≈Çu <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">RenderSpeeds</span> <span class="pre">-</span> <span class="pre">1]</span></code>.</p></li>
</ul>
</li>
</ol>
</section>
<section id="void-refresh">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">refresh()</span></code><a class="headerlink" href="#void-refresh" title="Link to this heading">#</a></h1>
</section>
<section id="id20">
<h1>Opis semantyczny<a class="headerlink" href="#id20" title="Link to this heading">#</a></h1>
<p>Resetuje czas ostatniej aktualizacji poziomu wydajno≈õci, co powoduje, ≈ºe kolejna ocena FPS nastƒÖpi dopiero za 5 sekund.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">AdaptiveRenderer::refresh</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">m_update</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stdext</span><span class="o">::</span><span class="n">millis</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="metody-limitujace">
<h1>Metody limitujƒÖce<a class="headerlink" href="#metody-limitujace" title="Link to this heading">#</a></h1>
</section>
<section id="id21">
<h1>Opis semantyczny<a class="headerlink" href="#id21" title="Link to this heading">#</a></h1>
<p>Grupa metod zwracajƒÖcych limity dla r√≥≈ºnych aspekt√≥w renderowania w zale≈ºno≈õci od aktualnego poziomu <code class="docutils literal notranslate"><span class="pre">m_speed</span></code>. Im wy≈ºszy <code class="docutils literal notranslate"><span class="pre">m_speed</span></code>, tym ni≈ºsze limity i wiƒôksze interwa≈Çy, co przek≈Çada siƒô na mniejsze obciƒÖ≈ºenie procesora i karty graficznej.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">effetsLimit()</span></code></strong>: Zwraca maksymalnƒÖ liczbƒô efekt√≥w do renderowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">creaturesLimit()</span></code></strong>: Zwraca maksymalnƒÖ liczbƒô stworze≈Ñ.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">itemsLimit()</span></code></strong>: Zwraca maksymalnƒÖ liczbƒô przedmiot√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mapRenderInterval()</span></code></strong>: Zwraca interwa≈Ç (w milisekundach) ponownego renderowania mapy. <code class="docutils literal notranslate"><span class="pre">0</span></code> oznacza renderowanie w ka≈ºdej klatce.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">textsLimit()</span></code></strong>: Zwraca maksymalnƒÖ liczbƒô tekst√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">creaturesRenderInterval()</span></code></strong>: Zwraca interwa≈Ç renderowania stworze≈Ñ (obecnie nieu≈ºywane).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">allowFading()</span></code></strong>: Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli dozwolone jest p≈Çynne zanikanie/pojawianie siƒô obiekt√≥w (tylko na wy≈ºszych poziomach jako≈õci).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">foregroundUpdateInterval()</span></code></strong>: Zwraca interwa≈Ç aktualizacji pierwszego planu.</p></li>
</ul>
</section>
<section id="std-string-getdebuginfo">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getDebugInfo()</span></code><a class="headerlink" href="#std-string-getdebuginfo" title="Link to this heading">#</a></h1>
</section>
<section id="id22">
<h1>Opis semantyczny<a class="headerlink" href="#id22" title="Link to this heading">#</a></h1>
<p>Zwraca sformatowany ciƒÖg znak√≥w z informacjami debugowania, takimi jak aktualna liczba klatek, bie≈ºƒÖcy poziom <code class="docutils literal notranslate"><span class="pre">m_speed</span></code> i narzucony poziom <code class="docutils literal notranslate"><span class="pre">m_forcedSpeed</span></code>.</p>
</section>
<section id="id23">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id23" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/graphicalapplication.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_app.getMaxFps()</span></code> do okre≈õlenia docelowej liczby klatek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/format.h</span></code>: Do formatowania stringa w <code class="docutils literal notranslate"><span class="pre">getDebugInfo</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/extras.h</span></code>: Potencjalnie do flag debugowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/logger.h</span></code>: Do logowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="adaptiverenderer-h">
<h1>üìÑ adaptiverenderer.h<a class="headerlink" href="#adaptiverenderer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id24">
<h1>Opis og√≥lny<a class="headerlink" href="#id24" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">adaptiverenderer.h</span></code> jest plikiem nag≈Ç√≥wkowym dla klasy <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code>. Deklaruje on interfejs tej klasy, sta≈Çe oraz globalnƒÖ instancjƒô <code class="docutils literal notranslate"><span class="pre">g_adaptiveRenderer</span></code>. Umo≈ºliwia to innym czƒô≈õciom systemu odpytywanie o aktualne limity i ustawienia wydajno≈õci renderowania.</p>
</section>
<section id="id25">
<h1>Definicje i Makra<a class="headerlink" href="#id25" title="Link to this heading">#</a></h1>
</section>
<section id="constexpr-int-renderspeeds">
<h1><code class="docutils literal notranslate"><span class="pre">constexpr</span> <span class="pre">int</span> <span class="pre">RenderSpeeds</span></code><a class="headerlink" href="#constexpr-int-renderspeeds" title="Link to this heading">#</a></h1>
<p>Definiuje liczbƒô dostƒôpnych poziom√≥w wydajno≈õci renderowania.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">constexpr</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">RenderSpeeds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id26">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code><a class="headerlink" href="#id26" title="Link to this heading">#</a></h1>
</section>
<section id="id27">
<h1>Opis semantyczny<a class="headerlink" href="#id27" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code> zarzƒÖdza dynamicznym skalowaniem jako≈õci grafiki w celu utrzymania p≈Çynno≈õci dzia≈Çania aplikacji. Implementuje mechanizm, kt√≥ry na podstawie bie≈ºƒÖcej liczby klatek na sekundƒô (FPS) dostosowuje r√≥≈ºne parametry renderowania, takie jak limity renderowanych obiekt√≥w czy czƒôstotliwo≈õƒá od≈õwie≈ºania.</p>
</section>
<section id="id28">
<h1>Metody publiczne<a class="headerlink" href="#id28" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">newFrame()</span></code></p></td>
<td class="text-left"><p>Rejestruje nowƒÖ klatkƒô i aktualizuje poziom wydajno≈õci, je≈õli to konieczne.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">refresh()</span></code></p></td>
<td class="text-left"><p>Resetuje zegar aktualizacji, op√≥≈∫niajƒÖc nastƒôpnƒÖ ocenƒô wydajno≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">effetsLimit()</span></code></p></td>
<td class="text-left"><p>Zwraca limit dla renderowanych efekt√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">creaturesLimit()</span></code></p></td>
<td class="text-left"><p>Zwraca limit dla renderowanych stworze≈Ñ.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">itemsLimit()</span></code></p></td>
<td class="text-left"><p>Zwraca limit dla renderowanych przedmiot√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">textsLimit()</span></code></p></td>
<td class="text-left"><p>Zwraca limit dla renderowanych tekst√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">mapRenderInterval()</span></code></p></td>
<td class="text-left"><p>Zwraca interwa≈Ç (op√≥≈∫nienie) ponownego renderowania mapy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">creaturesRenderInterval()</span></code></p></td>
<td class="text-left"><p>Zwraca interwa≈Ç renderowania stworze≈Ñ.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">allowFading()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy dozwolone jest renderowanie efekt√≥w przej≈õcia (fading).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getLevel()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny poziom wydajno≈õci (<code class="docutils literal notranslate"><span class="pre">m_speed</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">foregroundUpdateInterval()</span></code></p></td>
<td class="text-left"><p>Zwraca interwa≈Ç aktualizacji pierwszego planu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getDebugInfo()</span></code></p></td>
<td class="text-left"><p>Zwraca informacje debugowania jako string.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setForcedLevel(int</span> <span class="pre">value)</span></code></p></td>
<td class="text-left"><p>Umo≈ºliwia rƒôczne ustawienie (narzucenie) poziomu wydajno≈õci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id29">
<h1>Zmienne prywatne<a class="headerlink" href="#id29" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_forcedSpeed</span></code>: Narzucony poziom wydajno≈õci (-1 oznacza automatyczny).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_speed</span></code>: Aktualny, automatycznie wyliczony poziom wydajno≈õci (od 0 do <code class="docutils literal notranslate"><span class="pre">RenderSpeeds-1</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_update</span></code>: Czas ostatniej aktualizacji poziomu wydajno≈õci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_frames</span></code>: Lista czas√≥w ostatnich klatek, u≈ºywana do obliczania FPS.</p></li>
</ul>
</section>
<section id="id30">
<h1>Zmienne globalne<a class="headerlink" href="#id30" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_adaptiveRenderer</span></code>: Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code>.</p></li>
</ul>
</section>
<section id="id31">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id31" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Plik w≈ÇƒÖcza <code class="docutils literal notranslate"><span class="pre">&lt;list&gt;</span></code> do przechowywania czas√≥w klatek.</p></li>
<li><p>Klasa jest u≈ºywana przez silnik renderujƒÖcy (np. w <code class="docutils literal notranslate"><span class="pre">client/mapview.cpp</span></code> - nieza≈ÇƒÖczony, ale mo≈ºna siƒô domy≈õlaƒá), aby dynamicznie ograniczaƒá liczbƒô rysowanych obiekt√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="application-cpp">
<h1>üìÑ application.cpp<a class="headerlink" href="#application-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id32">
<h1>Opis og√≥lny<a class="headerlink" href="#id32" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">application.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Application</span></code>, kt√≥ra jest bazowƒÖ klasƒÖ dla ca≈Çej aplikacji. Odpowiada za podstawowy cykl ≈ºycia programu, w tym inicjalizacjƒô, de-inicjalizacjƒô, obs≈Çugƒô sygna≈Ç√≥w systemowych oraz zarzƒÖdzanie g≈Ç√≥wnymi komponentami frameworka, takimi jak mened≈ºer zasob√≥w, mened≈ºer modu≈Ç√≥w, silnik Lua i po≈ÇƒÖczenia sieciowe.</p>
</section>
<section id="funkcje-globalne">
<h1>Funkcje globalne<a class="headerlink" href="#funkcje-globalne" title="Link to this heading">#</a></h1>
</section>
<section id="exitsignalhandler-int-sig">
<h1><code class="docutils literal notranslate"><span class="pre">exitSignalHandler(int</span> <span class="pre">sig)</span></code><a class="headerlink" href="#exitsignalhandler-int-sig" title="Link to this heading">#</a></h1>
<p>Funkcja obs≈ÇugujƒÖca sygna≈Çy systemowe <code class="docutils literal notranslate"><span class="pre">SIGTERM</span></code> i <code class="docutils literal notranslate"><span class="pre">SIGINT</span></code> (np. zamkniƒôcie terminala lub Ctrl+C). Po otrzymaniu sygna≈Çu, dodaje do kolejki zdarze≈Ñ wywo≈Çanie metody <code class="docutils literal notranslate"><span class="pre">Application::close()</span></code>, co pozwala na bezpieczne zamkniƒôcie aplikacji.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">exitSignalHandler</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">sig</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">signaled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="k">switch</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">SIGTERM</span><span class="p">:</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">SIGINT</span><span class="p">:</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">signaled</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">g_app</span><span class="p">.</span><span class="n">isStopping</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">g_app</span><span class="p">.</span><span class="n">isTerminated</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">signaled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">                </span><span class="n">g_dispatcher</span><span class="p">.</span><span class="n">addEvent</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Application</span><span class="o">::</span><span class="n">close</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">g_app</span><span class="p">));</span>
<span class="p">}</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="klasa-application">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Application</span></code><a class="headerlink" href="#klasa-application" title="Link to this heading">#</a></h1>
</section>
<section id="application-application">
<h1><code class="docutils literal notranslate"><span class="pre">Application::Application()</span></code><a class="headerlink" href="#application-application" title="Link to this heading">#</a></h1>
<p>Konstruktor, kt√≥ry ustawia domy≈õlne warto≈õci dla nazwy aplikacji, wersji, kodowania znak√≥w oraz flag stanu. Wykrywa r√≥wnie≈º, czy aplikacja dzia≈Ça na platformie mobilnej (Android).</p>
</section>
<section id="void-application-init-std-vector-std-string-args">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::init(std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code><a class="headerlink" href="#void-application-init-std-vector-std-string-args" title="Link to this heading">#</a></h1>
</section>
<section id="id33">
<h1>Opis semantyczny<a class="headerlink" href="#id33" title="Link to this heading">#</a></h1>
<p>Metoda inicjalizujƒÖca kluczowe komponenty aplikacji. Jest wywo≈Çywana na samym poczƒÖtku dzia≈Çania programu.</p>
</section>
<section id="id34">
<h1>Dzia≈Çanie<a class="headerlink" href="#id34" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Rejestruje <code class="docutils literal notranslate"><span class="pre">exitSignalHandler</span></code> do obs≈Çugi sygna≈Ç√≥w zamkniƒôcia.</p></li>
<li><p>Ustawia globalne locale.</p></li>
<li><p>Przetwarza argumenty wiersza polece≈Ñ za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_platform</span></code>.</p></li>
<li><p>Inicjalizuje <code class="docutils literal notranslate"><span class="pre">g_asyncDispatcher</span></code> do zada≈Ñ asynchronicznych.</p></li>
<li><p>Zapisuje opcje startowe i sprawdza, czy w≈ÇƒÖczono tryb mobilny (<code class="docutils literal notranslate"><span class="pre">-mobile</span></code>).</p></li>
<li><p>Inicjalizuje mened≈ºera konfiguracji (<code class="docutils literal notranslate"><span class="pre">g_configs</span></code>).</p></li>
<li><p>Inicjalizuje silnik Lua (<code class="docutils literal notranslate"><span class="pre">g_lua</span></code>) i rejestruje funkcje C++ (<code class="docutils literal notranslate"><span class="pre">registerLuaFunctions</span></code>).</p></li>
<li><p>Inicjalizuje mened≈ºera proxy (<code class="docutils literal notranslate"><span class="pre">g_proxy</span></code>).</p></li>
</ol>
</section>
<section id="void-application-deinit">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::deinit()</span></code><a class="headerlink" href="#void-application-deinit" title="Link to this heading">#</a></h1>
</section>
<section id="id35">
<h1>Opis semantyczny<a class="headerlink" href="#id35" title="Link to this heading">#</a></h1>
<p>Metoda de-inicjalizujƒÖca, wywo≈Çywana przed zamkniƒôciem aplikacji. Dba o poprawne zwolnienie zasob√≥w w odwrotnej kolejno≈õci do inicjalizacji.</p>
</section>
<section id="id36">
<h1>Dzia≈Çanie<a class="headerlink" href="#id36" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Wywo≈Çuje lua <code class="docutils literal notranslate"><span class="pre">g_app.onTerminate</span></code>.</p></li>
<li><p>Od≈Çadowuje wszystkie modu≈Çy.</p></li>
<li><p>Uruchamia garbage collector Lua, aby zwolniƒá referencje do obiekt√≥w.</p></li>
<li><p>Przetwarza pozosta≈Çe zdarzenia z kolejki.</p></li>
<li><p>Wy≈ÇƒÖcza <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>.</p></li>
</ol>
</section>
<section id="void-application-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::terminate()</span></code><a class="headerlink" href="#void-application-terminate" title="Link to this heading">#</a></h1>
</section>
<section id="id37">
<h1>Opis semantyczny<a class="headerlink" href="#id37" title="Link to this heading">#</a></h1>
<p>Finalny etap zamykania aplikacji. Zwalnia zasoby, kt√≥re muszƒÖ byƒá zwolnione jako ostatnie.</p>
</section>
<section id="id38">
<h1>Dzia≈Çanie<a class="headerlink" href="#id38" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Zamyka wszystkie po≈ÇƒÖczenia sieciowe.</p></li>
<li><p>Terminuje mened≈ºera konfiguracji.</p></li>
<li><p>Terminuje mened≈ºera zasob√≥w.</p></li>
<li><p>Terminuje silnik Lua.</p></li>
<li><p>Terminuje mened≈ºera proxy.</p></li>
<li><p>Resetuje obs≈Çugƒô sygna≈Ç√≥w systemowych do domy≈õlnej.</p></li>
</ol>
</section>
<section id="void-application-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::poll()</span></code><a class="headerlink" href="#void-application-poll" title="Link to this heading">#</a></h1>
</section>
<section id="id39">
<h1>Opis semantyczny<a class="headerlink" href="#id39" title="Link to this heading">#</a></h1>
<p>Przetwarza zdarzenia sieciowe i zdarzenia z g≈Ç√≥wnej kolejki (<code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>). Jest to serce pƒôtli zdarze≈Ñ aplikacji.</p>
</section>
<section id="void-application-exit">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::exit()</span></code><a class="headerlink" href="#void-application-exit" title="Link to this heading">#</a></h1>
<p>Inicjuje proces zamykania aplikacji poprzez ustawienie flagi <code class="docutils literal notranslate"><span class="pre">m_stopping</span></code> i wywo≈Çanie lua <code class="docutils literal notranslate"><span class="pre">g_app.onExit</span></code>.</p>
</section>
<section id="void-application-quick-exit">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::quick_exit()</span></code><a class="headerlink" href="#void-application-quick-exit" title="Link to this heading">#</a></h1>
<p>Natychmiastowo zamyka aplikacjƒô z kodem 0, bez zwalniania zasob√≥w.</p>
</section>
<section id="void-application-close">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::close()</span></code><a class="headerlink" href="#void-application-close" title="Link to this heading">#</a></h1>
<p>Pr√≥buje zamknƒÖƒá aplikacjƒô, wywo≈ÇujƒÖc lua <code class="docutils literal notranslate"><span class="pre">g_app.onClose</span></code>. Je≈õli skrypt zwr√≥ci <code class="docutils literal notranslate"><span class="pre">false</span></code> (lub nic), wywo≈Çywana jest metoda <code class="docutils literal notranslate"><span class="pre">exit()</span></code>.</p>
</section>
<section id="void-application-restart-i-void-application-restartargs-const-std-vector-std-string-args">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::restart()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::restartArgs(const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code><a class="headerlink" href="#void-application-restart-i-void-application-restartargs-const-std-vector-std-string-args" title="Link to this heading">#</a></h1>
<p>Metody do restartowania aplikacji. UruchamiajƒÖ nowƒÖ instancjƒô procesu i natychmiast zamykajƒÖ bie≈ºƒÖcƒÖ. U≈ºywajƒÖ <code class="docutils literal notranslate"><span class="pre">boost::process</span></code> do stworzenia nowego procesu. Niedostƒôpne na Androidzie i w wersji <code class="docutils literal notranslate"><span class="pre">FREE_VERSION</span></code>.</p>
</section>
<section id="std-string-application-getos">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Application::getOs()</span></code><a class="headerlink" href="#std-string-application-getos" title="Link to this heading">#</a></h1>
<p>Zwraca nazwƒô bie≈ºƒÖcego systemu operacyjnego (‚Äûandroid‚Äù, ‚Äûwindows‚Äù, ‚Äûmac‚Äù, ‚Äûlinux‚Äù).</p>
</section>
<section id="id40">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id40" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Do operacji na czasie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>, <code class="docutils literal notranslate"><span class="pre">modulemanager.h</span></code>, <code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code>, <code class="docutils literal notranslate"><span class="pre">configmanager.h</span></code>: G≈Ç√≥wne modu≈Çy frameworka, kt√≥rymi zarzƒÖdza.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">asyncdispatcher.h</span></code>: Do obs≈Çugi zada≈Ñ w tle.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: Do interakcji z Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Do operacji specyficznych dla platformy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/http.h</span></code>: Do obs≈Çugi HTTP.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/connection.h</span></code>: Do zarzƒÖdzania po≈ÇƒÖczeniami sieciowymi.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy.h</span></code>: Do zarzƒÖdzania proxy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/process.hpp</span></code>: Do restartowania aplikacji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="application-h">
<h1>üìÑ application.h<a class="headerlink" href="#application-h" title="Link to this heading">#</a></h1>
</section>
<section id="id41">
<h1>Opis og√≥lny<a class="headerlink" href="#id41" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">application.h</span></code> jest plikiem nag≈Ç√≥wkowym dla klasy <code class="docutils literal notranslate"><span class="pre">Application</span></code>. Deklaruje on interfejs tej klasy, jej sk≈Çadowe oraz zawiera dyrektywy do≈ÇƒÖczajƒÖce jednƒÖ z dw√≥ch mo≈ºliwych implementacji aplikacji: <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> lub <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>, w zale≈ºno≈õci od tego, czy zdefiniowano flagƒô <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>.</p>
</section>
<section id="id42">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Application</span></code><a class="headerlink" href="#id42" title="Link to this heading">#</a></h1>
</section>
<section id="id43">
<h1>Opis semantyczny<a class="headerlink" href="#id43" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Application</span></code> jest abstrakcyjnƒÖ klasƒÖ bazowƒÖ, kt√≥ra definiuje podstawowy interfejs i cykl ≈ºycia aplikacji. Zawiera metody do inicjalizacji, de-inicjalizacji, zamykania, restartowania oraz dostarcza informacji o samej aplikacji, takich jak nazwa, wersja czy system operacyjny.</p>
</section>
<section id="id44">
<h1>Metody publiczne<a class="headerlink" href="#id44" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">init(...)</span></code></p></td>
<td class="text-left"><p>Inicjalizuje aplikacjƒô.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">deinit()</span></code></p></td>
<td class="text-left"><p>Zwalnia zasoby przed zamkniƒôciem.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Finalizuje zamykanie aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">run()</span> <span class="pre">=</span> <span class="pre">0</span></code></p></td>
<td class="text-left"><p>Czysto wirtualna metoda, kt√≥ra musi byƒá zaimplementowana przez klasy pochodne. Zawiera g≈Ç√≥wnƒÖ pƒôtlƒô programu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">exit()</span></code></p></td>
<td class="text-left"><p>Rozpoczyna proces zamykania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">quick_exit()</span></code></p></td>
<td class="text-left"><p>Natychmiastowe zamkniƒôcie programu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">close()</span></code></p></td>
<td class="text-left"><p>Pr√≥buje zamknƒÖƒá program (mo≈ºe byƒá przerwane przez skrypt Lua).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">restart()</span></code></p></td>
<td class="text-left"><p>Restartuje aplikacjƒô.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">restartArgs(...)</span></code></p></td>
<td class="text-left"><p>Restartuje aplikacjƒô z nowymi argumentami.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setName(...)</span></code></p></td>
<td class="text-left"><p>Ustawia nazwƒô aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setCompactName(...)</span></code></p></td>
<td class="text-left"><p>Ustawia skr√≥conƒÖ nazwƒô aplikacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setVersion(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wersjƒô aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isRunning()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli aplikacja jest w g≈Ç√≥wnej pƒôtli.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isStopping()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli trwa proces zamykania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isTerminated()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli aplikacja zosta≈Ça zako≈Ñczona.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">getName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildCompiler()</span></code></p></td>
<td class="text-left"><p>Zwraca informacje o kompilatorze.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildDate()</span></code></p></td>
<td class="text-left"><p>Zwraca datƒô kompilacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildRevision()</span></code></p></td>
<td class="text-left"><p>Zwraca numer rewizji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildCommit()</span></code></p></td>
<td class="text-left"><p>Zwraca hash commita Git.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildType()</span></code></p></td>
<td class="text-left"><p>Zwraca typ budowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getBuildArch()</span></code></p></td>
<td class="text-left"><p>Zwraca architekturƒô.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getAuthor()</span></code></p></td>
<td class="text-left"><p>Zwraca autora.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getOs()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô systemu operacyjnego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getStartupOptions()</span></code></p></td>
<td class="text-left"><p>Zwraca opcje startowe.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isMobile()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli aplikacja dzia≈Ça w trybie mobilnym.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-chronione">
<h1>Metody chronione<a class="headerlink" href="#metody-chronione" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">registerLuaFunctions()</span></code>: Deklaracja metody odpowiedzialnej za bindowanie funkcji C++ do Lua.</p></li>
</ul>
</section>
<section id="zmienne-chronione">
<h1>Zmienne chronione<a class="headerlink" href="#zmienne-chronione" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_charset</span></code>: Kodowanie znak√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_appName</span></code>, <code class="docutils literal notranslate"><span class="pre">m_appCompactName</span></code>, <code class="docutils literal notranslate"><span class="pre">m_appVersion</span></code>: Informacje o aplikacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_startupOptions</span></code>: Opcje startowe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_running</span></code>, <code class="docutils literal notranslate"><span class="pre">m_stopping</span></code>, <code class="docutils literal notranslate"><span class="pre">m_terminated</span></code>, <code class="docutils literal notranslate"><span class="pre">m_mobile</span></code>: Flagi stanu aplikacji.</p></li>
</ul>
</section>
<section id="dolaczanie-implementacji">
<h1>Do≈ÇƒÖczanie implementacji<a class="headerlink" href="#dolaczanie-implementacji" title="Link to this heading">#</a></h1>
<p>W zale≈ºno≈õci od flagi <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>, do≈ÇƒÖczany jest jeden z dw√≥ch plik√≥w:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">graphicalapplication.h</span></code>: Je≈õli <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code> jest zdefiniowane, aplikacja bƒôdzie mia≈Ça interfejs graficzny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">consoleapplication.h</span></code>: W przeciwnym razie, bƒôdzie to aplikacja konsolowa.</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp"># ifdef FW_GRAPHICS</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&quot;graphicalapplication.h&quot;</span>
<span class="cp"># else</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&quot;consoleapplication.h&quot;</span>
<span class="cp"># endif</span>
</pre></div>
</div>
</section>
<section id="id45">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id45" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Zawiera podstawowe definicje i nag≈Ç√≥wki u≈ºywane w ca≈Çym projekcie.</p></li>
<li><p>Klasa jest oznaczona adnotacjƒÖ <code class="docutils literal notranslate"><span class="pre">&#64;bindsingleton</span> <span class="pre">g_app</span></code>, co sugeruje, ≈ºe jej instancja bƒôdzie dostƒôpna w Lua pod globalnƒÖ nazwƒÖ <code class="docutils literal notranslate"><span class="pre">g_app</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="asyncdispatcher-h">
<h1>üìÑ asyncdispatcher.h<a class="headerlink" href="#asyncdispatcher-h" title="Link to this heading">#</a></h1>
</section>
<section id="id46">
<h1>Opis og√≥lny<a class="headerlink" href="#id46" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">asyncdispatcher.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code>, kt√≥ra zarzƒÖdza pulƒÖ wƒÖtk√≥w roboczych do wykonywania zada≈Ñ asynchronicznie. Jest to kluczowy komponent do odciƒÖ≈ºenia g≈Ç√≥wnego wƒÖtku aplikacji (wƒÖtku zdarze≈Ñ) z operacji, kt√≥re mogƒÖ zajƒÖƒá du≈ºo czasu, takich jak operacje wej≈õcia/wyj≈õcia na plikach, zapytania sieciowe czy intensywne obliczenia.</p>
</section>
<section id="klasa-asyncdispatcher">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code><a class="headerlink" href="#klasa-asyncdispatcher" title="Link to this heading">#</a></h1>
</section>
<section id="id47">
<h1>Opis semantyczny<a class="headerlink" href="#id47" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code> implementuje prosty model producent-konsument. Zadania (funkcje do wykonania) sƒÖ dodawane do kolejki, a wƒÖtki robocze pobierajƒÖ je i wykonujƒÖ. Klasa u≈ºywa <code class="docutils literal notranslate"><span class="pre">std::thread</span></code>, <code class="docutils literal notranslate"><span class="pre">std::mutex</span></code> i <code class="docutils literal notranslate"><span class="pre">std::condition_variable</span></code> do synchronizacji.</p>
</section>
<section id="id48">
<h1>Metody publiczne<a class="headerlink" href="#id48" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje dyspozytor i tworzy pierwszy wƒÖtek roboczy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje wszystkie wƒÖtki i czy≈õci kolejkƒô zada≈Ñ.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">spawn_thread()</span></code></p></td>
<td class="text-left"><p>Tworzy i uruchamia nowy wƒÖtek roboczy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">stop()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje dzia≈Çanie wszystkich wƒÖtk√≥w roboczych.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;class</span> <span class="pre">F&gt;</span> <span class="pre">schedule(const</span> <span class="pre">F&amp;</span> <span class="pre">task)</span></code></p></td>
<td class="text-left"><p>Planuje wykonanie zadania i zwraca <code class="docutils literal notranslate"><span class="pre">std::shared_future</span></code>, kt√≥re pozwoli uzyskaƒá wynik zadania w przysz≈Ço≈õci. U≈ºywa <code class="docutils literal notranslate"><span class="pre">std::promise</span></code> do przekazania wyniku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">dispatch(std::function&lt;void()&gt;</span> <span class="pre">f)</span></code></p></td>
<td class="text-left"><p>Dodaje zadanie do kolejki bez oczekiwania na wynik (fire-and-forget).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="przyklad-uzycia-schedule">
<h1>Przyk≈Çad u≈ºycia <code class="docutils literal notranslate"><span class="pre">schedule</span></code><a class="headerlink" href="#przyklad-uzycia-schedule" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// WƒÖtek g≈Ç√≥wny</span>
<span class="k">auto</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g_asyncDispatcher</span><span class="p">.</span><span class="n">schedule</span><span class="p">([]()</span><span class="w"> </span><span class="err">‚Üí</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// D≈Çugotrwa≈Ça operacja</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">seconds</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// P√≥≈∫niej, w wƒÖtku g≈Ç√≥wnym</span>
<span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">future</span><span class="p">.</span><span class="n">get</span><span class="p">();</span><span class="w"> </span><span class="c1">// Czeka na zako≈Ñczenie zadania i pobiera wynik</span>
</pre></div>
</div>
</section>
<section id="przyklad-uzycia-dispatch">
<h1>Przyk≈Çad u≈ºycia <code class="docutils literal notranslate"><span class="pre">dispatch</span></code><a class="headerlink" href="#przyklad-uzycia-dispatch" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// WƒÖtek g≈Ç√≥wny</span>
<span class="n">g_asyncDispatcher</span><span class="p">.</span><span class="n">dispatch</span><span class="p">([]()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Operacja w tle, kt√≥rej wynik nie jest bezpo≈õrednio potrzebny</span>
<span class="w">    </span><span class="n">save_game_state</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="id49">
<h1>Metody chronione<a class="headerlink" href="#id49" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">exec_loop()</span></code>: G≈Ç√≥wna pƒôtla wykonywana przez ka≈ºdy wƒÖtek roboczy. Czeka na zadania w kolejce i wykonuje je.</p></li>
</ul>
</section>
<section id="id50">
<h1>Zmienne prywatne<a class="headerlink" href="#id50" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_tasks</span></code>: Lista (kolejka) zada≈Ñ do wykonania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_threads</span></code>: Lista wƒÖtk√≥w roboczych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>: Mutex do ochrony dostƒôpu do <code class="docutils literal notranslate"><span class="pre">m_tasks</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_condition</span></code>: Zmienna warunkowa do powiadamiania wƒÖtk√≥w o nowych zadaniach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_running</span></code>: Flaga kontrolujƒÖca, czy wƒÖtki powinny kontynuowaƒá pracƒô.</p></li>
</ul>
</section>
<section id="id51">
<h1>Zmienne globalne<a class="headerlink" href="#id51" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_asyncDispatcher</span></code>: Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code>.</p></li>
</ul>
</section>
<section id="id52">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id52" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Podstawowe deklaracje frameworka.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/thread.h</span></code>: Zawiera nag≈Ç√≥wki <code class="docutils literal notranslate"><span class="pre">&lt;thread&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;mutex&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;condition_variable&gt;</span></code>.</p></li>
<li><p>Jest u≈ºywany przez inne modu≈Çy do wykonywania operacji w tle, np. <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> do zapisu zrzut√≥w ekranu, czy <code class="docutils literal notranslate"><span class="pre">Http</span></code> do zapyta≈Ñ sieciowych (chocia≈º <code class="docutils literal notranslate"><span class="pre">Http</span></code> u≈ºywa w≈Çasnego <code class="docutils literal notranslate"><span class="pre">io_service</span></code> Boost.Asio, <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code> mo≈ºe byƒá u≈ºywany do przetwarzania wynik√≥w).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="binarytree-cpp">
<h1>üìÑ binarytree.cpp<a class="headerlink" href="#binarytree-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id53">
<h1>Opis og√≥lny<a class="headerlink" href="#id53" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">binarytree.cpp</span></code> zawiera implementacjƒô klas <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> i <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code>. Te klasy s≈Çu≈ºƒÖ do odczytu i zapisu danych w niestandardowym, hierarchicznym formacie binarnym, kt√≥ry przypomina drzewo. Format ten jest u≈ºywany w kliencie Tibii do przechowywania danych, np. plik√≥w map (<code class="docutils literal notranslate"><span class="pre">.otbm</span></code>).</p>
</section>
<section id="klasa-binarytree">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code><a class="headerlink" href="#klasa-binarytree" title="Link to this heading">#</a></h1>
</section>
<section id="binarytree-binarytree-const-filestreamptr-fin">
<h1><code class="docutils literal notranslate"><span class="pre">BinaryTree::BinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code><a class="headerlink" href="#binarytree-binarytree-const-filestreamptr-fin" title="Link to this heading">#</a></h1>
<p>Konstruktor, kt√≥ry przyjmuje wska≈∫nik do strumienia pliku (<code class="docutils literal notranslate"><span class="pre">FileStream</span></code>) i zapamiƒôtuje pozycjƒô startowƒÖ, od kt√≥rej zaczyna siƒô wƒôze≈Ç drzewa.</p>
</section>
<section id="void-binarytree-skipnodes">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BinaryTree::skipNodes()</span></code><a class="headerlink" href="#void-binarytree-skipnodes" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza, kt√≥ra przeskakuje przez zagnie≈ºd≈ºone wƒôz≈Çy w strumieniu danych, aby szybko przej≈õƒá do ko≈Ñca bie≈ºƒÖcego wƒôz≈Ça bez potrzeby jego pe≈Çnego parsowania.</p>
</section>
<section id="void-binarytree-unserialize">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BinaryTree::unserialize()</span></code><a class="headerlink" href="#void-binarytree-unserialize" title="Link to this heading">#</a></h1>
</section>
<section id="id54">
<h1>Opis semantyczny<a class="headerlink" href="#id54" title="Link to this heading">#</a></h1>
<p>To kluczowa metoda, kt√≥ra odczytuje ‚Äûp≈Çaskie‚Äù dane (w≈Ça≈õciwo≈õci) bie≈ºƒÖcego wƒôz≈Ça ze strumienia pliku i zapisuje je do wewnƒôtrznego bufora (<code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>). Operacja ta jest wykonywana tylko raz (lazy loading), przy pierwszym dostƒôpie do danych wƒôz≈Ça. Deserializacja polega na odczytywaniu bajt√≥w a≈º do napotkania znacznika ko≈Ñca wƒôz≈Ça (<code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_END</span></code>), z uwzglƒôdnieniem znak√≥w specjalnych (<code class="docutils literal notranslate"><span class="pre">BINARYTREE_ESCAPE_CHAR</span></code>).</p>
</section>
<section id="binarytreevec-binarytree-getchildren">
<h1><code class="docutils literal notranslate"><span class="pre">BinaryTreeVec</span> <span class="pre">BinaryTree::getChildren()</span></code><a class="headerlink" href="#binarytreevec-binarytree-getchildren" title="Link to this heading">#</a></h1>
<p>Zwraca wektor wska≈∫nik√≥w do <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code>, reprezentujƒÖcych wszystkie bezpo≈õrednie dzieci bie≈ºƒÖcego wƒôz≈Ça. Przeszukuje strumie≈Ñ w poszukiwaniu znacznik√≥w poczƒÖtku wƒôz≈Ça (<code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_START</span></code>).</p>
</section>
<section id="metody-odczytu-danych-getu8-getu16-getstring-etc">
<h1>Metody odczytu danych (<code class="docutils literal notranslate"><span class="pre">getU8</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16</span></code>, <code class="docutils literal notranslate"><span class="pre">getString</span></code>, etc.)<a class="headerlink" href="#metody-odczytu-danych-getu8-getu16-getstring-etc" title="Link to this heading">#</a></h1>
<p>SƒÖ to metody do odczytywania konkretnych typ√≥w danych z wewnƒôtrznego, zdeserializowanego bufora. Ka≈ºde wywo≈Çanie przesuwa wska≈∫nik odczytu (<code class="docutils literal notranslate"><span class="pre">m_pos</span></code>). Je≈õli bufor nie zosta≈Ç jeszcze wype≈Çniony, najpierw wywo≈Çywana jest metoda <code class="docutils literal notranslate"><span class="pre">unserialize()</span></code>.</p>
</section>
<section id="klasa-outputbinarytree">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code><a class="headerlink" href="#klasa-outputbinarytree" title="Link to this heading">#</a></h1>
</section>
<section id="outputbinarytree-outputbinarytree-const-filestreamptr-fin">
<h1><code class="docutils literal notranslate"><span class="pre">OutputBinaryTree::OutputBinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code><a class="headerlink" href="#outputbinarytree-outputbinarytree-const-filestreamptr-fin" title="Link to this heading">#</a></h1>
<p>Konstruktor, kt√≥ry przyjmuje strumie≈Ñ pliku do zapisu i natychmiast rozpoczyna nowy wƒôze≈Ç, zapisujƒÖc znacznik <code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_START</span></code>.</p>
</section>
<section id="metody-zapisu-danych-addu8-addu16-addstring-etc">
<h1>Metody zapisu danych (<code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16</span></code>, <code class="docutils literal notranslate"><span class="pre">addString</span></code>, etc.)<a class="headerlink" href="#metody-zapisu-danych-addu8-addu16-addstring-etc" title="Link to this heading">#</a></h1>
<p>Metody te s≈Çu≈ºƒÖ do zapisywania danych do strumienia. U≈ºywajƒÖ metody <code class="docutils literal notranslate"><span class="pre">write</span></code>, aby zapewniƒá poprawne ‚Äûuciekanie‚Äù (escaping) znak√≥w specjalnych (<code class="docutils literal notranslate"><span class="pre">0xFD</span></code>, <code class="docutils literal notranslate"><span class="pre">0xFE</span></code>, <code class="docutils literal notranslate"><span class="pre">0xFF</span></code>).</p>
</section>
<section id="void-outputbinarytree-startnode-uint8-node">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::startNode(uint8</span> <span class="pre">node)</span></code><a class="headerlink" href="#void-outputbinarytree-startnode-uint8-node" title="Link to this heading">#</a></h1>
<p>Rozpoczyna nowy, zagnie≈ºd≈ºony wƒôze≈Ç wewnƒÖtrz bie≈ºƒÖcego wƒôz≈Ça.</p>
</section>
<section id="void-outputbinarytree-endnode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::endNode()</span></code><a class="headerlink" href="#void-outputbinarytree-endnode" title="Link to this heading">#</a></h1>
<p>Ko≈Ñczy bie≈ºƒÖcy wƒôze≈Ç, zapisujƒÖc znacznik <code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_END</span></code>.</p>
</section>
<section id="void-outputbinarytree-write-const-uint8-data-size-t-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::write(const</span> <span class="pre">uint8*</span> <span class="pre">data,</span> <span class="pre">size_t</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-outputbinarytree-write-const-uint8-data-size-t-size" title="Link to this heading">#</a></h1>
<p>Prywatna metoda pomocnicza, kt√≥ra zapisuje surowe dane do strumienia, dodajƒÖc znak <code class="docutils literal notranslate"><span class="pre">BINARYTREE_ESCAPE_CHAR</span></code> przed ka≈ºdym bajtem, kt√≥ry jest znakiem specjalnym.</p>
</section>
<section id="id55">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id55" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/binarytree.h</span></code>: Plik nag≈Ç√≥wkowy dla tych klas.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/filestream.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> do operacji na plikach.</p></li>
<li><p>Format danych, kt√≥ry obs≈ÇugujƒÖ te klasy, jest specyficzny dla klienta Tibii i jest u≈ºywany m.in. do parsowania plik√≥w <code class="docutils literal notranslate"><span class="pre">.otbm</span></code> (mapy).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="asyncdispatcher-cpp">
<h1>üìÑ asyncdispatcher.cpp<a class="headerlink" href="#asyncdispatcher-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id56">
<h1>Opis og√≥lny<a class="headerlink" href="#id56" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">asyncdispatcher.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code>, kt√≥ra zarzƒÖdza asynchronicznym wykonywaniem zada≈Ñ w tle. Jest to realizacja mechanizmu puli wƒÖtk√≥w, kt√≥ry pozwala na odciƒÖ≈ºenie g≈Ç√≥wnego wƒÖtku aplikacji.</p>
</section>
<section id="id57">
<h1>Zmienne globalne<a class="headerlink" href="#id57" title="Link to this heading">#</a></h1>
</section>
<section id="g-asyncdispatcher">
<h1><code class="docutils literal notranslate"><span class="pre">g_asyncDispatcher</span></code><a class="headerlink" href="#g-asyncdispatcher" title="Link to this heading">#</a></h1>
<p>Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code>, zapewniajƒÖca scentralizowany dostƒôp do puli wƒÖtk√≥w z dowolnego miejsca w aplikacji.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">AsyncDispatcher</span><span class="w"> </span><span class="n">g_asyncDispatcher</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id58">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code><a class="headerlink" href="#id58" title="Link to this heading">#</a></h1>
</section>
<section id="void-asyncdispatcher-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::init()</span></code><a class="headerlink" href="#void-asyncdispatcher-init" title="Link to this heading">#</a></h1>
</section>
<section id="id59">
<h1>Opis semantyczny<a class="headerlink" href="#id59" title="Link to this heading">#</a></h1>
<p>Inicjalizuje dyspozytor, wywo≈ÇujƒÖc <code class="docutils literal notranslate"><span class="pre">spawn_thread()</span></code> w celu utworzenia i uruchomienia pierwszego wƒÖtku roboczego.</p>
</section>
<section id="void-asyncdispatcher-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::terminate()</span></code><a class="headerlink" href="#void-asyncdispatcher-terminate" title="Link to this heading">#</a></h1>
</section>
<section id="id60">
<h1>Opis semantyczny<a class="headerlink" href="#id60" title="Link to this heading">#</a></h1>
<p>Zamyka dyspozytor. Zatrzymuje wszystkie wƒÖtki robocze i czy≈õci kolejkƒô zada≈Ñ.</p>
</section>
<section id="void-asyncdispatcher-spawn-thread">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::spawn_thread()</span></code><a class="headerlink" href="#void-asyncdispatcher-spawn-thread" title="Link to this heading">#</a></h1>
</section>
<section id="id61">
<h1>Opis semantyczny<a class="headerlink" href="#id61" title="Link to this heading">#</a></h1>
<p>Tworzy nowy <code class="docutils literal notranslate"><span class="pre">std::thread</span></code>, kt√≥ry rozpoczyna wykonywanie pƒôtli <code class="docutils literal notranslate"><span class="pre">exec_loop()</span></code>. WƒÖtek jest dodawany do listy <code class="docutils literal notranslate"><span class="pre">m_threads</span></code>. Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_running</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
<section id="void-asyncdispatcher-stop">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::stop()</span></code><a class="headerlink" href="#void-asyncdispatcher-stop" title="Link to this heading">#</a></h1>
</section>
<section id="id62">
<h1>Opis semantyczny<a class="headerlink" href="#id62" title="Link to this heading">#</a></h1>
<p>Bezpiecznie zatrzymuje wszystkie wƒÖtki robocze. Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_running</span></code> na <code class="docutils literal notranslate"><span class="pre">false</span></code>, powiadamia wszystkie oczekujƒÖce wƒÖtki za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">m_condition.notify_all()</span></code>, a nastƒôpnie czeka na ich zako≈Ñczenie za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">thread.join()</span></code>.</p>
</section>
<section id="void-asyncdispatcher-exec-loop">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::exec_loop()</span></code><a class="headerlink" href="#void-asyncdispatcher-exec-loop" title="Link to this heading">#</a></h1>
</section>
<section id="id63">
<h1>Opis semantyczny<a class="headerlink" href="#id63" title="Link to this heading">#</a></h1>
<p>Jest to g≈Ç√≥wna funkcja pƒôtli dla ka≈ºdego wƒÖtku roboczego.</p>
</section>
<section id="id64">
<h1>Dzia≈Çanie<a class="headerlink" href="#id64" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>WƒÖtek wchodzi w niesko≈ÑczonƒÖ pƒôtlƒô i blokuje mutex <code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>.</p></li>
<li><p>Czeka na zmiennej warunkowej <code class="docutils literal notranslate"><span class="pre">m_condition</span></code>, a≈º w kolejce <code class="docutils literal notranslate"><span class="pre">m_tasks</span></code> pojawi siƒô zadanie lub flaga <code class="docutils literal notranslate"><span class="pre">m_running</span></code> zostanie ustawiona na <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p>Gdy zostanie obudzony i flaga <code class="docutils literal notranslate"><span class="pre">m_running</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, pobiera pierwsze zadanie z kolejki <code class="docutils literal notranslate"><span class="pre">m_tasks</span></code>.</p></li>
<li><p>Odblokowuje mutex, aby inne wƒÖtki mog≈Çy dodawaƒá lub pobieraƒá zadania.</p></li>
<li><p>Wykonuje pobrane zadanie (<code class="docutils literal notranslate"><span class="pre">task()</span></code>).</p></li>
<li><p>Ponownie blokuje mutex i wraca na poczƒÖtek pƒôtli.</p></li>
<li><p>Je≈õli flaga <code class="docutils literal notranslate"><span class="pre">m_running</span></code> jest <code class="docutils literal notranslate"><span class="pre">false</span></code>, wƒÖtek ko≈Ñczy dzia≈Çanie.</p></li>
</ol>
</section>
<section id="id65">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id65" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">asyncdispatcher.h</span></code>: Plik nag≈Ç√≥wkowy dla tej klasy.</p></li>
<li><p>Klasa intensywnie korzysta z narzƒôdzi wielowƒÖtkowo≈õci z biblioteki standardowej C++ (<code class="docutils literal notranslate"><span class="pre">&lt;thread&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;mutex&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;condition_variable&gt;</span></code>).</p></li>
<li><p>Jest u≈ºywana przez r√≥≈ºne modu≈Çy, kt√≥re potrzebujƒÖ wykonywaƒá operacje w tle, np. <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> do zapisu plik√≥w, <code class="docutils literal notranslate"><span class="pre">Http</span></code> do przetwarzania pobranych danych.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="clock-h">
<h1>üìÑ clock.h<a class="headerlink" href="#clock-h" title="Link to this heading">#</a></h1>
</section>
<section id="id66">
<h1>Opis og√≥lny<a class="headerlink" href="#id66" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">clock.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Clock</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_clock</span></code>) odpowiedzialnym za zarzƒÖdzanie czasem w aplikacji. Zapewnia buforowany, sp√≥jny czas dla jednej klatki oraz dostƒôp do ‚Äûrzeczywistego‚Äù czasu systemowego.</p>
</section>
<section id="klasa-clock">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Clock</span></code><a class="headerlink" href="#klasa-clock" title="Link to this heading">#</a></h1>
</section>
<section id="id67">
<h1>Opis semantyczny<a class="headerlink" href="#id67" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">Clock</span></code> ma dwa g≈Ç√≥wne zadania:</p>
<ol class="arabic simple">
<li><p>Dostarczaƒá ‚Äûbuforowany‚Äù czas, kt√≥ry jest sta≈Çy w obrƒôbie jednej iteracji g≈Ç√≥wnej pƒôtli. Metoda <code class="docutils literal notranslate"><span class="pre">update()</span></code> jest wywo≈Çywana raz na klatkƒô, a metody <code class="docutils literal notranslate"><span class="pre">micros()</span></code>, <code class="docutils literal notranslate"><span class="pre">millis()</span></code>, <code class="docutils literal notranslate"><span class="pre">seconds()</span></code> zwracajƒÖ tƒô samƒÖ, zapisanƒÖ warto≈õƒá czasu przez ca≈ÇƒÖ klatkƒô. Zapewnia to sp√≥jno≈õƒá oblicze≈Ñ zale≈ºnych od czasu.</p></li>
<li><p>Dostarczaƒá ‚Äûrzeczywisty‚Äù czas systemowy za pomocƒÖ metod <code class="docutils literal notranslate"><span class="pre">realMicros()</span></code> i <code class="docutils literal notranslate"><span class="pre">realMillis()</span></code>, kt√≥re zawsze odczytujƒÖ aktualny czas systemowy.</p></li>
</ol>
<p>Wszystkie sk≈Çadowe przechowujƒÖce czas sƒÖ typu <code class="docutils literal notranslate"><span class="pre">std::atomic</span></code>, co zapewnia bezpiecze≈Ñstwo wƒÖtkowe przy odczycie.</p>
</section>
<section id="id68">
<h1>Metody publiczne<a class="headerlink" href="#id68" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Clock()</span></code></p></td>
<td class="text-left"><p>Konstruktor, inicjalizuje czas na 0.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code></p></td>
<td class="text-left"><p>Aktualizuje buforowany czas (<code class="docutils literal notranslate"><span class="pre">m_currentMicros</span></code>, <code class="docutils literal notranslate"><span class="pre">m_currentMillis</span></code>, <code class="docutils literal notranslate"><span class="pre">m_currentSeconds</span></code>) na podstawie aktualnego czasu systemowego. Powinna byƒá wywo≈Çywana raz na klatkƒô.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">micros()</span></code></p></td>
<td class="text-left"><p>Zwraca buforowany czas w mikrosekundach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">millis()</span></code></p></td>
<td class="text-left"><p>Zwraca buforowany czas w milisekundach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">seconds()</span></code></p></td>
<td class="text-left"><p>Zwraca buforowany czas w sekundach (jako <code class="docutils literal notranslate"><span class="pre">float</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">realMicros()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny, ‚Äûrzeczywisty‚Äù czas systemowy w mikrosekundach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">realMillis()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny, ‚Äûrzeczywisty‚Äù czas systemowy w milisekundach.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id69">
<h1>Zmienne prywatne<a class="headerlink" href="#id69" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentMicros</span></code>: Atomowy licznik przechowujƒÖcy buforowany czas w mikrosekundach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentMillis</span></code>: Atomowy licznik przechowujƒÖcy buforowany czas w milisekundach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentSeconds</span></code>: Atomowa zmienna przechowujƒÖca buforowany czas w sekundach.</p></li>
</ul>
</section>
<section id="id70">
<h1>Zmienne globalne<a class="headerlink" href="#id70" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_clock</span></code>: Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">Clock</span></code>.</p></li>
</ul>
</section>
<section id="id71">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id71" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Definicje podstawowych typ√≥w, w tym <code class="docutils literal notranslate"><span class="pre">ticks_t</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/time.h</span></code>: U≈ºywa funkcji <code class="docutils literal notranslate"><span class="pre">stdext::micros()</span></code> i <code class="docutils literal notranslate"><span class="pre">stdext::millis()</span></code> do pobierania czasu systemowego.</p></li>
<li><p>Klasa jest kluczowa dla ca≈Çego systemu, szczeg√≥lnie dla <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> (do planowania zdarze≈Ñ), animacji i logiki gry. Metoda <code class="docutils literal notranslate"><span class="pre">update()</span></code> jest wywo≈Çywana w g≈Ç√≥wnej pƒôtli aplikacji (w <code class="docutils literal notranslate"><span class="pre">GraphicalApplication::run()</span></code> i <code class="docutils literal notranslate"><span class="pre">ConsoleApplication::run()</span></code>).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="binarytree-h">
<h1>üìÑ binarytree.h<a class="headerlink" href="#binarytree-h" title="Link to this heading">#</a></h1>
</section>
<section id="id72">
<h1>Opis og√≥lny<a class="headerlink" href="#id72" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">binarytree.h</span></code> deklaruje interfejsy dla klas <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> i <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code>. Klasy te s≈Çu≈ºƒÖ do obs≈Çugi niestandardowego, hierarchicznego formatu binarnego, u≈ºywanego do serializacji danych w strukturze drzewa. Format ten jest charakterystyczny dla plik√≥w <code class="docutils literal notranslate"><span class="pre">.otbm</span></code> (OTClient Binary Map).</p>
</section>
<section id="id73">
<h1>Definicje i Makra<a class="headerlink" href="#id73" title="Link to this heading">#</a></h1>
</section>
<section id="znaczniki-binarne">
<h1>Znaczniki binarne<a class="headerlink" href="#znaczniki-binarne" title="Link to this heading">#</a></h1>
<p>Zdefiniowano trzy specjalne bajty, kt√≥re kontrolujƒÖ strukturƒô drzewa w strumieniu binarnym:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BINARYTREE_ESCAPE_CHAR</span></code> (0xFD): Znak ‚Äûucieczki‚Äù, u≈ºywany do kodowania bajt√≥w, kt√≥re majƒÖ takƒÖ samƒÖ warto≈õƒá jak inne znaki specjalne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_START</span></code> (0xFE): Znacznik poczƒÖtku nowego wƒôz≈Ça (dziecka).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BINARYTREE_NODE_END</span></code> (0xFF): Znacznik ko≈Ñca bie≈ºƒÖcego wƒôz≈Ça.</p></li>
</ul>
</section>
<section id="id74">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code><a class="headerlink" href="#id74" title="Link to this heading">#</a></h1>
</section>
<section id="id75">
<h1>Opis semantyczny<a class="headerlink" href="#id75" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> reprezentuje pojedynczy wƒôze≈Ç w drzewie danych i s≈Çu≈ºy do <strong>odczytu</strong> danych z tego wƒôz≈Ça. Dzia≈Ça na strumieniu <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> i implementuje mechanizm leniwego odczytu (lazy loading) ‚Äì dane w≈Ça≈õciwo≈õci wƒôz≈Ça sƒÖ deserializowane do wewnƒôtrznego bufora dopiero przy pierwszej pr√≥bie dostƒôpu do nich.</p>
</section>
<section id="id76">
<h1>Metody publiczne<a class="headerlink" href="#id76" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">BinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code></p></td>
<td class="text-left"><p>Konstruktor, przyjmuje strumie≈Ñ wej≈õciowy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">seek(uint</span> <span class="pre">pos)</span></code></p></td>
<td class="text-left"><p>Ustawia pozycjƒô odczytu w zdeserializowanym buforze.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">skip(uint</span> <span class="pre">len)</span></code></p></td>
<td class="text-left"><p>Przeskakuje o <code class="docutils literal notranslate"><span class="pre">len</span></code> bajt√≥w w buforze.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">tell()</span></code></p></td>
<td class="text-left"><p>Zwraca bie≈ºƒÖcƒÖ pozycjƒô odczytu w buforze.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">size()</span></code></p></td>
<td class="text-left"><p>Zwraca rozmiar zdeserializowanych danych wƒôz≈Ça.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getU8()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU32()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU64()</span></code></p></td>
<td class="text-left"><p>OdczytujƒÖ liczby ca≈Çkowite bez znaku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getString(uint16</span> <span class="pre">len</span> <span class="pre">=</span> <span class="pre">0)</span></code></p></td>
<td class="text-left"><p>Odczytuje ciƒÖg znak√≥w (d≈Çugo≈õƒá podana lub odczytana jako U16).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getPoint()</span></code></p></td>
<td class="text-left"><p>Odczytuje obiekt <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getChildren()</span></code></p></td>
<td class="text-left"><p>Zwraca wektor <code class="docutils literal notranslate"><span class="pre">BinaryTreePtr</span></code> zawierajƒÖcy wszystkie dzieci bie≈ºƒÖcego wƒôz≈Ça.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">canRead()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy mo≈ºna jeszcze odczytywaƒá dane z bufora.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id77">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code><a class="headerlink" href="#id77" title="Link to this heading">#</a></h1>
</section>
<section id="id78">
<h1>Opis semantyczny<a class="headerlink" href="#id78" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code> jest odpowiednikiem <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> do <strong>zapisu</strong> danych w formacie drzewa binarnego. Umo≈ºliwia tworzenie wƒôz≈Ç√≥w i zapisywanie do nich w≈Ça≈õciwo≈õci, dbajƒÖc o poprawne formatowanie i ‚Äûuciekanie‚Äù (escaping) znak√≥w specjalnych.</p>
</section>
<section id="id79">
<h1>Metody publiczne<a class="headerlink" href="#id79" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OutputBinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code></p></td>
<td class="text-left"><p>Konstruktor, przyjmuje strumie≈Ñ wyj≈õciowy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addU8()</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16()</span></code>, <code class="docutils literal notranslate"><span class="pre">addU32()</span></code></p></td>
<td class="text-left"><p>ZapisujƒÖ liczby ca≈Çkowite bez znaku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addString(const</span> <span class="pre">std::string&amp;</span> <span class="pre">v)</span></code></p></td>
<td class="text-left"><p>Zapisuje ciƒÖg znak√≥w (z d≈Çugo≈õciƒÖ).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addPos(uint16</span> <span class="pre">x,</span> <span class="pre">uint16</span> <span class="pre">y,</span> <span class="pre">uint8</span> <span class="pre">z)</span></code></p></td>
<td class="text-left"><p>Zapisuje pozycjƒô (x, y, z).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addPoint(const</span> <span class="pre">Point&amp;</span> <span class="pre">point)</span></code></p></td>
<td class="text-left"><p>Zapisuje obiekt <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">startNode(uint8</span> <span class="pre">node)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna nowy zagnie≈ºd≈ºony wƒôze≈Ç z danym typem (atrybutem).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">endNode()</span></code></p></td>
<td class="text-left"><p>Ko≈Ñczy bie≈ºƒÖcy wƒôze≈Ç.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id80">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id80" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Definicje wska≈∫nik√≥w, np. <code class="docutils literal notranslate"><span class="pre">FileStreamPtr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: Wewnƒôtrzny bufor w <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> jest typu <code class="docutils literal notranslate"><span class="pre">DataBuffer</span></code>.</p></li>
<li><p>Jest u≈ºywana przez modu≈Çy, kt√≥re muszƒÖ przetwarzaƒá dane w formacie <code class="docutils literal notranslate"><span class="pre">.otbm</span></code>, np. edytor map lub sam klient do wczytywania mapy gry.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="config-cpp">
<h1>üìÑ config.cpp<a class="headerlink" href="#config-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id81">
<h1>Opis og√≥lny<a class="headerlink" href="#id81" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">config.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Config</span></code>, kt√≥ra jest opakowaniem na dokument OTML (<code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>). S≈Çu≈ºy do zarzƒÖdzania pojedynczym plikiem konfiguracyjnym, umo≈ºliwiajƒÖc ≈Çatwy odczyt, zapis i modyfikacjƒô warto≈õci w formacie <code class="docutils literal notranslate"><span class="pre">key-value</span></code> oraz bardziej z≈Ço≈ºonych struktur zagnie≈ºd≈ºonych.</p>
</section>
<section id="klasa-config">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Config</span></code><a class="headerlink" href="#klasa-config" title="Link to this heading">#</a></h1>
</section>
<section id="config-config">
<h1><code class="docutils literal notranslate"><span class="pre">Config::Config()</span></code><a class="headerlink" href="#config-config" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje pusty dokument OTML (<code class="docutils literal notranslate"><span class="pre">m_confsDoc</span></code>) i zeruje nazwƒô pliku (<code class="docutils literal notranslate"><span class="pre">m_fileName</span></code>).</p>
</section>
<section id="bool-config-load-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#bool-config-load-const-std-string-file" title="Link to this heading">#</a></h1>
</section>
<section id="id82">
<h1>Opis semantyczny<a class="headerlink" href="#id82" title="Link to this heading">#</a></h1>
<p>≈Åaduje i parsuje plik konfiguracyjny w formacie OTML.</p>
</section>
<section id="id83">
<h1>Dzia≈Çanie<a class="headerlink" href="#id83" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Zapamiƒôtuje nazwƒô pliku w <code class="docutils literal notranslate"><span class="pre">m_fileName</span></code>.</p></li>
<li><p>Sprawdza, czy plik istnieje za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_resources.fileExists</span></code>.</p></li>
<li><p>Je≈õli plik istnieje, parsuje go za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">OTMLDocument::parse</span></code>.</p></li>
<li><p>W przypadku sukcesu, zastƒôpuje wewnƒôtrzny dokument (<code class="docutils literal notranslate"><span class="pre">m_confsDoc</span></code>) nowo sparsowanym.</p></li>
<li><p>W przypadku b≈Çƒôdu parsowania, loguje b≈ÇƒÖd i zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ol>
</section>
<section id="bool-config-unload">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::unload()</span></code><a class="headerlink" href="#bool-config-unload" title="Link to this heading">#</a></h1>
<p>Zwalnia wewnƒôtrzny dokument OTML i resetuje nazwƒô pliku. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli obiekt by≈Ç za≈Çadowany.</p>
</section>
<section id="bool-config-save">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::save()</span></code><a class="headerlink" href="#bool-config-save" title="Link to this heading">#</a></h1>
<p>Zapisuje bie≈ºƒÖcƒÖ zawarto≈õƒá dokumentu OTML do pliku, kt√≥rego nazwa jest przechowywana w <code class="docutils literal notranslate"><span class="pre">m_fileName</span></code>. U≈ºywa do tego metody <code class="docutils literal notranslate"><span class="pre">m_confsDoc‚Üísave()</span></code>.</p>
</section>
<section id="void-config-clear">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::clear()</span></code><a class="headerlink" href="#void-config-clear" title="Link to this heading">#</a></h1>
<p>Czy≈õci wszystkie wƒôz≈Çy z wewnƒôtrznego dokumentu OTML.</p>
</section>
<section id="void-config-setvalue-const-std-string-key-const-std-string-value">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setValue(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">value)</span></code><a class="headerlink" href="#void-config-setvalue-const-std-string-key-const-std-string-value" title="Link to this heading">#</a></h1>
<p>Ustawia warto≈õƒá dla danego klucza. Je≈õli warto≈õƒá jest pusta, klucz jest usuwany. W przeciwnym razie tworzony jest nowy wƒôze≈Ç OTML (<code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>) i dodawany do dokumentu. IstniejƒÖce wƒôz≈Çy o tym samym kluczu sƒÖ nadpisywane.</p>
</section>
<section id="void-config-setlist-const-std-string-key-const-std-vector-std-string-list">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setList(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">list)</span></code><a class="headerlink" href="#void-config-setlist-const-std-string-key-const-std-vector-std-string-list" title="Link to this heading">#</a></h1>
<p>Zapisuje wektor string√≥w jako listƒô w dokumencie OTML. Tworzy wƒôze≈Ç g≈Ç√≥wny o nazwie <code class="docutils literal notranslate"><span class="pre">key</span></code>, a nastƒôpnie dodaje ka≈ºdy element wektora jako jego dziecko bez nazwy.</p>
</section>
<section id="bool-config-exists-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::exists(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#bool-config-exists-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy w dokumencie istnieje wƒôze≈Ç o podanym kluczu.</p>
</section>
<section id="std-string-config-getvalue-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Config::getValue(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#std-string-config-getvalue-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Zwraca warto≈õƒá stringowƒÖ dla podanego klucza. Je≈õli klucz nie istnieje, zwraca pusty string.</p>
</section>
<section id="std-vector-std-string-config-getlist-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">Config::getList(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#std-vector-std-string-config-getlist-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Odczytuje listƒô string√≥w z wƒôz≈Ça o podanym kluczu. Zwraca pusty wektor, je≈õli klucz nie istnieje.</p>
</section>
<section id="void-config-remove-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::remove(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#void-config-remove-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Usuwa wƒôze≈Ç o podanym kluczu z dokumentu.</p>
</section>
<section id="void-config-setnode-const-std-string-key-const-otmlnodeptr-node">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code><a class="headerlink" href="#void-config-setnode-const-std-string-key-const-otmlnodeptr-node" title="Link to this heading">#</a></h1>
<p>Zastƒôpuje istniejƒÖcy wƒôze≈Ç nowym wƒôz≈Çem OTML. Najpierw usuwa stary wƒôze≈Ç, a nastƒôpnie dodaje sklonowanƒÖ wersjƒô nowego.</p>
</section>
<section id="void-config-mergenode-const-std-string-key-const-otmlnodeptr-node">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::mergeNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code><a class="headerlink" href="#void-config-mergenode-const-std-string-key-const-otmlnodeptr-node" title="Link to this heading">#</a></h1>
<p>≈ÅƒÖczy podany wƒôze≈Ç z istniejƒÖcym (lub tworzy nowy). Dzia≈Ça podobnie do <code class="docutils literal notranslate"><span class="pre">setNode</span></code>, ale jest u≈ºywane do dodawania/aktualizowania danych bez usuwania ca≈Çego wƒôz≈Ça.</p>
</section>
<section id="otmlnodeptr-config-getnode-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">Config::getNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#otmlnodeptr-config-getnode-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Zwraca wska≈∫nik do wƒôz≈Ça OTML o podanym kluczu.</p>
</section>
<section id="int-config-getnodesize-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Config::getNodeSize(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#int-config-getnodesize-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Zwraca liczbƒô dzieci wƒôz≈Ça o podanym kluczu. Zwraca 0, je≈õli wƒôze≈Ç nie istnieje.</p>
</section>
<section id="bool-config-isloaded">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::isLoaded()</span></code><a class="headerlink" href="#bool-config-isloaded" title="Link to this heading">#</a></h1>
<p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code> jest powiƒÖzany z plikiem i ma za≈ÇadowanƒÖ zawarto≈õƒá.</p>
</section>
<section id="id84">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id84" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/config.h</span></code>: Plik nag≈Ç√≥wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: U≈ºywany do sprawdzania istnienia plik√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/configmanager.h</span></code>: <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code> zarzƒÖdza instancjami klasy <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code>: Intensywnie korzysta z <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code> i <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> do przechowywania i manipulowania danymi konfiguracyjnymi.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="configmanager-cpp">
<h1>üìÑ configmanager.cpp<a class="headerlink" href="#configmanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id85">
<h1>Opis og√≥lny<a class="headerlink" href="#id85" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">configmanager.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_configs</span></code>) s≈Çu≈ºƒÖcym do zarzƒÖdzania wieloma plikami konfiguracyjnymi (<code class="docutils literal notranslate"><span class="pre">Config</span></code>) w aplikacji. Umo≈ºliwia ≈Çadowanie, tworzenie, pobieranie i zwalnianie konfiguracji na ≈ºƒÖdanie.</p>
</section>
<section id="id86">
<h1>Zmienne globalne<a class="headerlink" href="#id86" title="Link to this heading">#</a></h1>
</section>
<section id="g-configs">
<h1><code class="docutils literal notranslate"><span class="pre">g_configs</span></code><a class="headerlink" href="#g-configs" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>, zapewniajƒÖca centralny punkt dostƒôpu do wszystkich konfiguracji.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ConfigManager</span><span class="w"> </span><span class="n">g_configs</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-configmanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code><a class="headerlink" href="#klasa-configmanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-configmanager-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::init()</span></code><a class="headerlink" href="#void-configmanager-init" title="Link to this heading">#</a></h1>
</section>
<section id="id87">
<h1>Opis semantyczny<a class="headerlink" href="#id87" title="Link to this heading">#</a></h1>
<p>Inicjalizuje mened≈ºera. Tworzy g≈Ç√≥wny obiekt konfiguracyjny, zwany ‚Äûsettings‚Äù (<code class="docutils literal notranslate"><span class="pre">m_settings</span></code>), kt√≥ry jest przeznaczony do przechowywania ustawie≈Ñ samej aplikacji.</p>
</section>
<section id="void-configmanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::terminate()</span></code><a class="headerlink" href="#void-configmanager-terminate" title="Link to this heading">#</a></h1>
</section>
<section id="id88">
<h1>Opis semantyczny<a class="headerlink" href="#id88" title="Link to this heading">#</a></h1>
<p>Zwalnia wszystkie zarzƒÖdzane obiekty <code class="docutils literal notranslate"><span class="pre">Config</span></code>. Zapewnia, ≈ºe g≈Ç√≥wna konfiguracja (<code class="docutils literal notranslate"><span class="pre">m_settings</span></code>) jest zapisywana przed zamkniƒôciem.</p>
</section>
<section id="id89">
<h1>Dzia≈Çanie<a class="headerlink" href="#id89" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Zapisuje g≈Ç√≥wny plik ustawie≈Ñ (<code class="docutils literal notranslate"><span class="pre">m_settings‚Üísave()</span></code>).</p></li>
<li><p>Od≈Çadowuje (<code class="docutils literal notranslate"><span class="pre">unload()</span></code>) g≈Ç√≥wny obiekt ustawie≈Ñ.</p></li>
<li><p>Iteruje po wszystkich pozosta≈Çych za≈Çadowanych konfiguracjach i je od≈Çadowuje.</p></li>
<li><p>Czy≈õci listƒô <code class="docutils literal notranslate"><span class="pre">m_configs</span></code>.</p></li>
</ol>
</section>
<section id="configptr-configmanager-getsettings">
<h1><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::getSettings()</span></code><a class="headerlink" href="#configptr-configmanager-getsettings" title="Link to this heading">#</a></h1>
<p>Zwraca wska≈∫nik do g≈Ç√≥wnego obiektu konfiguracyjnego <code class="docutils literal notranslate"><span class="pre">m_settings</span></code>.</p>
</section>
<section id="configptr-configmanager-get-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#configptr-configmanager-get-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Wyszukuje i zwraca wska≈∫nik do ju≈º za≈Çadowanego obiektu <code class="docutils literal notranslate"><span class="pre">Config</span></code> na podstawie nazwy pliku. Je≈õli konfiguracja nie jest za≈Çadowana, zwraca <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p>
</section>
<section id="configptr-configmanager-loadsettings-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::loadSettings(const</span> <span class="pre">std::string</span> <span class="pre">file)</span></code><a class="headerlink" href="#configptr-configmanager-loadsettings-const-std-string-file" title="Link to this heading">#</a></h1>
<p>≈Åaduje g≈Ç√≥wny plik ustawie≈Ñ z podanej ≈õcie≈ºki. Zastƒôpuje domy≈õlny, pusty obiekt <code class="docutils literal notranslate"><span class="pre">m_settings</span></code>.</p>
</section>
<section id="configptr-configmanager-create-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::create(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#configptr-configmanager-create-const-std-string-file" title="Link to this heading">#</a></h1>
<p>≈Åaduje plik konfiguracyjny, a je≈õli on nie istnieje, tworzy go. Jest to przydatne do tworzenia domy≈õlnych plik√≥w konfiguracyjnych przy pierwszym uruchomieniu.</p>
</section>
<section id="id90">
<h1>Dzia≈Çanie<a class="headerlink" href="#id90" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pr√≥buje za≈Çadowaƒá plik za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">load(file)</span></code>.</p></li>
<li><p>Je≈õli ≈Çadowanie siƒô nie powiedzie (plik nie istnieje), tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code>, ≈Çaduje go (co tworzy pusty dokument), zapisuje go na dysku (tworzƒÖc plik) i dodaje do listy zarzƒÖdzanych konfiguracji.</p></li>
</ol>
</section>
<section id="configptr-configmanager-load-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#configptr-configmanager-load-const-std-string-file" title="Link to this heading">#</a></h1>
<p>≈Åaduje plik konfiguracyjny. Je≈õli plik by≈Ç ju≈º za≈Çadowany, zwraca istniejƒÖcƒÖ instancjƒô. W przeciwnym razie tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code>, pr√≥buje za≈Çadowaƒá plik z dysku i, je≈õli siƒô powiedzie, dodaje go do listy zarzƒÖdzanych konfiguracji.</p>
</section>
<section id="bool-configmanager-unload-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ConfigManager::unload(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#bool-configmanager-unload-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Znajduje obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code> po nazwie pliku, od≈Çadowuje go (zwalniajƒÖc pamiƒôƒá) i usuwa z listy zarzƒÖdzanych konfiguracji.</p>
</section>
<section id="void-configmanager-remove-const-configptr-config">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::remove(const</span> <span class="pre">ConfigPtr</span> <span class="pre">config)</span></code><a class="headerlink" href="#void-configmanager-remove-const-configptr-config" title="Link to this heading">#</a></h1>
<p>Usuwa podany obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code> z listy <code class="docutils literal notranslate"><span class="pre">m_configs</span></code>.</p>
</section>
<section id="id91">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id91" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/configmanager.h</span></code>: Plik nag≈Ç√≥wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/config.h</span></code>: <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code> zarzƒÖdza obiektami typu <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/logger.h</span></code>: U≈ºywany do logowania b≈Çƒôd√≥w, np. gdy nie mo≈ºna za≈Çadowaƒá pliku.</p></li>
<li><p>Jest kluczowym komponentem rdzenia aplikacji, u≈ºywanym przez modu≈Çy do odczytu i zapisu swoich konfiguracji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="configmanager-h">
<h1>üìÑ configmanager.h<a class="headerlink" href="#configmanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id92">
<h1>Opis og√≥lny<a class="headerlink" href="#id92" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">configmanager.h</span></code> deklaruje interfejs klasy <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>, kt√≥ra pe≈Çni rolƒô centralnego mened≈ºera plik√≥w konfiguracyjnych w formacie OTML. Umo≈ºliwia zarzƒÖdzanie cyklem ≈ºycia wielu obiekt√≥w <code class="docutils literal notranslate"><span class="pre">Config</span></code>, w tym ich ≈Çadowanie, tworzenie i zwalnianie.</p>
</section>
<section id="id93">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code><a class="headerlink" href="#id93" title="Link to this heading">#</a></h1>
</section>
<section id="id94">
<h1>Opis semantyczny<a class="headerlink" href="#id94" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code> to klasa singletonowa (<code class="docutils literal notranslate"><span class="pre">g_configs</span></code>), kt√≥ra przechowuje listƒô wszystkich aktywnych obiekt√≥w <code class="docutils literal notranslate"><span class="pre">Config</span></code>. Wyr√≥≈ºnia jeden specjalny obiekt konfiguracyjny, <code class="docutils literal notranslate"><span class="pre">m_settings</span></code>, przeznaczony na g≈Ç√≥wne ustawienia aplikacji. Pozosta≈Çe konfiguracje sƒÖ zarzƒÖdzane w li≈õcie <code class="docutils literal notranslate"><span class="pre">m_configs</span></code> i identyfikowane po nazwie pliku.</p>
</section>
<section id="id95">
<h1>Metody publiczne<a class="headerlink" href="#id95" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje mened≈ºera, tworzƒÖc domy≈õlny obiekt <code class="docutils literal notranslate"><span class="pre">m_settings</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia wszystkie za≈Çadowane konfiguracje, zapisujƒÖc wcze≈õniej <code class="docutils literal notranslate"><span class="pre">m_settings</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">getSettings()</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik do g≈Ç√≥wnego obiektu ustawie≈Ñ aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Wyszukuje i zwraca wska≈∫nik do za≈Çadowanej konfiguracji o podanej nazwie pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">create(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>≈Åaduje konfiguracjƒô z pliku lub tworzy nowy, pusty plik, je≈õli nie istnieje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">loadSettings(const</span> <span class="pre">std::string</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>≈Åaduje g≈Ç√≥wny plik ustawie≈Ñ aplikacji z podanej ≈õcie≈ºki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>≈Åaduje dodatkowy plik konfiguracyjny.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">unload(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Zwalnia i usuwa z mened≈ºera konfiguracjƒô o podanej nazwie pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">remove(const</span> <span class="pre">ConfigPtr</span> <span class="pre">config)</span></code></p></td>
<td class="text-left"><p>Usuwa podany obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code> z wewnƒôtrznej listy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id96">
<h1>Zmienne chronione<a class="headerlink" href="#id96" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_settings</span></code>: Wska≈∫nik na g≈Ç√≥wny obiekt <code class="docutils literal notranslate"><span class="pre">Config</span></code> przechowujƒÖcy ustawienia aplikacji.</p></li>
</ul>
</section>
<section id="id97">
<h1>Zmienne prywatne<a class="headerlink" href="#id97" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_configs</span></code>: Lista wska≈∫nik√≥w na wszystkie dodatkowe za≈Çadowane obiekty <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p></li>
</ul>
</section>
<section id="id98">
<h1>Zmienne globalne<a class="headerlink" href="#id98" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_configs</span></code>: Globalna instancja singletonu <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>.</p></li>
</ul>
</section>
<section id="id99">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id99" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/config.h</span></code>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Config</span></code>, kt√≥rƒÖ zarzƒÖdza <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>.</p></li>
<li><p>Jest oznaczona adnotacjƒÖ <code class="docutils literal notranslate"><span class="pre">&#64;bindsingleton</span> <span class="pre">g_configs</span></code>, co oznacza, ≈ºe jej funkcjonalno≈õƒá jest dostƒôpna w skryptach Lua pod globalnƒÖ nazwƒÖ <code class="docutils literal notranslate"><span class="pre">g_configs</span></code>.</p></li>
<li><p>Wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">Application</span></code> (kt√≥ra wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">init</span></code> i <code class="docutils literal notranslate"><span class="pre">terminate</span></code>) oraz z modu≈Çami, kt√≥re potrzebujƒÖ dostƒôpu do swoich plik√≥w konfiguracyjnych.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="config-h">
<h1>üìÑ config.h<a class="headerlink" href="#config-h" title="Link to this heading">#</a></h1>
</section>
<section id="id100">
<h1>Opis og√≥lny<a class="headerlink" href="#id100" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">config.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Config</span></code>, kt√≥ra jest obiektowym interfejsem do odczytu, zapisu i manipulacji danymi w plikach konfiguracyjnych formatu OTML. Klasa ta dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co oznacza, ≈ºe jej instancje mogƒÖ byƒá tworzone i u≈ºywane w skryptach Lua.</p>
</section>
<section id="id101">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Config</span></code><a class="headerlink" href="#id101" title="Link to this heading">#</a></h1>
</section>
<section id="id102">
<h1>Opis semantyczny<a class="headerlink" href="#id102" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Config</span></code> dzia≈Ça jako opakowanie (wrapper) na <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>. Ka≈ºda instancja tej klasy reprezentuje jeden plik konfiguracyjny. Umo≈ºliwia operacje takie jak ustawianie warto≈õci (<code class="docutils literal notranslate"><span class="pre">setValue</span></code>), list (<code class="docutils literal notranslate"><span class="pre">setList</span></code>), a tak≈ºe bardziej z≈Ço≈ºonych struktur (<code class="docutils literal notranslate"><span class="pre">setNode</span></code>, <code class="docutils literal notranslate"><span class="pre">mergeNode</span></code>). Wszystkie dane sƒÖ przechowywane wewnƒôtrznie jako drzewo wƒôz≈Ç√≥w OTML.</p>
</section>
<section id="id103">
<h1>Metody publiczne<a class="headerlink" href="#id103" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Config()</span></code></p></td>
<td class="text-left"><p>Konstruktor domy≈õlny.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>≈Åaduje i parsuje konfiguracjƒô z pliku OTML.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">unload()</span></code></p></td>
<td class="text-left"><p>Zwalnia za≈ÇadowanƒÖ konfiguracjƒô.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">save()</span></code></p></td>
<td class="text-left"><p>Zapisuje bie≈ºƒÖcy stan konfiguracji do pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Usuwa wszystkie dane z konfiguracji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setValue(...)</span></code></p></td>
<td class="text-left"><p>Ustawia warto≈õƒá dla danego klucza.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setList(...)</span></code></p></td>
<td class="text-left"><p>Ustawia listƒô warto≈õci dla danego klucza.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getValue(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje warto≈õƒá dla danego klucza.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">getList(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje listƒô warto≈õci dla danego klucza.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setNode(...)</span></code></p></td>
<td class="text-left"><p>Zastƒôpuje wƒôze≈Ç o danym kluczu nowym wƒôz≈Çem OTML.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">mergeNode(...)</span></code></p></td>
<td class="text-left"><p>≈ÅƒÖczy (merge) podany wƒôze≈Ç z istniejƒÖcym wƒôz≈Çem o danym kluczu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">getNode(...)</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik do wƒôz≈Ça OTML o podanym kluczu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getNodeSize(...)</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô dzieci wƒôz≈Ça o danym kluczu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">exists(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy klucz istnieje.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">remove(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></p></td>
<td class="text-left"><p>Usuwa klucz i jego warto≈õƒá.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getFileName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô pliku powiƒÖzanego z tƒÖ konfiguracjƒÖ.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isLoaded()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli konfiguracja zosta≈Ça za≈Çadowana z pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">asConfig()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code> do siebie (<code class="docutils literal notranslate"><span class="pre">static_self_cast</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id104">
<h1>Zmienne prywatne<a class="headerlink" href="#id104" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_fileName</span></code>: Nazwa pliku konfiguracyjnego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_confsDoc</span></code>: Wska≈∫nik na <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>, kt√≥ry przechowuje dane konfiguracyjne.</p></li>
</ul>
</section>
<section id="id105">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id105" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Deklaracje typ√≥w, w tym <code class="docutils literal notranslate"><span class="pre">ConfigPtr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, aby byƒá dostƒôpnƒÖ w Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span></code> i <code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code> do przechowywania danych.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, co oznacza, ≈ºe metody tej klasy sƒÖ dostƒôpne do wywo≈Çania z poziomu skrypt√≥w Lua na instancjach obiekt√≥w <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p></li>
<li><p>Instancje tej klasy sƒÖ tworzone i zarzƒÖdzane przez <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="clock-cpp">
<h1>üìÑ clock.cpp<a class="headerlink" href="#clock-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id106">
<h1>Opis og√≥lny<a class="headerlink" href="#id106" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">clock.cpp</span></code> zawiera implementacjƒô metod klasy <code class="docutils literal notranslate"><span class="pre">Clock</span></code>. Odpowiada za dostarczanie mechanizm√≥w pomiaru czasu, kt√≥re sƒÖ kluczowe dla pƒôtli g≈Ç√≥wnej aplikacji, planowania zdarze≈Ñ i animacji.</p>
</section>
<section id="id107">
<h1>Zmienne globalne<a class="headerlink" href="#id107" title="Link to this heading">#</a></h1>
</section>
<section id="g-clock">
<h1><code class="docutils literal notranslate"><span class="pre">g_clock</span></code><a class="headerlink" href="#g-clock" title="Link to this heading">#</a></h1>
<p>Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">Clock</span></code>, kt√≥ra jest u≈ºywana w ca≈Çym frameworku do uzyskiwania sp√≥jnych informacji o czasie.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Clock</span><span class="w"> </span><span class="n">g_clock</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id108">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Clock</span></code><a class="headerlink" href="#id108" title="Link to this heading">#</a></h1>
</section>
<section id="clock-clock">
<h1><code class="docutils literal notranslate"><span class="pre">Clock::Clock()</span></code><a class="headerlink" href="#clock-clock" title="Link to this heading">#</a></h1>
<p>Konstruktor klasy. Inicjalizuje wszystkie liczniki czasu na 0.</p>
</section>
<section id="void-clock-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Clock::update()</span></code><a class="headerlink" href="#void-clock-update" title="Link to this heading">#</a></h1>
</section>
<section id="id109">
<h1>Opis semantyczny<a class="headerlink" href="#id109" title="Link to this heading">#</a></h1>
<p>Aktualizuje wewnƒôtrzne, ‚Äûbuforowane‚Äù liczniki czasu. Ta metoda powinna byƒá wywo≈Çywana raz na ka≈ºdƒÖ iteracjƒô g≈Ç√≥wnej pƒôtli aplikacji. Dziƒôki temu wszystkie operacje wewnƒÖtrz jednej klatki (np. logika gry, animacje, fizyka) bazujƒÖ na tej samej warto≈õci czasu, co zapobiega niesp√≥jno≈õciom.</p>
</section>
<section id="id110">
<h1>Dzia≈Çanie<a class="headerlink" href="#id110" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera aktualny czas systemowy w mikrosekundach za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">stdext::micros()</span></code>.</p></li>
<li><p>Zapisuje tƒô warto≈õƒá do atomowej zmiennej <code class="docutils literal notranslate"><span class="pre">m_currentMicros</span></code>.</p></li>
<li><p>Oblicza i zapisuje czas w milisekundach (<code class="docutils literal notranslate"><span class="pre">m_currentMillis</span></code>) i sekundach (<code class="docutils literal notranslate"><span class="pre">m_currentSeconds</span></code>).</p></li>
</ol>
</section>
<section id="ticks-t-clock-realmicros">
<h1><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Clock::realMicros()</span></code><a class="headerlink" href="#ticks-t-clock-realmicros" title="Link to this heading">#</a></h1>
<p>Zwraca ‚Äûna ≈ºywo‚Äù aktualny czas systemowy w mikrosekundach. W przeciwie≈Ñstwie do <code class="docutils literal notranslate"><span class="pre">micros()</span></code>, ta metoda nie korzysta z buforowanej warto≈õci i przy ka≈ºdym wywo≈Çaniu odpytuje system operacyjny.</p>
</section>
<section id="ticks-t-clock-realmillis">
<h1><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Clock::realMillis()</span></code><a class="headerlink" href="#ticks-t-clock-realmillis" title="Link to this heading">#</a></h1>
<p>Zwraca ‚Äûna ≈ºywo‚Äù aktualny czas systemowy w milisekundach. Podobnie jak <code class="docutils literal notranslate"><span class="pre">realMicros()</span></code>, odczytuje aktualny czas.</p>
</section>
<section id="id111">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id111" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Plik nag≈Ç√≥wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/time.h</span></code>: U≈ºywa funkcji <code class="docutils literal notranslate"><span class="pre">stdext::micros()</span></code> i <code class="docutils literal notranslate"><span class="pre">stdext::millis()</span></code>, kt√≥re sƒÖ opakowaniem na <code class="docutils literal notranslate"><span class="pre">std::chrono</span></code> do pobierania czasu o wysokiej precyzji.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> do planowania zdarze≈Ñ, <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> do synchronizacji pƒôtli renderowania oraz przez wiele innych komponent√≥w do mierzenia czasu trwania operacji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="consoleapplication-h">
<h1>üìÑ consoleapplication.h<a class="headerlink" href="#consoleapplication-h" title="Link to this heading">#</a></h1>
</section>
<section id="id112">
<h1>Opis og√≥lny<a class="headerlink" href="#id112" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">consoleapplication.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>, kt√≥ra jest konkretnƒÖ implementacjƒÖ klasy <code class="docutils literal notranslate"><span class="pre">Application</span></code> dla aplikacji dzia≈ÇajƒÖcej w trybie konsolowym, bez interfejsu graficznego. Jest u≈ºywana, gdy flaga <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code> nie jest zdefiniowana podczas kompilacji.</p>
</section>
<section id="klasa-consoleapplication">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code><a class="headerlink" href="#klasa-consoleapplication" title="Link to this heading">#</a></h1>
</section>
<section id="id113">
<h1>Opis semantyczny<a class="headerlink" href="#id113" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">Application</span></code> i implementuje jej czysto wirtualnƒÖ metodƒô <code class="docutils literal notranslate"><span class="pre">run()</span></code>. Ta implementacja zawiera prostƒÖ pƒôtlƒô g≈Ç√≥wnƒÖ, kt√≥ra przetwarza zdarzenia i usypia wƒÖtek na kr√≥tki czas, aby uniknƒÖƒá 100% u≈ºycia procesora.</p>
</section>
<section id="id114">
<h1>Metody publiczne<a class="headerlink" href="#id114" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">run()</span></code></p></td>
<td class="text-left"><p>Implementuje g≈Ç√≥wnƒÖ pƒôtlƒô aplikacji konsolowej.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id115">
<h1>Zmienne globalne<a class="headerlink" href="#id115" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_app</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>, kt√≥ra staje siƒô g≈Ç√≥wnym obiektem aplikacji, gdy kompilacja odbywa siƒô bez wsparcia dla grafiki.</p></li>
</ul>
</section>
<section id="id116">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id116" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Klasa bazowa, z kt√≥rej dziedziczy <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>.</p></li>
<li><p>Jest to jedna z dw√≥ch mo≈ºliwych implementacji aplikacji, wybierana w <code class="docutils literal notranslate"><span class="pre">application.h</span></code> za pomocƒÖ dyrektyw preprocesora.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="declarations-h">
<h1>üìÑ declarations.h<a class="headerlink" href="#declarations-h" title="Link to this heading">#</a></h1>
</section>
<section id="id117">
<h1>Opis og√≥lny<a class="headerlink" href="#id117" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">core</span></code> jest plikiem nag≈Ç√≥wkowym s≈Çu≈ºƒÖcym do wczesnych deklaracji (forward declarations) klas i definicji typ√≥w wska≈∫nik√≥w (<code class="docutils literal notranslate"><span class="pre">typedef</span></code>) dla rdzennych komponent√≥w frameworka. Jego celem jest rozwiƒÖzanie problemu zale≈ºno≈õci cyklicznych miƒôdzy plikami nag≈Ç√≥wkowymi oraz zmniejszenie ilo≈õci do≈ÇƒÖczanych nag≈Ç√≥wk√≥w w plikach, kt√≥re potrzebujƒÖ jedynie znaƒá istnienie danego typu, a nie jego pe≈ÇnƒÖ definicjƒô.</p>
</section>
<section id="wczesne-deklaracje-forward-declarations">
<h1>Wczesne deklaracje (Forward Declarations)<a class="headerlink" href="#wczesne-deklaracje-forward-declarations" title="Link to this heading">#</a></h1>
<p>Plik deklaruje istnienie nastƒôpujƒÖcych klas, nie definiujƒÖc ich zawarto≈õci:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Module</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Config</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Event</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FileStream</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code></p></li>
</ul>
</section>
<section id="definicje-typow-typedefs">
<h1>Definicje typ√≥w (Typedefs)<a class="headerlink" href="#definicje-typow-typedefs" title="Link to this heading">#</a></h1>
<p>Na podstawie wczesnych deklaracji, plik definiuje typy inteligentnych wska≈∫nik√≥w (<code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>), kt√≥re sƒÖ u≈ºywane w ca≈Çym frameworku. Upraszcza to sk≈Çadniƒô i zapewnia sp√≥jno≈õƒá.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ModulePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Module&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Config&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EventPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Event&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;ScheduledEvent&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FileStreamPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;FileStream&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BinaryTreePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;BinaryTree&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OutputBinaryTreePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;OutputBinaryTree&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BinaryTreeVec</span></code>: <code class="docutils literal notranslate"><span class="pre">std::vector&lt;BinaryTreePtr&gt;</span></code></p></li>
</ul>
</section>
<section id="id118">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id118" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Zawiera podstawowe definicje i typy, w tym <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr</span></code>.</p></li>
<li><p>Ten plik jest do≈ÇƒÖczany przez wiele innych plik√≥w nag≈Ç√≥wkowych w module <code class="docutils literal notranslate"><span class="pre">core</span></code> i poza nim, aby umo≈ºliwiƒá deklarowanie zmiennych i parametr√≥w funkcji bez konieczno≈õci do≈ÇƒÖczania pe≈Çnych definicji klas.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="event-cpp">
<h1>üìÑ event.cpp<a class="headerlink" href="#event-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id119">
<h1>Opis og√≥lny<a class="headerlink" href="#id119" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">event.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Event</span></code>, kt√≥ra jest podstawowym obiektem reprezentujƒÖcym jednorazowe, op√≥≈∫nione lub cykliczne zdarzenie w systemie.</p>
</section>
<section id="klasa-event">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Event</span></code><a class="headerlink" href="#klasa-event" title="Link to this heading">#</a></h1>
</section>
<section id="event-event-const-std-string-function-const-std-function-void-callback-bool-botsafe">
<h1><code class="docutils literal notranslate"><span class="pre">Event::Event(const</span> <span class="pre">std::string&amp;</span> <span class="pre">function,</span> <span class="pre">const</span> <span class="pre">std::function&lt;void()&gt;&amp;</span> <span class="pre">callback,</span> <span class="pre">bool</span> <span class="pre">botSafe)</span></code><a class="headerlink" href="#event-event-const-std-string-function-const-std-function-void-callback-bool-botsafe" title="Link to this heading">#</a></h1>
<p>Konstruktor, kt√≥ry inicjalizuje zdarzenie.</p>
<ul class="simple">
<li><p><strong>Parametry</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">function</span></code>: Nazwa funkcji (lub opis), u≈ºywana do cel√≥w debugowania i statystyk.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">callback</span></code>: Funkcja (lambda lub <code class="docutils literal notranslate"><span class="pre">std::function</span></code>), kt√≥ra zostanie wykonana.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">botSafe</span></code>: Flaga okre≈õlajƒÖca, czy zdarzenie mo≈ºe byƒá wywo≈Çane przez bota (u≈ºywane do filtrowania w niekt√≥rych kontekstach).</p></li>
</ul>
</li>
<li><p><strong>Dzia≈Çanie</strong>: Inicjalizuje flagi <code class="docutils literal notranslate"><span class="pre">m_canceled</span></code> i <code class="docutils literal notranslate"><span class="pre">m_executed</span></code> na <code class="docutils literal notranslate"><span class="pre">false</span></code> oraz przechowuje podane parametry.</p></li>
</ul>
</section>
<section id="event-event">
<h1><code class="docutils literal notranslate"><span class="pre">Event::~Event()</span></code><a class="headerlink" href="#event-event" title="Link to this heading">#</a></h1>
<p>Destruktor. W trybie debugowania, <code class="docutils literal notranslate"><span class="pre">VALIDATE(m_callback</span> <span class="pre">==</span> <span class="pre">nullptr)</span></code> sprawdza, czy <code class="docutils literal notranslate"><span class="pre">callback</span></code> zosta≈Ç poprawnie zwolniony, aby zapobiec wyciekom pamiƒôci lub wiszƒÖcym referencjom.</p>
</section>
<section id="void-event-execute">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Event::execute()</span></code><a class="headerlink" href="#void-event-execute" title="Link to this heading">#</a></h1>
</section>
<section id="id120">
<h1>Opis semantyczny<a class="headerlink" href="#id120" title="Link to this heading">#</a></h1>
<p>Wykonuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> powiƒÖzany ze zdarzeniem.</p>
</section>
<section id="id121">
<h1>Dzia≈Çanie<a class="headerlink" href="#id121" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy zdarzenie nie zosta≈Ço anulowane (<code class="docutils literal notranslate"><span class="pre">!m_canceled</span></code>) i czy nie zosta≈Ço ju≈º wykonane (<code class="docutils literal notranslate"><span class="pre">!m_executed</span></code>).</p></li>
<li><p>Je≈õli warunki sƒÖ spe≈Çnione i <code class="docutils literal notranslate"><span class="pre">callback</span></code> istnieje, wywo≈Çuje go.</p></li>
<li><p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_executed</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Resetuje <code class="docutils literal notranslate"><span class="pre">m_callback</span></code> do <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, aby zwolniƒá wszelkie zasoby (np. obiekty przechwycone przez lambdƒô).</p></li>
</ol>
</section>
<section id="void-event-cancel">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Event::cancel()</span></code><a class="headerlink" href="#void-event-cancel" title="Link to this heading">#</a></h1>
</section>
<section id="id122">
<h1>Opis semantyczny<a class="headerlink" href="#id122" title="Link to this heading">#</a></h1>
<p>Anuluje zdarzenie, zapobiegajƒÖc jego przysz≈Çemu wykonaniu.</p>
</section>
<section id="id123">
<h1>Dzia≈Çanie<a class="headerlink" href="#id123" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_canceled</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Resetuje <code class="docutils literal notranslate"><span class="pre">m_callback</span></code> do <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, aby natychmiast zwolniƒá zasoby.</p></li>
</ol>
</section>
<section id="id124">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id124" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/event.h</span></code>: Plik nag≈Ç√≥wkowy dla tej klasy.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code>.</p></li>
<li><p>Jest zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>, kt√≥ry przechowuje instancje <code class="docutils literal notranslate"><span class="pre">Event</span></code> w kolejce i wywo≈Çuje ich metodƒô <code class="docutils literal notranslate"><span class="pre">execute()</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="event-h">
<h1>üìÑ event.h<a class="headerlink" href="#event-h" title="Link to this heading">#</a></h1>
</section>
<section id="id125">
<h1>Opis og√≥lny<a class="headerlink" href="#id125" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">event.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Event</span></code>, kt√≥ra jest podstawowƒÖ klasƒÖ do obs≈Çugi zdarze≈Ñ w systemie opartym na kolejce zdarze≈Ñ. Reprezentuje pojedyncze zadanie, kt√≥re ma zostaƒá wykonane w przysz≈Ço≈õci przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>.</p>
</section>
<section id="id126">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Event</span></code><a class="headerlink" href="#id126" title="Link to this heading">#</a></h1>
</section>
<section id="id127">
<h1>Opis semantyczny<a class="headerlink" href="#id127" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Event</span></code> to obiekt, kt√≥ry enkapsuluje funkcjƒô zwrotnƒÖ (<code class="docutils literal notranslate"><span class="pre">callback</span></code>) do wykonania. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co pozwala na przekazywanie go do skrypt√≥w Lua. Posiada mechanizmy do wykonania, anulowania i sprawdzania jego stanu.</p>
</section>
<section id="id128">
<h1>Metody publiczne<a class="headerlink" href="#id128" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Event(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~Event()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">execute()</span></code></p></td>
<td class="text-left"><p>Wykonuje <code class="docutils literal notranslate"><span class="pre">callback</span></code>, je≈õli zdarzenie nie jest anulowane.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">cancel()</span></code></p></td>
<td class="text-left"><p>Anuluje zdarzenie, zapobiegajƒÖc jego wykonaniu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isCanceled()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli zdarzenie zosta≈Ço anulowane.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isExecuted()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli zdarzenie zosta≈Ço ju≈º wykonane.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isBotSafe()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli zdarzenie jest bezpieczne do wykonania w kontek≈õcie bota.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">getFunction()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô/opis funkcji powiƒÖzanej ze zdarzeniem.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id129">
<h1>Zmienne chronione<a class="headerlink" href="#id129" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_function</span></code>: <code class="docutils literal notranslate"><span class="pre">std::string</span></code> przechowujƒÖca nazwƒô funkcji dla cel√≥w debugowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_callback</span></code>: <code class="docutils literal notranslate"><span class="pre">std::function&lt;void()&gt;</span></code> zawierajƒÖca kod do wykonania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_canceled</span></code>: Flaga wskazujƒÖca, czy zdarzenie zosta≈Ço anulowane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_executed</span></code>: Flaga wskazujƒÖza, czy zdarzenie zosta≈Ço wykonane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_botSafe</span></code>: Flaga bezpiecze≈Ñstwa.</p></li>
</ul>
</section>
<section id="id130">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id130" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Jest klasƒÖ pochodnƒÖ <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> do tworzenia i zarzƒÖdzania kolejkƒÖ zdarze≈Ñ.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code>.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, co oznacza, ≈ºe jest dostƒôpna w Lua, a jej metody (<code class="docutils literal notranslate"><span class="pre">cancel</span></code>, <code class="docutils literal notranslate"><span class="pre">execute</span></code> itd.) mogƒÖ byƒá wywo≈Çywane ze skrypt√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="eventdispatcher-cpp">
<h1>üìÑ eventdispatcher.cpp<a class="headerlink" href="#eventdispatcher-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id131">
<h1>Opis og√≥lny<a class="headerlink" href="#id131" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">eventdispatcher.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>, kt√≥ra jest sercem systemu zdarze≈Ñ. Odpowiada za zarzƒÖdzanie kolejkƒÖ zdarze≈Ñ natychmiastowych oraz kolejkƒÖ priorytetowƒÖ zdarze≈Ñ zaplanowanych w czasie.</p>
</section>
<section id="id132">
<h1>Zmienne globalne<a class="headerlink" href="#id132" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> dla g≈Ç√≥wnego wƒÖtku aplikacji (logika gry, sieƒá).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> dla wƒÖtku graficznego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_mainThreadId</span></code>, <code class="docutils literal notranslate"><span class="pre">g_graphicsThreadId</span></code>, <code class="docutils literal notranslate"><span class="pre">g_dispatcherThreadId</span></code>: PrzechowujƒÖ identyfikatory wƒÖtk√≥w w celu weryfikacji, czy dana operacja jest wykonywana w odpowiednim wƒÖtku.</p></li>
</ul>
</section>
<section id="klasa-eventdispatcher">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code><a class="headerlink" href="#klasa-eventdispatcher" title="Link to this heading">#</a></h1>
</section>
<section id="void-eventdispatcher-shutdown">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">EventDispatcher::shutdown()</span></code><a class="headerlink" href="#void-eventdispatcher-shutdown" title="Link to this heading">#</a></h1>
</section>
<section id="id133">
<h1>Opis semantyczny<a class="headerlink" href="#id133" title="Link to this heading">#</a></h1>
<p>Zamyka dyspozytor, przetwarzajƒÖc wszystkie pozosta≈Çe zdarzenia i anulujƒÖc zaplanowane.</p>
</section>
<section id="id134">
<h1>Dzia≈Çanie<a class="headerlink" href="#id134" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Przetwarza wszystkie zdarzenia z <code class="docutils literal notranslate"><span class="pre">m_eventList</span></code> za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">poll()</span></code>.</p></li>
<li><p>Iteruje po wszystkich zdarzeniach w <code class="docutils literal notranslate"><span class="pre">m_scheduledEventList</span></code>, anuluje je i usuwa z kolejki.</p></li>
<li><p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_disabled</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>, aby zapobiec dodawaniu nowych zdarze≈Ñ.</p></li>
</ol>
</section>
<section id="void-eventdispatcher-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">EventDispatcher::poll()</span></code><a class="headerlink" href="#void-eventdispatcher-poll" title="Link to this heading">#</a></h1>
</section>
<section id="id135">
<h1>Opis semantyczny<a class="headerlink" href="#id135" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda przetwarzajƒÖca zdarzenia. Wywo≈Çywana regularnie w pƒôtli aplikacji.</p>
</section>
<section id="id136">
<h1>Dzia≈Çanie<a class="headerlink" href="#id136" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>Przetwarzanie zdarze≈Ñ zaplanowanych (<code class="docutils literal notranslate"><span class="pre">m_scheduledEventList</span></code>)</strong>:</p>
<ul class="simple">
<li><p>Sprawdza kolejkƒô priorytetowƒÖ i wykonuje wszystkie zdarzenia, dla kt√≥rych minƒÖ≈Ç czas (<code class="docutils literal notranslate"><span class="pre">remainingTicks()</span> <span class="pre">&lt;=</span> <span class="pre">0</span></code>).</p></li>
<li><p>Je≈õli zdarzenie jest cykliczne (<code class="docutils literal notranslate"><span class="pre">nextCycle()</span></code> zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>), jest ponownie dodawane do kolejki z nowym czasem wykonania.</p></li>
</ul>
</li>
<li><p><strong>Przetwarzanie zdarze≈Ñ natychmiastowych (<code class="docutils literal notranslate"><span class="pre">m_eventList</span></code>)</strong>:</p>
<ul class="simple">
<li><p>Wchodzi w pƒôtlƒô, kt√≥ra wykonuje wszystkie zdarzenia z <code class="docutils literal notranslate"><span class="pre">m_eventList</span></code>.</p></li>
<li><p>Pƒôtla jest powtarzana, je≈õli w trakcie wykonywania zdarze≈Ñ zosta≈Çy dodane nowe (np. zdarzenie A dodaje zdarzenie B), aby zapewniƒá, ≈ºe wszystkie zdarzenia zwiƒÖzane z bie≈ºƒÖcƒÖ klatkƒÖ zostanƒÖ wykonane przed jej zako≈Ñczeniem.</p></li>
<li><p>Posiada zabezpieczenie przed niesko≈ÑczonƒÖ pƒôtlƒÖ (je≈õli zdarzenia ciƒÖgle dodajƒÖ nowe zdarzenia).</p></li>
</ul>
</li>
<li><p>Zapisuje statystyki dotyczƒÖce liczby przetworzonych zdarze≈Ñ.</p></li>
</ol>
</section>
<section id="scheduledeventptr-eventdispatcher-scheduleeventex">
<h1><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">EventDispatcher::scheduleEventEx(...)</span></code><a class="headerlink" href="#scheduledeventptr-eventdispatcher-scheduleeventex" title="Link to this heading">#</a></h1>
<p>Tworzy i dodaje do kolejki priorytetowej nowe jednorazowe zdarzenie zaplanowane, kt√≥re zostanie wykonane po up≈Çywie <code class="docutils literal notranslate"><span class="pre">delay</span></code> milisekund.</p>
</section>
<section id="scheduledeventptr-eventdispatcher-cycleeventex">
<h1><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">EventDispatcher::cycleEventEx(...)</span></code><a class="headerlink" href="#scheduledeventptr-eventdispatcher-cycleeventex" title="Link to this heading">#</a></h1>
<p>Tworzy i dodaje do kolejki priorytetowej nowe cykliczne zdarzenie zaplanowane, kt√≥re bƒôdzie wykonywane co <code class="docutils literal notranslate"><span class="pre">delay</span></code> milisekund.</p>
</section>
<section id="eventptr-eventdispatcher-addeventex">
<h1><code class="docutils literal notranslate"><span class="pre">EventPtr</span> <span class="pre">EventDispatcher::addEventEx(...)</span></code><a class="headerlink" href="#eventptr-eventdispatcher-addeventex" title="Link to this heading">#</a></h1>
<p>Dodaje nowe zdarzenie do kolejki zdarze≈Ñ natychmiastowych. Je≈õli <code class="docutils literal notranslate"><span class="pre">pushFront</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, zdarzenie jest dodawane na poczƒÖtek kolejki, co gwarantuje jego wykonanie w bie≈ºƒÖcej iteracji pƒôtli <code class="docutils literal notranslate"><span class="pre">poll()</span></code>.</p>
</section>
<section id="id137">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id137" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> do sprawdzania czasu dla zdarze≈Ñ zaplanowanych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/graphicalapplication.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_app.isOnInputEvent()</span></code> do oznaczenia, czy zdarzenie zosta≈Ço wywo≈Çane w trakcie obs≈Çugi zdarzenia wej≈õciowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graph.h</span></code>: Zapisuje statystyki do <code class="docutils literal notranslate"><span class="pre">g_graphs</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/stats.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">AutoStat</span></code> do profilowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code>: U≈ºywany do zabezpieczenia przed niesko≈Ñczonymi pƒôtlami.</p></li>
<li><p>Jest kluczowym komponentem, u≈ºywanym przez niemal ka≈ºdƒÖ czƒô≈õƒá aplikacji do planowania i wykonywania operacji w spos√≥b asynchroniczny (wzglƒôdem g≈Ç√≥wnej pƒôtli).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="eventdispatcher-h">
<h1>üìÑ eventdispatcher.h<a class="headerlink" href="#eventdispatcher-h" title="Link to this heading">#</a></h1>
</section>
<section id="id138">
<h1>Opis og√≥lny<a class="headerlink" href="#id138" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code> deklaruje interfejs klasy <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> oraz powiƒÖzane z niƒÖ globalne instancje i makra. Definiuje on publiczne API do zarzƒÖdzania kolejkƒÖ zdarze≈Ñ w aplikacji.</p>
</section>
<section id="id139">
<h1>Definicje i Makra<a class="headerlink" href="#id139" title="Link to this heading">#</a></h1>
</section>
<section id="makra-pomocnicze-do-dodawania-zdarzen">
<h1>Makra pomocnicze do dodawania zdarze≈Ñ<a class="headerlink" href="#makra-pomocnicze-do-dodawania-zdarzen" title="Link to this heading">#</a></h1>
<p>UpraszczajƒÖ one wywo≈Çania metod <code class="docutils literal notranslate"><span class="pre">...Ex</span></code>, automatycznie dodajƒÖc nazwƒô bie≈ºƒÖcej funkcji (<code class="docutils literal notranslate"><span class="pre">__FUNCTION__</span></code>) jako opis zdarzenia dla cel√≥w debugowania.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">addEvent(...)</span></code>: Opakowanie na <code class="docutils literal notranslate"><span class="pre">addEventEx(__FUNCTION__,</span> <span class="pre">...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scheduleEvent(...)</span></code>: Opakowanie na <code class="docutils literal notranslate"><span class="pre">scheduleEventEx(__FUNCTION__,</span> <span class="pre">...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cycleEvent(...)</span></code>: Opakowanie na <code class="docutils literal notranslate"><span class="pre">cycleEventEx(__FUNCTION__,</span> <span class="pre">...)</span></code></p></li>
</ul>
</section>
<section id="makra-do-walidacji-watkow">
<h1>Makra do walidacji wƒÖtk√≥w<a class="headerlink" href="#makra-do-walidacji-watkow" title="Link to this heading">#</a></h1>
<p>S≈Çu≈ºƒÖ do sprawdzania, czy dana funkcja jest wywo≈Çywana w odpowiednim wƒÖtku, co jest kluczowe dla bezpiecze≈Ñstwa w ≈õrodowisku wielowƒÖtkowym.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">VALIDATE_GRAPHICS_THREAD()</span></code>: Sprawdza, czy bie≈ºƒÖcy wƒÖtek to wƒÖtek graficzny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VALIDATE_DISPATCHER_THREAD()</span></code>: Sprawdza, czy bie≈ºƒÖcy wƒÖtek to wƒÖtek dyspozytora (g≈Ç√≥wny wƒÖtek logiki).</p></li>
</ul>
</section>
<section id="id140">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code><a class="headerlink" href="#id140" title="Link to this heading">#</a></h1>
</section>
<section id="id141">
<h1>Opis semantyczny<a class="headerlink" href="#id141" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> jest centralnym mechanizmem do zarzƒÖdzania i wykonywania zada≈Ñ w spos√≥b asynchroniczny, ale w ramach jednego, okre≈õlonego wƒÖtku. Posiada dwie kolejki: jednƒÖ dla zdarze≈Ñ natychmiastowych i drugƒÖ (priorytetowƒÖ) dla zdarze≈Ñ zaplanowanych w czasie.</p>
</section>
<section id="id142">
<h1>Metody publiczne<a class="headerlink" href="#id142" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">shutdown()</span></code></p></td>
<td class="text-left"><p>Zamyka dyspozytor, czyszczƒÖc i anulujƒÖc wszystkie zdarzenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia, kt√≥re sƒÖ gotowe do wykonania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">EventPtr</span> <span class="pre">addEventEx(...)</span></code></p></td>
<td class="text-left"><p>Dodaje zdarzenie do wykonania w nastƒôpnej iteracji pƒôtli <code class="docutils literal notranslate"><span class="pre">poll()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">scheduleEventEx(...)</span></code></p></td>
<td class="text-left"><p>Planuje jednorazowe wykonanie zdarzenia po okre≈õlonym czasie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">cycleEventEx(...)</span></code></p></td>
<td class="text-left"><p>Planuje cykliczne wykonywanie zdarzenia co okre≈õlony czas.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isBotSafe()</span></code></p></td>
<td class="text-left"><p>Zwraca, czy aktualnie wykonywane zdarzenie jest oznaczone jako ‚Äûbezpieczne dla bota‚Äù.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id143">
<h1>Zmienne prywatne<a class="headerlink" href="#id143" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_eventList</span></code>: Lista (<code class="docutils literal notranslate"><span class="pre">std::list</span></code>) zdarze≈Ñ do natychmiastowego wykonania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_pollEventsSize</span></code>: Rozmiar <code class="docutils literal notranslate"><span class="pre">m_eventList</span></code> na poczƒÖtku pƒôtli <code class="docutils literal notranslate"><span class="pre">poll()</span></code>, aby obs≈Çu≈ºyƒá zdarzenia dodane w trakcie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_disabled</span></code>: Flaga blokujƒÖca dodawanie nowych zdarze≈Ñ po wywo≈Çaniu <code class="docutils literal notranslate"><span class="pre">shutdown()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_botSafe</span></code>: Flaga stanu dla aktualnie wykonywanego zdarzenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>: Mutex rekurencyjny do ochrony kolejek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_scheduledEventList</span></code>: Kolejka priorytetowa (<code class="docutils literal notranslate"><span class="pre">std::priority_queue</span></code>) dla zdarze≈Ñ zaplanowanych w czasie.</p></li>
</ul>
</section>
<section id="id144">
<h1>Zmienne globalne<a class="headerlink" href="#id144" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>: Globalny dyspozytor dla g≈Ç√≥wnego wƒÖtku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>: Globalny dyspozytor dla wƒÖtku graficznego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_mainThreadId</span></code>, <code class="docutils literal notranslate"><span class="pre">g_dispatcherThreadId</span></code>, <code class="docutils literal notranslate"><span class="pre">g_graphicsThreadId</span></code>: Identyfikatory wƒÖtk√≥w.</p></li>
</ul>
</section>
<section id="id145">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id145" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Wymagany do obs≈Çugi czasu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/scheduledevent.h</span></code>: Definicja <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code> i komparatora <code class="docutils literal notranslate"><span class="pre">lessScheduledEvent</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;queue&gt;</span></code>: U≈ºywany do implementacji kolejki priorytetowej.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="filestream-cpp">
<h1>üìÑ filestream.cpp<a class="headerlink" href="#filestream-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id146">
<h1>Opis og√≥lny<a class="headerlink" href="#id146" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">filestream.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>, kt√≥ra jest opakowaniem (wrapperem) na operacje plikowe, g≈Ç√≥wnie z wykorzystaniem biblioteki <strong>PhysFS</strong>. Umo≈ºliwia zar√≥wno odczyt z plik√≥w na dysku, jak i z danych w pamiƒôci (np. z wbudowanego archiwum lub zdekompresowanych danych).</p>
</section>
<section id="klasa-filestream">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code><a class="headerlink" href="#klasa-filestream" title="Link to this heading">#</a></h1>
</section>
<section id="konstruktory">
<h1>Konstruktory<a class="headerlink" href="#konstruktory" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">FileStream::FileStream(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">PHYSFS_File</span> <span class="pre">*fileHandle,</span> <span class="pre">bool</span> <span class="pre">writeable)</span></code></strong>: Tworzy strumie≈Ñ na podstawie otwartego uchwytu pliku PhysFS.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">FileStream::FileStream(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">std::string&amp;&amp;</span> <span class="pre">buffer)</span></code></strong>: Tworzy strumie≈Ñ na podstawie bufora danych w pamiƒôci (<code class="docutils literal notranslate"><span class="pre">std::string</span></code>). Pr√≥buje r√≥wnie≈º zdekompresowaƒá bufor, je≈õli jest on w formacie GZIP.</p></li>
</ul>
</section>
<section id="bool-filestream-initfromgzip-const-std-string-buffer">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">FileStream::initFromGzip(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code><a class="headerlink" href="#bool-filestream-initfromgzip-const-std-string-buffer" title="Link to this heading">#</a></h1>
<p>Prywatna metoda pomocnicza, kt√≥ra sprawdza, czy bufor danych jest skompresowany za pomocƒÖ GZIP (na podstawie ‚Äûmagicznych bajt√≥w‚Äù). Je≈õli tak, dekompresuje go za pomocƒÖ biblioteki ZLIB i zapisuje wynik do wewnƒôtrznego bufora <code class="docutils literal notranslate"><span class="pre">m_data</span></code>.</p>
</section>
<section id="filestream-filestream-i-void-filestream-close">
<h1><code class="docutils literal notranslate"><span class="pre">FileStream::~FileStream()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::close()</span></code><a class="headerlink" href="#filestream-filestream-i-void-filestream-close" title="Link to this heading">#</a></h1>
<p>Destruktor i metoda <code class="docutils literal notranslate"><span class="pre">close()</span></code> zwalniajƒÖ zasoby. Je≈õli strumie≈Ñ by≈Ç otwarty z pliku PhysFS, zamyka uchwyt <code class="docutils literal notranslate"><span class="pre">m_fileHandle</span></code>. Czy≈õci r√≥wnie≈º wewnƒôtrzne bufory danych (<code class="docutils literal notranslate"><span class="pre">m_data</span></code>, <code class="docutils literal notranslate"><span class="pre">m_strData</span></code>).</p>
</section>
<section id="void-filestream-flush">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::flush()</span></code><a class="headerlink" href="#void-filestream-flush" title="Link to this heading">#</a></h1>
<p>W przypadku strumienia do zapisu, zapisuje zawarto≈õƒá bufora <code class="docutils literal notranslate"><span class="pre">m_data</span></code> na dysk za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">PHYSFS_writeBytes</span></code>.</p>
</section>
<section id="int-filestream-read-void-buffer-uint32-size-uint32-nmemb">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">FileStream::read(void*</span> <span class="pre">buffer,</span> <span class="pre">uint32</span> <span class="pre">size,</span> <span class="pre">uint32</span> <span class="pre">nmemb)</span></code><a class="headerlink" href="#int-filestream-read-void-buffer-uint32-size-uint32-nmemb" title="Link to this heading">#</a></h1>
<p>Odczytuje dane ze strumienia. Je≈õli strumie≈Ñ jest oparty na pliku, u≈ºywa <code class="docutils literal notranslate"><span class="pre">PHYSFS_readBytes</span></code>. Je≈õli na buforze w pamiƒôci, kopiuje dane z <code class="docutils literal notranslate"><span class="pre">m_strData</span></code> lub <code class="docutils literal notranslate"><span class="pre">m_data</span></code> i przesuwa wska≈∫nik odczytu <code class="docutils literal notranslate"><span class="pre">m_pos</span></code>.</p>
</section>
<section id="void-filestream-write-const-void-buffer-uint32-count">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::write(const</span> <span class="pre">void</span> <span class="pre">*buffer,</span> <span class="pre">uint32</span> <span class="pre">count)</span></code><a class="headerlink" href="#void-filestream-write-const-void-buffer-uint32-count" title="Link to this heading">#</a></h1>
<p>Zapisuje dane do strumienia. Dla plik√≥w u≈ºywa <code class="docutils literal notranslate"><span class="pre">PHYSFS_writeBytes</span></code>, a dla bufor√≥w w pamiƒôci dodaje dane do <code class="docutils literal notranslate"><span class="pre">m_data</span></code>.</p>
</section>
<section id="seek-skip-size-tell-eof">
<h1><code class="docutils literal notranslate"><span class="pre">seek</span></code>, <code class="docutils literal notranslate"><span class="pre">skip</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code>, <code class="docutils literal notranslate"><span class="pre">tell</span></code>, <code class="docutils literal notranslate"><span class="pre">eof</span></code><a class="headerlink" href="#seek-skip-size-tell-eof" title="Link to this heading">#</a></h1>
<p>Implementacje standardowych operacji na strumieniach, kt√≥re delegujƒÖ wywo≈Çania do odpowiednich funkcji PhysFS lub operujƒÖ na wewnƒôtrznym wska≈∫niku <code class="docutils literal notranslate"><span class="pre">m_pos</span></code> i rozmiarze bufora.</p>
</section>
<section id="metody-odczytu-typow-getu8-getu16-getstring-etc">
<h1>Metody odczytu typ√≥w (<code class="docutils literal notranslate"><span class="pre">getU8</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16</span></code>, <code class="docutils literal notranslate"><span class="pre">getString</span></code>, etc.)<a class="headerlink" href="#metody-odczytu-typow-getu8-getu16-getstring-etc" title="Link to this heading">#</a></h1>
<p>Metody te s≈Çu≈ºƒÖ do odczytywania konkretnych typ√≥w danych ze strumienia. Dzia≈ÇajƒÖ zar√≥wno na plikach PhysFS, jak i na buforach w pamiƒôci. WykonujƒÖ konwersjƒô z porzƒÖdku bajt√≥w Little Endian.</p>
</section>
<section id="binarytreeptr-filestream-getbinarytree">
<h1><code class="docutils literal notranslate"><span class="pre">BinaryTreePtr</span> <span class="pre">FileStream::getBinaryTree()</span></code><a class="headerlink" href="#binarytreeptr-filestream-getbinarytree" title="Link to this heading">#</a></h1>
<p>Rozpoczyna odczyt zagnie≈ºd≈ºonej struktury <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> ze strumienia, sprawdzajƒÖc najpierw znacznik poczƒÖtku wƒôz≈Ça.</p>
</section>
<section id="metody-zapisu-typow-addu8-addu16-addstring-etc">
<h1>Metody zapisu typ√≥w (<code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16</span></code>, <code class="docutils literal notranslate"><span class="pre">addString</span></code>, etc.)<a class="headerlink" href="#metody-zapisu-typow-addu8-addu16-addstring-etc" title="Link to this heading">#</a></h1>
<p>S≈Çu≈ºƒÖ do zapisywania danych do strumienia.</p>
</section>
<section id="void-filestream-throwerror">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::throwError(...)</span></code><a class="headerlink" href="#void-filestream-throwerror" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza do generowania wyjƒÖtk√≥w z dodatkowymi informacjami o nazwie pliku i b≈Çƒôdzie PhysFS.</p>
</section>
<section id="id147">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id147" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/filestream.h</span></code>: Plik nag≈Ç√≥wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/binarytree.h</span></code>: U≈ºywana do odczytu i zapisu struktur <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: U≈ºywana do sprawdzania, czy aplikacja jest w trakcie zamykania.</p></li>
<li><p><strong>PhysFS</strong>: Kluczowa zale≈ºno≈õƒá do operacji na plikach w wirtualnym systemie plik√≥w.</p></li>
<li><p><strong>ZLIB</strong>: U≈ºywana do dekompresji GZIP.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> i u≈ºywana w ca≈Çym projekcie do odczytu zasob√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="filestream-h">
<h1>üìÑ filestream.h<a class="headerlink" href="#filestream-h" title="Link to this heading">#</a></h1>
</section>
<section id="id148">
<h1>Opis og√≥lny<a class="headerlink" href="#id148" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">filestream.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>, kt√≥ra jest kluczowym elementem systemu zarzƒÖdzania zasobami. Stanowi ona abstrakcjƒô nad strumieniem danych, kt√≥ry mo≈ºe pochodziƒá z pliku na dysku (obs≈Çugiwanego przez PhysFS) lub bezpo≈õrednio z bufora w pamiƒôci. Klasa dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, dziƒôki czemu mo≈ºe byƒá u≈ºywana w skryptach Lua.</p>
</section>
<section id="id149">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code><a class="headerlink" href="#id149" title="Link to this heading">#</a></h1>
</section>
<section id="id150">
<h1>Opis semantyczny<a class="headerlink" href="#id150" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">FileStream</span></code> dostarcza interfejs podobny do standardowych strumieni plik√≥w, umo≈ºliwiajƒÖc sekwencyjny odczyt i zapis r√≥≈ºnych typ√≥w danych (liczby ca≈Çkowite, stringi, dane binarne). Jest to podstawowe narzƒôdzie do parsowania plik√≥w binarnych i tekstowych w ca≈Çym projekcie.</p>
</section>
<section id="id151">
<h1>Metody publiczne<a class="headerlink" href="#id151" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">FileStream(...)</span></code></p></td>
<td class="text-left"><p>Konstruktory tworzƒÖce strumie≈Ñ z uchwytu pliku PhysFS lub z bufora w pamiƒôci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~FileStream()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">close()</span></code></p></td>
<td class="text-left"><p>Zamyka strumie≈Ñ i zwalnia zasoby.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">flush()</span></code></p></td>
<td class="text-left"><p>Wymusza zapis buforowanych danych do pliku (dla strumieni do zapisu).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">write(...)</span></code></p></td>
<td class="text-left"><p>Zapisuje blok danych do strumienia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">read(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje blok danych ze strumienia.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">seek(uint</span> <span class="pre">pos)</span></code></p></td>
<td class="text-left"><p>Ustawia pozycjƒô wska≈∫nika w strumieniu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">skip(uint</span> <span class="pre">len)</span></code></p></td>
<td class="text-left"><p>Przesuwa wska≈∫nik o <code class="docutils literal notranslate"><span class="pre">len</span></code> bajt√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">size()</span></code></p></td>
<td class="text-left"><p>Zwraca ca≈Çkowity rozmiar strumienia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">tell()</span></code></p></td>
<td class="text-left"><p>Zwraca bie≈ºƒÖcƒÖ pozycjƒô wska≈∫nika.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">eof()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli osiƒÖgniƒôto koniec strumienia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">name()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô/≈∫r√≥d≈Ço strumienia.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getU8()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU32()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU64()</span></code></p></td>
<td class="text-left"><p>OdczytujƒÖ liczby ca≈Çkowite bez znaku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">get8()</span></code>, <code class="docutils literal notranslate"><span class="pre">get16()</span></code>, <code class="docutils literal notranslate"><span class="pre">get32()</span></code>, <code class="docutils literal notranslate"><span class="pre">get64()</span></code></p></td>
<td class="text-left"><p>OdczytujƒÖ liczby ca≈Çkowite ze znakiem.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getString()</span></code></p></td>
<td class="text-left"><p>Odczytuje string (poprzedzony 2-bajtowƒÖ d≈Çugo≈õciƒÖ).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBinaryTree()</span></code></p></td>
<td class="text-left"><p>Odczytuje i zwraca obiekt <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">startNode(uint8</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna zapis nowego wƒôz≈Ça w formacie <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">endNode()</span></code></p></td>
<td class="text-left"><p>Ko≈Ñczy zapis wƒôz≈Ça.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addU8()</span></code>, ‚Ä¶, <code class="docutils literal notranslate"><span class="pre">addString()</span></code></p></td>
<td class="text-left"><p>ZapisujƒÖ r√≥≈ºne typy danych do strumienia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">asFileStream()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code> do siebie (<code class="docutils literal notranslate"><span class="pre">static_self_cast</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id152">
<h1>Zmienne prywatne<a class="headerlink" href="#id152" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>: Nazwa pliku lub ≈∫r√≥d≈Ça danych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_fileHandle</span></code>: Wska≈∫nik na uchwyt pliku PhysFS (je≈õli dotyczy).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_pos</span></code>: Bie≈ºƒÖca pozycja odczytu/zapisu w buforze pamiƒôci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_writeable</span></code>: Flaga wskazujƒÖca, czy strumie≈Ñ jest otwarty do zapisu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_caching</span></code>: Flaga wskazujƒÖca, czy strumie≈Ñ operuje na buforze w pamiƒôci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_data</span></code>: Bufor danych (<code class="docutils literal notranslate"><span class="pre">DataBuffer&lt;uint8_t&gt;</span></code>) dla strumieni w pamiƒôci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_strData</span></code>: Bufor danych (<code class="docutils literal notranslate"><span class="pre">std::string</span></code>) dla strumieni w pamiƒôci.</p></li>
</ul>
</section>
<section id="id153">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id153" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Definicje typ√≥w, np. <code class="docutils literal notranslate"><span class="pre">BinaryTreePtr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">DataBuffer</span></code> do przechowywania danych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/point.h</span></code>: Do zapisu i odczytu obiekt√≥w <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">physfs.h</span></code>: Wymagany do deklaracji <code class="docutils literal notranslate"><span class="pre">PHYSFS_File</span></code>.</p></li>
<li><p>Klasa jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, co oznacza, ≈ºe jest dostƒôpna w Lua. Jest to kluczowe dla modu≈Ç√≥w, kt√≥re muszƒÖ parsowaƒá niestandardowe formaty plik√≥w ze skrypt√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="graphicalapplication-cpp">
<h1>üìÑ graphicalapplication.cpp<a class="headerlink" href="#graphicalapplication-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id154">
<h1>Opis og√≥lny<a class="headerlink" href="#id154" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graphicalapplication.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, kt√≥ra jest konkretnƒÖ implementacjƒÖ <code class="docutils literal notranslate"><span class="pre">Application</span></code> dla aplikacji z interfejsem graficznym. Odpowiada za inicjalizacjƒô, zarzƒÖdzanie i zamykanie wszystkich podsystem√≥w graficznych, a tak≈ºe za implementacjƒô g≈Ç√≥wnej pƒôtli renderowania i logiki.</p>
</section>
<section id="id155">
<h1>Zmienne globalne<a class="headerlink" href="#id155" title="Link to this heading">#</a></h1>
</section>
<section id="g-app">
<h1><code class="docutils literal notranslate"><span class="pre">g_app</span></code><a class="headerlink" href="#g-app" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, kt√≥ra jest g≈Ç√≥wnym obiektem aplikacji, gdy kompilacja odbywa siƒô z flagƒÖ <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">GraphicalApplication</span><span class="w"> </span><span class="n">g_app</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-graphicalapplication">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code><a class="headerlink" href="#klasa-graphicalapplication" title="Link to this heading">#</a></h1>
</section>
<section id="void-graphicalapplication-init-std-vector-std-string-args">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::init(std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code><a class="headerlink" href="#void-graphicalapplication-init-std-vector-std-string-args" title="Link to this heading">#</a></h1>
</section>
<section id="id156">
<h1>Opis semantyczny<a class="headerlink" href="#id156" title="Link to this heading">#</a></h1>
<p>Inicjalizuje aplikacjƒô graficznƒÖ. Wywo≈Çuje najpierw <code class="docutils literal notranslate"><span class="pre">Application::init()</span></code>, a nastƒôpnie inicjalizuje wszystkie komponenty zwiƒÖzane z grafikƒÖ.</p>
</section>
<section id="id157">
<h1>Dzia≈Çanie<a class="headerlink" href="#id157" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">Application::init(args)</span></code>.</p></li>
<li><p>Inicjalizuje okno platformy (<code class="docutils literal notranslate"><span class="pre">g_window.init()</span></code>).</p></li>
<li><p>Ustawia callbacki dla okna: <code class="docutils literal notranslate"><span class="pre">onResize</span></code>, <code class="docutils literal notranslate"><span class="pre">onInputEvent</span></code>, <code class="docutils literal notranslate"><span class="pre">onClose</span></code>.</p></li>
<li><p>Inicjalizuje mened≈ºera myszy (<code class="docutils literal notranslate"><span class="pre">g_mouse.init()</span></code>).</p></li>
<li><p>Inicjalizuje mened≈ºera UI (<code class="docutils literal notranslate"><span class="pre">g_ui.init()</span></code>).</p></li>
<li><p>Inicjalizuje silnik graficzny (<code class="docutils literal notranslate"><span class="pre">g_graphics.init()</span></code>).</p></li>
<li><p>Wywo≈Çuje pierwsze zdarzenie zmiany rozmiaru.</p></li>
<li><p>Inicjalizuje mened≈ºera d≈∫wiƒôku (<code class="docutils literal notranslate"><span class="pre">g_sounds.init()</span></code>), je≈õli <code class="docutils literal notranslate"><span class="pre">FW_SOUND</span></code> jest zdefiniowane.</p></li>
</ol>
</section>
<section id="void-graphicalapplication-deinit">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::deinit()</span></code><a class="headerlink" href="#void-graphicalapplication-deinit" title="Link to this heading">#</a></h1>
<p>Deinicjalizuje aplikacjƒô w odwrotnej kolejno≈õci, ukrywajƒÖc okno i zwalniajƒÖc zasoby.</p>
</section>
<section id="void-graphicalapplication-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::terminate()</span></code><a class="headerlink" href="#void-graphicalapplication-terminate" title="Link to this heading">#</a></h1>
<p>Finalizuje zamykanie podsystem√≥w graficznych, w tym <code class="docutils literal notranslate"><span class="pre">g_ui</span></code>, <code class="docutils literal notranslate"><span class="pre">g_sounds</span></code>, <code class="docutils literal notranslate"><span class="pre">g_mouse</span></code> i <code class="docutils literal notranslate"><span class="pre">g_graphics</span></code>.</p>
</section>
<section id="void-graphicalapplication-run">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::run()</span></code><a class="headerlink" href="#void-graphicalapplication-run" title="Link to this heading">#</a></h1>
</section>
<section id="id158">
<h1>Opis semantyczny<a class="headerlink" href="#id158" title="Link to this heading">#</a></h1>
<p>Implementuje g≈Ç√≥wnƒÖ pƒôtlƒô aplikacji, kt√≥ra jest podzielona na dwa r√≥wnoleg≈Çe wƒÖtki:</p>
<ol class="arabic simple">
<li><p><strong>WƒÖtek logiki (<code class="docutils literal notranslate"><span class="pre">worker</span></code>)</strong>: Odpowiada za aktualizacjƒô stanu gry, przetwarzanie zdarze≈Ñ i przygotowywanie kolejek rysowania (<code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>).</p></li>
<li><p><strong>WƒÖtek renderowania (g≈Ç√≥wny wƒÖtek)</strong>: Odpowiada za przetwarzanie zdarze≈Ñ okna, renderowanie zawarto≈õci przygotowanych kolejek na ekranie i synchronizacjƒô klatek.</p></li>
</ol>
</section>
<section id="dzialanie-watku-logiki-worker">
<h1>Dzia≈Çanie wƒÖtku logiki (<code class="docutils literal notranslate"><span class="pre">worker</span></code>)<a class="headerlink" href="#dzialanie-watku-logiki-worker" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>W niesko≈Ñczonej pƒôtli:</p>
<ul>
<li><p>Aktualizuje zegar (<code class="docutils literal notranslate"><span class="pre">g_clock.update()</span></code>).</p></li>
<li><p>Przetwarza zdarzenia (<code class="docutils literal notranslate"><span class="pre">poll()</span></code>).</p></li>
<li><p>Czeka, je≈õli poprzednia klatka nie zosta≈Ça jeszcze wyrenderowana.</p></li>
<li><p>Renderuje UI do trzech osobnych kolejek: <code class="docutils literal notranslate"><span class="pre">MapBackgroundPane</span></code>, <code class="docutils literal notranslate"><span class="pre">MapForegroundPane</span></code>, <code class="docutils literal notranslate"><span class="pre">ForegroundPane</span></code>.</p></li>
<li><p>Przekazuje gotowe kolejki do wƒÖtku renderowania za pomocƒÖ mutexu.</p></li>
<li><p>Usypia na 1ms, je≈õli <code class="docutils literal notranslate"><span class="pre">m_maxFps</span> <span class="pre">&gt;</span> <span class="pre">0</span></code> lub w≈ÇƒÖczona jest synchronizacja pionowa.</p></li>
</ul>
</li>
</ul>
</section>
<section id="dzialanie-watku-renderowania-glownego">
<h1>Dzia≈Çanie wƒÖtku renderowania (g≈Ç√≥wnego)<a class="headerlink" href="#dzialanie-watku-renderowania-glownego" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>W niesko≈Ñczonej pƒôtli:</p>
<ul>
<li><p>Aktualizuje zegar i przetwarza zdarzenia graficzne (<code class="docutils literal notranslate"><span class="pre">pollGraphics()</span></code>).</p></li>
<li><p>Czeka na gotowe kolejki rysowania z wƒÖtku logiki.</p></li>
<li><p>Aktualizuje <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code>.</p></li>
<li><p>Synchronizuje klatki zgodnie z <code class="docutils literal notranslate"><span class="pre">m_maxFps</span></code>.</p></li>
<li><p>Ustawia <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> do renderowania poza ekranem, je≈õli skalowanie jest w≈ÇƒÖczone.</p></li>
<li><p>Renderuje t≈Ço mapy do <code class="docutils literal notranslate"><span class="pre">m_mapFramebuffer</span></code>.</p></li>
<li><p>Renderuje w≈Ça≈õciwƒÖ scenƒô, ≈ÇƒÖczƒÖc t≈Ço mapy, pierwszy plan mapy i interfejs u≈ºytkownika.</p></li>
<li><p>Je≈õli w≈ÇƒÖczono skalowanie, rysuje zawarto≈õƒá <code class="docutils literal notranslate"><span class="pre">m_framebuffer</span></code> na ekranie.</p></li>
<li><p>Rysuje grafy debugowania.</p></li>
<li><p>Zamienia bufory (<code class="docutils literal notranslate"><span class="pre">g_window.swapBuffers()</span></code>).</p></li>
</ul>
</li>
</ul>
</section>
<section id="void-graphicalapplication-poll-i-void-graphicalapplication-pollgraphics">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::poll()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::pollGraphics()</span></code><a class="headerlink" href="#void-graphicalapplication-poll-i-void-graphicalapplication-pollgraphics" title="Link to this heading">#</a></h1>
<p>Metody pomocnicze wywo≈Çywane w odpowiednich wƒÖtkach do przetwarzania zdarze≈Ñ. <code class="docutils literal notranslate"><span class="pre">poll()</span></code> obs≈Çuguje d≈∫wiƒôk i logikƒô, a <code class="docutils literal notranslate"><span class="pre">pollGraphics()</span></code> obs≈Çuguje zdarzenia okna i aktualizacjƒô tekst√≥w.</p>
</section>
<section id="inne-metody">
<h1>Inne metody<a class="headerlink" href="#inne-metody" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">close()</span></code>: Wywo≈Çywana przy zamykaniu okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resize()</span></code>: Wywo≈Çywana przy zmianie rozmiaru okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputEvent()</span></code>: Przekazuje zdarzenia wej≈õciowe do <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doScreenshot()</span></code>: Robi zrzut ekranu i zapisuje go do pliku asynchronicznie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scaleUp()</span></code>, <code class="docutils literal notranslate"><span class="pre">scaleDown()</span></code>, <code class="docutils literal notranslate"><span class="pre">scale()</span></code>: ZarzƒÖdzajƒÖ skalowaniem interfejsu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setSmooth()</span></code>: W≈ÇƒÖcza/wy≈ÇƒÖcza wyg≈Çadzanie dla <code class="docutils literal notranslate"><span class="pre">m_mapFramebuffer</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doMapScreenshot()</span></code>: Robi zrzut ekranu samej mapy.</p></li>
</ul>
</section>
<section id="id159">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id159" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to centralna klasa, kt√≥ra integruje prawie wszystkie modu≈Çy graficzne i rdzenia.</p></li>
<li><p>Zale≈ºy od <code class="docutils literal notranslate"><span class="pre">Application</span></code>, <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>, <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>, <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code> i innych.</p></li>
<li><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">std::thread</span></code> i <code class="docutils literal notranslate"><span class="pre">std::mutex</span></code> do implementacji wielowƒÖtkowej pƒôtli.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="inputevent-h">
<h1>üìÑ inputevent.h<a class="headerlink" href="#inputevent-h" title="Link to this heading">#</a></h1>
</section>
<section id="id160">
<h1>Opis og√≥lny<a class="headerlink" href="#id160" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">inputevent.h</span></code> deklaruje strukturƒô <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code>, kt√≥ra jest u≈ºywana do przekazywania informacji o zdarzeniach wej≈õciowych (z klawiatury i myszy) w systemie. Jest to prosta struktura danych, kt√≥ra agreguje wszystkie mo≈ºliwe parametry zdarzenia.</p>
</section>
<section id="struktura-inputevent">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code><a class="headerlink" href="#struktura-inputevent" title="Link to this heading">#</a></h1>
</section>
<section id="id161">
<h1>Opis semantyczny<a class="headerlink" href="#id161" title="Link to this heading">#</a></h1>
<p>Struktura <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code> jest uniwersalnym kontenerem na dane o zdarzeniach. W zale≈ºno≈õci od pola <code class="docutils literal notranslate"><span class="pre">type</span></code>, inne pola przechowujƒÖ odpowiednie informacje. Na przyk≈Çad, dla zdarzenia klawiatury (<code class="docutils literal notranslate"><span class="pre">KeyDownInputEvent</span></code>), pole <code class="docutils literal notranslate"><span class="pre">keyCode</span></code> bƒôdzie mia≈Ço znaczenie, a dla zdarzenia myszy (<code class="docutils literal notranslate"><span class="pre">MouseMoveInputEvent</span></code>) - <code class="docutils literal notranslate"><span class="pre">mousePos</span></code> i <code class="docutils literal notranslate"><span class="pre">mouseMoved</span></code>.</p>
</section>
<section id="pola-struktury">
<h1>Pola struktury<a class="headerlink" href="#pola-struktury" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">type</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::InputEventType</span></code></p></td>
<td class="text-left"><p>Typ zdarzenia (np. wci≈õniƒôcie klawisza, ruch myszy).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">wheelDirection</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::MouseWheelDirection</span></code></p></td>
<td class="text-left"><p>Kierunek przewijania k√≥≈Çkiem myszy (<code class="docutils literal notranslate"><span class="pre">MouseWheelUp</span></code> lub <code class="docutils literal notranslate"><span class="pre">MouseWheelDown</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">mouseButton</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::MouseButton</span></code></p></td>
<td class="text-left"><p>Przycisk myszy, kt√≥ry wywo≈Ça≈Ç zdarzenie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">keyCode</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code></p></td>
<td class="text-left"><p>Kod wci≈õniƒôtego klawisza.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">keyText</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Znak tekstowy odpowiadajƒÖcy wci≈õniƒôtemu klawiszowi (dla <code class="docutils literal notranslate"><span class="pre">KeyTextInputEvent</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">keyboardModifiers</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Flagi bitowe dla klawiszy modyfikujƒÖcych (Ctrl, Alt, Shift).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">mousePos</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Point</span></code></p></td>
<td class="text-left"><p>Aktualna pozycja kursora myszy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">mouseMoved</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Point</span></code></p></td>
<td class="text-left"><p>Wektor przesuniƒôcia kursora myszy od ostatniego zdarzenia.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">autoRepeatTicks</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Czas (w milisekundach), przez jaki klawisz jest przytrzymywany (dla <code class="docutils literal notranslate"><span class="pre">KeyPressInputEvent</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody">
<h1>Metody<a class="headerlink" href="#metody" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">InputEvent()</span></code></strong>: Konstruktor, inicjalizuje strukturƒô.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">reset(Fw::InputEventType</span> <span class="pre">eventType</span> <span class="pre">=</span> <span class="pre">Fw::NoInputEvent)</span></code></strong>: Resetuje wszystkie pola do warto≈õci domy≈õlnych i ustawia nowy typ zdarzenia.</p></li>
</ul>
</section>
<section id="id162">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id162" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p>Struktura ta jest tworzona w klasie <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> (np. <code class="docutils literal notranslate"><span class="pre">win32window.cpp</span></code>) na podstawie zdarze≈Ñ systemowych, a nastƒôpnie przekazywana do <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> i dalej do <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, kt√≥ry rozsy≈Ça je do odpowiednich widget√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="graphicalapplication-h">
<h1>üìÑ graphicalapplication.h<a class="headerlink" href="#graphicalapplication-h" title="Link to this heading">#</a></h1>
</section>
<section id="id163">
<h1>Opis og√≥lny<a class="headerlink" href="#id163" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graphicalapplication.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, kt√≥ra jest implementacjƒÖ <code class="docutils literal notranslate"><span class="pre">Application</span></code> dla aplikacji z interfejsem graficznym. Jest to g≈Ç√≥wna klasa zarzƒÖdzajƒÖca pƒôtlƒÖ renderowania, zdarzeniami wej≈õciowymi i komponentami graficznymi.</p>
</section>
<section id="id164">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code><a class="headerlink" href="#id164" title="Link to this heading">#</a></h1>
</section>
<section id="id165">
<h1>Opis semantyczny<a class="headerlink" href="#id165" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">Application</span></code> i implementuje jej metody wirtualne, dodajƒÖc funkcjonalno≈õƒá specyficznƒÖ dla aplikacji graficznej. Odpowiada za koordynacjƒô miƒôdzy oknem (<code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>), mened≈ºerem UI (<code class="docutils literal notranslate"><span class="pre">UIManager</span></code>), silnikiem renderujƒÖcym (<code class="docutils literal notranslate"><span class="pre">Painter</span></code>) i innymi systemami. Implementuje wielowƒÖtkowƒÖ pƒôtlƒô g≈Ç√≥wnƒÖ, gdzie logika jest oddzielona od renderowania.</p>
</section>
<section id="id166">
<h1>Metody publiczne<a class="headerlink" href="#id166" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init(...)</span></code></p></td>
<td class="text-left"><p>Inicjalizuje podsystemy graficzne.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">deinit()</span></code></p></td>
<td class="text-left"><p>Zwalnia zasoby graficzne przed zamkniƒôciem.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Finalizuje zamykanie podsystem√≥w graficznych.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">run()</span></code></p></td>
<td class="text-left"><p>Uruchamia g≈Ç√≥wnƒÖ, wielowƒÖtkowƒÖ pƒôtlƒô aplikacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia logiki i d≈∫wiƒôku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">pollGraphics()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia okna i grafiki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">close()</span></code></p></td>
<td class="text-left"><p>Obs≈Çuguje zdarzenie zamkniƒôcia okna.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">willRepaint()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli zaplanowano przemalowanie ekranu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">repaint()</span></code></p></td>
<td class="text-left"><p>Wymusza przemalowanie ekranu w nastƒôpnej klatce.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setMaxFps(int</span> <span class="pre">maxFps)</span></code></p></td>
<td class="text-left"><p>Ustawia maksymalnƒÖ liczbƒô klatek na sekundƒô.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getMaxFps()</span></code></p></td>
<td class="text-left"><p>Zwraca ustawiony limit FPS.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getFps()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny FPS renderowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getGraphicsFps()</span></code></p></td>
<td class="text-left"><p>Zwraca FPS wƒÖtku graficznego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getProcessingFps()</span></code></p></td>
<td class="text-left"><p>Zwraca FPS wƒÖtku logiki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isOnInputEvent()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli aplikacja jest w trakcie przetwarzania zdarzenia wej≈õciowego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getIteration()</span></code></p></td>
<td class="text-left"><p>Zwraca licznik iteracji g≈Ç√≥wnej pƒôtli.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">doScreenshot(...)</span></code></p></td>
<td class="text-left"><p>Robi zrzut ca≈Çego ekranu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">scaleUp()</span></code> / <code class="docutils literal notranslate"><span class="pre">scaleDown()</span></code> / <code class="docutils literal notranslate"><span class="pre">scale()</span></code></p></td>
<td class="text-left"><p>ZarzƒÖdzajƒÖ skalowaniem interfejsu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setSmooth(bool</span> <span class="pre">value)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza/wy≈ÇƒÖcza wyg≈Çadzanie dla bufora ramki mapy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">doMapScreenshot(...)</span></code></p></td>
<td class="text-left"><p>Robi zrzut ekranu samej mapy gry.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id167">
<h1>Metody chronione<a class="headerlink" href="#id167" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code>: Obs≈Çuguje zdarzenie zmiany rozmiaru okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">inputEvent(InputEvent</span> <span class="pre">event)</span></code>: Otrzymuje i przekazuje zdarzenia wej≈õciowe.</p></li>
</ul>
</section>
<section id="id168">
<h1>Zmienne prywatne<a class="headerlink" href="#id168" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_iteration</span></code>: Licznik klatek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_scaling</span></code>, <code class="docutils literal notranslate"><span class="pre">m_lastScaling</span></code>: Aktualne i poprzednie skalowanie UI.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_maxFps</span></code>: Maksymalny limit FPS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_onInputEvent</span></code>: Flaga aktywna podczas obs≈Çugi zdarzenia wej≈õciowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mustRepaint</span></code>: Flaga wymuszajƒÖca przemalowanie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_framebuffer</span></code>, <code class="docutils literal notranslate"><span class="pre">m_mapFramebuffer</span></code>: Bufory ramki do renderowania poza ekranem (off-screen rendering).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_graphicsFrames</span></code>, <code class="docutils literal notranslate"><span class="pre">m_processingFrames</span></code>: Liczniki klatek dla wƒÖtku graficznego i logiki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_windowPollTimer</span></code>: Timer do ograniczania czƒôstotliwo≈õci odpytywania okna.</p></li>
</ul>
</section>
<section id="id169">
<h1>Zmienne globalne<a class="headerlink" href="#id169" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_app</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>.</p></li>
</ul>
</section>
<section id="id170">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id170" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Deklaracje typ√≥w graficznych (np. <code class="docutils literal notranslate"><span class="pre">FrameBufferPtr</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/inputevent.h</span></code>: Struktura <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/adaptiverenderer.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code> do dynamicznego dostosowywania wydajno≈õci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/framecounter.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">FrameCounter</span></code> do ≈õledzenia FPS.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="logger-h">
<h1>üìÑ logger.h<a class="headerlink" href="#logger-h" title="Link to this heading">#</a></h1>
</section>
<section id="id171">
<h1>Opis og√≥lny<a class="headerlink" href="#id171" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">logger.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Logger</span></code>, kt√≥ra implementuje system logowania dla ca≈Çej aplikacji. Jest to singleton (<code class="docutils literal notranslate"><span class="pre">g_logger</span></code>) zapewniajƒÖcy scentralizowany i bezpieczny wƒÖtkowo mechanizm do zapisywania komunikat√≥w o r√≥≈ºnym poziomie wa≈ºno≈õci (debug, info, warning, error, fatal).</p>
</section>
<section id="struktura-logmessage">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">LogMessage</span></code><a class="headerlink" href="#struktura-logmessage" title="Link to this heading">#</a></h1>
<p>Prosta struktura przechowujƒÖca pojedynczƒÖ wiadomo≈õƒá logu.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">level</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::LogLevel</span></code></p></td>
<td class="text-left"><p>Poziom wa≈ºno≈õci wiadomo≈õci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">message</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Tre≈õƒá wiadomo≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">when</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::size_t</span></code></p></td>
<td class="text-left"><p>Czas (timestamp) utworzenia wiadomo≈õci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasa-logger">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Logger</span></code><a class="headerlink" href="#klasa-logger" title="Link to this heading">#</a></h1>
</section>
<section id="id172">
<h1>Opis semantyczny<a class="headerlink" href="#id172" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Logger</span></code> umo≈ºliwia logowanie komunikat√≥w do standardowego wyj≈õcia (konsola), opcjonalnego pliku oraz przekazywanie ich do zarejestrowanego <code class="docutils literal notranslate"><span class="pre">callbacka</span></code> (np. w celu wy≈õwietlenia w interfejsie u≈ºytkownika). Przechowuje r√≥wnie≈º historiƒô ostatnich <code class="docutils literal notranslate"><span class="pre">MAX_LOG_HISTORY</span></code> wiadomo≈õci.</p>
</section>
<section id="id173">
<h1>Metody publiczne<a class="headerlink" href="#id173" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">log(...)</span></code></p></td>
<td class="text-left"><p>G≈Ç√≥wna metoda logujƒÖca wiadomo≈õƒá z okre≈õlonym poziomem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">logFunc(...)</span></code></p></td>
<td class="text-left"><p>Loguje wiadomo≈õƒá wraz z informacjƒÖ o funkcji, z kt√≥rej zosta≈Ça wywo≈Çana (<code class="docutils literal notranslate"><span class="pre">__PRETTY_FUNCTION__</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">debug(..)</span></code></p></td>
<td class="text-left"><p>Skr√≥t do <code class="docutils literal notranslate"><span class="pre">log(Fw::LogDebug,</span> <span class="pre">...)</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">info(...)</span></code></p></td>
<td class="text-left"><p>Skr√≥t do <code class="docutils literal notranslate"><span class="pre">log(Fw::LogInfo,</span> <span class="pre">...)</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">warning(...)</span></code></p></td>
<td class="text-left"><p>Skr√≥t do <code class="docutils literal notranslate"><span class="pre">log(Fw::LogWarning,</span> <span class="pre">...)</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">error(...)</span></code></p></td>
<td class="text-left"><p>Skr√≥t do <code class="docutils literal notranslate"><span class="pre">log(Fw::LogError,</span> <span class="pre">...)</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">fatal(...)</span></code></p></td>
<td class="text-left"><p>Skr√≥t do <code class="docutils literal notranslate"><span class="pre">log(Fw::LogFatal,</span> <span class="pre">...)</span></code>, kt√≥ry dodatkowo powoduje zamkniƒôcie aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">fireOldMessages()</span></code></p></td>
<td class="text-left"><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">m_onLog</span></code> dla wszystkich historycznych wiadomo≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setLogFile(...)</span></code></p></td>
<td class="text-left"><p>Ustawia plik, do kt√≥rego bƒôdƒÖ zapisywane logi.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setOnLog(...)</span></code></p></td>
<td class="text-left"><p>Rejestruje funkcjƒô zwrotnƒÖ, kt√≥ra bƒôdzie wywo≈Çywana dla ka≈ºdej nowej wiadomo≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getLastLog()</span></code></p></td>
<td class="text-left"><p>Zwraca ostatnio zalogowanƒÖ wiadomo≈õƒá.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setTestingMode()</span></code></p></td>
<td class="text-left"><p>Ustawia tryb testowy, w kt√≥rym b≈Çƒôdy (<code class="docutils literal notranslate"><span class="pre">LogError</span></code>) dzia≈ÇajƒÖ jak b≈Çƒôdy krytyczne (<code class="docutils literal notranslate"><span class="pre">LogFatal</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id174">
<h1>Zmienne prywatne<a class="headerlink" href="#id174" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_logMessages</span></code>: Lista ostatnich wiadomo≈õci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_onLog</span></code>: Wska≈∫nik na funkcjƒô zwrotnƒÖ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_outFile</span></code>: Strumie≈Ñ pliku do zapisu log√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>: Mutex rekurencyjny zapewniajƒÖcy bezpiecze≈Ñstwo wƒÖtkowe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_lastLog</span></code>: Przechowuje ostatniƒÖ wiadomo≈õƒá.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_testingMode</span></code>: Flaga trybu testowego.</p></li>
</ul>
</section>
<section id="makra-pomocnicze">
<h1>Makra pomocnicze<a class="headerlink" href="#makra-pomocnicze" title="Link to this heading">#</a></h1>
<p>Plik definiuje makra u≈ÇatwiajƒÖce logowanie z dodatkowymi informacjami o kontek≈õcie.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trace()</span></code>: Loguje nazwƒô bie≈ºƒÖcej funkcji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">traceDebug(a)</span></code>, <code class="docutils literal notranslate"><span class="pre">traceInfo(a)</span></code>, ‚Ä¶: LogujƒÖ wiadomo≈õƒá <code class="docutils literal notranslate"><span class="pre">a</span></code> wraz z nazwƒÖ funkcji i ≈õladem stosu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logTraceCounter()</span></code>: Loguje licznik wywo≈Ça≈Ñ co sekundƒô.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logTraceFrameCounter()</span></code>: Loguje licznik wywo≈Ça≈Ñ co klatkƒô.</p></li>
</ul>
</section>
<section id="id175">
<h1>Zmienne globalne<a class="headerlink" href="#id175" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_logger</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Logger</span></code>.</p></li>
</ul>
</section>
<section id="id176">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id176" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/thread.h</span></code>: Zawiera <code class="docutils literal notranslate"><span class="pre">&lt;mutex&gt;</span></code> do synchronizacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;fstream&gt;</span></code>: Do obs≈Çugi zapisu do pliku.</p></li>
<li><p>Jest u≈ºywany w ca≈Çym projekcie do raportowania stanu, b≈Çƒôd√≥w i informacji debugowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="module-cpp">
<h1>üìÑ module.cpp<a class="headerlink" href="#module-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id177">
<h1>Opis og√≥lny<a class="headerlink" href="#id177" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">module.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Module</span></code>, kt√≥ra reprezentuje pojedynczy, ≈Çadowalny modu≈Ç funkcjonalno≈õci w aplikacji. Modu≈Çy sƒÖ podstawƒÖ architektury wtyczek, pozwalajƒÖc na dynamiczne ≈Çadowanie, od≈Çadowywanie i ponowne ≈Çadowanie kodu (g≈Ç√≥wnie skrypt√≥w Lua) w trakcie dzia≈Çania programu.</p>
</section>
<section id="klasa-module">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Module</span></code><a class="headerlink" href="#klasa-module" title="Link to this heading">#</a></h1>
</section>
<section id="module-module-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">Module::Module(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#module-module-const-std-string-name" title="Link to this heading">#</a></h1>
<p>Konstruktor. Ustawia nazwƒô modu≈Çu i tworzy dla niego nowe, odizolowane ≈õrodowisko Lua (piaskownicƒô - sandbox) za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_lua.newSandboxEnv()</span></code>.</p>
</section>
<section id="bool-module-load">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::load()</span></code><a class="headerlink" href="#bool-module-load" title="Link to this heading">#</a></h1>
</section>
<section id="id178">
<h1>Opis semantyczny<a class="headerlink" href="#id178" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda ≈ÇadujƒÖca modu≈Ç. Jest odpowiedzialna za sprawdzenie i za≈Çadowanie zale≈ºno≈õci, a nastƒôpnie wykonanie skrypt√≥w modu≈Çu.</p>
</section>
<section id="id179">
<h1>Dzia≈Çanie<a class="headerlink" href="#id179" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy modu≈Ç nie jest ju≈º za≈Çadowany.</p></li>
<li><p>Definiuje <code class="docutils literal notranslate"><span class="pre">errorHandler</span></code> do obs≈Çugi b≈Çƒôd√≥w ≈Çadowania.</p></li>
<li><p>Dodaje ≈õrodowisko modu≈Çu do <code class="docutils literal notranslate"><span class="pre">package.loaded</span></code> w Lua, aby <code class="docutils literal notranslate"><span class="pre">require</span></code> dzia≈Ça≈Ço poprawnie.</p></li>
<li><p>Iteruje po zale≈ºno≈õciach (<code class="docutils literal notranslate"><span class="pre">m_dependencies</span></code>):</p>
<ul class="simple">
<li><p>Sprawdza, czy modu≈Ç nie zale≈ºy sam od siebie.</p></li>
<li><p>Sprawdza, czy zale≈ºno≈õƒá istnieje.</p></li>
<li><p>Sprawdza, czy nie ma zale≈ºno≈õci cyklicznych.</p></li>
<li><p>Je≈õli zale≈ºno≈õƒá nie jest za≈Çadowana, pr√≥buje jƒÖ za≈Çadowaƒá.</p></li>
</ul>
</li>
<li><p>Je≈õli modu≈Ç jest w piaskownicy (<code class="docutils literal notranslate"><span class="pre">m_sandboxed</span></code>), ustawia jego ≈õrodowisko jako globalne w Lua.</p></li>
<li><p>Wykonuje wszystkie skrypty z listy <code class="docutils literal notranslate"><span class="pre">m_scripts</span></code>.</p></li>
<li><p>Wykonuje skrypt z <code class="docutils literal notranslate"><span class="pre">m_onLoadFunc</span></code>, je≈õli jest zdefiniowany.</p></li>
<li><p>Je≈õli wystƒÖpi≈Ç b≈ÇƒÖd, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">errorHandler</span></code> i zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p>Przywraca globalne ≈õrodowisko Lua, je≈õli by≈Ço zmienione.</p></li>
<li><p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_loaded</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code> i aktualizuje kolejno≈õƒá ≈Çadowania modu≈Ç√≥w.</p></li>
<li><p>≈Åaduje modu≈Çy z listy <code class="docutils literal notranslate"><span class="pre">m_loadLaterModules</span></code>.</p></li>
</ol>
</section>
<section id="void-module-unload">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Module::unload()</span></code><a class="headerlink" href="#void-module-unload" title="Link to this heading">#</a></h1>
</section>
<section id="id180">
<h1>Opis semantyczny<a class="headerlink" href="#id180" title="Link to this heading">#</a></h1>
<p>Od≈Çadowuje modu≈Ç, wykonujƒÖc jego skrypt <code class="docutils literal notranslate"><span class="pre">onUnload</span></code> i czyszczƒÖc jego ≈õrodowisko Lua.</p>
</section>
<section id="id181">
<h1>Dzia≈Çanie<a class="headerlink" href="#id181" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy modu≈Ç jest za≈Çadowany.</p></li>
<li><p>Je≈õli tak, wykonuje skrypt <code class="docutils literal notranslate"><span class="pre">onUnload</span></code> (<code class="docutils literal notranslate"><span class="pre">m_onUnloadFunc</span></code>).</p></li>
<li><p>Czy≈õci ca≈ÇƒÖ tabelƒô ≈õrodowiska Lua modu≈Çu, aby zwolniƒá wszystkie referencje.</p></li>
<li><p>Usuwa modu≈Ç z <code class="docutils literal notranslate"><span class="pre">package.loaded</span></code> w Lua.</p></li>
<li><p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_loaded</span></code> na <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ol>
</section>
<section id="bool-module-reload">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::reload()</span></code><a class="headerlink" href="#bool-module-reload" title="Link to this heading">#</a></h1>
<p>Od≈Çadowuje i ponownie ≈Çaduje modu≈Ç.</p>
</section>
<section id="bool-module-isdependent">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::isDependent()</span></code><a class="headerlink" href="#bool-module-isdependent" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy jakikolwiek inny za≈Çadowany modu≈Ç zale≈ºy od tego modu≈Çu. Jest to u≈ºywane do okre≈õlenia, czy modu≈Ç mo≈ºna bezpiecznie od≈Çadowaƒá.</p>
</section>
<section id="bool-module-hasdependency-const-std-string-name-bool-recursive">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::hasDependency(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">bool</span> <span class="pre">recursive)</span></code><a class="headerlink" href="#bool-module-hasdependency-const-std-string-name-bool-recursive" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy modu≈Ç ma zale≈ºno≈õƒá o podanej nazwie. Opcja <code class="docutils literal notranslate"><span class="pre">recursive</span></code> pozwala na sprawdzanie zale≈ºno≈õci po≈õrednich.</p>
</section>
<section id="int-module-getsandbox-luainterface-lua">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Module::getSandbox(LuaInterface*</span> <span class="pre">lua)</span></code><a class="headerlink" href="#int-module-getsandbox-luainterface-lua" title="Link to this heading">#</a></h1>
<p>Zwraca na stos Lua tabelƒô ≈õrodowiska (piaskownicƒô) tego modu≈Çu.</p>
</section>
<section id="void-module-discover-const-otmlnodeptr-modulenode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Module::discover(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">moduleNode)</span></code><a class="headerlink" href="#void-module-discover-const-otmlnodeptr-modulenode" title="Link to this heading">#</a></h1>
<p>Parsuje wƒôze≈Ç OTML (z pliku <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>) i inicjalizuje pola modu≈Çu, takie jak opis, autor, wersja, zale≈ºno≈õci, lista skrypt√≥w, oraz skrypty <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> i <code class="docutils literal notranslate"><span class="pre">onUnload</span></code>.</p>
</section>
<section id="id182">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id182" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/module.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/modulemanager.h</span></code>: Wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code> do zarzƒÖdzania zale≈ºno≈õciami i kolejno≈õciƒÖ ≈Çadowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: U≈ºywany do rozwiƒÖzywania ≈õcie≈ºek do skrypt√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> do odczytu metadanych modu≈Çu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: Intensywnie korzysta z <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do zarzƒÖdzania ≈õrodowiskiem i wykonywania skrypt√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="modulemanager-cpp">
<h1>üìÑ modulemanager.cpp<a class="headerlink" href="#modulemanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id183">
<h1>Opis og√≥lny<a class="headerlink" href="#id183" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">modulemanager.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_modules</span></code>) odpowiedzialnym za zarzƒÖdzanie wszystkimi modu≈Çami w aplikacji. Odpowiada za ich odkrywanie, ≈Çadowanie, od≈Çadowywanie i ponowne ≈Çadowanie, a tak≈ºe za zarzƒÖdzanie zale≈ºno≈õciami miƒôdzy nimi.</p>
</section>
<section id="id184">
<h1>Zmienne globalne<a class="headerlink" href="#id184" title="Link to this heading">#</a></h1>
</section>
<section id="g-modules">
<h1><code class="docutils literal notranslate"><span class="pre">g_modules</span></code><a class="headerlink" href="#g-modules" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ModuleManager</span><span class="w"> </span><span class="n">g_modules</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-modulemanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code><a class="headerlink" href="#klasa-modulemanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-modulemanager-clear">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::clear()</span></code><a class="headerlink" href="#void-modulemanager-clear" title="Link to this heading">#</a></h1>
<p>Czy≈õci wszystkie dane mened≈ºera, usuwajƒÖc listƒô modu≈Ç√≥w i modu≈Ç√≥w do automatycznego ≈Çadowania.</p>
</section>
<section id="void-modulemanager-discovermodules">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::discoverModules()</span></code><a class="headerlink" href="#void-modulemanager-discovermodules" title="Link to this heading">#</a></h1>
</section>
<section id="id185">
<h1>Opis semantyczny<a class="headerlink" href="#id185" title="Link to this heading">#</a></h1>
<p>Przeszukuje wirtualny system plik√≥w (katalogi <code class="docutils literal notranslate"><span class="pre">/modules</span></code> i <code class="docutils literal notranslate"><span class="pre">/mods</span></code>) w poszukiwaniu plik√≥w <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>, parsuje je i tworzy obiekty <code class="docutils literal notranslate"><span class="pre">Module</span></code> dla ka≈ºdego znalezionego modu≈Çu. Modu≈Çy oznaczone jako <code class="docutils literal notranslate"><span class="pre">autoload</span></code> sƒÖ dodawane do specjalnej listy.</p>
</section>
<section id="void-modulemanager-autoloadmodules-int-maxpriority">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::autoLoadModules(int</span> <span class="pre">maxPriority)</span></code><a class="headerlink" href="#void-modulemanager-autoloadmodules-int-maxpriority" title="Link to this heading">#</a></h1>
<p>≈Åaduje wszystkie modu≈Çy z listy <code class="docutils literal notranslate"><span class="pre">m_autoLoadModules</span></code>, kt√≥rych priorytet jest mniejszy lub r√≥wny <code class="docutils literal notranslate"><span class="pre">maxPriority</span></code>. Modu≈Çy sƒÖ ≈Çadowane w kolejno≈õci rosnƒÖcego priorytetu.</p>
</section>
<section id="moduleptr-modulemanager-discovermodule-const-std-string-modulefile">
<h1><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">ModuleManager::discoverModule(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleFile)</span></code><a class="headerlink" href="#moduleptr-modulemanager-discovermodule-const-std-string-modulefile" title="Link to this heading">#</a></h1>
<p>Parsuje pojedynczy plik <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>, tworzy lub aktualizuje obiekt <code class="docutils literal notranslate"><span class="pre">Module</span></code> i dodaje go do listy <code class="docutils literal notranslate"><span class="pre">m_modules</span></code>.</p>
</section>
<section id="void-modulemanager-ensuremoduleloaded-const-std-string-modulename">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::ensureModuleLoaded(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleName)</span></code><a class="headerlink" href="#void-modulemanager-ensuremoduleloaded-const-std-string-modulename" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy modu≈Ç o podanej nazwie jest za≈Çadowany. Je≈õli nie, pr√≥buje go za≈Çadowaƒá. Je≈õli ≈Çadowanie siƒô nie powiedzie, aplikacja jest zamykana z b≈Çƒôdem krytycznym.</p>
</section>
<section id="void-modulemanager-unloadmodules">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::unloadModules()</span></code><a class="headerlink" href="#void-modulemanager-unloadmodules" title="Link to this heading">#</a></h1>
<p>Od≈Çadowuje wszystkie za≈Çadowane modu≈Çy. U≈ºywa kopii listy modu≈Ç√≥w, aby uniknƒÖƒá problem√≥w z iteratorami podczas usuwania.</p>
</section>
<section id="void-modulemanager-reloadmodules">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::reloadModules()</span></code><a class="headerlink" href="#void-modulemanager-reloadmodules" title="Link to this heading">#</a></h1>
</section>
<section id="id186">
<h1>Opis semantyczny<a class="headerlink" href="#id186" title="Link to this heading">#</a></h1>
<p>Implementuje mechanizm ‚Äûhot-reloading‚Äù modu≈Ç√≥w.</p>
</section>
<section id="id187">
<h1>Dzia≈Çanie<a class="headerlink" href="#id187" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzy listƒô modu≈Ç√≥w do ponownego za≈Çadowania (<code class="docutils literal notranslate"><span class="pre">toLoadList</span></code>).</p></li>
<li><p>W pƒôtli (do 10 pr√≥b) pr√≥buje od≈Çadowaƒá wszystkie modu≈Çy, kt√≥re mogƒÖ byƒá od≈Çadowane (<code class="docutils literal notranslate"><span class="pre">canUnload()</span></code>). Modu≈Çy sƒÖ od≈Çadowywane w odwrotnej kolejno≈õci zale≈ºno≈õci.</p></li>
<li><p>Po od≈Çadowaniu, ≈Çaduje ponownie modu≈Çy z <code class="docutils literal notranslate"><span class="pre">toLoadList</span></code>.</p></li>
</ol>
</section>
<section id="moduleptr-modulemanager-getmodule-const-std-string-modulename">
<h1><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">ModuleManager::getModule(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleName)</span></code><a class="headerlink" href="#moduleptr-modulemanager-getmodule-const-std-string-modulename" title="Link to this heading">#</a></h1>
<p>Wyszukuje i zwraca wska≈∫nik do modu≈Çu o podanej nazwie.</p>
</section>
<section id="void-modulemanager-updatemoduleloadorder-moduleptr-module">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::updateModuleLoadOrder(ModulePtr</span> <span class="pre">module)</span></code><a class="headerlink" href="#void-modulemanager-updatemoduleloadorder-moduleptr-module" title="Link to this heading">#</a></h1>
<p>Aktualizuje wewnƒôtrznƒÖ listƒô modu≈Ç√≥w (<code class="docutils literal notranslate"><span class="pre">m_modules</span></code>), aby za≈Çadowane modu≈Çy znajdowa≈Çy siƒô na jej poczƒÖtku. Zapewnia to poprawnƒÖ kolejno≈õƒá od≈Çadowywania (odwrotnƒÖ do ≈Çadowania).</p>
</section>
<section id="id188">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id188" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/modulemanager.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: U≈ºywany do przeszukiwania katalog√≥w z modu≈Çami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code>: Do parsowania plik√≥w <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Do obs≈Çugi b≈Çƒôd√≥w krytycznych.</p></li>
<li><p>Jest centralnym elementem architektury wtyczek i ≈õci≈õle wsp√≥≈Çpracuje z klasƒÖ <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="logger-cpp">
<h1>üìÑ logger.cpp<a class="headerlink" href="#logger-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id189">
<h1>Opis og√≥lny<a class="headerlink" href="#id189" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">logger.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Logger</span></code>, kt√≥ra jest odpowiedzialna za system logowania w aplikacji. Zapewnia mechanizmy do zapisywania komunikat√≥w o r√≥≈ºnym poziomie wa≈ºno≈õci do konsoli, pliku oraz przekazywania ich do zarejestrowanych funkcji zwrotnych (callback√≥w).</p>
</section>
<section id="id190">
<h1>Zmienne globalne<a class="headerlink" href="#id190" title="Link to this heading">#</a></h1>
</section>
<section id="g-logger">
<h1><code class="docutils literal notranslate"><span class="pre">g_logger</span></code><a class="headerlink" href="#g-logger" title="Link to this heading">#</a></h1>
<p>Globalna, jedyna instancja klasy <code class="docutils literal notranslate"><span class="pre">Logger</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Logger</span><span class="w"> </span><span class="n">g_logger</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id191">
<h1>Funkcje globalne<a class="headerlink" href="#id191" title="Link to this heading">#</a></h1>
</section>
<section id="void-fatalerror-const-char-error-const-char-file-int-line">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">fatalError(const</span> <span class="pre">char*</span> <span class="pre">error,</span> <span class="pre">const</span> <span class="pre">char*</span> <span class="pre">file,</span> <span class="pre">int</span> <span class="pre">line)</span></code><a class="headerlink" href="#void-fatalerror-const-char-error-const-char-file-int-line" title="Link to this heading">#</a></h1>
<p>Funkcja wywo≈Çywana przez makro <code class="docutils literal notranslate"><span class="pre">VALIDATE</span></code>. Loguje b≈ÇƒÖd krytyczny za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_logger.fatal</span></code>, zawierajƒÖcy komunikat, plik i numer linii, a nastƒôpnie przerywa dzia≈Çanie aplikacji.</p>
</section>
<section id="id192">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Logger</span></code><a class="headerlink" href="#id192" title="Link to this heading">#</a></h1>
</section>
<section id="void-logger-log-fw-loglevel-level-const-std-string-message">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::log(Fw::LogLevel</span> <span class="pre">level,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">message)</span></code><a class="headerlink" href="#void-logger-log-fw-loglevel-level-const-std-string-message" title="Link to this heading">#</a></h1>
</section>
<section id="id193">
<h1>Opis semantyczny<a class="headerlink" href="#id193" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna, prywatna metoda logujƒÖca. Jest bezpieczna wƒÖtkowo dziƒôki u≈ºyciu <code class="docutils literal notranslate"><span class="pre">std::recursive_mutex</span></code>.</p>
</section>
<section id="id194">
<h1>Dzia≈Çanie<a class="headerlink" href="#id194" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Blokuje mutex, aby zapewniƒá wy≈ÇƒÖczny dostƒôp.</p></li>
<li><p>W trybie <code class="docutils literal notranslate"><span class="pre">NDEBUG</span></code> (wydajno≈õciowym) ignoruje wiadomo≈õci o poziomie <code class="docutils literal notranslate"><span class="pre">LogDebug</span></code>.</p></li>
<li><p>Dodaje odpowiedni prefiks do wiadomo≈õci (np. ‚ÄûWARNING: ‚Äû, ‚ÄûERROR: ‚Äû).</p></li>
<li><p>Wypisuje sformatowanƒÖ wiadomo≈õƒá na standardowe wyj≈õcie (<code class="docutils literal notranslate"><span class="pre">std::cout</span></code>) lub <code class="docutils literal notranslate"><span class="pre">__android_log_print</span></code> na Androidzie.</p></li>
<li><p>Je≈õli ustawiono plik logu, zapisuje wiadomo≈õƒá do pliku.</p></li>
<li><p>Dodaje wiadomo≈õƒá do wewnƒôtrznej historii <code class="docutils literal notranslate"><span class="pre">m_logMessages</span></code>.</p></li>
<li><p>Je≈õli zarejestrowano <code class="docutils literal notranslate"><span class="pre">callback</span></code> (<code class="docutils literal notranslate"><span class="pre">m_onLog</span></code>), dodaje zdarzenie do <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>, kt√≥re wywo≈Ça ten <code class="docutils literal notranslate"><span class="pre">callback</span></code> w g≈Ç√≥wnym wƒÖtku.</p></li>
<li><p>Je≈õli poziom to <code class="docutils literal notranslate"><span class="pre">LogFatal</span></code> (lub <code class="docutils literal notranslate"><span class="pre">LogError</span></code> w trybie testowym), wy≈õwietla okno b≈Çƒôdu (w wersji graficznej) i natychmiast ko≈Ñczy aplikacjƒô.</p></li>
</ol>
</section>
<section id="void-logger-logfunc-fw-loglevel-level-const-std-string-message-std-string-prettyfunction">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::logFunc(Fw::LogLevel</span> <span class="pre">level,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">message,</span> <span class="pre">std::string</span> <span class="pre">prettyFunction)</span></code><a class="headerlink" href="#void-logger-logfunc-fw-loglevel-level-const-std-string-message-std-string-prettyfunction" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza, kt√≥ra wzbogaca wiadomo≈õƒá o informacje o funkcji, z kt√≥rej zosta≈Ça wywo≈Çana, oraz o ≈õlad stosu (traceback) z Lua i C++. U≈ºywana przez makra takie jak <code class="docutils literal notranslate"><span class="pre">traceError</span></code>.</p>
</section>
<section id="void-logger-fireoldmessages">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::fireOldMessages()</span></code><a class="headerlink" href="#void-logger-fireoldmessages" title="Link to this heading">#</a></h1>
<p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">m_onLog</span></code> dla wszystkich wiadomo≈õci, kt√≥re zosta≈Çy zalogowane przed jego zarejestrowaniem. Przydatne do wy≈õwietlania wczesnych log√≥w w UI, gdy UI jest ju≈º gotowe.</p>
</section>
<section id="void-logger-setlogfile-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::setLogFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#void-logger-setlogfile-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Otwiera podany plik do zapisu log√≥w. Przed otwarciem do dopisywania, odczytuje ostatnie 100 KB z istniejƒÖcego pliku do <code class="docutils literal notranslate"><span class="pre">m_lastLog</span></code>, aby mo≈ºna by≈Ço przejrzeƒá logi z poprzedniej sesji.</p>
</section>
<section id="id195">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id195" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/logger.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> do bezpiecznego wywo≈Çywania <code class="docutils literal notranslate"><span class="pre">callback√≥w</span></code> w g≈Ç√≥wnym wƒÖtku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Potencjalnie u≈ºywany do rozwiƒÖzywania ≈õcie≈ºek do plik√≥w log√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/graphicalapplication.h</span></code>: W wersji graficznej, <code class="docutils literal notranslate"><span class="pre">g_window</span></code> jest u≈ºywane do wy≈õwietlania okna b≈Çƒôdu krytycznego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_platform</span></code> do generowania ≈õladu stosu C++.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do generowania ≈õladu stosu Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="module-h">
<h1>üìÑ module.h<a class="headerlink" href="#module-h" title="Link to this heading">#</a></h1>
</section>
<section id="id196">
<h1>Opis og√≥lny<a class="headerlink" href="#id196" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">module.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Module</span></code>, kt√≥ra jest podstawowym elementem systemu modularno≈õci aplikacji. Ka≈ºdy modu≈Ç reprezentuje logicznie oddzielonƒÖ czƒô≈õƒá funkcjonalno≈õci (np. interfejs, mini-mapa, bot), kt√≥ra mo≈ºe byƒá dynamicznie ≈Çadowana i od≈Çadowywana.</p>
</section>
<section id="id197">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Module</span></code><a class="headerlink" href="#id197" title="Link to this heading">#</a></h1>
</section>
<section id="id198">
<h1>Opis semantyczny<a class="headerlink" href="#id198" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Module</span></code> enkapsuluje zestaw skrypt√≥w Lua, metadane (nazwa, autor, wersja), zale≈ºno≈õci od innych modu≈Ç√≥w oraz w≈Çasne, izolowane ≈õrodowisko Lua (piaskownicƒô - sandbox). Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, dziƒôki czemu mo≈ºe byƒá zarzƒÖdzany z poziomu skrypt√≥w Lua.</p>
</section>
<section id="id199">
<h1>Metody publiczne<a class="headerlink" href="#id199" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Module(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">load()</span></code></p></td>
<td class="text-left"><p>≈Åaduje modu≈Ç, wykonujƒÖc jego skrypty i zale≈ºno≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">unload()</span></code></p></td>
<td class="text-left"><p>Od≈Çadowuje modu≈Ç, wykonujƒÖc skrypt <code class="docutils literal notranslate"><span class="pre">onUnload</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">reload()</span></code></p></td>
<td class="text-left"><p>Ponownie ≈Çaduje modu≈Ç.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">canUnload()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli modu≈Ç jest prze≈Çadowywalny i ≈ºaden inny modu≈Ç od niego nie zale≈ºy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">canReload()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli modu≈Ç jest prze≈Çadowywalny i nie ma zale≈ºno≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isLoaded()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli modu≈Ç jest za≈Çadowany.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isReloadable()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli modu≈Ç mo≈ºna prze≈Çadowaƒá.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isDependent()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy inny za≈Çadowany modu≈Ç zale≈ºy od tego modu≈Çu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isSandboxed()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli modu≈Ç dzia≈Ça w odizolowanym ≈õrodowisku Lua.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">hasDependency(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy modu≈Ç ma danƒÖ zale≈ºno≈õƒá (opcjonalnie rekurencyjnie).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getSandbox(LuaInterface</span> <span class="pre">*lua)</span></code></p></td>
<td class="text-left"><p>Umieszcza na stosie Lua tabelƒô ≈õrodowiska tego modu≈Çu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getDescription()</span></code>, <code class="docutils literal notranslate"><span class="pre">getName()</span></code>, <code class="docutils literal notranslate"><span class="pre">getAuthor()</span></code>, <code class="docutils literal notranslate"><span class="pre">getWebsite()</span></code>, <code class="docutils literal notranslate"><span class="pre">getVersion()</span></code></p></td>
<td class="text-left"><p>ZwracajƒÖ metadane modu≈Çu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isAutoLoad()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli modu≈Ç powinien byƒá ≈Çadowany automatycznie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getAutoLoadPriority()</span></code></p></td>
<td class="text-left"><p>Zwraca priorytet automatycznego ≈Çadowania.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id200">
<h1>Metody chronione<a class="headerlink" href="#id200" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">discover(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">moduleNode)</span></code>: Metoda wywo≈Çywana przez <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code> do wczytania metadanych modu≈Çu z pliku <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>.</p></li>
</ul>
</section>
<section id="id201">
<h1>Zmienne prywatne<a class="headerlink" href="#id201" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_loaded</span></code>, <code class="docutils literal notranslate"><span class="pre">m_autoLoad</span></code>, <code class="docutils literal notranslate"><span class="pre">m_reloadable</span></code>, <code class="docutils literal notranslate"><span class="pre">m_sandboxed</span></code>: Flagi stanu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_autoLoadPriority</span></code>: Priorytet ≈Çadowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_sandboxEnv</span></code>: Referencja do ≈õrodowiska Lua (piaskownicy).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_onLoadFunc</span></code>, <code class="docutils literal notranslate"><span class="pre">m_onUnloadFunc</span></code>: PrzechowujƒÖ kod skrypt√≥w <code class="docutils literal notranslate"><span class="pre">onLoad</span></code> i <code class="docutils literal notranslate"><span class="pre">onUnload</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>, <code class="docutils literal notranslate"><span class="pre">m_description</span></code>, ‚Ä¶: Metadane modu≈Çu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_dependencies</span></code>, <code class="docutils literal notranslate"><span class="pre">m_scripts</span></code>, <code class="docutils literal notranslate"><span class="pre">m_loadLaterModules</span></code>: Listy zale≈ºno≈õci i skrypt√≥w.</p></li>
</ul>
</section>
<section id="id202">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id202" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Definicje wska≈∫nik√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code> do parsowania metadanych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Jest klasƒÖ pochodnƒÖ <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, co pozwala na interakcjƒô z obiektami <code class="docutils literal notranslate"><span class="pre">Module</span></code> z poziomu Lua.</p></li>
<li><p>Jest zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="modulemanager-h">
<h1>üìÑ modulemanager.h<a class="headerlink" href="#modulemanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id203">
<h1>Opis og√≥lny<a class="headerlink" href="#id203" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">modulemanager.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_modules</span></code>) odpowiedzialnym za zarzƒÖdzanie cyklem ≈ºycia wszystkich modu≈Ç√≥w w aplikacji.</p>
</section>
<section id="id204">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code><a class="headerlink" href="#id204" title="Link to this heading">#</a></h1>
</section>
<section id="id205">
<h1>Opis semantyczny<a class="headerlink" href="#id205" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code> pe≈Çni rolƒô centralnego rejestru modu≈Ç√≥w. Odpowiada za ich odkrywanie (przez skanowanie katalog√≥w w poszukiwaniu plik√≥w <code class="docutils literal notranslate"><span class="pre">.otmod</span></code>), ≈Çadowanie w odpowiedniej kolejno≈õci (z uwzglƒôdnieniem zale≈ºno≈õci i priorytet√≥w), a tak≈ºe za ich od≈Çadowywanie i ponowne ≈Çadowanie.</p>
</section>
<section id="id206">
<h1>Metody publiczne<a class="headerlink" href="#id206" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Czy≈õci listƒô modu≈Ç√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">discoverModules()</span></code></p></td>
<td class="text-left"><p>Przeszukuje system plik√≥w w poszukiwaniu plik√≥w <code class="docutils literal notranslate"><span class="pre">.otmod</span></code> i tworzy dla nich obiekty <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">autoLoadModules(int</span> <span class="pre">maxPriority)</span></code></p></td>
<td class="text-left"><p>≈Åaduje wszystkie modu≈Çy, kt√≥re majƒÖ flagƒô <code class="docutils literal notranslate"><span class="pre">autoload</span></code> i priorytet nie wiƒôkszy ni≈º podany.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">discoverModule(...)</span></code></p></td>
<td class="text-left"><p>Parsuje pojedynczy plik <code class="docutils literal notranslate"><span class="pre">.otmod</span></code> i tworzy lub aktualizuje obiekt <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ensureModuleLoaded(...)</span></code></p></td>
<td class="text-left"><p>Upewnia siƒô, ≈ºe dany modu≈Ç jest za≈Çadowany; je≈õli nie, pr√≥buje go za≈Çadowaƒá, a w razie pora≈ºki ko≈Ñczy aplikacjƒô.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">unloadModules()</span></code></p></td>
<td class="text-left"><p>Od≈Çadowuje wszystkie za≈Çadowane modu≈Çy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">reloadModules()</span></code></p></td>
<td class="text-left"><p>Pr√≥buje od≈Çadowaƒá i ponownie za≈Çadowaƒá wszystkie modu≈Çy, kt√≥re na to pozwalajƒÖ.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">getModule(...)</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik do modu≈Çu o podanej nazwie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::deque&lt;ModulePtr&gt;</span> <span class="pre">getModules()</span></code></p></td>
<td class="text-left"><p>Zwraca listƒô wszystkich odkrytych modu≈Ç√≥w.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id207">
<h1>Metody chronione<a class="headerlink" href="#id207" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">updateModuleLoadOrder(ModulePtr</span> <span class="pre">module)</span></code>: Aktualizuje wewnƒôtrznƒÖ kolejkƒô modu≈Ç√≥w, aby zachowaƒá poprawnƒÖ kolejno≈õƒá ≈Çadowania/od≈Çadowywania.</p></li>
</ul>
</section>
<section id="id208">
<h1>Zmienne prywatne<a class="headerlink" href="#id208" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_modules</span></code>: Kolejka (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) wszystkich odkrytych modu≈Ç√≥w. Za≈Çadowane modu≈Çy sƒÖ na poczƒÖtku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_autoLoadModules</span></code>: Mapa (<code class="docutils literal notranslate"><span class="pre">std::multimap</span></code>) przechowujƒÖca modu≈Çy do automatycznego za≈Çadowania, posortowane wed≈Çug priorytetu.</p></li>
</ul>
</section>
<section id="id209">
<h1>Zmienne globalne<a class="headerlink" href="#id209" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_modules</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>.</p></li>
</ul>
</section>
<section id="id210">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id210" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/module.h</span></code>: Definicja klasy <code class="docutils literal notranslate"><span class="pre">Module</span></code>, kt√≥rƒÖ zarzƒÖdza <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindsingleton</span> <span class="pre">g_modules</span></code>, co udostƒôpnia jej API w skryptach Lua.</p></li>
<li><p>Wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> do przeszukiwania systemu plik√≥w i z <code class="docutils literal notranslate"><span class="pre">Application</span></code> do inicjalizacji i zamykania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="scheduledevent-cpp">
<h1>üìÑ scheduledevent.cpp<a class="headerlink" href="#scheduledevent-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id211">
<h1>Opis og√≥lny<a class="headerlink" href="#id211" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">scheduledevent.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code>, kt√≥ra reprezentuje zdarzenie zaplanowane do wykonania w przysz≈Ço≈õci.</p>
</section>
<section id="klasa-scheduledevent">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code><a class="headerlink" href="#klasa-scheduledevent" title="Link to this heading">#</a></h1>
</section>
<section id="scheduledevent-scheduledevent">
<h1><code class="docutils literal notranslate"><span class="pre">ScheduledEvent::ScheduledEvent(...)</span></code><a class="headerlink" href="#scheduledevent-scheduledevent" title="Link to this heading">#</a></h1>
<p>Konstruktor, kt√≥ry dziedziczy po <code class="docutils literal notranslate"><span class="pre">Event</span></code> i dodatkowo inicjalizuje parametry zwiƒÖzane z czasem.</p>
<ul class="simple">
<li><p><strong>Parametry</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">function</span></code>, <code class="docutils literal notranslate"><span class="pre">callback</span></code>, <code class="docutils literal notranslate"><span class="pre">botSafe</span></code>: Przekazywane do konstruktora klasy bazowej <code class="docutils literal notranslate"><span class="pre">Event</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delay</span></code>: Czas w milisekundach, po kt√≥rym zdarzenie ma zostaƒá wykonane po raz pierwszy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maxCycles</span></code>: Maksymalna liczba wykona≈Ñ. <code class="docutils literal notranslate"><span class="pre">0</span></code> oznacza niesko≈Ñczono≈õƒá.</p></li>
</ul>
</li>
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ul>
<li><p>Oblicza czas pierwszego wykonania: <code class="docutils literal notranslate"><span class="pre">m_ticks</span> <span class="pre">=</span> <span class="pre">g_clock.millis()</span> <span class="pre">+</span> <span class="pre">delay</span></code>.</p></li>
<li><p>Zapisuje op√≥≈∫nienie, maksymalnƒÖ liczbƒô cykli i zeruje licznik wykonanych cykli.</p></li>
</ul>
</li>
</ul>
</section>
<section id="void-scheduledevent-execute">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ScheduledEvent::execute()</span></code><a class="headerlink" href="#void-scheduledevent-execute" title="Link to this heading">#</a></h1>
</section>
<section id="id212">
<h1>Opis semantyczny<a class="headerlink" href="#id212" title="Link to this heading">#</a></h1>
<p>Wykonuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> zdarzenia, je≈õli warunki sƒÖ spe≈Çnione.</p>
</section>
<section id="id213">
<h1>Dzia≈Çanie<a class="headerlink" href="#id213" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy zdarzenie nie jest anulowane, czy <code class="docutils literal notranslate"><span class="pre">callback</span></code> istnieje i czy nie przekroczono <code class="docutils literal notranslate"><span class="pre">maxCycles</span></code>.</p></li>
<li><p>Je≈õli warunki sƒÖ spe≈Çnione, wykonuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> i ustawia <code class="docutils literal notranslate"><span class="pre">m_executed</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>. W przeciwie≈Ñstwie do <code class="docutils literal notranslate"><span class="pre">Event</span></code>, nie resetuje <code class="docutils literal notranslate"><span class="pre">callback</span></code>, poniewa≈º mo≈ºe byƒá on potrzebny w nastƒôpnym cyklu.</p></li>
<li><p>Je≈õli warunki nie sƒÖ spe≈Çnione (np. zdarzenie jednorazowe zosta≈Ço wykonane), resetuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> do <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p></li>
<li><p>Inkrementuje licznik <code class="docutils literal notranslate"><span class="pre">m_cyclesExecuted</span></code>.</p></li>
</ol>
</section>
<section id="bool-scheduledevent-nextcycle">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ScheduledEvent::nextCycle()</span></code><a class="headerlink" href="#bool-scheduledevent-nextcycle" title="Link to this heading">#</a></h1>
</section>
<section id="id214">
<h1>Opis semantyczny<a class="headerlink" href="#id214" title="Link to this heading">#</a></h1>
<p>Przygotowuje zdarzenie do nastƒôpnego cyklu. Jest wywo≈Çywana przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> po wykonaniu zdarzenia.</p>
</section>
<section id="id215">
<h1>Dzia≈Çanie<a class="headerlink" href="#id215" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy zdarzenie powinno byƒá wykonane ponownie (nieanulowane, nie przekroczono <code class="docutils literal notranslate"><span class="pre">maxCycles</span></code>).</p></li>
<li><p>Je≈õli tak, przesuwa czas nastƒôpnego wykonania o <code class="docutils literal notranslate"><span class="pre">m_delay</span></code>: <code class="docutils literal notranslate"><span class="pre">m_ticks</span> <span class="pre">+=</span> <span class="pre">m_delay</span></code> i zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Je≈õli nie, resetuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> do <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> i zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>, co powoduje usuniƒôcie zdarzenia z kolejki dyspozytora.</p></li>
</ol>
</section>
<section id="id216">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id216" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/scheduledevent.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_clock.millis()</span></code> do pobierania bie≈ºƒÖcego czasu.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="resourcemanager-cpp">
<h1>üìÑ resourcemanager.cpp<a class="headerlink" href="#resourcemanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id217">
<h1>Opis og√≥lny<a class="headerlink" href="#id217" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">resourcemanager.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>, kt√≥ra jest sercem systemu zarzƒÖdzania zasobami aplikacji. Implementuje ona logikƒô wyszukiwania, ≈Çadowania, odczytu i zapisu plik√≥w, abstrakcjonujƒÖc ≈∫r√≥d≈Ço danych (dysk, archiwum, pamiƒôƒá).</p>
</section>
<section id="id218">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code><a class="headerlink" href="#id218" title="Link to this heading">#</a></h1>
</section>
<section id="void-resourcemanager-init-const-char-argv0">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ResourceManager::init(const</span> <span class="pre">char</span> <span class="pre">*argv0)</span></code><a class="headerlink" href="#void-resourcemanager-init-const-char-argv0" title="Link to this heading">#</a></h1>
<p>Inicjalizuje bibliotekƒô PhysFS i ustala ≈õcie≈ºkƒô do pliku wykonywalnego aplikacji na podstawie argumentu <code class="docutils literal notranslate"><span class="pre">argv0</span></code>.</p>
</section>
<section id="bool-resourcemanager-setupwritedir">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::setupWriteDir(...)</span></code><a class="headerlink" href="#bool-resourcemanager-setupwritedir" title="Link to this heading">#</a></h1>
<p>Konfiguruje katalog zapisu dla aplikacji, u≈ºywajƒÖc <code class="docutils literal notranslate"><span class="pre">PHYSFS_getPrefDir</span></code>. Ten katalog jest zazwyczaj zlokalizowany w folderze danych u≈ºytkownika (np. <code class="docutils literal notranslate"><span class="pre">%APPDATA%</span></code> na Windows, <code class="docutils literal notranslate"><span class="pre">~/.local/share</span></code> na Linux). Montuje ten katalog i ustawia go jako domy≈õlny katalog do zapisu.</p>
</section>
<section id="bool-resourcemanager-setup">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::setup()</span></code><a class="headerlink" href="#bool-resourcemanager-setup" title="Link to this heading">#</a></h1>
<p>Kluczowa metoda, kt√≥ra pr√≥buje zlokalizowaƒá i zamontowaƒá g≈Ç√≥wny katalog roboczy aplikacji. Przeszukuje kilka potencjalnych lokalizacji w nastƒôpujƒÖcej kolejno≈õci:</p>
<ol class="arabic simple">
<li><p>Katalogi na dysku (katalog zapisu, bie≈ºƒÖcy katalog, katalog bazowy).</p></li>
<li><p>Archiwum <code class="docutils literal notranslate"><span class="pre">data.zip</span></code> w tych samych lokalizacjach.</p></li>
<li><p>Dane wbudowane w sam plik wykonywalny (<code class="docutils literal notranslate"><span class="pre">loadDataFromSelf</span></code>).</p></li>
</ol>
</section>
<section id="std-string-resourcemanager-getcompactname">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::getCompactName()</span></code><a class="headerlink" href="#std-string-resourcemanager-getcompactname" title="Link to this heading">#</a></h1>
<p>Metoda pr√≥bujƒÖca odgadnƒÖƒá ‚Äûskr√≥conƒÖ nazwƒô‚Äù aplikacji na podstawie zawarto≈õci pliku <code class="docutils literal notranslate"><span class="pre">init.lua</span></code>, kt√≥ry powinien zawieraƒá definicjƒô <code class="docutils literal notranslate"><span class="pre">APP_NAME</span></code>. Jest to u≈ºywane m.in. do tworzenia katalogu zapisu.</p>
</section>
<section id="bool-resourcemanager-loaddatafromself">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::loadDataFromSelf(...)</span></code><a class="headerlink" href="#bool-resourcemanager-loaddatafromself" title="Link to this heading">#</a></h1>
<p>Przeszukuje plik binarny aplikacji w poszukiwaniu sygnatury archiwum ZIP (<code class="docutils literal notranslate"><span class="pre">PK..</span></code>). Je≈õli znajdzie, traktuje resztƒô pliku jako archiwum i montuje je w pamiƒôci za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">PHYSFS_mountMemory</span></code>.</p>
</section>
<section id="std-string-resourcemanager-readfilecontents">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::readFileContents(...)</span></code><a class="headerlink" href="#std-string-resourcemanager-readfilecontents" title="Link to this heading">#</a></h1>
<p>Odczytuje zawarto≈õƒá pliku. Po odczytaniu surowych bajt√≥w, pr√≥buje je zdeszyfrowaƒá za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">decryptBuffer</span></code>. Obs≈Çuguje r√≥wnie≈º specjalny wirtualny katalog <code class="docutils literal notranslate"><span class="pre">/downloads</span></code> do odczytu plik√≥w pobranych przez <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p>
</section>
<section id="bool-resourcemanager-decryptbuffer-std-string-buffer">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::decryptBuffer(std::string&amp;</span> <span class="pre">buffer)</span></code><a class="headerlink" href="#bool-resourcemanager-decryptbuffer-std-string-buffer" title="Link to this heading">#</a></h1>
<p>Deszyfruje bufor, je≈õli jest on zaszyfrowany (rozpoznaje po nag≈Ç√≥wku ‚ÄûENC3‚Äù). Proces deszyfracji obejmuje:</p>
<ol class="arabic simple">
<li><p>Odczytanie metadanych (klucz, rozmiary, suma kontrolna).</p></li>
<li><p>Deszyfracjƒô za pomocƒÖ algorytmu <code class="docutils literal notranslate"><span class="pre">bdecrypt</span></code> (odmiana TEA/XTEA).</p></li>
<li><p>Dekompresjƒô za pomocƒÖ ZLIB.</p></li>
<li><p>Weryfikacjƒô sumy kontrolnej Adler-32.</p></li>
</ol>
</section>
<section id="bool-resourcemanager-encryptbuffer">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::encryptBuffer(...)</span></code><a class="headerlink" href="#bool-resourcemanager-encryptbuffer" title="Link to this heading">#</a></h1>
<p>Szyfruje bufor, wykonujƒÖc operacje odwrotne do <code class="docutils literal notranslate"><span class="pre">decryptBuffer</span></code>: kompresja, szyfrowanie i dodanie nag≈Ç√≥wka. Dostƒôpne tylko z flagƒÖ <code class="docutils literal notranslate"><span class="pre">WITH_ENCRYPTION</span></code>.</p>
</section>
<section id="std-string-resourcemanager-resolvepath-std-string-path">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::resolvePath(std::string</span> <span class="pre">path)</span></code><a class="headerlink" href="#std-string-resourcemanager-resolvepath-std-string-path" title="Link to this heading">#</a></h1>
<p>Konwertuje ≈õcie≈ºkƒô wzglƒôdnƒÖ na ≈õcie≈ºkƒô absolutnƒÖ w wirtualnym systemie plik√≥w. Obs≈Çuguje ≈õcie≈ºki wzglƒôdne do bie≈ºƒÖcego skryptu Lua oraz specjalne ≈õcie≈ºki dla layout√≥w UI (np. <code class="docutils literal notranslate"><span class="pre">/layouts/nazwa_layoutu/...</span></code>).</p>
</section>
<section id="updatedata-i-updateexecutable">
<h1><code class="docutils literal notranslate"><span class="pre">updateData(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">updateExecutable(...)</span></code><a class="headerlink" href="#updatedata-i-updateexecutable" title="Link to this heading">#</a></h1>
<p>Metody s≈Çu≈ºƒÖce do aktualizacji klienta. <code class="docutils literal notranslate"><span class="pre">updateData</span></code> przebudowuje archiwum <code class="docutils literal notranslate"><span class="pre">data.zip</span></code> na podstawie pobranych plik√≥w, a <code class="docutils literal notranslate"><span class="pre">updateExecutable</span></code> zastƒôpuje plik binarny nowƒÖ wersjƒÖ.</p>
</section>
<section id="createarchive-i-decompressarchive">
<h1><code class="docutils literal notranslate"><span class="pre">createArchive(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">decompressArchive(...)</span></code><a class="headerlink" href="#createarchive-i-decompressarchive" title="Link to this heading">#</a></h1>
<p>Metody pomocnicze do tworzenia i rozpakowywania archiw√≥w ZIP w pamiƒôci przy u≈ºyciu biblioteki <code class="docutils literal notranslate"><span class="pre">libzip</span></code>.</p>
</section>
<section id="id219">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id219" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><strong>PhysFS</strong>: Podstawowa zale≈ºno≈õƒá do obs≈Çugi wirtualnego systemu plik√≥w.</p></li>
<li><p><strong>ZLIB, LibZip</strong>: Do obs≈Çugi kompresji i archiw√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Do operacji specyficznych dla systemu, jak pobieranie bie≈ºƒÖcego katalogu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/crypt.h</span></code>: Do szyfrowania, deszyfrowania i obliczania sum kontrolnych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/http.h</span></code>: Do obs≈Çugi wirtualnego katalogu <code class="docutils literal notranslate"><span class="pre">/downloads</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/process.hpp</span></code>: Do uruchamiania nowszej wersji klienta.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="scheduledevent-h">
<h1>üìÑ scheduledevent.h<a class="headerlink" href="#scheduledevent-h" title="Link to this heading">#</a></h1>
</section>
<section id="id220">
<h1>Opis og√≥lny<a class="headerlink" href="#id220" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">scheduledevent.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code>, kt√≥ra rozszerza funkcjonalno≈õƒá <code class="docutils literal notranslate"><span class="pre">Event</span></code>, dodajƒÖc mo≈ºliwo≈õƒá planowania wykonania w czasie, cykliczno≈õci oraz obs≈Çugi op√≥≈∫nie≈Ñ.</p>
</section>
<section id="id221">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code><a class="headerlink" href="#id221" title="Link to this heading">#</a></h1>
</section>
<section id="id222">
<h1>Opis semantyczny<a class="headerlink" href="#id222" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code> to zdarzenie, kt√≥re nie jest wykonywane natychmiast, lecz po up≈Çywie okre≈õlonego czasu (<code class="docutils literal notranslate"><span class="pre">delay</span></code>). Mo≈ºe byƒá jednorazowe lub cykliczne (<code class="docutils literal notranslate"><span class="pre">maxCycles</span></code>). Jest zarzƒÖdzane przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> w kolejce priorytetowej, gdzie priorytetem jest czas wykonania.</p>
</section>
<section id="id223">
<h1>Metody publiczne<a class="headerlink" href="#id223" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ScheduledEvent(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor, ustawia parametry czasowe zdarzenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">execute()</span></code></p></td>
<td class="text-left"><p>Wykonuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> i inkrementuje licznik wykonanych cykli.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">nextCycle()</span></code></p></td>
<td class="text-left"><p>Przygotowuje zdarzenie do nastƒôpnego cyklu, aktualizujƒÖc czas wykonania. Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>, je≈õli zdarzenie nie powinno byƒá ponownie wykonane.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ticks()</span></code></p></td>
<td class="text-left"><p>Zwraca absolutny czas (w tickach), w kt√≥rym zdarzenie ma zostaƒá wykonane.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">remainingTicks()</span></code></p></td>
<td class="text-left"><p>Zwraca czas pozosta≈Çy do wykonania zdarzenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">delay()</span></code></p></td>
<td class="text-left"><p>Zwraca op√≥≈∫nienie miƒôdzy cyklami.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">cyclesExecuted()</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô dotychczasowych wykona≈Ñ.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">maxCycles()</span></code></p></td>
<td class="text-left"><p>Zwraca maksymalnƒÖ liczbƒô wykona≈Ñ (0 dla niesko≈Ñczono≈õci).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id224">
<h1>Zmienne prywatne<a class="headerlink" href="#id224" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_ticks</span></code>: Czas (w tickach systemowych), w kt√≥rym ma nastƒÖpiƒá nastƒôpne wykonanie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_delay</span></code>: Op√≥≈∫nienie miƒôdzy kolejnymi wykonaniami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_maxCycles</span></code>: Maksymalna liczba wykona≈Ñ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cyclesExecuted</span></code>: Licznik wykonanych cykli.</p></li>
</ul>
</section>
<section id="struktura-lessscheduledevent">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">lessScheduledEvent</span></code><a class="headerlink" href="#struktura-lessscheduledevent" title="Link to this heading">#</a></h1>
<p>Funktor (obiekt funkcyjny) u≈ºywany przez <code class="docutils literal notranslate"><span class="pre">std::priority_queue</span></code> w <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> do sortowania zdarze≈Ñ. Zapewnia, ≈ºe zdarzenia z najwcze≈õniejszym czasem wykonania majƒÖ najwy≈ºszy priorytet.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">lessScheduledEvent</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">operator</span><span class="p">()(</span><span class="k">const</span><span class="w"> </span><span class="n">ScheduledEventPtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ScheduledEventPtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w">  </span><span class="n">b</span><span class="err">‚Üí</span><span class="n">ticks</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">a</span><span class="err">‚Üí</span><span class="n">ticks</span><span class="p">();</span>
<span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="id225">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id225" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/event.h</span></code>: Klasa bazowa <code class="docutils literal notranslate"><span class="pre">Event</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> do pobierania bie≈ºƒÖcego czasu.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> i zarzƒÖdzana w jego kolejce priorytetowej.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, co pozwala na interakcjƒô z obiektami tego typu z poziomu Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="timer-cpp">
<h1>üìÑ timer.cpp<a class="headerlink" href="#timer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id226">
<h1>Opis og√≥lny<a class="headerlink" href="#id226" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">timer.cpp</span></code> zawiera implementacjƒô prostych metod klasy <code class="docutils literal notranslate"><span class="pre">Timer</span></code>, kt√≥ra s≈Çu≈ºy do mierzenia up≈Çywu czasu.</p>
</section>
<section id="klasa-timer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Timer</span></code><a class="headerlink" href="#klasa-timer" title="Link to this heading">#</a></h1>
</section>
<section id="void-timer-restart">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Timer::restart()</span></code><a class="headerlink" href="#void-timer-restart" title="Link to this heading">#</a></h1>
</section>
<section id="id227">
<h1>Opis semantyczny<a class="headerlink" href="#id227" title="Link to this heading">#</a></h1>
<p>Resetuje timer, ustawiajƒÖc jego punkt startowy na bie≈ºƒÖcy czas.</p>
</section>
<section id="id228">
<h1>Dzia≈Çanie<a class="headerlink" href="#id228" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera aktualny czas w milisekundach za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_clock.millis()</span></code>.</p></li>
<li><p>Zapisuje tƒô warto≈õƒá do <code class="docutils literal notranslate"><span class="pre">m_startTicks</span></code>.</p></li>
<li><p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_stopped</span></code> na <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
</ol>
</section>
<section id="ticks-t-timer-tickselapsed">
<h1><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Timer::ticksElapsed()</span></code><a class="headerlink" href="#ticks-t-timer-tickselapsed" title="Link to this heading">#</a></h1>
</section>
<section id="id229">
<h1>Opis semantyczny<a class="headerlink" href="#id229" title="Link to this heading">#</a></h1>
<p>Oblicza i zwraca czas, jaki up≈ÇynƒÖ≈Ç od ostatniego zresetowania timera.</p>
</section>
<section id="id230">
<h1>Dzia≈Çanie<a class="headerlink" href="#id230" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Zwraca r√≥≈ºnicƒô miƒôdzy aktualnym czasem (<code class="docutils literal notranslate"><span class="pre">g_clock.millis()</span></code>) a zapisanym czasem startowym (<code class="docutils literal notranslate"><span class="pre">m_startTicks</span></code>).</p></li>
</ul>
</section>
<section id="id231">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id231" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code>: Plik nag≈Ç√≥wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> do pobierania bie≈ºƒÖcego czasu, co zapewnia sp√≥jno≈õƒá z buforowanym czasem klatki.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="timer-h">
<h1>üìÑ timer.h<a class="headerlink" href="#timer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id232">
<h1>Opis og√≥lny<a class="headerlink" href="#id232" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">timer.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Timer</span></code>, kt√≥ra jest prostym, ale u≈ºytecznym narzƒôdziem do mierzenia up≈ÇywajƒÖcego czasu. Jest to klasa pomocnicza, szeroko stosowana w ca≈Çym frameworku do obs≈Çugi op√≥≈∫nie≈Ñ, animacji i synchronizacji.</p>
</section>
<section id="id233">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Timer</span></code><a class="headerlink" href="#id233" title="Link to this heading">#</a></h1>
</section>
<section id="id234">
<h1>Opis semantyczny<a class="headerlink" href="#id234" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Timer</span></code> dzia≈Ça jak stoper. Po utworzeniu lub zresetowaniu (<code class="docutils literal notranslate"><span class="pre">restart()</span></code>) zapamiƒôtuje punkt w czasie. Nastƒôpnie mo≈ºna w dowolnym momencie sprawdziƒá, ile czasu up≈Çynƒô≈Ço od tego punktu za pomocƒÖ metod <code class="docutils literal notranslate"><span class="pre">ticksElapsed()</span></code> lub <code class="docutils literal notranslate"><span class="pre">timeElapsed()</span></code>.</p>
</section>
<section id="id235">
<h1>Metody publiczne<a class="headerlink" href="#id235" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Timer()</span></code></p></td>
<td class="text-left"><p>Konstruktor, kt√≥ry natychmiast wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">restart()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">restart()</span></code></p></td>
<td class="text-left"><p>Resetuje timer, ustawiajƒÖc jego punkt startowy na bie≈ºƒÖcy czas.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">stop()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje timer (ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_stopped</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">adjust(ticks_t</span> <span class="pre">value)</span></code></p></td>
<td class="text-left"><p>Przesuwa punkt startowy o podanƒÖ warto≈õƒá, efektywnie ‚ÄûdodajƒÖc‚Äù lub ‚ÄûodejmujƒÖc‚Äù czas.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">startTicks()</span></code></p></td>
<td class="text-left"><p>Zwraca punkt startowy timera w tickach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">ticksElapsed()</span></code></p></td>
<td class="text-left"><p>Zwraca czas, jaki up≈ÇynƒÖ≈Ç od startu, w milisekundach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">timeElapsed()</span></code></p></td>
<td class="text-left"><p>Zwraca czas, jaki up≈ÇynƒÖ≈Ç od startu, w sekundach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">running()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli timer nie zosta≈Ç zatrzymany.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id236">
<h1>Zmienne prywatne<a class="headerlink" href="#id236" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_startTicks</span></code>: Czas (w tickach/milisekundach), w kt√≥rym timer zosta≈Ç uruchomiony/zresetowany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_stopped</span></code>: Flaga wskazujƒÖca, czy timer jest zatrzymany.</p></li>
</ul>
</section>
<section id="id237">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id237" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Zawiera podstawowe definicje, w tym <code class="docutils literal notranslate"><span class="pre">ticks_t</span></code>.</p></li>
<li><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> (poprzez <code class="docutils literal notranslate"><span class="pre">ticksElapsed</span></code>) do pomiaru czasu.</p></li>
<li><p>Jest wykorzystywana w wielu miejscach, np. w <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> do obs≈Çugi podw√≥jnego klikniƒôcia (<code class="docutils literal notranslate"><span class="pre">m_clickTimer</span></code>), w <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> do ograniczania czƒôstotliwo≈õci sprawdzania klawiszy (<code class="docutils literal notranslate"><span class="pre">m_keyPressTimer</span></code>), oraz w animacjach.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="consoleapplication-cpp">
<h1>üìÑ consoleapplication.cpp<a class="headerlink" href="#consoleapplication-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id238">
<h1>Opis og√≥lny<a class="headerlink" href="#id238" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">consoleapplication.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>, kt√≥ra jest wersjƒÖ aplikacji przeznaczonƒÖ do dzia≈Çania w trybie tekstowym, bez interfejsu graficznego. Jest ona u≈ºywana, gdy projekt jest kompilowany bez flagi <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>.</p>
</section>
<section id="id239">
<h1>Zmienne globalne<a class="headerlink" href="#id239" title="Link to this heading">#</a></h1>
</section>
<section id="id240">
<h1><code class="docutils literal notranslate"><span class="pre">g_app</span></code><a class="headerlink" href="#id240" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code>. Gdy framework jest kompilowany w trybie konsolowym, ta instancja staje siƒô g≈Ç√≥wnym obiektem aplikacji.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ConsoleApplication</span><span class="w"> </span><span class="n">g_app</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id241">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code><a class="headerlink" href="#id241" title="Link to this heading">#</a></h1>
</section>
<section id="void-consoleapplication-run">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConsoleApplication::run()</span></code><a class="headerlink" href="#void-consoleapplication-run" title="Link to this heading">#</a></h1>
</section>
<section id="id242">
<h1>Opis semantyczny<a class="headerlink" href="#id242" title="Link to this heading">#</a></h1>
<p>Implementuje g≈Ç√≥wnƒÖ pƒôtlƒô aplikacji konsolowej. W przeciwie≈Ñstwie do <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, jest to prosta pƒôtla, kt√≥ra regularnie przetwarza zdarzenia i usypia wƒÖtek, aby nie zu≈ºywaƒá 100% zasob√≥w procesora.</p>
</section>
<section id="id243">
<h1>Dzia≈Çanie<a class="headerlink" href="#id243" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_running</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Wykonuje pierwsze wywo≈Çanie <code class="docutils literal notranslate"><span class="pre">poll()</span></code>, aby przetworzyƒá ewentualne poczƒÖtkowe zdarzenia.</p></li>
<li><p>Aktualizuje zegar (<code class="docutils literal notranslate"><span class="pre">g_clock.update()</span></code>).</p></li>
<li><p>Wywo≈Çuje funkcjƒô <code class="docutils literal notranslate"><span class="pre">onRun</span></code> w globalnym skrypcie Lua (<code class="docutils literal notranslate"><span class="pre">g_app.onRun</span></code>).</p></li>
<li><p>Wchodzi w pƒôtlƒô, kt√≥ra trwa, dop√≥ki flaga <code class="docutils literal notranslate"><span class="pre">m_stopping</span></code> nie zostanie ustawiona na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>W ka≈ºdej iteracji pƒôtli:</p>
<ul class="simple">
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">poll()</span></code> do przetworzenia zdarze≈Ñ (np. sieciowych, zaplanowanych).</p></li>
<li><p>Usypia g≈Ç√≥wny wƒÖtek na 1 milisekundƒô (<code class="docutils literal notranslate"><span class="pre">stdext::millisleep(1)</span></code>).</p></li>
<li><p>Aktualizuje zegar (<code class="docutils literal notranslate"><span class="pre">g_clock.update()</span></code>).</p></li>
<li><p>Aktualizuje licznik klatek/iteracji (<code class="docutils literal notranslate"><span class="pre">m_frameCounter.update()</span></code>).</p></li>
</ul>
</li>
<li><p>Po wyj≈õciu z pƒôtli, resetuje flagi <code class="docutils literal notranslate"><span class="pre">m_stopping</span></code> i <code class="docutils literal notranslate"><span class="pre">m_running</span></code>.</p></li>
</ol>
<blockquote>
<div><p><strong>NOTE:</strong> Pomimo braku grafiki, wciƒÖ≈º istnieje pojƒôcie ‚Äûklatki‚Äù lub iteracji, kt√≥re jest ≈õledzone przez <code class="docutils literal notranslate"><span class="pre">m_frameCounter</span></code>.</p>
</div></blockquote>
</section>
<section id="id244">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id244" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/consoleapplication.h</span></code>: Plik nag≈Ç√≥wkowy dla tej klasy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> do aktualizacji czasu w ka≈ºdej iteracji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do wywo≈Çania <code class="docutils literal notranslate"><span class="pre">onRun</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/connection.h</span></code>: Metoda <code class="docutils literal notranslate"><span class="pre">poll()</span></code> wywo≈Çuje m.in. <code class="docutils literal notranslate"><span class="pre">Connection::poll()</span></code>, wiƒôc aplikacja konsolowa mo≈ºe obs≈Çugiwaƒá sieƒá.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="shaderprogram-h">
<h1>üìÑ shaderprogram.h<a class="headerlink" href="#shaderprogram-h" title="Link to this heading">#</a></h1>
</section>
<section id="id245">
<h1>Opis og√≥lny<a class="headerlink" href="#id245" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shaderprogram.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>, kt√≥ra jest obiektowym opakowaniem na program shadera w OpenGL. ZarzƒÖdza ona kompilacjƒÖ, linkowaniem i aktywacjƒÖ shader√≥w wierzcho≈Çk√≥w i fragment√≥w.</p>
</section>
<section id="klasa-shaderprogram">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code><a class="headerlink" href="#klasa-shaderprogram" title="Link to this heading">#</a></h1>
</section>
<section id="id246">
<h1>Opis semantyczny<a class="headerlink" href="#id246" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code> agreguje obiekty <code class="docutils literal notranslate"><span class="pre">Shader</span></code> (reprezentujƒÖce pojedyncze shadery, np. wierzcho≈Çk√≥w lub fragment√≥w), linkuje je w jeden wykonywalny program, kt√≥ry mo≈ºe byƒá u≈ºyty w potoku renderowania OpenGL, i dostarcza interfejs do ustawiania uniform√≥w i atrybut√≥w. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p>
</section>
<section id="id247">
<h1>Metody publiczne<a class="headerlink" href="#id247" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ShaderProgram(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy program shadera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">PainterShaderProgramPtr</span> <span class="pre">create(...)</span></code></p></td>
<td class="text-left"><p>Statyczna metoda fabryczna do tworzenia <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">addShader(...)</span></code></p></td>
<td class="text-left"><p>Dodaje skompilowany obiekt <code class="docutils literal notranslate"><span class="pre">Shader</span></code> do programu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">addShaderFromSourceCode(...)</span></code></p></td>
<td class="text-left"><p>Tworzy, kompiluje i dodaje shader z kodu ≈∫r√≥d≈Çowego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">addShaderFromSourceFile(...)</span></code></p></td>
<td class="text-left"><p>Tworzy, kompiluje i dodaje shader z pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">removeShader(...)</span></code></p></td>
<td class="text-left"><p>Usuwa shader z programu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">link()</span></code></p></td>
<td class="text-left"><p>Linkuje wszystkie dodane shadery w jeden program.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">bind()</span></code></p></td>
<td class="text-left"><p>Aktywuje ten program shadera w kontek≈õcie OpenGL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">release()</span></code></p></td>
<td class="text-left"><p>Deaktywuje jakikolwiek aktywny program shadera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">log()</span></code></p></td>
<td class="text-left"><p>Zwraca logi z procesu linkowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">disableAttributeArray(...)</span></code></p></td>
<td class="text-left"><p>Wy≈ÇƒÖcza tablicƒô atrybut√≥w wierzcho≈Çk√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">enableAttributeArray(...)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza tablicƒô atrybut√≥w wierzcho≈Çk√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getAttributeLocation(...)</span></code></p></td>
<td class="text-left"><p>Pobiera lokalizacjƒô atrybutu o danej nazwie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bindAttributeLocation(...)</span></code></p></td>
<td class="text-left"><p>Przypisuje lokalizacjƒô do atrybutu (przed linkowaniem).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bindUniformLocation(...)</span></code></p></td>
<td class="text-left"><p>Wyszukuje i buforuje lokalizacjƒô uniformu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setAttributeArray(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wska≈∫nik na dane dla tablicy atrybut√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setAttributeValue(...)</span></code></p></td>
<td class="text-left"><p>Ustawia warto≈õƒá dla pojedynczego atrybutu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setUniformValue(...)</span></code></p></td>
<td class="text-left"><p>Ustawia warto≈õƒá dla uniformu (przeciƒÖ≈ºona dla r√≥≈ºnych typ√≥w: <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">Color</span></code>, <code class="docutils literal notranslate"><span class="pre">Matrix</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isLinked()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli program zosta≈Ç pomy≈õlnie zlinkowany.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getProgramId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID programu OpenGL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ShaderList</span> <span class="pre">getShaders()</span></code></p></td>
<td class="text-left"><p>Zwraca listƒô powiƒÖzanych shader√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô programu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id248">
<h1>Zmienne prywatne<a class="headerlink" href="#id248" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>: Nazwa programu (dla cel√≥w identyfikacji).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_linked</span></code>: Flaga wskazujƒÖca, czy program jest zlinkowany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_programId</span></code>: ID programu w OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentProgram</span></code>: Statyczna zmienna ≈õledzƒÖca aktualnie aktywny program.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_shaders</span></code>: Lista powiƒÖzanych obiekt√≥w <code class="docutils literal notranslate"><span class="pre">Shader</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_uniformLocations</span></code>: Tablica przechowujƒÖca zbuforowane lokalizacje uniform√≥w.</p></li>
</ul>
</section>
<section id="id249">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id249" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shader.h</span></code>: Definicja klasy <code class="docutils literal notranslate"><span class="pre">Shader</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>, kt√≥ra rozszerza jƒÖ o uniformy specyficzne dla <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p>Jest zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, co pozwala na interakcjƒô z obiektami tego typu z poziomu Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="animatedtexture-cpp">
<h1>üìÑ animatedtexture.cpp<a class="headerlink" href="#animatedtexture-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id250">
<h1>Opis og√≥lny<a class="headerlink" href="#id250" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">animatedtexture.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>, kt√≥ra reprezentuje teksturƒô sk≈ÇadajƒÖcƒÖ siƒô z wielu klatek, odtwarzanych w pƒôtli. Jest to podklasa <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p>
</section>
<section id="klasa-animatedtexture">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code><a class="headerlink" href="#klasa-animatedtexture" title="Link to this heading">#</a></h1>
</section>
<section id="animatedtexture-animatedtexture">
<h1><code class="docutils literal notranslate"><span class="pre">AnimatedTexture::AnimatedTexture(...)</span></code><a class="headerlink" href="#animatedtexture-animatedtexture" title="Link to this heading">#</a></h1>
<p>Konstruktor, kt√≥ry tworzy animowanƒÖ teksturƒô.</p>
<ul class="simple">
<li><p><strong>Parametry</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code>: Rozmiar pojedynczej klatki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">frames</span></code>: Wektor wska≈∫nik√≥w na obiekty <code class="docutils literal notranslate"><span class="pre">Image</span></code>, reprezentujƒÖce poszczeg√≥lne klatki animacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framesDelay</span></code>: Wektor czas√≥w (w milisekundach), jak d≈Çugo ka≈ºda klatka ma byƒá wy≈õwietlana.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buildMipmaps</span></code>, <code class="docutils literal notranslate"><span class="pre">compress</span></code>: Flagi przekazywane do konstruktora <code class="docutils literal notranslate"><span class="pre">Texture</span></code> dla ka≈ºdej klatki.</p></li>
</ul>
</li>
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ol class="arabic simple">
<li><p>Iteruje przez wektor <code class="docutils literal notranslate"><span class="pre">frames</span></code> i dla ka≈ºdego <code class="docutils literal notranslate"><span class="pre">Image</span></code> tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, kt√≥ry jest przechowywany w <code class="docutils literal notranslate"><span class="pre">m_frames</span></code>.</p></li>
<li><p>Inicjalizuje timer <code class="docutils literal notranslate"><span class="pre">m_animTimer</span></code> i ustawia bie≈ºƒÖcƒÖ klatkƒô na 0.</p></li>
</ol>
</li>
</ul>
</section>
<section id="bool-animatedtexture-buildhardwaremipmaps">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">AnimatedTexture::buildHardwareMipmaps()</span></code><a class="headerlink" href="#bool-animatedtexture-buildhardwaremipmaps" title="Link to this heading">#</a></h1>
<p>W≈ÇƒÖcza generowanie mipmap dla wszystkich klatek animacji.</p>
</section>
<section id="void-animatedtexture-setsmooth-bool-smooth-i-void-animatedtexture-setrepeat-bool-repeat">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::setSmooth(bool</span> <span class="pre">smooth)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::setRepeat(bool</span> <span class="pre">repeat)</span></code><a class="headerlink" href="#void-animatedtexture-setsmooth-bool-smooth-i-void-animatedtexture-setrepeat-bool-repeat" title="Link to this heading">#</a></h1>
<p>UstawiajƒÖ odpowiednio flagi wyg≈Çadzania i powtarzania dla wszystkich tekstur-klatek.</p>
</section>
<section id="void-animatedtexture-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::update()</span></code><a class="headerlink" href="#void-animatedtexture-update" title="Link to this heading">#</a></h1>
</section>
<section id="id251">
<h1>Opis semantyczny<a class="headerlink" href="#id251" title="Link to this heading">#</a></h1>
<p>Aktualizuje stan animacji. Ta metoda jest kluczowa i musi byƒá wywo≈Çywana przed ka≈ºdym u≈ºyciem tekstury w pƒôtli renderowania.</p>
</section>
<section id="id252">
<h1>Dzia≈Çanie<a class="headerlink" href="#id252" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy czas, jaki up≈ÇynƒÖ≈Ç od ostatniej zmiany klatki (<code class="docutils literal notranslate"><span class="pre">m_animTimer.ticksElapsed()</span></code>) jest wiƒôkszy lub r√≥wny czasowi op√≥≈∫nienia dla bie≈ºƒÖcej klatki (<code class="docutils literal notranslate"><span class="pre">m_framesDelay[m_currentFrame]</span></code>).</p></li>
<li><p>Je≈õli tak, przechodzi do nastƒôpnej klatki, zapƒôtlajƒÖc animacjƒô (<code class="docutils literal notranslate"><span class="pre">m_currentFrame</span> <span class="pre">=</span> <span class="pre">(m_currentFrame</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">%</span> <span class="pre">m_frames.size()</span></code>), i resetuje timer.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">update()</span></code> na teksturze bie≈ºƒÖcej klatki.</p></li>
<li><p>Aktualizuje ID tekstury (<code class="docutils literal notranslate"><span class="pre">m_id</span></code>) i unikalne ID (<code class="docutils literal notranslate"><span class="pre">m_uniqueId</span></code>) klasy bazowej <code class="docutils literal notranslate"><span class="pre">Texture</span></code> na warto≈õci z bie≈ºƒÖcej klatki. Dziƒôki temu reszta systemu renderujƒÖcego mo≈ºe traktowaƒá <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code> jak zwyk≈ÇƒÖ, statycznƒÖ teksturƒô, nie wiedzƒÖc, ≈ºe jej ID zmienia siƒô w czasie.</p></li>
</ol>
</section>
<section id="id253">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id253" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/animatedtexture.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do operacji na OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Potencjalnie do planowania aktualizacji.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code> podczas ≈Çadowania animowanych plik√≥w PNG (APNG).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="animatedtexture-h">
<h1>üìÑ animatedtexture.h<a class="headerlink" href="#animatedtexture-h" title="Link to this heading">#</a></h1>
</section>
<section id="id254">
<h1>Opis og√≥lny<a class="headerlink" href="#id254" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">animatedtexture.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>, kt√≥ra jest specjalizacjƒÖ klasy <code class="docutils literal notranslate"><span class="pre">Texture</span></code>. Reprezentuje ona teksturƒô, kt√≥ra zmienia sw√≥j wyglƒÖd w czasie, odtwarzajƒÖc sekwencjƒô klatek.</p>
</section>
<section id="id255">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code><a class="headerlink" href="#id255" title="Link to this heading">#</a></h1>
</section>
<section id="id256">
<h1>Opis semantyczny<a class="headerlink" href="#id256" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">Texture</span></code> i przechowuje kolekcjƒô tekstur (<code class="docutils literal notranslate"><span class="pre">std::vector&lt;TexturePtr&gt;</span></code>), kt√≥re reprezentujƒÖ poszczeg√≥lne klatki animacji. Wewnƒôtrzny timer (<code class="docutils literal notranslate"><span class="pre">m_animTimer</span></code>) kontroluje, kt√≥ra klatka jest aktualnie aktywna. Metoda <code class="docutils literal notranslate"><span class="pre">update()</span></code> jest odpowiedzialna za prze≈ÇƒÖczanie klatek i aktualizowanie ID tekstury w klasie bazowej, dziƒôki czemu dla systemu renderujƒÖcego wyglƒÖda ona jak pojedyncza, dynamicznie zmieniajƒÖca siƒô tekstura.</p>
</section>
<section id="id257">
<h1>Metody publiczne<a class="headerlink" href="#id257" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AnimatedTexture(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy animowanƒÖ teksturƒô z wektora obraz√≥w i czas√≥w op√≥≈∫nie≈Ñ.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~AnimatedTexture()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">replace(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">image)</span></code></p></td>
<td class="text-left"><p>Pusta implementacja; zastƒôpowanie animowanej tekstury pojedynczym obrazem nie jest obs≈Çugiwane w ten spos√≥b.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code></p></td>
<td class="text-left"><p>Aktualizuje bie≈ºƒÖcƒÖ klatkƒô animacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">isAnimatedTexture()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, odr√≥≈ºniajƒÖc tƒô klasƒô od <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id258">
<h1>Metody chronione<a class="headerlink" href="#id258" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">buildHardwareMipmaps()</span></code>: W≈ÇƒÖcza mipmapping dla wszystkich klatek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setSmooth(bool</span> <span class="pre">smooth)</span></code>: Ustawia wyg≈Çadzanie dla wszystkich klatek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setRepeat(bool</span> <span class="pre">repeat)</span></code>: Ustawia powtarzanie dla wszystkich klatek.</p></li>
</ul>
</section>
<section id="id259">
<h1>Zmienne prywatne<a class="headerlink" href="#id259" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_frames</span></code>: Wektor wska≈∫nik√≥w na tekstury poszczeg√≥lnych klatek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_framesDelay</span></code>: Wektor czas√≥w op√≥≈∫nie≈Ñ dla ka≈ºdej klatki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentFrame</span></code>: Indeks bie≈ºƒÖcej klatki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_animTimer</span></code>: Timer do ≈õledzenia czasu wy≈õwietlania klatki.</p></li>
</ul>
</section>
<section id="id260">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id260" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: Klasa bazowa <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">Timer</span></code> do zarzƒÖdzania animacjƒÖ.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code> podczas ≈Çadowania plik√≥w APNG (Animated PNG).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="apngloader-cpp">
<h1>üìÑ apngloader.cpp<a class="headerlink" href="#apngloader-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id261">
<h1>Opis og√≥lny<a class="headerlink" href="#id261" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">apngloader.cpp</span></code> zawiera implementacjƒô funkcji do ≈Çadowania animowanych plik√≥w PNG (APNG) oraz do zapisu standardowych plik√≥w PNG. Kod jest oparty na bibliotece APNG Disassembler 2.3 autorstwa Maxa Stepina i zosta≈Ç dostosowany do potrzeb frameworka.</p>
</section>
<section id="funkcje">
<h1>Funkcje<a class="headerlink" href="#funkcje" title="Link to this heading">#</a></h1>
</section>
<section id="load-apng-std-stringstream-file-struct-apng-data-apng">
<h1><code class="docutils literal notranslate"><span class="pre">load_apng(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">struct</span> <span class="pre">apng_data</span> <span class="pre">*apng)</span></code><a class="headerlink" href="#load-apng-std-stringstream-file-struct-apng-data-apng" title="Link to this heading">#</a></h1>
</section>
<section id="id262">
<h1>Opis semantyczny<a class="headerlink" href="#id262" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna funkcja do parsowania pliku w formacie APNG. Odczytuje ona poszczeg√≥lne ‚Äûchunki‚Äù (fragmenty) pliku PNG, takie jak <code class="docutils literal notranslate"><span class="pre">IHDR</span></code> (nag≈Ç√≥wek), <code class="docutils literal notranslate"><span class="pre">PLTE</span></code> (paleta), <code class="docutils literal notranslate"><span class="pre">tRNS</span></code> (przezroczysto≈õƒá), <code class="docutils literal notranslate"><span class="pre">acTL</span></code> (nag≈Ç√≥wek animacji), <code class="docutils literal notranslate"><span class="pre">fcTL</span></code> (kontrola klatki) oraz <code class="docutils literal notranslate"><span class="pre">IDAT</span></code>/<code class="docutils literal notranslate"><span class="pre">fdAT</span></code> (dane obrazu).</p>
</section>
<section id="id263">
<h1>Dzia≈Çanie<a class="headerlink" href="#id263" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza sygnaturƒô pliku PNG.</p></li>
<li><p>Odczytuje nag≈Ç√≥wek <code class="docutils literal notranslate"><span class="pre">IHDR</span></code> w celu uzyskania wymiar√≥w, g≈Çƒôbi kolor√≥w i innych podstawowych informacji.</p></li>
<li><p>Alokuje bufory na zdekompresowane dane obrazu.</p></li>
<li><p>W pƒôtli odczytuje kolejne chunki:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PLTE</span></code> i <code class="docutils literal notranslate"><span class="pre">tRNS</span></code>: Wczytuje paletƒô kolor√≥w i informacje o przezroczysto≈õci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">acTL</span></code>: Identyfikuje plik jako animowany, odczytuje liczbƒô klatek i zapƒôtle≈Ñ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fcTL</span></code>: Odczytuje metadane dla pojedynczej klatki, takie jak wymiary, przesuniƒôcie, czas trwania i operacje mieszania (<code class="docutils literal notranslate"><span class="pre">blend_op</span></code>) oraz usuwania (<code class="docutils literal notranslate"><span class="pre">dispose_op</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IDAT</span></code> i <code class="docutils literal notranslate"><span class="pre">fdAT</span></code>: Gromadzi skompresowane dane obrazu dla klatki.</p></li>
</ul>
</li>
<li><p>Po odczytaniu danych dla klatki (<code class="docutils literal notranslate"><span class="pre">fcTL</span></code> lub <code class="docutils literal notranslate"><span class="pre">IEND</span></code>), dekompresuje je za pomocƒÖ ZLIB (<code class="docutils literal notranslate"><span class="pre">inflate</span></code>), a nastƒôpnie odfiltrowuje (usuwa filtry PNG takie jak Sub, Up, Average, Paeth).</p></li>
<li><p>Komponuje finalny obraz klatki na podstawie poprzedniej klatki, stosujƒÖc operacje <code class="docutils literal notranslate"><span class="pre">dispose_op</span></code> (np. zostaw, wyczy≈õƒá do t≈Ça) i <code class="docutils literal notranslate"><span class="pre">blend_op</span></code> (np. zastƒÖp, na≈Ç√≥≈º).</p></li>
<li><p>Wynikowe dane klatki w formacie RGBA sƒÖ zapisywane do bufora w strukturze <code class="docutils literal notranslate"><span class="pre">apng_data</span></code>.</p></li>
<li><p>Zwraca 0 w przypadku sukcesu, -1 w przypadku b≈Çƒôdu.</p></li>
</ol>
</section>
<section id="save-png-std-stringstream-f-unsigned-int-width-unsigned-int-height-int-channels-unsigned-char-pixels">
<h1><code class="docutils literal notranslate"><span class="pre">save_png(std::stringstream&amp;</span> <span class="pre">f,</span> <span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">width,</span> <span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">height,</span> <span class="pre">int</span> <span class="pre">channels,</span> <span class="pre">unsigned</span> <span class="pre">char</span> <span class="pre">*pixels)</span></code><a class="headerlink" href="#save-png-std-stringstream-f-unsigned-int-width-unsigned-int-height-int-channels-unsigned-char-pixels" title="Link to this heading">#</a></h1>
</section>
<section id="id264">
<h1>Opis semantyczny<a class="headerlink" href="#id264" title="Link to this heading">#</a></h1>
<p>Zapisuje dane obrazu do formatu PNG. Implementuje podstawowƒÖ kompresjƒô z filtrowaniem, dynamicznie wybierajƒÖc najlepszy filtr dla ka≈ºdej linii obrazu w celu uzyskania lepszej kompresji.</p>
</section>
<section id="id265">
<h1>Dzia≈Çanie<a class="headerlink" href="#id265" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Zapisuje sygnaturƒô PNG i nag≈Ç√≥wek <code class="docutils literal notranslate"><span class="pre">IHDR</span></code>.</p></li>
<li><p>Inicjalizuje strumienie kompresji ZLIB.</p></li>
<li><p>Dla ka≈ºdej linii obrazu:</p>
<ul class="simple">
<li><p>Testuje piƒôƒá r√≥≈ºnych filtr√≥w PNG (None, Sub, Up, Average, Paeth).</p></li>
<li><p>Wybiera filtr, kt√≥ry generuje dane o najmniejszej sumie warto≈õci bezwzglƒôdnych bajt√≥w (co zwykle prowadzi do lepszej kompresji).</p></li>
<li><p>Kompresuje przefiltrowanƒÖ liniƒô za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">deflate</span></code>.</p></li>
</ul>
</li>
<li><p>Zapisuje skompresowane dane w chunkach <code class="docutils literal notranslate"><span class="pre">IDAT</span></code>.</p></li>
<li><p>Zapisuje chunk ko≈Ñcowy <code class="docutils literal notranslate"><span class="pre">IEND</span></code>.</p></li>
</ol>
</section>
<section id="funkcje-pomocnicze">
<h1>Funkcje pomocnicze<a class="headerlink" href="#funkcje-pomocnicze" title="Link to this heading">#</a></h1>
<p>Plik zawiera wiele funkcji pomocniczych, m.in.:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">read32</span></code>, <code class="docutils literal notranslate"><span class="pre">read16</span></code>: Do odczytu liczb w porzƒÖdku big-endian.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read_sub_row</span></code>, <code class="docutils literal notranslate"><span class="pre">read_up_row</span></code>, <code class="docutils literal notranslate"><span class="pre">read_average_row</span></code>, <code class="docutils literal notranslate"><span class="pre">read_paeth_row</span></code>: Do odfiltrowywania danych obrazu PNG.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compose0</span></code>, <code class="docutils literal notranslate"><span class="pre">compose2</span></code>, <code class="docutils literal notranslate"><span class="pre">compose3</span></code>, <code class="docutils literal notranslate"><span class="pre">compose4</span></code>, <code class="docutils literal notranslate"><span class="pre">compose6</span></code>: Do kompozycji klatek animacji, konwertujƒÖc r√≥≈ºne formaty pikseli na RGBA i stosujƒÖc operacje mieszania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unpack</span></code>: Dekompresuje i odfiltrowuje dane jednej klatki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_chunk</span></code>, <code class="docutils literal notranslate"><span class="pre">write_IDATs</span></code>: Do zapisu chunk√≥w PNG.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">free_apng</span></code>: Zwalnia pamiƒôƒá zaalokowanƒÖ w strukturze <code class="docutils literal notranslate"><span class="pre">apng_data</span></code>.</p></li>
</ul>
</section>
<section id="id266">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id266" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/apngloader.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><strong>ZLIB</strong>: U≈ºywana do kompresji i dekompresji danych obrazu.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Image::loadPNG</span></code> do ≈Çadowania obraz√≥w i <code class="docutils literal notranslate"><span class="pre">Image::savePNG</span></code> do ich zapisu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="apngloader-h">
<h1>üìÑ apngloader.h<a class="headerlink" href="#apngloader-h" title="Link to this heading">#</a></h1>
</section>
<section id="id267">
<h1>Opis og√≥lny<a class="headerlink" href="#id267" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">apngloader.h</span></code> jest plikiem nag≈Ç√≥wkowym, kt√≥ry deklaruje struktury danych i funkcje do obs≈Çugi plik√≥w w formacie APNG (Animated PNG). Definiuje on publiczny interfejs do ≈Çadowania, zapisywania i zwalniania danych obrazu.</p>
</section>
<section id="struktura-apng-data">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">apng_data</span></code><a class="headerlink" href="#struktura-apng-data" title="Link to this heading">#</a></h1>
</section>
<section id="id268">
<h1>Opis semantyczny<a class="headerlink" href="#id268" title="Link to this heading">#</a></h1>
<p>Struktura ta przechowuje wszystkie zdekompresowane i sparsowane dane z pliku APNG.</p>
</section>
<section id="id269">
<h1>Pola struktury<a class="headerlink" href="#id269" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">pdata</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span> <span class="pre">*</span></code></p></td>
<td class="text-left"><p>Wska≈∫nik na surowe dane pikseli wszystkich klatek, w formacie RGBA, jedna po drugiej.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">width</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>Szeroko≈õƒá obrazu w pikselach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">height</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>Wysoko≈õƒá obrazu w pikselach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">first_frame</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>Indeks pierwszej klatki animacji (zwykle 0).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">last_frame</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>Indeks ostatniej klatki animacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bpp</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span></code></p></td>
<td class="text-left"><p>Liczba bajt√≥w na piksel.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">coltype</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span></code></p></td>
<td class="text-left"><p>Typ koloru z nag≈Ç√≥wka PNG.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">num_frames</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>Ca≈Çkowita liczba klatek w animacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">num_plays</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code></p></td>
<td class="text-left"><p>Liczba powt√≥rze≈Ñ animacji (0 oznacza niesko≈Ñczono≈õƒá).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">frames_delay</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">short</span> <span class="pre">*</span></code></p></td>
<td class="text-left"><p>Tablica czas√≥w wy≈õwietlania dla ka≈ºdej klatki, w milisekundach.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="funkcje-publiczne">
<h1>Funkcje publiczne<a class="headerlink" href="#funkcje-publiczne" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">load_apng(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">struct</span> <span class="pre">apng_data</span> <span class="pre">*apng)</span></code></p></td>
<td class="text-left"><p>≈Åaduje i parsuje dane APNG ze strumienia <code class="docutils literal notranslate"><span class="pre">file</span></code> i zapisuje wyniki w strukturze <code class="docutils literal notranslate"><span class="pre">apng</span></code>. Zwraca 0 w przypadku sukcesu, -1 w przypadku b≈Çƒôdu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">save_png(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">...)</span></code></p></td>
<td class="text-left"><p>Zapisuje dane obrazu (pojedynczej klatki) do strumienia <code class="docutils literal notranslate"><span class="pre">file</span></code> w formacie PNG.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">free_apng(struct</span> <span class="pre">apng_data</span> <span class="pre">*apng)</span></code></p></td>
<td class="text-left"><p>Zwalnia pamiƒôƒá zaalokowanƒÖ dynamicznie w strukturze <code class="docutils literal notranslate"><span class="pre">apng_data</span></code> (tj. <code class="docutils literal notranslate"><span class="pre">pdata</span></code> i <code class="docutils literal notranslate"><span class="pre">frames_delay</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id270">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id270" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;sstream&gt;</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">std::stringstream</span></code> jako ≈∫r√≥d≈Ça danych wej≈õciowych i wyj≈õciowych.</p></li>
<li><p>Funkcje te sƒÖ wykorzystywane przez klasƒô <code class="docutils literal notranslate"><span class="pre">Image</span></code> do implementacji metod <code class="docutils literal notranslate"><span class="pre">loadPNG</span></code> i <code class="docutils literal notranslate"><span class="pre">savePNG</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="atlas-cpp">
<h1>üìÑ atlas.cpp<a class="headerlink" href="#atlas-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id271">
<h1>Opis og√≥lny<a class="headerlink" href="#id271" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">atlas.cpp</span></code> implementuje klasƒô <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>, kt√≥ra zarzƒÖdza tzw. ‚Äûatlasem tekstur‚Äù. Jest to technika optymalizacyjna, polegajƒÖca na ≈ÇƒÖczeniu wielu ma≈Çych tekstur w jednƒÖ du≈ºƒÖ teksturƒô, aby zminimalizowaƒá liczbƒô zmian stanu w potoku renderowania grafiki (zmiana tekstury jest kosztownƒÖ operacjƒÖ).</p>
</section>
<section id="id272">
<h1>Zmienne globalne<a class="headerlink" href="#id272" title="Link to this heading">#</a></h1>
</section>
<section id="g-atlas">
<h1><code class="docutils literal notranslate"><span class="pre">g_atlas</span></code><a class="headerlink" href="#g-atlas" title="Link to this heading">#</a></h1>
<p>Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>, zapewniajƒÖca scentralizowany dostƒôp do mechanizmu cachowania tekstur.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Atlas</span><span class="w"> </span><span class="n">g_atlas</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-atlas">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Atlas</span></code><a class="headerlink" href="#klasa-atlas" title="Link to this heading">#</a></h1>
</section>
<section id="void-atlas-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::init()</span></code><a class="headerlink" href="#void-atlas-init" title="Link to this heading">#</a></h1>
</section>
<section id="id273">
<h1>Opis semantyczny<a class="headerlink" href="#id273" title="Link to this heading">#</a></h1>
<p>Inicjalizuje atlas.</p>
</section>
<section id="id274">
<h1>Dzia≈Çanie<a class="headerlink" href="#id274" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Okre≈õla maksymalny rozmiar tekstury atlasu, biorƒÖc pod uwagƒô ograniczenia karty graficznej (<code class="docutils literal notranslate"><span class="pre">g_graphics.getMaxTextureSize()</span></code>), ale nie przekraczajƒÖc <code class="docutils literal notranslate"><span class="pre">4096x4096</span></code>.</p></li>
<li><p>Tworzy dwa obiekty <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_atlas[0]</span></code>: G≈Ç√≥wny atlas dla og√≥lnych tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_atlas[1]</span></code>: Atlas dla tekstur font√≥w.</p></li>
</ul>
</li>
<li><p>WiƒÖ≈ºe tekstury atlas√≥w do jednostek teksturujƒÖcych <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE6</span></code> i <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE7</span></code>, aby by≈Çy globalnie dostƒôpne dla shader√≥w.</p></li>
<li><p>Resetuje oba atlasy, przygotowujƒÖc je do u≈ºycia.</p></li>
</ol>
</section>
<section id="void-atlas-reset-i-void-atlas-resetatlas-int-location">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::reset()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::resetAtlas(int</span> <span class="pre">location)</span></code><a class="headerlink" href="#void-atlas-reset-i-void-atlas-resetatlas-int-location" title="Link to this heading">#</a></h1>
<p>Metody do czyszczenia atlasu. <code class="docutils literal notranslate"><span class="pre">reset()</span></code> czy≈õci g≈Ç√≥wny atlas i bufor <code class="docutils literal notranslate"><span class="pre">m_cache</span></code>. <code class="docutils literal notranslate"><span class="pre">resetAtlas()</span></code> przygotowuje konkretny atlas do ponownego u≈ºycia, czyszczƒÖc jego zawarto≈õƒá (wype≈ÇniajƒÖc przezroczysto≈õciƒÖ) i resetujƒÖc informacje o wolnych przestrzeniach (<code class="docutils literal notranslate"><span class="pre">m_locations</span></code>).</p>
</section>
<section id="void-atlas-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::terminate()</span></code><a class="headerlink" href="#void-atlas-terminate" title="Link to this heading">#</a></h1>
<p>Zwalnia obiekty <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlas√≥w.</p>
</section>
<section id="point-atlas-cache-uint64-t-hash-const-size-size-bool-draw">
<h1><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">Atlas::cache(uint64_t</span> <span class="pre">hash,</span> <span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">bool&amp;</span> <span class="pre">draw)</span></code><a class="headerlink" href="#point-atlas-cache-uint64-t-hash-const-size-size-bool-draw" title="Link to this heading">#</a></h1>
</section>
<section id="id275">
<h1>Opis semantyczny<a class="headerlink" href="#id275" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda do cachowania tekstury. Sprawdza, czy tekstura o danym hashu jest ju≈º w atlasie. Je≈õli nie, znajduje dla niej wolne miejsce.</p>
</section>
<section id="id276">
<h1>Dzia≈Çanie<a class="headerlink" href="#id276" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Je≈õli <code class="docutils literal notranslate"><span class="pre">m_doReset</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, najpierw resetuje atlas.</p></li>
<li><p>Sprawdza, czy hash istnieje w <code class="docutils literal notranslate"><span class="pre">m_cache</span></code>. Je≈õli tak, zwraca zapisanƒÖ pozycjƒô.</p></li>
<li><p>Je≈õli nie, oblicza, jakiego rozmiaru bloku potrzebuje tekstura (<code class="docutils literal notranslate"><span class="pre">calculateIndex</span></code>).</p></li>
<li><p>Je≈õli tekstura jest za du≈ºa, zwraca <code class="docutils literal notranslate"><span class="pre">Point(-1,</span> <span class="pre">-1)</span></code>.</p></li>
<li><p>Pr√≥buje znale≈∫ƒá wolne miejsce w <code class="docutils literal notranslate"><span class="pre">m_locations</span></code>. Je≈õli go nie ma, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">findSpace</span></code> w celu podzia≈Çu wiƒôkszego bloku.</p></li>
<li><p>Je≈õli nie ma miejsca, ustawia <code class="docutils literal notranslate"><span class="pre">m_doReset</span> <span class="pre">=</span> <span class="pre">true</span></code> i zwraca <code class="docutils literal notranslate"><span class="pre">Point(-1,</span> <span class="pre">-1)</span></code>.</p></li>
<li><p>Je≈õli miejsce siƒô znajdzie, zapisuje pozycjƒô w <code class="docutils literal notranslate"><span class="pre">m_cache</span></code>, ustawia <code class="docutils literal notranslate"><span class="pre">draw</span> <span class="pre">=</span> <span class="pre">true</span></code> (sygnalizujƒÖc, ≈ºe tekstura musi zostaƒá narysowana w atlasie) i zwraca pozycjƒô.</p></li>
</ol>
</section>
<section id="void-atlas-bind-i-void-atlas-release">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::release()</span></code><a class="headerlink" href="#void-atlas-bind-i-void-atlas-release" title="Link to this heading">#</a></h1>
<p>Metody do bindowania i zwalniania <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> g≈Ç√≥wnego atlasu, aby umo≈ºliwiƒá rysowanie w nim nowych tekstur.</p>
</section>
<section id="point-atlas-cachefont-const-textureptr-fonttexture">
<h1><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">Atlas::cacheFont(const</span> <span class="pre">TexturePtr&amp;</span> <span class="pre">fontTexture)</span></code><a class="headerlink" href="#point-atlas-cachefont-const-textureptr-fonttexture" title="Link to this heading">#</a></h1>
<p>Specjalna metoda do cachowania tekstur font√≥w w drugim atlasie (<code class="docutils literal notranslate"><span class="pre">m_atlas[1]</span></code>). Dzia≈Ça podobnie do <code class="docutils literal notranslate"><span class="pre">cache</span></code>, ale od razu rysuje teksturƒô fontu w znalezionym miejscu.</p>
</section>
<section id="int-atlas-calculateindex-const-size-size">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Atlas::calculateIndex(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code><a class="headerlink" href="#int-atlas-calculateindex-const-size-size" title="Link to this heading">#</a></h1>
<p>Oblicza indeks (od 0 do 6) odpowiadajƒÖcy rozmiarowi bloku potrzebnego do przechowania tekstury (np. 32x32, 64x64, ‚Ä¶, 2048x2048).</p>
</section>
<section id="bool-atlas-findspace-int-location-int-index">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Atlas::findSpace(int</span> <span class="pre">location,</span> <span class="pre">int</span> <span class="pre">index)</span></code><a class="headerlink" href="#bool-atlas-findspace-int-location-int-index" title="Link to this heading">#</a></h1>
<p>Rekurencyjna metoda, kt√≥ra pr√≥buje znale≈∫ƒá wolne miejsce dla bloku o danym <code class="docutils literal notranslate"><span class="pre">index</span></code>. Je≈õli nie ma wolnych blok√≥w tego rozmiaru, pr√≥buje znale≈∫ƒá i podzieliƒá wiƒôkszy blok (o <code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">+</span> <span class="pre">1</span></code>).</p>
</section>
<section id="std-string-atlas-getstats">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Atlas::getStats()</span></code><a class="headerlink" href="#std-string-atlas-getstats" title="Link to this heading">#</a></h1>
<p>Zwraca informacje debugowania o liczbie wolnych miejsc w poszczeg√≥lnych blokach atlasu.</p>
</section>
<section id="id277">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id277" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/atlas.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffermanager.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code> do tworzenia <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> dla atlas√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do rysowania w atlasie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do pobierania maksymalnego rozmiaru tekstury.</p></li>
<li><p>Jest u≈ºywany przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> i <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code> do optymalizacji renderowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="bitmapfont-cpp">
<h1>üìÑ bitmapfont.cpp<a class="headerlink" href="#bitmapfont-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id278">
<h1>Opis og√≥lny<a class="headerlink" href="#id278" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">bitmapfont.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>, kt√≥ra zarzƒÖdza fontami opartymi na bitmapach (obrazach). Taki font sk≈Çada siƒô z pojedynczej tekstury zawierajƒÖcej wszystkie glify (znaki) u≈Ço≈ºone w siatce.</p>
</section>
<section id="klasa-bitmapfont">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code><a class="headerlink" href="#klasa-bitmapfont" title="Link to this heading">#</a></h1>
</section>
<section id="void-bitmapfont-load-const-otmlnodeptr-fontnode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::load(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">fontNode)</span></code><a class="headerlink" href="#void-bitmapfont-load-const-otmlnodeptr-fontnode" title="Link to this heading">#</a></h1>
</section>
<section id="id279">
<h1>Opis semantyczny<a class="headerlink" href="#id279" title="Link to this heading">#</a></h1>
<p>≈Åaduje definicjƒô fontu z wƒôz≈Ça OTML (zazwyczaj z pliku <code class="docutils literal notranslate"><span class="pre">.otfont</span></code>).</p>
</section>
<section id="id280">
<h1>Dzia≈Çanie<a class="headerlink" href="#id280" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Odczytuje z wƒôz≈Ça OTML podstawowe atrybuty fontu:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">texture</span></code>: ≈öcie≈ºka do pliku z obrazem fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">glyph-size</span></code>: Rozmiar pojedynczego glifu w siatce.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">height</span></code>: Rzeczywista wysoko≈õƒá glifu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y-offset</span></code>: Przesuniƒôcie w osi Y.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">first-glyph</span></code>: Kod ASCII pierwszego znaku w siatce (zwykle 32 - spacja).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spacing</span></code>: Odstƒôpy miƒôdzy glifami.</p></li>
</ul>
</li>
<li><p>Oblicza szeroko≈õci poszczeg√≥lnych glif√≥w:</p>
<ul class="simple">
<li><p>Je≈õli zdefiniowano <code class="docutils literal notranslate"><span class="pre">fixed-glyph-width</span></code>, wszystkie glify majƒÖ tƒô samƒÖ szeroko≈õƒá.</p></li>
<li><p>W przeciwnym razie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">calculateGlyphsWidthsAutomatically</span></code>, aby automatycznie wykryƒá szeroko≈õƒá ka≈ºdego znaku.</p></li>
</ul>
</li>
<li><p>Ustawia specjalne szeroko≈õci dla spacji (32) i znaku nowej linii (<code class="docutils literal notranslate"><span class="pre">\n</span></code>).</p></li>
<li><p>≈Åaduje teksturƒô fontu za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_textures.getTexture()</span></code>.</p></li>
<li><p>Je≈õli fonty sƒÖ cachowane w atlasie (<code class="docutils literal notranslate"><span class="pre">!DONT_CACHE_FONTS</span></code>), wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">g_atlas.cacheFont()</span></code> i ustawia teksturƒô atlasu jako ≈∫r√≥d≈ÇowƒÖ.</p></li>
<li><p>Oblicza i zapisuje wsp√≥≈Çrzƒôdne tekstury dla ka≈ºdego glifu w <code class="docutils literal notranslate"><span class="pre">m_glyphsTextureCoords</span></code>.</p></li>
</ol>
</section>
<section id="void-bitmapfont-drawtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::drawText(...)</span></code><a class="headerlink" href="#void-bitmapfont-drawtext" title="Link to this heading">#</a></h1>
<p>Metody te nie rysujƒÖ tekstu bezpo≈õrednio, lecz dodajƒÖ zadanie rysowania do globalnej kolejki <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code>.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawText(...,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color,</span> <span class="pre">...)</span></code></strong>: Dodaje zadanie rysowania tekstu jednokolorowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawColoredText(...,</span> <span class="pre">const</span> <span class="pre">std::vector&lt;std::pair&lt;int,</span> <span class="pre">Color&gt;&gt;&amp;</span> <span class="pre">colors,</span> <span class="pre">...)</span></code></strong>: Dodaje zadanie rysowania tekstu z wieloma kolorami.</p></li>
</ul>
</section>
<section id="void-bitmapfont-calculatedrawtextcoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::calculateDrawTextCoords(...)</span></code><a class="headerlink" href="#void-bitmapfont-calculatedrawtextcoords" title="Link to this heading">#</a></h1>
<p>Oblicza wsp√≥≈Çrzƒôdne ekranowe i tekstury dla ka≈ºdego glifu w podanym tek≈õcie, uwzglƒôdniajƒÖc wyr√≥wnanie i przycinanie do podanego prostokƒÖta. Wyniki sƒÖ zapisywane w <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>.</p>
</section>
<section id="const-std-vector-point-bitmapfont-calculateglyphspositions">
<h1><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::vector&lt;Point&gt;&amp;</span> <span class="pre">BitmapFont::calculateGlyphsPositions(...)</span></code><a class="headerlink" href="#const-std-vector-point-bitmapfont-calculateglyphspositions" title="Link to this heading">#</a></h1>
<p>Oblicza pozycje (lewy g√≥rny r√≥g) ka≈ºdego glifu w tek≈õcie, uwzglƒôdniajƒÖd wyr√≥wnanie. U≈ºywa statycznych, lokalnych dla wƒÖtku wektor√≥w w celu optymalizacji. Zwraca r√≥wnie≈º obliczony rozmiar ca≈Çego bloku tekstu.</p>
</section>
<section id="size-bitmapfont-calculatetextrectsize-const-std-string-text">
<h1><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">BitmapFont::calculateTextRectSize(const</span> <span class="pre">std::string&amp;</span> <span class="pre">text)</span></code><a class="headerlink" href="#size-bitmapfont-calculatetextrectsize-const-std-string-text" title="Link to this heading">#</a></h1>
<p>Zwraca rozmiar prostokƒÖta, jaki zajmie podany tekst, u≈ºywajƒÖc <code class="docutils literal notranslate"><span class="pre">calculateGlyphsPositions</span></code>.</p>
</section>
<section id="std-string-bitmapfont-wraptext">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">BitmapFont::wrapText(...)</span></code><a class="headerlink" href="#std-string-bitmapfont-wraptext" title="Link to this heading">#</a></h1>
<p>Implementuje zawijanie tekstu. Dzieli tekst na linie, tak aby ≈ºadna nie przekracza≈Ça <code class="docutils literal notranslate"><span class="pre">maxWidth</span></code>. Obs≈Çuguje r√≥wnie≈º przenoszenie definicji kolor√≥w (<code class="docutils literal notranslate"><span class="pre">m_textColors</span></code>) do nowych linii.</p>
</section>
<section id="void-bitmapfont-calculateglyphswidthsautomatically">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::calculateGlyphsWidthsAutomatically(...)</span></code><a class="headerlink" href="#void-bitmapfont-calculateglyphswidthsautomatically" title="Link to this heading">#</a></h1>
<p>Prywatna metoda, kt√≥ra analizuje obraz tekstury fontu piksel po pikselu. Dla ka≈ºdego glifu znajduje ostatniƒÖ nieprzezroczystƒÖ kolumnƒô pikseli, aby precyzyjnie okre≈õliƒá jego szeroko≈õƒá.</p>
</section>
<section id="id281">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id281" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/atlas.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_atlas</span></code> do cachowania tekstur font√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/bitmapfont.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texturemanager.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_textures</span></code> do ≈Çadowania obrazu fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/image.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">Image</span></code> do analizy pikseli w <code class="docutils literal notranslate"><span class="pre">calculateGlyphsWidthsAutomatically</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code>: Dodaje zadania rysowania tekstu do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code>.</p></li>
<li><p>Jest zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">FontManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="atlas-h">
<h1>üìÑ atlas.h<a class="headerlink" href="#atlas-h" title="Link to this heading">#</a></h1>
</section>
<section id="id282">
<h1>Opis og√≥lny<a class="headerlink" href="#id282" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">atlas.h</span></code> deklaruje interfejs klasy <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>, kt√≥ra implementuje mechanizm atlasu tekstur. Celem atlasu jest optymalizacja renderowania poprzez grupowanie wielu ma≈Çych tekstur w jednƒÖ du≈ºƒÖ teksturƒô, co redukuje liczbƒô wywo≈Ça≈Ñ <code class="docutils literal notranslate"><span class="pre">glBindTexture</span></code> w OpenGL.</p>
</section>
<section id="id283">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Atlas</span></code><a class="headerlink" href="#id283" title="Link to this heading">#</a></h1>
</section>
<section id="id284">
<h1>Opis semantyczny<a class="headerlink" href="#id284" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Atlas</span></code> zarzƒÖdza jednym lub kilkoma du≈ºymi obiektami <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>, kt√≥re dzia≈ÇajƒÖ jak ‚Äûp≈Ç√≥tna‚Äù. Kiedy system renderujƒÖcy potrzebuje narysowaƒá ma≈ÇƒÖ teksturƒô, <code class="docutils literal notranslate"><span class="pre">Atlas</span></code> znajduje dla niej wolne miejsce w jednym z p≈Ç√≥cien, kopiuje tam jej zawarto≈õƒá (je≈õli jeszcze jej tam nie ma) i zwraca wsp√≥≈Çrzƒôdne wewnƒÖtrz atlasu. P√≥≈∫niejsze odwo≈Çania do tej samej tekstury u≈ºywajƒÖ ju≈º skopiowanej wersji z atlasu.</p>
</section>
<section id="id285">
<h1>Metody publiczne<a class="headerlink" href="#id285" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje atlas, tworzƒÖc <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> o maksymalnym mo≈ºliwym rozmiarze.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia zasoby atlasu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">reload()</span></code></p></td>
<td class="text-left"><p>Resetuje i czy≈õci zawarto≈õƒá atlas√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">cache(uint64_t</span> <span class="pre">hash,</span> <span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">bool&amp;</span> <span class="pre">draw)</span></code></p></td>
<td class="text-left"><p>G≈Ç√≥wna metoda cachujƒÖca. Sprawdza, czy tekstura o danym hashu jest ju≈º w atlasie. Je≈õli nie, znajduje wolne miejsce i zwraca jego koordynaty. Parametr <code class="docutils literal notranslate"><span class="pre">draw</span></code> jest ustawiany na <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli teksturƒô trzeba narysowaƒá w atlasie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">cacheFont(const</span> <span class="pre">TexturePtr&amp;</span> <span class="pre">fontTexture)</span></code></p></td>
<td class="text-left"><p>Specjalna metoda do cachowania tekstur font√≥w w dedykowanym atlasie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">get(int</span> <span class="pre">location)</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik na teksturƒô atlasu o danym indeksie (0 - g≈Ç√≥wny, 1 - fonty).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bind()</span></code></p></td>
<td class="text-left"><p>Bindowanie <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasu jako celu renderowania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">release()</span></code></p></td>
<td class="text-left"><p>Odpinanie <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getStats()</span></code></p></td>
<td class="text-left"><p>Zwraca informacje diagnostyczne o stanie atlasu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id286">
<h1>Zmienne prywatne<a class="headerlink" href="#id286" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_atlas[2]</span></code>: Tablica wska≈∫nik√≥w na <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> (dla og√≥lnych tekstur i font√≥w).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cache</span></code>: Mapa (<code class="docutils literal notranslate"><span class="pre">std::map</span></code>) przechowujƒÖca hashe skachowanych tekstur i ich pozycje w atlasie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_locations[2][7]</span></code>: Tablica list przechowujƒÖca pozycje wolnych blok√≥w o r√≥≈ºnych rozmiarach (od 32x32 do 2048x2048) dla obu atlas√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Rozmiar boku tekstury atlasu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_doReset</span></code>: Flaga sygnalizujƒÖca konieczno≈õƒá zresetowania atlasu (gdy zabraknie miejsca).</p></li>
</ul>
</section>
<section id="id287">
<h1>Zmienne globalne<a class="headerlink" href="#id287" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_atlas</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>.</p></li>
</ul>
</section>
<section id="id288">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id288" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code>: Potencjalnie u≈ºywany, ale g≈Ç√≥wnie to <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> u≈ºywa <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffer.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> jako ‚Äûp≈Ç√≥tna‚Äù dla atlasu.</p></li>
<li><p>U≈ºywany przez system renderowania (<code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>, <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>) do optymalizacji rysowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FontManager</span></code> u≈ºywa go do cachowania tekstur font√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="bitmapfont-h">
<h1>üìÑ bitmapfont.h<a class="headerlink" href="#bitmapfont-h" title="Link to this heading">#</a></h1>
</section>
<section id="id289">
<h1>Opis og√≥lny<a class="headerlink" href="#id289" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">bitmapfont.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>, kt√≥ra reprezentuje font oparty na bitmapie. Jest to kluczowy element systemu renderowania tekstu w aplikacji.</p>
</section>
<section id="id290">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code><a class="headerlink" href="#id290" title="Link to this heading">#</a></h1>
</section>
<section id="id291">
<h1>Opis semantyczny<a class="headerlink" href="#id291" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code> zarzƒÖdza pojedynczym fontem, kt√≥ry jest zdefiniowany jako obraz (tekstura) zawierajƒÖcy siatkƒô znak√≥w (glif√≥w). Klasa przechowuje informacje o rozmiarze glif√≥w, ich pozycjach na teksturze oraz szeroko≈õciach poszczeg√≥lnych znak√≥w. Dostarcza metody do rysowania tekstu (kt√≥re w rzeczywisto≈õci delegujƒÖ zadanie do <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>) oraz do obliczania wymiar√≥w i zawijania tekstu.</p>
</section>
<section id="id292">
<h1>Metody publiczne<a class="headerlink" href="#id292" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">BitmapFont(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></p></td>
<td class="text-left"><p>Konstruktor, ustawia nazwƒô fontu i unikalne ID.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">load(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">fontNode)</span></code></p></td>
<td class="text-left"><p>≈Åaduje definicjƒô fontu z wƒôz≈Ça OTML.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">drawText(...)</span></code></p></td>
<td class="text-left"><p>Dodaje do kolejki renderowania zadanie narysowania tekstu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">drawColoredText(...)</span></code></p></td>
<td class="text-left"><p>Dodaje zadanie narysowania tekstu z wieloma kolorami.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">calculateDrawTextCoords(...)</span></code></p></td>
<td class="text-left"><p>Oblicza wsp√≥≈Çrzƒôdne wierzcho≈Çk√≥w i tekstur dla renderowanego tekstu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::vector&lt;Point&gt;&amp;</span> <span class="pre">calculateGlyphsPositions(...)</span></code></p></td>
<td class="text-left"><p>Oblicza pozycje poszczeg√≥lnych glif√≥w w tek≈õcie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">calculateTextRectSize(...)</span></code></p></td>
<td class="text-left"><p>Oblicza rozmiar prostokƒÖta zajmowanego przez tekst.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">wrapText(...)</span></code></p></td>
<td class="text-left"><p>Z≈Çamuje tekst na wiele linii, aby zmie≈õci≈Ç siƒô w podanej szeroko≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getId()</span></code></p></td>
<td class="text-left"><p>Zwraca unikalne ID fontu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô fontu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getGlyphHeight()</span></code></p></td>
<td class="text-left"><p>Zwraca wysoko≈õƒá glif√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Rect*</span> <span class="pre">getGlyphsTextureCoords()</span></code></p></td>
<td class="text-left"><p>Zwraca tablicƒô wsp√≥≈Çrzƒôdnych tekstur dla wszystkich glif√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Size*</span> <span class="pre">getGlyphsSize()</span></code></p></td>
<td class="text-left"><p>Zwraca tablicƒô rozmiar√≥w dla wszystkich glif√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">TexturePtr&amp;</span> <span class="pre">getTexture()</span></code></p></td>
<td class="text-left"><p>Zwraca teksturƒô fontu (mo≈ºe to byƒá tekstura atlasu).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getYOffset()</span></code></p></td>
<td class="text-left"><p>Zwraca przesuniƒôcie Y.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">getGlyphSpacing()</span></code></p></td>
<td class="text-left"><p>Zwraca odstƒôpy miƒôdzy glifami.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id293">
<h1>Zmienne prywatne<a class="headerlink" href="#id293" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>: Nazwa fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphHeight</span></code>: Wysoko≈õƒá glifu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_firstGlyph</span></code>: Kod ASCII pierwszego znaku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_yOffset</span></code>: Przesuniƒôcie w osi Y.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_id</span></code>: Unikalne ID fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphSpacing</span></code>: Odstƒôpy miƒôdzy glifami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_texture</span></code>: Wska≈∫nik na teksturƒô fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphsTextureCoords[256]</span></code>: Tablica wsp√≥≈Çrzƒôdnych tekstur dla ka≈ºdego glifu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphsSize[256]</span></code>: Tablica rozmiar√≥w dla ka≈ºdego glifu.</p></li>
</ul>
</section>
<section id="id294">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id294" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Deklaracje typ√≥w graficznych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">Texture</span></code> do przechowywania obrazu fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code> w metodzie <code class="docutils literal notranslate"><span class="pre">load</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/coordsbuffer.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> do przechowywania geometrii tekstu.</p></li>
<li><p>Jest zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">FontManager</span></code>.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> i inne komponenty do renderowania tekstu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="cachedtext-cpp">
<h1>üìÑ cachedtext.cpp<a class="headerlink" href="#cachedtext-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id295">
<h1>Opis og√≥lny<a class="headerlink" href="#id295" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">cachedtext.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">CachedText</span></code>, kt√≥ra s≈Çu≈ºy do optymalizacji renderowania tekstu, kt√≥ry nie zmienia siƒô czƒôsto.</p>
</section>
<section id="klasa-cachedtext">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code><a class="headerlink" href="#klasa-cachedtext" title="Link to this heading">#</a></h1>
</section>
<section id="cachedtext-cachedtext">
<h1><code class="docutils literal notranslate"><span class="pre">CachedText::CachedText()</span></code><a class="headerlink" href="#cachedtext-cachedtext" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domy≈õlny font, wyr√≥wnanie do ≈õrodka (<code class="docutils literal notranslate"><span class="pre">Fw::AlignCenter</span></code>) i inne warto≈õci domy≈õlne.</p>
</section>
<section id="void-cachedtext-draw-const-rect-rect-const-color-color">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">rect,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code><a class="headerlink" href="#void-cachedtext-draw-const-rect-rect-const-color-color" title="Link to this heading">#</a></h1>
</section>
<section id="id296">
<h1>Opis semantyczny<a class="headerlink" href="#id296" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda rysujƒÖca. Renderuje tekst w podanym prostokƒÖcie z danym kolorem.</p>
</section>
<section id="id297">
<h1>Dzia≈Çanie<a class="headerlink" href="#id297" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy font jest ustawiony.</p></li>
<li><p>Sprawdza, czy tekst musi zostaƒá ‚Äûprzekeshowany‚Äù (<code class="docutils literal notranslate"><span class="pre">m_textMustRecache</span></code>) lub czy zmieni≈Ç siƒô prostokƒÖt docelowy (<code class="docutils literal notranslate"><span class="pre">m_textCachedScreenCoords</span></code>). Je≈õli tak, aktualizuje buforowane koordynaty.</p></li>
<li><p>Wywo≈Çuje metodƒô <code class="docutils literal notranslate"><span class="pre">m_font‚ÜídrawText()</span></code> lub <code class="docutils literal notranslate"><span class="pre">m_font‚ÜídrawColoredText()</span></code> w celu dodania zadania rysowania do <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>.</p></li>
</ol>
<blockquote>
<div><p>NOTE: Nazwa ‚Äûcached‚Äù mo≈ºe byƒá nieco mylƒÖca. Klasa nie renderuje tekstu do tekstury. Zamiast tego, ‚Äûkeszuje‚Äù obliczenia zwiƒÖzane z pozycjonowaniem glif√≥w, ale samo rysowanie odbywa siƒô dynamicznie w ka≈ºdej klatce za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">BitmapFont::drawText</span></code>.</p>
</div></blockquote>
</section>
<section id="void-cachedtext-setcoloredtext-const-std-vector-std-string-texts">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::setColoredText(const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">texts)</span></code><a class="headerlink" href="#void-cachedtext-setcoloredtext-const-std-vector-std-string-texts" title="Link to this heading">#</a></h1>
<p>Ustawia tekst sk≈ÇadajƒÖcy siƒô z fragment√≥w o r√≥≈ºnych kolorach. Parsuje wektor, tworzƒÖc wewnƒôtrznƒÖ reprezentacjƒô <code class="docutils literal notranslate"><span class="pre">m_text</span></code> i <code class="docutils literal notranslate"><span class="pre">m_textColors</span></code>, a nastƒôpnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">update()</span></code>.</p>
</section>
<section id="void-cachedtext-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::update()</span></code><a class="headerlink" href="#void-cachedtext-update" title="Link to this heading">#</a></h1>
<p>Prywatna metoda pomocnicza. Oblicza rozmiar tekstu za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">m_font‚ÜícalculateTextRectSize()</span></code> i ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_textMustRecache</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>, co wymusza przeliczenie geometrii przy nastƒôpnym wywo≈Çaniu <code class="docutils literal notranslate"><span class="pre">draw()</span></code>.</p>
</section>
<section id="void-cachedtext-wraptext-int-maxwidth">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::wrapText(int</span> <span class="pre">maxWidth)</span></code><a class="headerlink" href="#void-cachedtext-wraptext-int-maxwidth" title="Link to this heading">#</a></h1>
<p>Zawija tekst, aby zmie≈õci≈Ç siƒô w podanej szeroko≈õci, u≈ºywajƒÖc metody <code class="docutils literal notranslate"><span class="pre">m_font‚ÜíwrapText()</span></code>, a nastƒôpnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">update()</span></code>.</p>
</section>
<section id="id298">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id298" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/cachedtext.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: Po≈õrednio, poprzez <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/fontmanager.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_fonts</span></code> do pobrania domy≈õlnego fontu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/bitmapfont.h</span></code>: Kluczowa zale≈ºno≈õƒá; u≈ºywa <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code> do wszystkich operacji na tek≈õcie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="colorarray-h">
<h1>üìÑ colorarray.h<a class="headerlink" href="#colorarray-h" title="Link to this heading">#</a></h1>
</section>
<section id="id299">
<h1>Opis og√≥lny<a class="headerlink" href="#id299" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">colorarray.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">ColorArray</span></code>, kt√≥ra jest prostym kontenerem na tablicƒô kolor√≥w w formacie <code class="docutils literal notranslate"><span class="pre">float</span></code>. Jest u≈ºywana do przekazywania kolor√≥w dla poszczeg√≥lnych wierzcho≈Çk√≥w do systemu renderujƒÖcego.</p>
</section>
<section id="klasa-colorarray">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ColorArray</span></code><a class="headerlink" href="#klasa-colorarray" title="Link to this heading">#</a></h1>
</section>
<section id="id300">
<h1>Opis semantyczny<a class="headerlink" href="#id300" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ColorArray</span></code> dzia≈Ça jako bufor dla kolor√≥w. Ka≈ºdy kolor jest reprezentowany przez cztery warto≈õci <code class="docutils literal notranslate"><span class="pre">float</span></code> (R, G, B, A) w zakresie od 0.0 do 1.0. Klasa udostƒôpnia metody do dodawania kolor√≥w i dostƒôpu do surowego wska≈∫nika na dane, co jest potrzebne do przekazania ich do OpenGL.</p>
</section>
<section id="id301">
<h1>Metody publiczne<a class="headerlink" href="#id301" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addColor(float</span> <span class="pre">r,</span> <span class="pre">float</span> <span class="pre">g,</span> <span class="pre">float</span> <span class="pre">b,</span> <span class="pre">float</span> <span class="pre">a)</span></code></p></td>
<td class="text-left"><p>Dodaje kolor do bufora, podajƒÖc sk≈Çadowe jako <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addColor(const</span> <span class="pre">Color&amp;</span> <span class="pre">c)</span></code></p></td>
<td class="text-left"><p>Dodaje kolor do bufora, pobierajƒÖc sk≈Çadowe z obiektu <code class="docutils literal notranslate"><span class="pre">Color</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Czy≈õci bufor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*colors()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik na poczƒÖtek danych (alias dla <code class="docutils literal notranslate"><span class="pre">data()</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*data()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik na surowe dane bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">colorCount()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô pe≈Çnych kolor√≥w w buforze (alias dla <code class="docutils literal notranslate"><span class="pre">count()</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">count()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô kolor√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">size()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca ca≈ÇkowitƒÖ liczbƒô warto≈õci <code class="docutils literal notranslate"><span class="pre">float</span></code> w buforze (tj. <code class="docutils literal notranslate"><span class="pre">colorCount()</span> <span class="pre">*</span> <span class="pre">4</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id302">
<h1>Zmienne prywatne<a class="headerlink" href="#id302" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Obiekt <code class="docutils literal notranslate"><span class="pre">DataBuffer&lt;float&gt;</span></code>, kt√≥ry przechowuje dane kolor√≥w.</p></li>
</ul>
</section>
<section id="id303">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id303" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">DataBuffer</span></code> jako wewnƒôtrznego kontenera.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do przekazywania tablicy kolor√≥w do shadera, co pozwala na rysowanie gradient√≥w lub wielokolorowych kszta≈Çt√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="cachedtext-h">
<h1>üìÑ cachedtext.h<a class="headerlink" href="#cachedtext-h" title="Link to this heading">#</a></h1>
</section>
<section id="id304">
<h1>Opis og√≥lny<a class="headerlink" href="#id304" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">cachedtext.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">CachedText</span></code>, kt√≥ra jest opakowaniem (wrapperem) u≈ÇatwiajƒÖcym zarzƒÖdzanie i renderowanie tekstu, kt√≥ry mo≈ºe byƒá keszowany.</p>
</section>
<section id="id305">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code><a class="headerlink" href="#id305" title="Link to this heading">#</a></h1>
</section>
<section id="id306">
<h1>Opis semantyczny<a class="headerlink" href="#id306" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code> przechowuje tekst, font, wyr√≥wnanie i inne w≈Ça≈õciwo≈õci. Jej g≈Ç√≥wnym celem jest optymalizacja renderowania poprzez unikanie ponownych oblicze≈Ñ geometrii tekstu w ka≈ºdej klatce. Kiedy tekst lub jego parametry siƒô zmieniajƒÖ, metoda <code class="docutils literal notranslate"><span class="pre">update()</span></code> jest wywo≈Çywana, aby przeliczyƒá rozmiar i ustawiƒá flagƒô konieczno≈õci ponownego buforowania wsp√≥≈Çrzƒôdnych.</p>
</section>
<section id="id307">
<h1>Metody publiczne<a class="headerlink" href="#id307" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CachedText()</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">rect,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></p></td>
<td class="text-left"><p>Rysuje skeszowany tekst w podanym prostokƒÖcie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">wrapText(int</span> <span class="pre">maxWidth)</span></code></p></td>
<td class="text-left"><p>Zawija tekst do podanej szeroko≈õci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setFont(...)</span></code></p></td>
<td class="text-left"><p>Ustawia font i aktualizuje tekst.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setText(...)</span></code></p></td>
<td class="text-left"><p>Ustawia tekst i aktualizuje go.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setColoredText(...)</span></code></p></td>
<td class="text-left"><p>Ustawia tekst sk≈ÇadajƒÖcy siƒô z fragment√≥w o r√≥≈ºnych kolorach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setAlign(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wyr√≥wnanie tekstu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">getTextSize()</span></code></p></td>
<td class="text-left"><p>Zwraca obliczony rozmiar tekstu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getText()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca przechowywany tekst.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">BitmapFontPtr</span> <span class="pre">getFont()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca u≈ºywany font.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span> <span class="pre">getAlign()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wyr√≥wnanie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">hasText()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli tekst nie jest pusty.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id308">
<h1>Zmienne prywatne<a class="headerlink" href="#id308" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_text</span></code>: G≈Ç√≥wny, niezmieniony tekst.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textColors</span></code>: Wektor par przechowujƒÖcy pozycje i kolory dla tekstu wielokolorowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textSize</span></code>: Obliczony rozmiar tekstu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textMustRecache</span></code>: Flaga wskazujƒÖca, ≈ºe geometria tekstu musi zostaƒá przeliczona.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textCachedScreenCoords</span></code>: Ostatni prostokƒÖt, w kt√≥rym tekst by≈Ç rysowany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_font</span></code>: U≈ºywany <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_align</span></code>: Wyr√≥wnanie tekstu.</p></li>
</ul>
</section>
<section id="id309">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id309" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/coordsbuffer.h</span></code>: Po≈õrednio, przez <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code>: Po≈õrednio, przez <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>.</p></li>
<li><p>Klasa ta jest prawdopodobnie u≈ºywana w komponentach UI, kt√≥re wy≈õwietlajƒÖ tekst, aby upro≈õciƒá i zoptymalizowaƒá jego renderowanie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="coordsbuffer-h">
<h1>üìÑ coordsbuffer.h<a class="headerlink" href="#coordsbuffer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id310">
<h1>Opis og√≥lny<a class="headerlink" href="#id310" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>, kt√≥ra jest specjalizowanym kontenerem do przechowywania wsp√≥≈Çrzƒôdnych wierzcho≈Çk√≥w (<code class="docutils literal notranslate"><span class="pre">vertex</span></code>) i tekstur (<code class="docutils literal notranslate"><span class="pre">texture</span> <span class="pre">coord</span></code>). Jest to kluczowy element optymalizacyjny, pozwalajƒÖcy na grupowanie geometrii wielu obiekt√≥w i rysowanie ich w jednym wywo≈Çaniu (batching).</p>
</section>
<section id="klasa-coordsbuffer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code><a class="headerlink" href="#klasa-coordsbuffer" title="Link to this heading">#</a></h1>
</section>
<section id="id311">
<h1>Opis semantyczny<a class="headerlink" href="#id311" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> przechowuje dwie tablice wierzcho≈Çk√≥w (<code class="docutils literal notranslate"><span class="pre">VertexArray</span></code>): jednƒÖ dla pozycji na ekranie i drugƒÖ dla pozycji na teksturze. Dostarcza metody do dodawania prostych prymityw√≥w geometrycznych (tr√≥jkƒÖty, prostokƒÖty). Posiada mechanizm ‚Äûkeszowania‚Äù danych w sprzƒôtowym buforze VBO (Vertex Buffer Object) w celu dalszej optymalizacji.</p>
<blockquote>
<div><p><strong>NOTE</strong>: Mimo nazwy, <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> jest jednorazowego u≈ºytku dla <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>. Po przekazaniu do kolejki, jego zawarto≈õƒá jest przenoszona (<code class="docutils literal notranslate"><span class="pre">std::move</span></code>), a orygina≈Ç staje siƒô pusty. To zachowanie jest wymuszone przez usuniƒôcie konstruktora kopiujƒÖcego i operatora przypisania, a zdefiniowanie konstruktora przenoszƒÖcego.</p>
</div></blockquote>
</section>
<section id="id312">
<h1>Metody publiczne<a class="headerlink" href="#id312" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CoordsBuffer()</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy wewnƒôtrzne obiekty <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~CoordsBuffer()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CoordsBuffer(CoordsBuffer&amp;&amp;</span> <span class="pre">c)</span></code></p></td>
<td class="text-left"><p>Konstruktor przenoszƒÖcy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Czy≈õci oba bufory wierzcho≈Çk√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addTriangle(...)</span></code></p></td>
<td class="text-left"><p>Dodaje tr√≥jkƒÖt (tylko wsp√≥≈Çrzƒôdne wierzcho≈Çk√≥w).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code></p></td>
<td class="text-left"><p>Dodaje prostokƒÖt (tylko wsp√≥≈Çrzƒôdne wierzcho≈Çk√≥w).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">src)</span></code></p></td>
<td class="text-left"><p>Dodaje prostokƒÖt z teksturƒÖ.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addQuad(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">addUpsideDownQuad(...)</span></code></p></td>
<td class="text-left"><p>Dodaje czworokƒÖt (quad) - przydatne do renderowania w trybie <code class="docutils literal notranslate"><span class="pre">TriangleStrip</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addBoudingRect(...)</span></code></p></td>
<td class="text-left"><p>Dodaje geometriƒô ramki o okre≈õlonej grubo≈õci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addRepeatedRects(...)</span></code></p></td>
<td class="text-left"><p>Wype≈Çnia prostokƒÖt docelowy powtarzajƒÖcƒÖ siƒô teksturƒÖ.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*getVertexArray()</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik na dane wierzcho≈Çk√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*getTextureCoordArray()</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik na dane wsp√≥≈Çrzƒôdnych tekstury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getVertexCount()</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô wierzcho≈Çk√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HardwareBuffer*</span> <span class="pre">getVertexHardwareCache()</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik na sprzƒôtowy bufor VBO dla wierzcho≈Çk√≥w (je≈õli istnieje).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">cache()</span></code></p></td>
<td class="text-left"><p>Tworzy i wype≈Çnia sprzƒôtowe bufory VBO na podstawie bie≈ºƒÖcych danych.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Rect</span> <span class="pre">getTextureRect()</span></code></p></td>
<td class="text-left"><p>Oblicza i zwraca prostokƒÖt ograniczajƒÖcy wszystkie wsp√≥≈Çrzƒôdne tekstury.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id313">
<h1>Zmienne prywatne<a class="headerlink" href="#id313" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_locked</span></code>: Flaga u≈ºywana do optymalizacji (zapobiega niepotrzebnemu kopiowaniu danych).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_vertexArray</span></code>: Wska≈∫nik na <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> przechowujƒÖcy pozycje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textureCoordArray</span></code>: Wska≈∫nik na <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> przechowujƒÖcy wsp√≥≈Çrzƒôdne tekstury.</p></li>
</ul>
</section>
<section id="id314">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id314" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/vertexarray.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> jako podstawowego kontenera na dane.</p></li>
<li><p>Jest intensywnie u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> i jego podklasy do generowania geometrii, kt√≥ra nastƒôpnie jest przekazywana do <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> w celu renderowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="deptharray-h">
<h1>üìÑ deptharray.h<a class="headerlink" href="#deptharray-h" title="Link to this heading">#</a></h1>
</section>
<section id="id315">
<h1>Opis og√≥lny<a class="headerlink" href="#id315" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">deptharray.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">DepthArray</span></code>, kt√≥ra jest prostym kontenerem na tablicƒô warto≈õci g≈Çƒôboko≈õci (depth) w formacie <code class="docutils literal notranslate"><span class="pre">float</span></code>. Jest to prawdopodobnie czƒô≈õƒá eksperymentalnego lub nie w pe≈Çni zaimplementowanego mechanizmu renderowania 3D lub sortowania g≈Çƒôboko≈õci.</p>
</section>
<section id="klasa-deptharray">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">DepthArray</span></code><a class="headerlink" href="#klasa-deptharray" title="Link to this heading">#</a></h1>
</section>
<section id="id316">
<h1>Opis semantyczny<a class="headerlink" href="#id316" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">DepthArray</span></code> dzia≈Ça jako bufor dla warto≈õci g≈Çƒôboko≈õci (wsp√≥≈Çrzƒôdna Z). Ka≈ºda warto≈õƒá <code class="docutils literal notranslate"><span class="pre">float</span></code> w buforze odpowiada jednemu wierzcho≈Çkowi. Klasa udostƒôpnia metody do dodawania warto≈õci i dostƒôpu do surowego wska≈∫nika na dane, co jest potrzebne do przekazania ich do OpenGL jako atrybut wierzcho≈Çka.</p>
</section>
<section id="id317">
<h1>Metody publiczne<a class="headerlink" href="#id317" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addDepth(float</span> <span class="pre">depth)</span></code></p></td>
<td class="text-left"><p>Dodaje nowƒÖ warto≈õƒá g≈Çƒôboko≈õci do bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Czy≈õci bufor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*depths()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik na poczƒÖtek danych (alias dla <code class="docutils literal notranslate"><span class="pre">data()</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*data()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik na surowe dane bufora.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">depthCount()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô warto≈õci w buforze (alias dla <code class="docutils literal notranslate"><span class="pre">count()</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">count()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô warto≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">size()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô warto≈õci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id318">
<h1>Zmienne prywatne<a class="headerlink" href="#id318" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Obiekt <code class="docutils literal notranslate"><span class="pre">DataBuffer&lt;float&gt;</span></code>, kt√≥ry przechowuje dane g≈Çƒôboko≈õci.</p></li>
</ul>
</section>
<section id="id319">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id319" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">DataBuffer</span></code> jako wewnƒôtrznego kontenera.</p></li>
<li><p>W obecnym kodzie jest u≈ºywana w <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, ale funkcjonalno≈õƒá zwiƒÖzana z buforem g≈Çƒôbi jest wykomentowana lub nie w pe≈Çni zaimplementowana (<code class="docutils literal notranslate"><span class="pre">WITH_DEPTH_BUFFER</span></code>).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id320">
<h1>üìÑ declarations.h<a class="headerlink" href="#id320" title="Link to this heading">#</a></h1>
</section>
<section id="id321">
<h1>Opis og√≥lny<a class="headerlink" href="#id321" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">graphics</span></code> s≈Çu≈ºy jako centralny punkt dla wczesnych deklaracji (forward declarations) i definicji typ√≥w (<code class="docutils literal notranslate"><span class="pre">typedef</span></code>) zwiƒÖzanych z systemem graficznym. Jego g≈Ç√≥wnym celem jest unikanie zale≈ºno≈õci cyklicznych miƒôdzy plikami nag≈Ç√≥wkowymi i minimalizowanie liczby do≈ÇƒÖczanych plik√≥w.</p>
</section>
<section id="id322">
<h1>Wczesne deklaracje (Forward Declarations)<a class="headerlink" href="#id322" title="Link to this heading">#</a></h1>
<p>Plik deklaruje istnienie nastƒôpujƒÖcych klas, co pozwala na u≈ºywanie wska≈∫nik√≥w i referencji do nich bez potrzeby do≈ÇƒÖczania ich pe≈Çnych definicji:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Texture</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TextureManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Image</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CachedText</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Shader</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code></p></li>
</ul>
</section>
<section id="id323">
<h1>Definicje typ√≥w (Typedefs)<a class="headerlink" href="#id323" title="Link to this heading">#</a></h1>
<p>Plik definiuje aliasy dla inteligentnych wska≈∫nik√≥w (<code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>) do klas graficznych, co u≈Çatwia ich u≈ºycie i poprawia czytelno≈õƒá kodu.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ImagePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Image&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Texture&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedTexturePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;AnimatedTexture&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BitmapFontPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;BitmapFont&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CachedTextPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;CachedText&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FrameBufferPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;FrameBuffer&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShaderPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;Shader&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShaderProgramPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;ShaderProgram&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;PainterShaderProgram&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShaderList</span></code>: <code class="docutils literal notranslate"><span class="pre">std::vector&lt;ShaderPtr&gt;</span></code></p></li>
</ul>
</section>
<section id="id324">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id324" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Do≈ÇƒÖcza podstawowe definicje i typy, w tym <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/glutil.h</span></code>: Do≈ÇƒÖcza nag≈Ç√≥wki OpenGL/GLES.</p></li>
<li><p>Ten plik jest intensywnie u≈ºywany w ca≈Çym module graficznym i w innych modu≈Çach, kt√≥re wchodzƒÖ w interakcjƒô z grafikƒÖ (np. <code class="docutils literal notranslate"><span class="pre">UI</span></code>).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="coordsbuffer-cpp">
<h1>üìÑ coordsbuffer.cpp<a class="headerlink" href="#coordsbuffer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id325">
<h1>Opis og√≥lny<a class="headerlink" href="#id325" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">coordsbuffer.cpp</span></code> zawiera implementacjƒô metod klasy <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>, kt√≥ra jest buforem na dane geometryczne do renderowania.</p>
</section>
<section id="id326">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code><a class="headerlink" href="#id326" title="Link to this heading">#</a></h1>
</section>
<section id="coordsbuffer-coordsbuffer">
<h1><code class="docutils literal notranslate"><span class="pre">CoordsBuffer::CoordsBuffer()</span></code><a class="headerlink" href="#coordsbuffer-coordsbuffer" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje dwa wewnƒôtrzne bufory: <code class="docutils literal notranslate"><span class="pre">m_vertexArray</span></code> (dla wsp√≥≈Çrzƒôdnych pozycji) i <code class="docutils literal notranslate"><span class="pre">m_textureCoordArray</span></code> (dla wsp√≥≈Çrzƒôdnych tekstury).</p>
</section>
<section id="void-coordsbuffer-addboudingrect-const-rect-dest-int-innerlinewidth">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::addBoudingRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">int</span> <span class="pre">innerLineWidth)</span></code><a class="headerlink" href="#void-coordsbuffer-addboudingrect-const-rect-dest-int-innerlinewidth" title="Link to this heading">#</a></h1>
<p>Dodaje geometriƒô czterech prostokƒÖt√≥w, kt√≥re razem tworzƒÖ ramkƒô (border) wewnƒÖtrz podanego prostokƒÖta <code class="docutils literal notranslate"><span class="pre">dest</span></code> o grubo≈õci <code class="docutils literal notranslate"><span class="pre">innerLineWidth</span></code>.</p>
</section>
<section id="void-coordsbuffer-addrepeatedrects-const-rect-dest-const-rect-src">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::addRepeatedRects(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">src)</span></code><a class="headerlink" href="#void-coordsbuffer-addrepeatedrects-const-rect-dest-const-rect-src" title="Link to this heading">#</a></h1>
<p>Wype≈Çnia prostokƒÖt docelowy (<code class="docutils literal notranslate"><span class="pre">dest</span></code>) powtarzajƒÖcym siƒô wzorem z tekstury (<code class="docutils literal notranslate"><span class="pre">src</span></code>). Dzieli obszar <code class="docutils literal notranslate"><span class="pre">dest</span></code> na mniejsze prostokƒÖty o rozmiarze <code class="docutils literal notranslate"><span class="pre">src</span></code> i dodaje je do bufora, odpowiednio przycinajƒÖc wsp√≥≈Çrzƒôdne tekstury na krawƒôdziach.</p>
</section>
<section id="void-coordsbuffer-unlock-bool-clear">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::unlock(bool</span> <span class="pre">clear)</span></code><a class="headerlink" href="#void-coordsbuffer-unlock-bool-clear" title="Link to this heading">#</a></h1>
<p>Metoda zwiƒÖzana z wewnƒôtrznym mechanizmem ‚Äûblokowania‚Äù bufora. Kiedy bufor jest zablokowany (<code class="docutils literal notranslate"><span class="pre">m_locked</span></code>), ka≈ºda operacja dodawania geometrii powoduje jego odblokowanie. Odblokowanie tworzy kopiƒô wewnƒôtrznych <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code>, aby zapobiec modyfikacji danych, kt√≥re mog≈Çy ju≈º zostaƒá przes≈Çane do VBO. Je≈õli <code class="docutils literal notranslate"><span class="pre">clear</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, zamiast kopiowania tworzone sƒÖ nowe, puste <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code>.</p>
</section>
<section id="rect-coordsbuffer-gettexturerect">
<h1><code class="docutils literal notranslate"><span class="pre">Rect</span> <span class="pre">CoordsBuffer::getTextureRect()</span></code><a class="headerlink" href="#rect-coordsbuffer-gettexturerect" title="Link to this heading">#</a></h1>
<p>Przechodzi przez wszystkie wsp√≥≈Çrzƒôdne tekstury w buforze, aby znale≈∫ƒá minimalny i maksymalny punkt, a nastƒôpnie zwraca prostokƒÖt ograniczajƒÖcy (bounding box) dla u≈ºywanego fragmentu tekstury.</p>
</section>
<section id="id327">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id327" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/coordsbuffer.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Potencjalnie do funkcji zwiƒÖzanych z grafikƒÖ.</p></li>
<li><p>Jest u≈ºywana do budowania geometrii przez klasy takie jak <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, a nastƒôpnie konsumowana przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> i <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do renderowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="drawcache-cpp">
<h1>üìÑ drawcache.cpp<a class="headerlink" href="#drawcache-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id328">
<h1>Opis og√≥lny<a class="headerlink" href="#id328" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">drawcache.cpp</span></code> implementuje klasƒô <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>, kt√≥ra jest kluczowym elementem systemu optymalizacji renderowania. Jej zadaniem jest grupowanie (batching) operacji rysowania, kt√≥re u≈ºywajƒÖ tej samej tekstury (atlasu), aby zminimalizowaƒá liczbƒô wywo≈Ça≈Ñ rysujƒÖcych (draw calls) do OpenGL.</p>
</section>
<section id="id329">
<h1>Zmienne globalne<a class="headerlink" href="#id329" title="Link to this heading">#</a></h1>
</section>
<section id="g-drawcache">
<h1><code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code><a class="headerlink" href="#g-drawcache" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>, u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do buforowania operacji.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">DrawCache</span><span class="w"> </span><span class="n">g_drawCache</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-drawcache">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code><a class="headerlink" href="#klasa-drawcache" title="Link to this heading">#</a></h1>
</section>
<section id="void-drawcache-draw">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::draw()</span></code><a class="headerlink" href="#void-drawcache-draw" title="Link to this heading">#</a></h1>
</section>
<section id="id330">
<h1>Opis semantyczny<a class="headerlink" href="#id330" title="Link to this heading">#</a></h1>
<p>Wykonuje zgrupowane operacje rysowania.</p>
</section>
<section id="id331">
<h1>Dzia≈Çanie<a class="headerlink" href="#id331" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Upewnia siƒô, ≈ºe atlas tekstur jest od≈ÇƒÖczony (<code class="docutils literal notranslate"><span class="pre">release()</span></code>).</p></li>
<li><p>Je≈õli bufor nie jest pusty (<code class="docutils literal notranslate"><span class="pre">m_size</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>), wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">g_painter‚ÜídrawCache()</span></code>, przekazujƒÖc jej wszystkie zebrane dane wierzcho≈Çk√≥w, wsp√≥≈Çrzƒôdnych tekstur i kolor√≥w.</p></li>
<li><p>Resetuje licznik <code class="docutils literal notranslate"><span class="pre">m_size</span></code> do zera.</p></li>
</ol>
</section>
<section id="void-drawcache-bind-i-void-drawcache-release">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::release()</span></code><a class="headerlink" href="#void-drawcache-bind-i-void-drawcache-release" title="Link to this heading">#</a></h1>
<p>Metody te zarzƒÖdzajƒÖ bindowaniem i zwalnianiem <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasu. <code class="docutils literal notranslate"><span class="pre">bind()</span></code> jest wywo≈Çywane, gdy do atlasu musi zostaƒá narysowana nowa tekstura. <code class="docutils literal notranslate"><span class="pre">release()</span></code> jest wywo≈Çywane przed wykonaniem <code class="docutils literal notranslate"><span class="pre">draw()</span></code>.</p>
</section>
<section id="metody-dodawania-do-bufora">
<h1>Metody dodawania do bufora<a class="headerlink" href="#metody-dodawania-do-bufora" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">addRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></strong>: Dodaje prostokƒÖt wype≈Çniony jednolitym kolorem. Wsp√≥≈Çrzƒôdne tekstury sƒÖ ustawiane na <code class="docutils literal notranslate"><span class="pre">(-10,</span> <span class="pre">-10)</span></code>, co jest sygna≈Çem dla shadera, aby nie u≈ºywa≈Ç tekstury.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">addTexturedRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">src,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></strong>: Dodaje teksturowany prostokƒÖt.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">addCoords(CoordsBuffer&amp;</span> <span class="pre">coords,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></strong>: Dodaje geometriƒô z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> (bez tekstury).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">addTexturedCoords(CoordsBuffer&amp;</span> <span class="pre">coords,</span> <span class="pre">const</span> <span class="pre">Point&amp;</span> <span class="pre">offset,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></strong>: Dodaje geometriƒô z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z teksturƒÖ. Przesuwa wsp√≥≈Çrzƒôdne tekstury o podany <code class="docutils literal notranslate"><span class="pre">offset</span></code>, kt√≥ry jest pozycjƒÖ tekstury w atlasie.</p></li>
</ul>
</section>
<section id="metody-pomocnicze-addrectraw-addcolorraw">
<h1>Metody pomocnicze (<code class="docutils literal notranslate"><span class="pre">addRectRaw</span></code>, <code class="docutils literal notranslate"><span class="pre">addColorRaw</span></code>)<a class="headerlink" href="#metody-pomocnicze-addrectraw-addcolorraw" title="Link to this heading">#</a></h1>
<p>Prywatne metody <code class="docutils literal notranslate"><span class="pre">inline</span></code> do szybkiego zapisu danych do wewnƒôtrznych wektor√≥w (<code class="docutils literal notranslate"><span class="pre">m_destCoord</span></code>, <code class="docutils literal notranslate"><span class="pre">m_srcCoord</span></code>, <code class="docutils literal notranslate"><span class="pre">m_color</span></code>).</p>
</section>
<section id="id332">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id332" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawcache.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/atlas.h</span></code>: ≈öci≈õle wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">g_atlas</span></code> w celu bindowania i zwalniania bufora ramki atlasu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">g_painter‚ÜídrawCache()</span></code> do finalnego narysowania zgrupowanej geometrii.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code>, aby spr√≥bowaƒá zbuforowaƒá operacjƒô rysowania zamiast wykonywaƒá jƒÖ natychmiast.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="drawcache-h">
<h1>üìÑ drawcache.h<a class="headerlink" href="#drawcache-h" title="Link to this heading">#</a></h1>
</section>
<section id="id333">
<h1>Opis og√≥lny<a class="headerlink" href="#id333" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">drawcache.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>, kt√≥ra s≈Çu≈ºy jako bufor dla operacji rysowania. Jest to mechanizm optymalizacyjny, kt√≥ry agreguje wiele ma≈Çych operacji rysowania (np. prostokƒÖt√≥w) w jedno du≈ºe wywo≈Çanie, co znaczƒÖco poprawia wydajno≈õƒá renderowania.</p>
</section>
<section id="id334">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code><a class="headerlink" href="#id334" title="Link to this heading">#</a></h1>
</section>
<section id="id335">
<h1>Opis semantyczny<a class="headerlink" href="#id335" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">DrawCache</span></code> przechowuje trzy du≈ºe, prealokowane wektory: na wsp√≥≈Çrzƒôdne wierzcho≈Çk√≥w (<code class="docutils literal notranslate"><span class="pre">m_destCoord</span></code>), wsp√≥≈Çrzƒôdne tekstur (<code class="docutils literal notranslate"><span class="pre">m_srcCoord</span></code>) i kolory (<code class="docutils literal notranslate"><span class="pre">m_color</span></code>). Metody <code class="docutils literal notranslate"><span class="pre">add...</span></code> dodajƒÖ dane do tych bufor√≥w. Gdy bufor jest pe≈Çny lub gdy operacja rysowania nie mo≈ºe byƒá zbuforowana, metoda <code class="docutils literal notranslate"><span class="pre">draw()</span></code> jest wywo≈Çywana, aby opr√≥≈ºniƒá bufor i narysowaƒá jego zawarto≈õƒá za pomocƒÖ jednego wywo≈Çania <code class="docutils literal notranslate"><span class="pre">g_painter‚ÜídrawCache()</span></code>.</p>
</section>
<section id="stale">
<h1>Sta≈Çe<a class="headerlink" href="#stale" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_SIZE</span></code>: Maksymalna liczba wierzcho≈Çk√≥w, jakƒÖ mo≈ºe przechowaƒá bufor (65536).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HALF_MAX_SIZE</span></code>: Po≈Çowa maksymalnego rozmiaru, u≈ºywana jako pr√≥g do opr√≥≈ºnienia bufora.</p></li>
</ul>
</section>
<section id="id336">
<h1>Metody publiczne<a class="headerlink" href="#id336" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">draw()</span></code></p></td>
<td class="text-left"><p>Rysuje zawarto≈õƒá bufora na ekranie i go czy≈õci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bind()</span></code></p></td>
<td class="text-left"><p>Bindowanie <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasu (gdy trzeba do niego co≈õ dorysowaƒá).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">release()</span></code></p></td>
<td class="text-left"><p>Odpinanie <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> atlasu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">hasSpace(int</span> <span class="pre">size)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy w buforze jest wystarczajƒÖco miejsca na <code class="docutils literal notranslate"><span class="pre">size</span></code> wierzcho≈Çk√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">inline</span> <span class="pre">int</span> <span class="pre">getSize()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualnƒÖ liczbƒô wierzcho≈Çk√≥w w buforze.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addRect(...)</span></code></p></td>
<td class="text-left"><p>Dodaje prostokƒÖt wype≈Çniony kolorem.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addTexturedRect(...)</span></code></p></td>
<td class="text-left"><p>Dodaje teksturowany prostokƒÖt.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addCoords(...)</span></code></p></td>
<td class="text-left"><p>Dodaje geometriƒô z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> (bez tekstury).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addTexturedCoords(...)</span></code></p></td>
<td class="text-left"><p>Dodaje geometriƒô z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> (z teksturƒÖ).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id337">
<h1>Zmienne prywatne<a class="headerlink" href="#id337" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_destCoord</span></code>: Wektor na wsp√≥≈Çrzƒôdne docelowe (pozycji).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_srcCoord</span></code>: Wektor na wsp√≥≈Çrzƒôdne ≈∫r√≥d≈Çowe (tekstury).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_color</span></code>: Wektor na kolory wierzcho≈Çk√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_bound</span></code>: Flaga wskazujƒÖca, czy atlas jest zbindowany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Aktualna liczba wierzcho≈Çk√≥w w buforze.</p></li>
</ul>
</section>
<section id="id338">
<h1>Zmienne globalne<a class="headerlink" href="#id338" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>.</p></li>
</ul>
</section>
<section id="id339">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id339" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/atlas.h</span></code>: Do zarzƒÖdzania atlasem tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/coordsbuffer.h</span></code>: Do przyjmowania geometrii.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>, <code class="docutils literal notranslate"><span class="pre">painter.h</span></code>: Do operacji renderowania.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>, aby grupowaƒá operacje rysowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="drawqueue-cpp">
<h1>üìÑ drawqueue.cpp<a class="headerlink" href="#drawqueue-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id340">
<h1>Opis og√≥lny<a class="headerlink" href="#id340" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">drawqueue.cpp</span></code> implementuje logikƒô dla <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> oraz poszczeg√≥lnych typ√≥w zada≈Ñ rysowania (<code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code>). Jest to centralny element systemu renderowania, kt√≥ry kolekcjonuje wszystkie operacje rysowania w jednej klatce, a nastƒôpnie wykonuje je w odpowiedniej kolejno≈õci, z uwzglƒôdnieniem warunk√≥w takich jak przycinanie, przezroczysto≈õƒá czy rotacja.</p>
</section>
<section id="id341">
<h1>Zmienne globalne<a class="headerlink" href="#id341" title="Link to this heading">#</a></h1>
</section>
<section id="g-drawqueue">
<h1><code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code><a class="headerlink" href="#g-drawqueue" title="Link to this heading">#</a></h1>
<p>Globalny wska≈∫nik na aktualnie aktywnƒÖ kolejkƒô rysowania. WƒÖtek logiki tworzy nowe instancje <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>, wype≈Çnia je i przypisuje do tego wska≈∫nika, a wƒÖtek renderowania je konsumuje.</p>
</section>
<section id="klasy-drawqueueitem-implementacje">
<h1>Klasy <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> (implementacje)<a class="headerlink" href="#klasy-drawqueueitem-implementacje" title="Link to this heading">#</a></h1>
<p>Ka≈ºda klasa dziedziczƒÖca po <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> implementuje dwie kluczowe metody:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">draw()</span></code></strong>: Wykonuje faktycznƒÖ operacjƒô rysowania za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_painter</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">cache()</span></code></strong>: Pr√≥buje zoptymalizowaƒá operacjƒô, dodajƒÖc jƒÖ do <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code> zamiast rysowaƒá natychmiast. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli keszowanie siƒô powiod≈Ço.</p></li>
</ul>
</section>
<section id="przyklady-implementacji">
<h1>Przyk≈Çady implementacji:<a class="headerlink" href="#przyklady-implementacji" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueItemTextureCoords::cache()</span></code></strong>:</p>
<ol class="arabic simple">
<li><p>Sprawdza, czy tekstura mo≈ºe byƒá skeszowana.</p></li>
<li><p>Pobiera pozycjƒô dla tekstury w atlasie za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_atlas.cache()</span></code>.</p></li>
<li><p>Je≈õli tekstury nie by≈Ço w atlasie (<code class="docutils literal notranslate"><span class="pre">drawNow</span> <span class="pre">==</span> <span class="pre">true</span></code>), rysuje jƒÖ do atlasu.</p></li>
<li><p>Je≈õli w <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code> jest miejsce, dodaje do niego geometriƒô z przesuniƒôtymi wsp√≥≈Çrzƒôdnymi tekstury.</p></li>
</ol>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueItemFilledRect::cache()</span></code></strong>:</p>
<ol class="arabic simple">
<li><p>Sprawdza, czy jest miejsce w <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code>.</p></li>
<li><p>Je≈õli tak, dodaje prostokƒÖt za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_drawCache.addRect()</span></code>.</p></li>
</ol>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueItemText::draw()</span></code></strong>: Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">g_text.drawText()</span></code>, kt√≥ra jest zoptymalizowana do renderowania tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueCondition...::start()</span></code> i <code class="docutils literal notranslate"><span class="pre">end()</span></code></strong>: ImplementujƒÖ zmiany stanu <code class="docutils literal notranslate"><span class="pre">g_painter</span></code> na poczƒÖtku i na ko≈Ñcu bloku warunkowego. Na przyk≈Çad <code class="docutils literal notranslate"><span class="pre">DrawQueueConditionClip</span></code> zmienia i przywraca prostokƒÖt przycinania.</p></li>
</ul>
</section>
<section id="klasa-drawqueue">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code><a class="headerlink" href="#klasa-drawqueue" title="Link to this heading">#</a></h1>
</section>
<section id="void-drawqueue-setframebuffer">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::setFrameBuffer(...)</span></code><a class="headerlink" href="#void-drawqueue-setframebuffer" title="Link to this heading">#</a></h1>
<p>Konfiguruje <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do renderowania do bufora ramki (off-screen). Ustawia docelowy i ≈∫r√≥d≈Çowy prostokƒÖt oraz oblicza skalowanie, je≈õli rozmiar bufora przekracza <code class="docutils literal notranslate"><span class="pre">2048x2048</span></code>.</p>
</section>
<section id="void-drawqueue-addtext-i-void-drawqueue-addcoloredtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::addText(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::addColoredText(...)</span></code><a class="headerlink" href="#void-drawqueue-addtext-i-void-drawqueue-addcoloredtext" title="Link to this heading">#</a></h1>
<p>TworzƒÖ zadanie rysowania tekstu. Najpierw dodajƒÖ tekst do <code class="docutils literal notranslate"><span class="pre">g_text</span></code> (systemu keszujƒÖcego geometriƒô tekstu), uzyskujƒÖc hash, a nastƒôpnie tworzƒÖ odpowiedni <code class="docutils literal notranslate"><span class="pre">DrawQueueItemText</span></code>.</p>
</section>
<section id="void-drawqueue-correctoutfit">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::correctOutfit(...)</span></code><a class="headerlink" href="#void-drawqueue-correctoutfit" title="Link to this heading">#</a></h1>
<p>Specjalna metoda do skalowania i pozycjonowania wielu <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> (czƒô≈õci stroju postaci), tak aby ca≈Ço≈õƒá zmie≈õci≈Ça siƒô w podanym prostokƒÖcie docelowym, zachowujƒÖc proporcje.</p>
</section>
<section id="void-drawqueue-draw-drawtype-drawtype">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::draw(DrawType</span> <span class="pre">drawType)</span></code><a class="headerlink" href="#void-drawqueue-draw-drawtype-drawtype" title="Link to this heading">#</a></h1>
</section>
<section id="id342">
<h1>Opis semantyczny<a class="headerlink" href="#id342" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda wykonujƒÖca wszystkie zebrane zadania rysowania.</p>
</section>
<section id="id343">
<h1>Dzia≈Çanie<a class="headerlink" href="#id343" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Okre≈õla zakres zada≈Ñ do narysowania na podstawie <code class="docutils literal notranslate"><span class="pre">drawType</span></code> (wszystkie, przed mapƒÖ, po mapie).</p></li>
<li><p>Sortuje warunki (<code class="docutils literal notranslate"><span class="pre">m_conditions</span></code>) po ich pozycjach poczƒÖtkowych.</p></li>
<li><p>Je≈õli ustawiono skalowanie, modyfikuje macierz projekcji <code class="docutils literal notranslate"><span class="pre">g_painter</span></code>.</p></li>
<li><p>Iteruje po zadaniach w kolejce (<code class="docutils literal notranslate"><span class="pre">m_queue</span></code>):</p>
<ul class="simple">
<li><p>Przed ka≈ºdym zadaniem, aktywuje i dezaktywuje odpowiednie warunki (<code class="docutils literal notranslate"><span class="pre">start()</span></code>/<code class="docutils literal notranslate"><span class="pre">end()</span></code>).</p></li>
<li><p>Pr√≥buje skeszowaƒá zadanie za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">item‚Üícache()</span></code>.</p></li>
<li><p>Je≈õli keszowanie siƒô nie powiedzie, opr√≥≈ºnia <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code> i pr√≥buje ponownie.</p></li>
<li><p>Je≈õli ponowne keszowanie siƒô nie powiedzie, wykonuje <code class="docutils literal notranslate"><span class="pre">item‚Üídraw()</span></code>.</p></li>
<li><p>Regularnie opr√≥≈ºnia <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code>, gdy osiƒÖgnie po≈Çowƒô pojemno≈õci.</p></li>
</ul>
</li>
<li><p>Po zako≈Ñczeniu pƒôtli, opr√≥≈ºnia <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code> i deaktywuje wszystkie pozosta≈Çe warunki.</p></li>
<li><p>Przywraca oryginalnƒÖ macierz projekcji i stan <code class="docutils literal notranslate"><span class="pre">g_painter</span></code>.</p></li>
</ol>
</section>
<section id="id344">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id344" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>≈öci≈õle wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">g_painter</span></code>, <code class="docutils literal notranslate"><span class="pre">g_atlas</span></code>, <code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code> i <code class="docutils literal notranslate"><span class="pre">g_text</span></code>, orkiestrujƒÖc proces renderowania.</p></li>
<li><p>Jest tworzona i wype≈Çniana przez <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> i inne modu≈Çy logiki gry.</p></li>
<li><p>Jest konsumowana przez <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> w wƒÖtku renderowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="fontmanager-cpp">
<h1>üìÑ fontmanager.cpp<a class="headerlink" href="#fontmanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id345">
<h1>Opis og√≥lny<a class="headerlink" href="#id345" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">fontmanager.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">FontManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_fonts</span></code>) odpowiedzialnym za zarzƒÖdzanie wszystkimi fontami bitmapowymi w aplikacji.</p>
</section>
<section id="id346">
<h1>Zmienne globalne<a class="headerlink" href="#id346" title="Link to this heading">#</a></h1>
</section>
<section id="g-fonts">
<h1><code class="docutils literal notranslate"><span class="pre">g_fonts</span></code><a class="headerlink" href="#g-fonts" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">FontManager</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">FontManager</span><span class="w"> </span><span class="n">g_fonts</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-fontmanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FontManager</span></code><a class="headerlink" href="#klasa-fontmanager" title="Link to this heading">#</a></h1>
</section>
<section id="fontmanager-fontmanager">
<h1><code class="docutils literal notranslate"><span class="pre">FontManager::FontManager()</span></code><a class="headerlink" href="#fontmanager-fontmanager" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domy≈õlny font (<code class="docutils literal notranslate"><span class="pre">m_defaultFont</span></code>) jako pusty obiekt <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>, aby uniknƒÖƒá b≈Çƒôd√≥w, gdy ≈ºaden font nie zosta≈Ç jeszcze za≈Çadowany.</p>
</section>
<section id="void-fontmanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::terminate()</span></code><a class="headerlink" href="#void-fontmanager-terminate" title="Link to this heading">#</a></h1>
<p>Zwalnia wszystkie za≈Çadowane fonty, czyszczƒÖc wektor <code class="docutils literal notranslate"><span class="pre">m_fonts</span></code> i resetujƒÖc wska≈∫nik na domy≈õlny font.</p>
</section>
<section id="void-fontmanager-clearfonts">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::clearFonts()</span></code><a class="headerlink" href="#void-fontmanager-clearfonts" title="Link to this heading">#</a></h1>
<p>Czy≈õci wszystkie za≈Çadowane fonty i przywraca pusty font domy≈õlny. U≈ºywane np. przy prze≈Çadowywaniu zasob√≥w.</p>
</section>
<section id="void-fontmanager-importfont-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::importFont(std::string</span> <span class="pre">file)</span></code><a class="headerlink" href="#void-fontmanager-importfont-std-string-file" title="Link to this heading">#</a></h1>
</section>
<section id="id347">
<h1>Opis semantyczny<a class="headerlink" href="#id347" title="Link to this heading">#</a></h1>
<p>≈Åaduje definicjƒô fontu z pliku <code class="docutils literal notranslate"><span class="pre">.otfont</span></code>. Metoda jest bezpieczna wƒÖtkowo ‚Äì je≈õli jest wywo≈Çana z innego wƒÖtku ni≈º graficzny, deleguje zadanie do <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>.</p>
</section>
<section id="id348">
<h1>Dzia≈Çanie<a class="headerlink" href="#id348" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>RozwiƒÖzuje ≈õcie≈ºkƒô do pliku.</p></li>
<li><p>Parsuje plik OTML.</p></li>
<li><p>Odczytuje nazwƒô fontu z wƒôz≈Ça <code class="docutils literal notranslate"><span class="pre">Font</span></code>.</p></li>
<li><p>Sprawdza, czy font o tej nazwie ju≈º nie istnieje.</p></li>
<li><p>Tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code> i wywo≈Çuje jego metodƒô <code class="docutils literal notranslate"><span class="pre">load()</span></code>.</p></li>
<li><p>Dodaje nowo za≈Çadowany font do wektora <code class="docutils literal notranslate"><span class="pre">m_fonts</span></code>.</p></li>
<li><p>Je≈õli font jest oznaczony jako domy≈õlny (<code class="docutils literal notranslate"><span class="pre">default=&quot;true&quot;</span></code>), ustawia go jako <code class="docutils literal notranslate"><span class="pre">m_defaultFont</span></code>.</p></li>
</ol>
</section>
<section id="bool-fontmanager-fontexists-const-std-string-fontname">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">FontManager::fontExists(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fontName)</span></code><a class="headerlink" href="#bool-fontmanager-fontexists-const-std-string-fontname" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy font o podanej nazwie zosta≈Ç ju≈º za≈Çadowany.</p>
</section>
<section id="bitmapfontptr-fontmanager-getfont-const-std-string-fontname">
<h1><code class="docutils literal notranslate"><span class="pre">BitmapFontPtr</span> <span class="pre">FontManager::getFont(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fontName)</span></code><a class="headerlink" href="#bitmapfontptr-fontmanager-getfont-const-std-string-fontname" title="Link to this heading">#</a></h1>
<p>Wyszukuje i zwraca wska≈∫nik do fontu o podanej nazwie. Je≈õli font nie zostanie znaleziony, loguje b≈ÇƒÖd i zwraca font domy≈õlny, aby zapobiec awarii.</p>
</section>
<section id="id349">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id349" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/fontmanager.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/atlas.h</span></code>: Po≈õrednio, przez <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>, kt√≥ry u≈ºywa atlasu do cachowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code> do zapewnienia bezpiecze≈Ñstwa wƒÖtkowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do znajdowania i odczytywania plik√≥w <code class="docutils literal notranslate"><span class="pre">.otfont</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code>: Do parsowania plik√≥w definicji font√≥w.</p></li>
<li><p>Jest u≈ºywany przez <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> i <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> do uzyskiwania dostƒôpu do font√≥w potrzebnych do renderowania tekstu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="drawqueue-h">
<h1>üìÑ drawqueue.h<a class="headerlink" href="#drawqueue-h" title="Link to this heading">#</a></h1>
</section>
<section id="id350">
<h1>Opis og√≥lny<a class="headerlink" href="#id350" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">drawqueue.h</span></code> deklaruje hierarchiƒô klas <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> oraz klasƒô <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>, kt√≥re razem tworzƒÖ system kolejkowania operacji rysowania. Jest to centralny mechanizm, kt√≥ry pozwala na zbieranie wszystkich polece≈Ñ rysowania w jednej klatce, a nastƒôpnie ich zoptymalizowane wykonanie.</p>
</section>
<section id="typ-wyliczeniowy-drawtype">
<h1>Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">DrawType</span></code><a class="headerlink" href="#typ-wyliczeniowy-drawtype" title="Link to this heading">#</a></h1>
<p>Okre≈õla, kt√≥ra czƒô≈õƒá kolejki ma zostaƒá narysowana. U≈ºywane do renderowania warstwowego (np. interfejs za mapƒÖ i przed mapƒÖ).</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Warto≈õƒá</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">DRAW_ALL</span></code></p></td>
<td class="text-left"><p>Rysuje ca≈ÇƒÖ kolejkƒô.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">DRAW_BEFORE_MAP</span></code></p></td>
<td class="text-left"><p>Rysuje zadania dodane przed <code class="docutils literal notranslate"><span class="pre">markMapPosition()</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">DRAW_AFTER_MAP</span></code></p></td>
<td class="text-left"><p>Rysuje zadania dodane po <code class="docutils literal notranslate"><span class="pre">markMapPosition()</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="hierarchia-klas-drawqueueitem">
<h1>Hierarchia klas <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code><a class="headerlink" href="#hierarchia-klas-drawqueueitem" title="Link to this heading">#</a></h1>
</section>
<section id="struct-drawqueueitem-baza">
<h1><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">DrawQueueItem</span></code> (baza)<a class="headerlink" href="#struct-drawqueueitem-baza" title="Link to this heading">#</a></h1>
<p>Abstrakcyjna klasa bazowa dla wszystkich zada≈Ñ w kolejce.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">draw()</span></code></strong>: Metoda wirtualna do wykonania operacji rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">cache()</span></code></strong>: Metoda wirtualna do pr√≥by zbuforowania operacji w <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>.</p></li>
</ul>
</section>
<section id="klasy-pochodne">
<h1>Klasy pochodne<a class="headerlink" href="#klasy-pochodne" title="Link to this heading">#</a></h1>
<p>Ka≈ºda klasa reprezentuje konkretnƒÖ operacjƒô rysowania:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemTexturedRect</span></code>: Rysowanie prostokƒÖta z teksturƒÖ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemTextureCoords</span></code>: Rysowanie geometrii z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z teksturƒÖ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemColoredTextureCoords</span></code>: Rysowanie geometrii z teksturƒÖ i wieloma kolorami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemImageWithShader</span></code>: Rysowanie geometrii z teksturƒÖ i niestandardowym shaderem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemFilledRect</span></code>: Rysowanie wype≈Çnionego prostokƒÖta.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemClearRect</span></code>: Czyszczenie prostokƒÖtnego obszaru.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemFillCoords</span></code>: Wype≈Çnianie geometrii z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> kolorem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemText</span></code>, <code class="docutils literal notranslate"><span class="pre">DrawQueueItemTextColored</span></code>: Rysowanie tekstu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueItemLine</span></code>: Rysowanie linii.</p></li>
</ul>
</section>
<section id="hierarchia-klas-drawqueuecondition">
<h1>Hierarchia klas <code class="docutils literal notranslate"><span class="pre">DrawQueueCondition</span></code><a class="headerlink" href="#hierarchia-klas-drawqueuecondition" title="Link to this heading">#</a></h1>
</section>
<section id="struct-drawqueuecondition-baza">
<h1><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">DrawQueueCondition</span></code> (baza)<a class="headerlink" href="#struct-drawqueuecondition-baza" title="Link to this heading">#</a></h1>
<p>Abstrakcyjna klasa bazowa dla warunk√≥w modyfikujƒÖcych stan renderowania dla grupy zada≈Ñ.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">m_start</span></code>, <code class="docutils literal notranslate"><span class="pre">m_end</span></code></strong>: Indeksy w <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> okre≈õlajƒÖce zakres dzia≈Çania warunku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">start(DrawQueue*)</span></code></strong>: Metoda wywo≈Çywana przed pierwszym zadaniem objƒôtym warunkiem.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">end(DrawQueue*)</span></code></strong>: Metoda wywo≈Çywana po ostatnim zadaniu objƒôtym warunkiem.</p></li>
</ul>
</section>
<section id="id351">
<h1>Klasy pochodne<a class="headerlink" href="#id351" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueConditionClip</span></code>: Ustawia prostokƒÖt przycinania (clipping).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueConditionRotation</span></code>: Stosuje transformacjƒô rotacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawQueueConditionMark</span></code>: Specjalny warunek do rysowania zaznaczenia (np. na przedmiotach).</p></li>
</ul>
</section>
<section id="id352">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code><a class="headerlink" href="#id352" title="Link to this heading">#</a></h1>
</section>
<section id="id353">
<h1>Opis semantyczny<a class="headerlink" href="#id353" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna klasa zarzƒÖdzajƒÖca kolejkƒÖ. Przechowuje listƒô zada≈Ñ (<code class="docutils literal notranslate"><span class="pre">m_queue</span></code>) i warunk√≥w (<code class="docutils literal notranslate"><span class="pre">m_conditions</span></code>). Dostarcza metody do dodawania r√≥≈ºnych operacji rysowania i do finalnego wykonania ca≈Çej kolejki.</p>
</section>
<section id="id354">
<h1>Metody publiczne<a class="headerlink" href="#id354" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">draw(DrawType)</span></code></p></td>
<td class="text-left"><p>Wykonuje wszystkie (lub czƒô≈õƒá) operacje rysowania z kolejki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">add...(...)</span></code></p></td>
<td class="text-left"><p>Metody do dodawania r√≥≈ºnych typ√≥w <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> do kolejki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setFrameBuffer(...)</span></code></p></td>
<td class="text-left"><p>Konfiguruje renderowanie do bufora ramki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setOpacity(start,</span> <span class="pre">opacity)</span></code></p></td>
<td class="text-left"><p>Stosuje przezroczysto≈õƒá do zada≈Ñ od indeksu <code class="docutils literal notranslate"><span class="pre">start</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setClip(start,</span> <span class="pre">clip)</span></code></p></td>
<td class="text-left"><p>Dodaje warunek <code class="docutils literal notranslate"><span class="pre">DrawQueueConditionClip</span></code> dla zada≈Ñ od <code class="docutils literal notranslate"><span class="pre">start</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="framebuffer-cpp">
<h1>üìÑ framebuffer.cpp<a class="headerlink" href="#framebuffer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id355">
<h1>Opis og√≥lny<a class="headerlink" href="#id355" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">framebuffer.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>, kt√≥ra jest opakowaniem (wrapperem) na obiekt bufora ramki (FBO) w OpenGL. Umo≈ºliwia renderowanie sceny do tekstury zamiast bezpo≈õrednio na ekran (tzw. off-screen rendering), co jest kluczowe dla efekt√≥w post-processingu, skalowania interfejsu i implementacji atlasu tekstur.</p>
</section>
<section id="id356">
<h1>Zmienne globalne<a class="headerlink" href="#id356" title="Link to this heading">#</a></h1>
</section>
<section id="uint-framebuffer-boundfbo">
<h1><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">FrameBuffer::boundFbo</span></code><a class="headerlink" href="#uint-framebuffer-boundfbo" title="Link to this heading">#</a></h1>
<p>Statyczna zmienna cz≈Çonkowska, kt√≥ra ≈õledzi ID aktualnie zwiƒÖzanego (aktywnego) FBO. S≈Çu≈ºy do optymalizacji poprzez unikanie zbƒôdnych wywo≈Ça≈Ñsk <code class="docutils literal notranslate"><span class="pre">glBindFramebuffer</span></code>, je≈õli ten sam FBO jest ju≈º aktywny.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">uint</span><span class="w"> </span><span class="n">FrameBuffer</span><span class="o">::</span><span class="n">boundFbo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-framebuffer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code><a class="headerlink" href="#klasa-framebuffer" title="Link to this heading">#</a></h1>
</section>
<section id="framebuffer-framebuffer-bool-withdepth">
<h1><code class="docutils literal notranslate"><span class="pre">FrameBuffer::FrameBuffer(bool</span> <span class="pre">withDepth)</span></code><a class="headerlink" href="#framebuffer-framebuffer-bool-withdepth" title="Link to this heading">#</a></h1>
<p>Konstruktor. Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">internalCreate()</span></code> w celu utworzenia zasob√≥w OpenGL.</p>
<ul class="simple">
<li><p><strong>Parametr <code class="docutils literal notranslate"><span class="pre">withDepth</span></code></strong>: Je≈õli <code class="docutils literal notranslate"><span class="pre">true</span></code> i zdefiniowano <code class="docutils literal notranslate"><span class="pre">WITH_DEPTH_BUFFER</span></code>, tworzony jest r√≥wnie≈º bufor g≈Çƒôbi, co pozwala na testowanie g≈Çƒôbi podczas renderowania do tego bufora.</p></li>
</ul>
</section>
<section id="framebuffer-framebuffer">
<h1><code class="docutils literal notranslate"><span class="pre">FrameBuffer::~FrameBuffer()</span></code><a class="headerlink" href="#framebuffer-framebuffer" title="Link to this heading">#</a></h1>
<p>Destruktor. Zwalnia zasoby OpenGL (<code class="docutils literal notranslate"><span class="pre">glDeleteFramebuffers</span></code>, <code class="docutils literal notranslate"><span class="pre">glDeleteRenderbuffers</span></code>) w spos√≥b bezpieczny wƒÖtkowo, dodajƒÖc zadanie do kolejki dyspozytora graficznego (<code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>).</p>
</section>
<section id="void-framebuffer-resize-const-size-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-framebuffer-resize-const-size-size" title="Link to this heading">#</a></h1>
</section>
<section id="id357">
<h1>Opis semantyczny<a class="headerlink" href="#id357" title="Link to this heading">#</a></h1>
<p>Zmienia rozmiar bufora ramki. Tworzy nowƒÖ teksturƒô o podanych wymiarach, kt√≥ra bƒôdzie s≈Çu≈ºyƒá jako ‚Äûp≈Ç√≥tno‚Äù do rysowania.</p>
</section>
<section id="id358">
<h1>Dzia≈Çanie<a class="headerlink" href="#id358" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy zmiana rozmiaru jest konieczna.</p></li>
<li><p>Tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">Texture</span></code> o podanym rozmiarze.</p></li>
<li><p>Je≈õli bufor g≈Çƒôbi jest w≈ÇƒÖczony, alokuje dla niego pamiƒôƒá (<code class="docutils literal notranslate"><span class="pre">glRenderbufferStorage</span></code>).</p></li>
<li><p>WiƒÖ≈ºe FBO, a nastƒôpnie do≈ÇƒÖcza do niego nowƒÖ teksturƒô jako bufor koloru (<code class="docutils literal notranslate"><span class="pre">glFramebufferTexture2D</span></code>) oraz opcjonalnie bufor g≈Çƒôbi (<code class="docutils literal notranslate"><span class="pre">glFramebufferRenderbuffer</span></code>).</p></li>
<li><p>Sprawdza status FBO (<code class="docutils literal notranslate"><span class="pre">glCheckFramebufferStatus</span></code>), aby upewniƒá siƒô, ≈ºe jest on kompletny i gotowy do u≈ºycia.</p></li>
</ol>
</section>
<section id="void-framebuffer-bind-const-framebufferptr-depthframebuffer">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::bind(const</span> <span class="pre">FrameBufferPtr&amp;</span> <span class="pre">depthFramebuffer)</span></code><a class="headerlink" href="#void-framebuffer-bind-const-framebufferptr-depthframebuffer" title="Link to this heading">#</a></h1>
<p>Aktywuje bufor ramki jako cel renderowania. Wszystkie kolejne operacje rysowania bƒôdƒÖ kierowane do tekstury tego bufora.</p>
<ul class="simple">
<li><p>Zapisuje i resetuje stan <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">internalBind()</span></code>.</p></li>
<li><p>Ustawia rozdzielczo≈õƒá <code class="docutils literal notranslate"><span class="pre">Painter</span></code> na rozmiar bufora.</p></li>
</ul>
</section>
<section id="void-framebuffer-release">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::release()</span></code><a class="headerlink" href="#void-framebuffer-release" title="Link to this heading">#</a></h1>
<p>Deaktywuje bufor ramki i przywraca poprzedni cel renderowania (zazwyczaj bufor ekranu).</p>
<ul class="simple">
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">internalRelease()</span></code>.</p></li>
<li><p>Przywraca poprzedni stan <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
</ul>
</section>
<section id="void-framebuffer-draw">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::draw(...)</span></code><a class="headerlink" href="#void-framebuffer-draw" title="Link to this heading">#</a></h1>
<p>Metody te s≈Çu≈ºƒÖ do rysowania <em>zawarto≈õci</em> (tekstury) bufora ramki na aktualnie aktywnym celu renderowania.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">draw()</span></code>: Rysuje ca≈ÇƒÖ teksturƒô.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">src)</span></code>: Rysuje fragment (<code class="docutils literal notranslate"><span class="pre">src</span></code>) tekstury w docelowym prostokƒÖcie (<code class="docutils literal notranslate"><span class="pre">dest</span></code>).</p></li>
</ul>
</section>
<section id="void-framebuffer-doscreenshot-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::doScreenshot(std::string</span> <span class="pre">fileName)</span></code><a class="headerlink" href="#void-framebuffer-doscreenshot-std-string-filename" title="Link to this heading">#</a></h1>
<p>Odczytuje zawarto≈õƒá pikseli z bufora ramki za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glReadPixels</span></code>, a nastƒôpnie w osobnym wƒÖtku (<code class="docutils literal notranslate"><span class="pre">g_asyncDispatcher</span></code>) zapisuje je do pliku PNG, odwracajƒÖc obraz w osi Y (konwersja z uk≈Çadu wsp√≥≈Çrzƒôdnych OpenGL).</p>
</section>
<section id="metody-internal">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">internal...</span></code><a class="headerlink" href="#metody-internal" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internalCreate()</span></code>: Generuje obiekty FBO i RBO.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalBind()</span></code> / <code class="docutils literal notranslate"><span class="pre">internalRelease()</span></code>: Bezpo≈õrednio wywo≈ÇujƒÖ <code class="docutils literal notranslate"><span class="pre">glBindFramebuffer</span></code> i zarzƒÖdzajƒÖ statycznƒÖ zmiennƒÖ <code class="docutils literal notranslate"><span class="pre">boundFbo</span></code>.</p></li>
</ul>
</section>
<section id="id359">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id359" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffer.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do sprawdzania b≈Çƒôd√≥w OpenGL i dostƒôpu do <code class="docutils literal notranslate"><span class="pre">g_graphics</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> u≈ºywa obiektu <code class="docutils literal notranslate"><span class="pre">Texture</span></code> jako swojego bufora koloru.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platformwindow.h</span></code>: Dostƒôp do <code class="docutils literal notranslate"><span class="pre">g_window</span></code> (potencjalnie).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/asyncdispatcher.h</span></code>: U≈ºywany do asynchronicznego zapisu zrzut√≥w ekranu.</p></li>
<li><p>Jest zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="framebuffer-h">
<h1>üìÑ framebuffer.h<a class="headerlink" href="#framebuffer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id360">
<h1>Opis og√≥lny<a class="headerlink" href="#id360" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">framebuffer.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>, kt√≥ra jest obiektowym interfejsem do zarzƒÖdzania buforami ramki (FBO) w OpenGL. Pozwala na renderowanie sceny do tekstury zamiast bezpo≈õrednio na ekran.</p>
</section>
<section id="id361">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code><a class="headerlink" href="#id361" title="Link to this heading">#</a></h1>
</section>
<section id="id362">
<h1>Opis semantyczny<a class="headerlink" href="#id362" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code> enkapsuluje obiekt FBO z OpenGL oraz powiƒÖzanƒÖ z nim teksturƒô (jako bufor koloru) i opcjonalnie bufor g≈Çƒôbi. Udostƒôpnia metody do bindowania (aktywacji), zwalniania, zmiany rozmiaru i rysowania zawarto≈õci bufora.</p>
</section>
<section id="id363">
<h1>Metody publiczne<a class="headerlink" href="#id363" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">FrameBuffer(bool</span> <span class="pre">withDepth</span> <span class="pre">=</span> <span class="pre">false)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~FrameBuffer()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></p></td>
<td class="text-left"><p>Zmienia rozmiar bufora i powiƒÖzanej tekstury.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bind(...)</span></code></p></td>
<td class="text-left"><p>Ustawia ten bufor jako aktywny cel renderowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">release()</span></code></p></td>
<td class="text-left"><p>Przywraca poprzedni cel renderowania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">draw()</span></code> / <code class="docutils literal notranslate"><span class="pre">draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code> / <code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td class="text-left"><p>Rysuje teksturƒô tego bufora na aktualnie aktywnym celu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setSmooth(bool</span> <span class="pre">enabled)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza/wy≈ÇƒÖcza wyg≈Çadzanie (filtrowanie liniowe) dla tekstury bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">getTexture()</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik do tekstury, do kt√≥rej renderuje bufor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">getSize()</span></code></p></td>
<td class="text-left"><p>Zwraca rozmiar bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isSmooth()</span></code></p></td>
<td class="text-left"><p>Zwraca stan wyg≈Çadzania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getDepthRenderBuffer()</span></code></p></td>
<td class="text-left"><p>(Tylko z <code class="docutils literal notranslate"><span class="pre">WITH_DEPTH_BUFFER</span></code>) Zwraca ID bufora g≈Çƒôbi.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">hasDepth()</span></code></p></td>
<td class="text-left"><p>(Tylko z <code class="docutils literal notranslate"><span class="pre">WITH_DEPTH_BUFFER</span></code>) Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli bufor posiada bufor g≈Çƒôbi.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint32_t&gt;</span> <span class="pre">readPixels()</span></code></p></td>
<td class="text-left"><p>Odczytuje zawarto≈õƒá bufora do pamiƒôci systemowej.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">doScreenshot(std::string</span> <span class="pre">fileName)</span></code></p></td>
<td class="text-left"><p>Zapisuje zawarto≈õƒá bufora do pliku PNG.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id364">
<h1>Zmienne prywatne<a class="headerlink" href="#id364" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_texture</span></code>: Wska≈∫nik na obiekt <code class="docutils literal notranslate"><span class="pre">Texture</span></code> u≈ºywany jako bufor koloru.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_fbo</span></code>: ID obiektu FBO w OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_prevBoundFbo</span></code>: Przechowuje ID poprzednio aktywnego FBO, aby mo≈ºna by≈Ço go przywr√≥ciƒá.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_smooth</span></code>: Flaga wyg≈Çadzania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_depthRbo</span></code>, <code class="docutils literal notranslate"><span class="pre">m_depth</span></code>: (Tylko z <code class="docutils literal notranslate"><span class="pre">WITH_DEPTH_BUFFER</span></code>) ID bufora g≈Çƒôbi i flaga jego istnienia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boundFbo</span></code>: Statyczna zmienna ≈õledzƒÖca globalnie aktywny FBO.</p></li>
</ul>
</section>
<section id="id365">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id365" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Definicje typ√≥w, np. <code class="docutils literal notranslate"><span class="pre">TexturePtr</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: Wymaga pe≈Çnej definicji <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>. U≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">Atlas</span></code> i w g≈Ç√≥wnej pƒôtli renderowania w <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="framebuffermanager-cpp">
<h1>üìÑ framebuffermanager.cpp<a class="headerlink" href="#framebuffermanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id366">
<h1>Opis og√≥lny<a class="headerlink" href="#id366" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">framebuffermanager.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code>) odpowiedzialnym za tworzenie i zarzƒÖdzanie obiektami <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p>
</section>
<section id="id367">
<h1>Zmienne globalne<a class="headerlink" href="#id367" title="Link to this heading">#</a></h1>
</section>
<section id="g-framebuffers">
<h1><code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code><a class="headerlink" href="#g-framebuffers" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">FrameBufferManager</span><span class="w"> </span><span class="n">g_framebuffers</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-framebuffermanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code><a class="headerlink" href="#klasa-framebuffermanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-framebuffermanager-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBufferManager::init()</span></code><a class="headerlink" href="#void-framebuffermanager-init" title="Link to this heading">#</a></h1>
</section>
<section id="id368">
<h1>Opis semantyczny<a class="headerlink" href="#id368" title="Link to this heading">#</a></h1>
<p>Inicjalizuje mened≈ºera. Tworzy dwa predefiniowane, ‚Äûtymczasowe‚Äù bufory ramki, kt√≥re mogƒÖ byƒá u≈ºywane przez r√≥≈ºne czƒô≈õci systemu do kr√≥tkotrwa≈Çych operacji renderowania poza ekranem, bez potrzeby tworzenia i niszczenia w≈Çasnych bufor√≥w.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_temporaryFramebuffer</span></code>: Og√≥lnego przeznaczenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawQueueTemporaryFramebuffer</span></code>: Prawdopodobnie u≈ºywany przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do specyficznych operacji.</p></li>
</ul>
</section>
<section id="void-framebuffermanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBufferManager::terminate()</span></code><a class="headerlink" href="#void-framebuffermanager-terminate" title="Link to this heading">#</a></h1>
<p>Zwalnia wszystkie utworzone bufory ramki, w tym tymczasowe, czyszczƒÖc listƒô <code class="docutils literal notranslate"><span class="pre">m_framebuffers</span></code>.</p>
</section>
<section id="framebufferptr-framebuffermanager-createframebuffer-bool-withdepth">
<h1><code class="docutils literal notranslate"><span class="pre">FrameBufferPtr</span> <span class="pre">FrameBufferManager::createFrameBuffer(bool</span> <span class="pre">withDepth)</span></code><a class="headerlink" href="#framebufferptr-framebuffermanager-createframebuffer-bool-withdepth" title="Link to this heading">#</a></h1>
</section>
<section id="id369">
<h1>Opis semantyczny<a class="headerlink" href="#id369" title="Link to this heading">#</a></h1>
<p>Metoda fabryczna do tworzenia nowych obiekt√≥w <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p>
</section>
<section id="id370">
<h1>Dzia≈Çanie<a class="headerlink" href="#id370" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzy nowƒÖ instancjƒô <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>, przekazujƒÖc flagƒô <code class="docutils literal notranslate"><span class="pre">withDepth</span></code>.</p></li>
<li><p>Dodaje nowo utworzony bufor do wewnƒôtrznej listy <code class="docutils literal notranslate"><span class="pre">m_framebuffers</span></code> w celu ≈õledzenia.</p></li>
<li><p>Zwraca wska≈∫nik na nowo utworzony obiekt.</p></li>
</ol>
</section>
<section id="id371">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id371" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffermanager.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p>Klasa ta jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Atlas</span></code> do tworzenia swoich ‚Äûp≈Ç√≥cien‚Äù oraz przez <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> do tworzenia bufor√≥w dla g≈Ç√≥wnej sceny i mapy.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="graph-cpp">
<h1>üìÑ graph.cpp<a class="headerlink" href="#graph-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id372">
<h1>Opis og√≥lny<a class="headerlink" href="#id372" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graph.cpp</span></code> implementuje klasƒô <code class="docutils literal notranslate"><span class="pre">Graph</span></code>, kt√≥ra s≈Çu≈ºy do wizualizacji danych w czasie rzeczywistym w formie prostego wykresu liniowego. Jest to narzƒôdzie g≈Ç√≥wnie do cel√≥w debugowania i profilowania wydajno≈õci.</p>
</section>
<section id="id373">
<h1>Zmienne globalne<a class="headerlink" href="#id373" title="Link to this heading">#</a></h1>
</section>
<section id="g-graphs-graph-last-1">
<h1><code class="docutils literal notranslate"><span class="pre">g_graphs[GRAPH_LAST</span> <span class="pre">+</span> <span class="pre">1]</span></code><a class="headerlink" href="#g-graphs-graph-last-1" title="Link to this heading">#</a></h1>
<p>Globalna tablica instancji <code class="docutils literal notranslate"><span class="pre">Graph</span></code>, gdzie ka≈ºda instancja odpowiada za ≈õledzenie i rysowanie innego parametru (np. czasu klatki, liczby wywo≈Ça≈Ñ rysujƒÖcych, op√≥≈∫nienia sieciowego).</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Graph</span><span class="w"> </span><span class="n">g_graphs</span><span class="p">[</span><span class="n">GRAPH_LAST</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">{</span><span class="s">&quot;Total frame time&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="c1">// ... inne definicje</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="klasa-graph">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Graph</span></code><a class="headerlink" href="#klasa-graph" title="Link to this heading">#</a></h1>
</section>
<section id="graph-graph-const-std-string-name-size-t-capacity">
<h1><code class="docutils literal notranslate"><span class="pre">Graph::Graph(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">size_t</span> <span class="pre">capacity)</span></code><a class="headerlink" href="#graph-graph-const-std-string-name-size-t-capacity" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje wykres z podanƒÖ nazwƒÖ i maksymalnƒÖ liczbƒÖ pr√≥bek do przechowywania.</p>
</section>
<section id="void-graph-draw-const-rect-dest">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code><a class="headerlink" href="#void-graph-draw-const-rect-dest" title="Link to this heading">#</a></h1>
</section>
<section id="id374">
<h1>Opis semantyczny<a class="headerlink" href="#id374" title="Link to this heading">#</a></h1>
<p>Rysuje wykres w podanym prostokƒÖcie ekranu. Metoda musi byƒá wywo≈Çywana z wƒÖtku graficznego.</p>
</section>
<section id="id375">
<h1>Dzia≈Çanie<a class="headerlink" href="#id375" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Rysuje t≈Ço i ramkƒô wykresu.</p></li>
<li><p>Rysuje nazwƒô wykresu.</p></li>
<li><p>Pobiera <code class="docutils literal notranslate"><span class="pre">elements</span></code> ostatnich pr√≥bek z <code class="docutils literal notranslate"><span class="pre">m_values</span></code> (tyle, ile zmie≈õci siƒô w <code class="docutils literal notranslate"><span class="pre">dest</span></code>).</p></li>
<li><p>Znajduje minimalnƒÖ i maksymalnƒÖ warto≈õƒá w pobranym zakresie.</p></li>
<li><p>Normalizuje warto≈õci i tworzy geometriƒô linii wykresu.</p></li>
<li><p>Rysuje etykiety z warto≈õciƒÖ minimalnƒÖ, maksymalnƒÖ i ostatniƒÖ.</p></li>
<li><p>Rysuje liniƒô wykresu za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_painter‚ÜídrawLine()</span></code>.</p></li>
</ol>
</section>
<section id="void-graph-clear">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::clear()</span></code><a class="headerlink" href="#void-graph-clear" title="Link to this heading">#</a></h1>
<p>Czy≈õci wszystkie zebrane dane z wykresu.</p>
</section>
<section id="void-graph-addvalue-int-value-bool-ignoresmallvalues">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::addValue(int</span> <span class="pre">value,</span> <span class="pre">bool</span> <span class="pre">ignoreSmallValues)</span></code><a class="headerlink" href="#void-graph-addvalue-int-value-bool-ignoresmallvalues" title="Link to this heading">#</a></h1>
</section>
<section id="id376">
<h1>Opis semantyczny<a class="headerlink" href="#id376" title="Link to this heading">#</a></h1>
<p>Dodaje nowƒÖ pr√≥bkƒô danych do wykresu. Metoda jest bezpieczna wƒÖtkowo dziƒôki u≈ºyciu <code class="docutils literal notranslate"><span class="pre">std::mutex</span></code>.</p>
</section>
<section id="id377">
<h1>Dzia≈Çanie<a class="headerlink" href="#id377" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Opcjonalnie ignoruje ma≈Çe, powtarzajƒÖce siƒô warto≈õci, aby wykres by≈Ç bardziej czytelny.</p></li>
<li><p>Dodaje nowƒÖ warto≈õƒá na koniec kolejki <code class="docutils literal notranslate"><span class="pre">m_values</span></code>.</p></li>
<li><p>Je≈õli kolejka przekracza pojemno≈õƒá, usuwa najstarszƒÖ warto≈õƒá.</p></li>
</ol>
</section>
<section id="id378">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id378" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graph.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_painter</span></code> do rysowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/textrender.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_text</span></code> do rysowania etykiet.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: U≈ºywany do walidacji wƒÖtku.</p></li>
<li><p>Jest u≈ºywana w r√≥≈ºnych czƒô≈õciach aplikacji (<code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>) do zbierania danych o wydajno≈õci, kt√≥re sƒÖ nastƒôpnie rysowane w g≈Ç√≥wnej pƒôtli renderowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="graph-h">
<h1>üìÑ graph.h<a class="headerlink" href="#graph-h" title="Link to this heading">#</a></h1>
</section>
<section id="id379">
<h1>Opis og√≥lny<a class="headerlink" href="#id379" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graph.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Graph</span></code> oraz powiƒÖzane z niƒÖ typy wyliczeniowe. Jest to narzƒôdzie do wizualizacji danych w czasie rzeczywistym, przeznaczone do debugowania i profilowania.</p>
</section>
<section id="typ-wyliczeniowy-graphtype">
<h1>Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">GraphType</span></code><a class="headerlink" href="#typ-wyliczeniowy-graphtype" title="Link to this heading">#</a></h1>
<p>Definiuje sta≈Çe dla r√≥≈ºnych typ√≥w wykres√≥w, kt√≥re mogƒÖ byƒá ≈õledzone w aplikacji.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Nazwa</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_TOTAL_FRAME_TIME</span></code></p></td>
<td class="text-left"><p>Ca≈Çkowity czas klatki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_CPU_FRAME_TIME</span></code></p></td>
<td class="text-left"><p>Czas renderowania po stronie CPU.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_GPU_CALLS</span></code></p></td>
<td class="text-left"><p>Liczba wywo≈Ça≈Ñ do API graficznego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_GPU_DRAWS</span></code></p></td>
<td class="text-left"><p>Liczba operacji rysowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_PROCESSING_POLL</span></code></p></td>
<td class="text-left"><p>Czas przetwarzania zdarze≈Ñ w wƒÖtku logiki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_GRAPHICS_POLL</span></code></p></td>
<td class="text-left"><p>Czas przetwarzania zdarze≈Ñ w wƒÖtku graficznym.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_DISPATCHER_EVENTS</span></code></p></td>
<td class="text-left"><p>Liczba zdarze≈Ñ w g≈Ç√≥wnym dyspozytorze.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_GRAPHICS_EVENTS</span></code></p></td>
<td class="text-left"><p>Liczba zdarze≈Ñ w dyspozytorze graficznym.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">GRAPH_LATENCY</span></code></p></td>
<td class="text-left"><p>Op√≥≈∫nienie sieciowe (ping).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id380">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Graph</span></code><a class="headerlink" href="#id380" title="Link to this heading">#</a></h1>
</section>
<section id="id381">
<h1>Opis semantyczny<a class="headerlink" href="#id381" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">Graph</span></code> przechowuje kolejkƒô (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) ostatnich warto≈õci liczbowych i udostƒôpnia metodƒô do narysowania ich w postaci prostego wykresu liniowego. Jest bezpieczna wƒÖtkowo przy dodawaniu warto≈õci.</p>
</section>
<section id="id382">
<h1>Sta≈Çe<a class="headerlink" href="#id382" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_CAPACITY</span></code>: Maksymalna liczba pr√≥bek, jakƒÖ mo≈ºe przechowaƒá wykres.</p></li>
</ul>
</section>
<section id="id383">
<h1>Metody publiczne<a class="headerlink" href="#id383" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Graph(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code></p></td>
<td class="text-left"><p>Rysuje wykres w podanym prostokƒÖcie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Czy≈õci dane wykresu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addValue(int</span> <span class="pre">value,</span> <span class="pre">bool</span> <span class="pre">ignoreSmallValues</span> <span class="pre">=</span> <span class="pre">false)</span></code></p></td>
<td class="text-left"><p>Dodaje nowƒÖ warto≈õƒá do wykresu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id384">
<h1>Zmienne prywatne<a class="headerlink" href="#id384" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>: Nazwa wykresu, wy≈õwietlana jako tytu≈Ç.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_capacity</span></code>: Maksymalna liczba przechowywanych pr√≥bek.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_ignores</span></code>: Licznik ignorowanych ma≈Çych warto≈õci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_values</span></code>: Kolejka przechowujƒÖca dane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>: Mutex chroniƒÖcy dostƒôp do <code class="docutils literal notranslate"><span class="pre">m_values</span></code>.</p></li>
</ul>
</section>
<section id="id385">
<h1>Zmienne globalne<a class="headerlink" href="#id385" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_graphs[GRAPH_LAST</span> <span class="pre">+</span> <span class="pre">1]</span></code>: Globalna tablica, w kt√≥rej przechowywane sƒÖ instancje <code class="docutils literal notranslate"><span class="pre">Graph</span></code> dla ka≈ºdego typu z <code class="docutils literal notranslate"><span class="pre">GraphType</span></code>.</p></li>
</ul>
</section>
<section id="id386">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id386" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> do rysowania informacji debugowania. Dane sƒÖ do niej dodawane z r√≥≈ºnych czƒô≈õci systemu, np. z pƒôtli g≈Ç√≥wnej, <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>, <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="glutil-h">
<h1>üìÑ glutil.h<a class="headerlink" href="#glutil-h" title="Link to this heading">#</a></h1>
</section>
<section id="id387">
<h1>Opis og√≥lny<a class="headerlink" href="#id387" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">glutil.h</span></code> (GL Utility) jest plikiem nag≈Ç√≥wkowym, kt√≥rego jedynym zadaniem jest w≈ÇƒÖczenie odpowiednich nag≈Ç√≥wk√≥w OpenGL, OpenGL ES, EGL lub GLEW, w zale≈ºno≈õci od platformy i opcji kompilacji. Dzia≈Ça jako centralny punkt do≈ÇƒÖczania bibliotek graficznych, co upraszcza zarzƒÖdzanie zale≈ºno≈õciami w innych plikach.</p>
</section>
<section id="logika-warunkowego-dolaczania">
<h1>Logika warunkowego do≈ÇƒÖczania<a class="headerlink" href="#logika-warunkowego-dolaczania" title="Link to this heading">#</a></h1>
<p>Plik u≈ºywa dyrektyw preprocesora do wyboru odpowiednich nag≈Ç√≥wk√≥w:</p>
<ol class="arabic simple">
<li><p><strong>Android lub Emscripten (<code class="docutils literal notranslate"><span class="pre">ANDROID</span></code> || <code class="docutils literal notranslate"><span class="pre">__EMSCRIPTEN__</span></code>)</strong>:</p>
<ul class="simple">
<li><p>Do≈ÇƒÖczane sƒÖ nag≈Ç√≥wki <strong>OpenGL ES 2.0</strong> (<code class="docutils literal notranslate"><span class="pre">&lt;GLES2/gl2.h&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;GLES2/gl2ext.h&gt;</span></code>) oraz <strong>EGL</strong> (<code class="docutils literal notranslate"><span class="pre">&lt;EGL/egl.h&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;EGL/eglext.h&gt;</span></code>). EGL jest interfejsem, kt√≥ry ≈ÇƒÖczy API renderowania (jak OpenGL ES) z natywnym systemem okienkowym platformy.</p></li>
</ul>
</li>
<li><p><strong>Inne platformy z <code class="docutils literal notranslate"><span class="pre">OPENGL_ES</span></code></strong>:</p>
<ul class="simple">
<li><p>Podobnie jak wy≈ºej, do≈ÇƒÖczane sƒÖ nag≈Ç√≥wki OpenGL ES 2.0 i EGL. Definiowane sƒÖ r√≥wnie≈º makra <code class="docutils literal notranslate"><span class="pre">GL_GLEXT_PROTOTYPES</span></code>, <code class="docutils literal notranslate"><span class="pre">EGL_EGL_PROTOTYPES</span></code>, aby zapewniƒá dostƒôp do prototyp√≥w funkcji.</p></li>
</ul>
</li>
<li><p><strong>Domy≈õlnie (Desktop - Windows/Linux/macOS)</strong>:</p>
<ul class="simple">
<li><p>Do≈ÇƒÖczana jest biblioteka <strong>GLEW</strong> (<code class="docutils literal notranslate"><span class="pre">&lt;GL/glew.h&gt;</span></code>). GLEW (OpenGL Extension Wrangler) jest bibliotekƒÖ, kt√≥ra upraszcza zarzƒÖdzanie i ≈Çadowanie rozszerze≈Ñ OpenGL, co jest konieczne na platformach desktopowych.</p></li>
<li><p>Na systemach innych ni≈º Windows, <code class="docutils literal notranslate"><span class="pre">GLEW_STATIC</span></code> jest definiowane, aby linkowaƒá GLEW statycznie.</p></li>
</ul>
</li>
</ol>
</section>
<section id="id388">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id388" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Ten plik nie ma zale≈ºno≈õci od innych plik√≥w projektu.</p></li>
<li><p>Jest do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>, co sprawia, ≈ºe definicje OpenGL sƒÖ dostƒôpne we wszystkich plikach modu≈Çu graficznego.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="graphics-cpp">
<h1>üìÑ graphics.cpp<a class="headerlink" href="#graphics-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id389">
<h1>Opis og√≥lny<a class="headerlink" href="#id389" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graphics.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_graphics</span></code>) odpowiedzialnym za inicjalizacjƒô i zarzƒÖdzanie globalnym stanem silnika graficznego opartego na OpenGL.</p>
</section>
<section id="id390">
<h1>Zmienne globalne<a class="headerlink" href="#id390" title="Link to this heading">#</a></h1>
</section>
<section id="g-graphics">
<h1><code class="docutils literal notranslate"><span class="pre">g_graphics</span></code><a class="headerlink" href="#g-graphics" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Graphics</span><span class="w"> </span><span class="n">g_graphics</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-graphics">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Graphics</span></code><a class="headerlink" href="#klasa-graphics" title="Link to this heading">#</a></h1>
</section>
<section id="graphics-graphics">
<h1><code class="docutils literal notranslate"><span class="pre">Graphics::Graphics()</span></code><a class="headerlink" href="#graphics-graphics" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domy≈õlnƒÖ maksymalnƒÖ wielko≈õƒá tekstury na <code class="docutils literal notranslate"><span class="pre">2048</span></code>.</p>
</section>
<section id="void-graphics-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::init()</span></code><a class="headerlink" href="#void-graphics-init" title="Link to this heading">#</a></h1>
</section>
<section id="id391">
<h1>Opis semantyczny<a class="headerlink" href="#id391" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda inicjalizujƒÖca. Uruchamia i konfiguruje kontekst OpenGL oraz inicjalizuje wszystkie pod-mened≈ºery graficzne.</p>
</section>
<section id="id392">
<h1>Dzia≈Çanie<a class="headerlink" href="#id392" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Odczytuje i zapisuje informacje o sterowniku graficznym (<code class="docutils literal notranslate"><span class="pre">GL_VENDOR</span></code>, <code class="docutils literal notranslate"><span class="pre">GL_RENDERER</span></code>, <code class="docutils literal notranslate"><span class="pre">GL_VERSION</span></code>, <code class="docutils literal notranslate"><span class="pre">GL_EXTENSIONS</span></code>) za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glGetString</span></code>.</p></li>
<li><p>Loguje te informacje.</p></li>
<li><p><strong>Na platformach desktopowych</strong>:</p>
<ul class="simple">
<li><p>Sprawdza, czy wersja OpenGL jest co najmniej 2.0.</p></li>
<li><p>Inicjalizuje GLEW (<code class="docutils literal notranslate"><span class="pre">glewInit()</span></code>).</p></li>
<li><p>Sprawdza, czy dostƒôpne sƒÖ rozszerzenia FBO (Framebuffer Object) i w razie potrzeby mapuje funkcje <code class="docutils literal notranslate"><span class="pre">...EXT</span></code> na standardowe nazwy.</p></li>
</ul>
</li>
<li><p>W≈ÇƒÖcza globalnie mieszanie kolor√≥w (<code class="docutils literal notranslate"><span class="pre">glEnable(GL_BLEND)</span></code>).</p></li>
<li><p>Pobiera maksymalny obs≈Çugiwany rozmiar tekstury z <code class="docutils literal notranslate"><span class="pre">GL_MAX_TEXTURE_SIZE</span></code>.</p></li>
<li><p>(Opcjonalnie) Sprawdza wsparcie dla bufora g≈Çƒôbi.</p></li>
<li><p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_ok</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>, sygnalizujƒÖc pomy≈õlnƒÖ inicjalizacjƒô.</p></li>
<li><p>Tworzy i bindowanie globalny obiekt <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p>Inicjalizuje mened≈ºery: <code class="docutils literal notranslate"><span class="pre">g_textures</span></code>, <code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code>, <code class="docutils literal notranslate"><span class="pre">g_atlas</span></code>, <code class="docutils literal notranslate"><span class="pre">g_text</span></code>.</p></li>
</ol>
</section>
<section id="void-graphics-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::terminate()</span></code><a class="headerlink" href="#void-graphics-terminate" title="Link to this heading">#</a></h1>
<p>Zwalnia zasoby w odwrotnej kolejno≈õci do inicjalizacji, wywo≈ÇujƒÖc <code class="docutils literal notranslate"><span class="pre">terminate()</span></code> na wszystkich pod-mened≈ºerach oraz niszczƒÖc obiekt <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p>
</section>
<section id="void-graphics-resize-const-size-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-graphics-resize-const-size-size" title="Link to this heading">#</a></h1>
<p>Aktualizuje rozmiar viewportu. Ustawia <code class="docutils literal notranslate"><span class="pre">m_viewportSize</span></code> i przekazuje nowy rozmiar do <code class="docutils literal notranslate"><span class="pre">g_painter</span></code>, kt√≥ry z kolei aktualizuje macierz projekcji i <code class="docutils literal notranslate"><span class="pre">glViewport</span></code>.</p>
</section>
<section id="void-graphics-checkforerror">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::checkForError(...)</span></code><a class="headerlink" href="#void-graphics-checkforerror" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza, kt√≥ra sprawdza b≈Çƒôdy OpenGL za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glGetError()</span></code>. Je≈õli wystƒÖpi≈Ç b≈ÇƒÖd, loguje go wraz z informacjƒÖ o funkcji, pliku i numerze linii, w kt√≥rej zosta≈Ç wykryty. W trybie debugowania powoduje to b≈ÇƒÖd krytyczny.</p>
</section>
<section id="id393">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id393" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fontmanager.h</span></code>, <code class="docutils literal notranslate"><span class="pre">painter.h</span></code>, <code class="docutils literal notranslate"><span class="pre">atlas.h</span></code>, <code class="docutils literal notranslate"><span class="pre">texturemanager.h</span></code>, <code class="docutils literal notranslate"><span class="pre">framebuffermanager.h</span></code>, <code class="docutils literal notranslate"><span class="pre">textrender.h</span></code>: Inicjalizuje i zarzƒÖdza tymi kluczowymi komponentami graficznymi.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platformwindow.h</span></code>: Po≈õrednio, poprzez <code class="docutils literal notranslate"><span class="pre">g_window</span></code>, od kt√≥rego zale≈ºy kontekst OpenGL.</p></li>
<li><p>Jest to centralna klasa-mened≈ºer dla ca≈Çego podsystemu graficznego.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="graphics-h">
<h1>üìÑ graphics.h<a class="headerlink" href="#graphics-h" title="Link to this heading">#</a></h1>
</section>
<section id="id394">
<h1>Opis og√≥lny<a class="headerlink" href="#id394" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">graphics.h</span></code> deklaruje interfejs klasy <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_graphics</span></code>) zarzƒÖdzajƒÖcym globalnym stanem i inicjalizacjƒÖ silnika graficznego.</p>
</section>
<section id="id395">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Graphics</span></code><a class="headerlink" href="#id395" title="Link to this heading">#</a></h1>
</section>
<section id="id396">
<h1>Opis semantyczny<a class="headerlink" href="#id396" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Graphics</span></code> pe≈Çni rolƒô g≈Ç√≥wnego mened≈ºera podsystemu graficznego. Odpowiada za inicjalizacjƒô OpenGL/GLES, odpytywanie o mo≈ºliwo≈õci sprzƒôtowe (wersja, rozszerzenia, maksymalny rozmiar tekstury) oraz za zarzƒÖdzanie cyklem ≈ºycia innych mened≈ºer√≥w graficznych, takich jak <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code> czy <code class="docutils literal notranslate"><span class="pre">FontManager</span></code>.</p>
</section>
<section id="id397">
<h1>Metody publiczne<a class="headerlink" href="#id397" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Graphics()</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje silnik graficzny (kontekst OpenGL, mened≈ºery).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia zasoby silnika graficznego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></p></td>
<td class="text-left"><p>Aktualizuje rozmiar viewportu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">checkDepthSupport()</span></code></p></td>
<td class="text-left"><p>Sprawdza wsparcie dla bufora g≈Çƒôbi.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getMaxTextureSize()</span></code></p></td>
<td class="text-left"><p>Zwraca maksymalny obs≈Çugiwany rozmiar tekstury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">getViewportSize()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny rozmiar viewportu (okna/ekranu).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getVendor()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô producenta karty graficznej.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getRenderer()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô modelu karty graficznej/sterownika.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getVersion()</span></code></p></td>
<td class="text-left"><p>Zwraca wersjƒô OpenGL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getExtensions()</span></code></p></td>
<td class="text-left"><p>Zwraca listƒô dostƒôpnych rozszerze≈Ñ OpenGL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ok()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli inicjalizacja grafiki przebieg≈Ça pomy≈õlnie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">checkForError(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza i loguje b≈Çƒôdy OpenGL.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id398">
<h1>Zmienne prywatne<a class="headerlink" href="#id398" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_viewportSize</span></code>: Aktualny rozmiar obszaru renderowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_vendor</span></code>, <code class="docutils literal notranslate"><span class="pre">m_renderer</span></code>, <code class="docutils literal notranslate"><span class="pre">m_version</span></code>, <code class="docutils literal notranslate"><span class="pre">m_extensions</span></code>: Informacje o sterowniku graficznym.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_maxTextureSize</span></code>: Maksymalny rozmiar tekstury obs≈Çugiwany przez sprzƒôt.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_ok</span></code>: Flaga pomy≈õlnej inicjalizacji.</p></li>
</ul>
</section>
<section id="id399">
<h1>Zmienne globalne<a class="headerlink" href="#id399" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_graphics</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>.</p></li>
</ul>
</section>
<section id="id400">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id400" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">painter.h</span></code>: Podstawowe deklaracje i klasa <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindsingleton</span> <span class="pre">g_graphics</span></code>, co udostƒôpnia jej metody (np. <code class="docutils literal notranslate"><span class="pre">getVendor</span></code>) w Lua.</p></li>
<li><p>Jest inicjalizowana i zamykana przez <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="image-cpp">
<h1>üìÑ image.cpp<a class="headerlink" href="#image-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id401">
<h1>Opis og√≥lny<a class="headerlink" href="#id401" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">image.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Image</span></code>, kt√≥ra reprezentuje obraz rastrowy w pamiƒôci RAM. Jest to podstawowa klasa do ≈Çadowania, manipulowania i zapisywania danych obraz√≥w, zanim zostanƒÖ one przes≈Çane do pamiƒôci karty graficznej jako tekstury.</p>
</section>
<section id="klasa-image">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Image</span></code><a class="headerlink" href="#klasa-image" title="Link to this heading">#</a></h1>
</section>
<section id="image-image-const-size-size-int-bpp-uint8-pixels">
<h1><code class="docutils literal notranslate"><span class="pre">Image::Image(const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">int</span> <span class="pre">bpp,</span> <span class="pre">uint8</span> <span class="pre">*pixels)</span></code><a class="headerlink" href="#image-image-const-size-size-int-bpp-uint8-pixels" title="Link to this heading">#</a></h1>
<p>Konstruktor. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">Image</span></code> o podanych wymiarach i g≈Çƒôbi bitowej (bpp - bits per pixel). Opcjonalnie kopiuje dane pikseli z podanego bufora.</p>
</section>
<section id="imageptr-image-load-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::load(std::string</span> <span class="pre">file)</span></code><a class="headerlink" href="#imageptr-image-load-std-string-file" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna do ≈Çadowania obrazu z pliku. Obecnie obs≈Çuguje tylko format PNG, wywo≈ÇujƒÖc <code class="docutils literal notranslate"><span class="pre">loadPNG</span></code>.</p>
</section>
<section id="imageptr-image-loadpng">
<h1><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::loadPNG(...)</span></code><a class="headerlink" href="#imageptr-image-loadpng" title="Link to this heading">#</a></h1>
<p>Statyczne metody do ≈Çadowania obrazu w formacie PNG z pliku lub z bufora w pamiƒôci. U≈ºywajƒÖ funkcji <code class="docutils literal notranslate"><span class="pre">load_apng</span></code> z <code class="docutils literal notranslate"><span class="pre">apngloader.cpp</span></code> do parsowania danych.</p>
</section>
<section id="void-image-savepng-const-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::savePNG(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code><a class="headerlink" href="#void-image-savepng-const-std-string-filename" title="Link to this heading">#</a></h1>
<p>Zapisuje obraz do pliku w formacie PNG, u≈ºywajƒÖc funkcji <code class="docutils literal notranslate"><span class="pre">save_png</span></code> z <code class="docutils literal notranslate"><span class="pre">apngloader.cpp</span></code>.</p>
</section>
<section id="void-image-blit-const-point-dest-const-imageptr-other">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::blit(const</span> <span class="pre">Point&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">other)</span></code><a class="headerlink" href="#void-image-blit-const-point-dest-const-imageptr-other" title="Link to this heading">#</a></h1>
<p>Kopiuje piksele z innego obrazu (<code class="docutils literal notranslate"><span class="pre">other</span></code>) do tego obrazu w podane miejsce (<code class="docutils literal notranslate"><span class="pre">dest</span></code>). Kopiowanie odbywa siƒô z uwzglƒôdnieniem przezroczysto≈õci ‚Äì piksele w pe≈Çni przezroczyste w obrazie ≈∫r√≥d≈Çowym nie sƒÖ kopiowane.</p>
</section>
<section id="void-image-paste-const-imageptr-other">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::paste(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">other)</span></code><a class="headerlink" href="#void-image-paste-const-imageptr-other" title="Link to this heading">#</a></h1>
<p>Nak≈Çada inny obraz (<code class="docutils literal notranslate"><span class="pre">other</span></code>) na ten obraz, zastƒôpujƒÖc istniejƒÖce piksele. Nie uwzglƒôdnia przezroczysto≈õci.</p>
</section>
<section id="imageptr-image-upscale">
<h1><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::upscale()</span></code><a class="headerlink" href="#imageptr-image-upscale" title="Link to this heading">#</a></h1>
<p>Tworzy i zwraca nowy obraz, kt√≥ry jest dwukrotnie wiƒôkszy od oryginalnego. Ka≈ºdy piksel z obrazu ≈∫r√≥d≈Çowego jest powielany do bloku 2x2 w obrazie docelowym (skalowanie metodƒÖ ‚Äûnajbli≈ºszego sƒÖsiada‚Äù).</p>
</section>
<section id="bool-image-nextmipmap">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Image::nextMipmap()</span></code><a class="headerlink" href="#bool-image-nextmipmap" title="Link to this heading">#</a></h1>
<p>Generuje nastƒôpny, mniejszy poziom mipmapy na podstawie bie≈ºƒÖcych danych pikseli. Oblicza ≈õredniƒÖ z bloku 2x2 pikseli, aby stworzyƒá jeden piksel dla mniejszego obrazu. Jest to prosta implementacja filtrowania biliniowego. Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>, gdy obraz osiƒÖgnie rozmiar 1x1.</p>
</section>
<section id="imageptr-image-fromqrcode-const-std-string-code-int-border">
<h1><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::fromQRCode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">code,</span> <span class="pre">int</span> <span class="pre">border)</span></code><a class="headerlink" href="#imageptr-image-fromqrcode-const-std-string-code-int-border" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna, kt√≥ra generuje obraz kodu QR na podstawie podanego tekstu, u≈ºywajƒÖc biblioteki <code class="docutils literal notranslate"><span class="pre">qrcodegen</span></code>.</p>
</section>
<section id="id402">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id402" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/image.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do otwierania i odczytywania plik√≥w obraz√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/apngloader.h</span></code>: Do obs≈Çugi formatu PNG/APNG.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/qrcodegen.h</span></code>: Do generowania kod√≥w QR.</p></li>
<li><p>Obiekty <code class="docutils literal notranslate"><span class="pre">Image</span></code> sƒÖ zazwyczaj kr√≥tkotrwa≈Çe ‚Äì istniejƒÖ od momentu za≈Çadowania z pliku do momentu utworzenia z nich obiektu <code class="docutils literal notranslate"><span class="pre">Texture</span></code> i przes≈Çania danych do GPU.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="hardwarebuffer-h">
<h1>üìÑ hardwarebuffer.h<a class="headerlink" href="#hardwarebuffer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id403">
<h1>Opis og√≥lny<a class="headerlink" href="#id403" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">hardwarebuffer.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code>, kt√≥ra jest opakowaniem na sprzƒôtowe bufory wierzcho≈Çk√≥w (Vertex Buffer Objects - VBO) w OpenGL. Umo≈ºliwia przechowywanie danych geometrycznych (np. wsp√≥≈Çrzƒôdnych wierzcho≈Çk√≥w) w pamiƒôci karty graficznej w celu uzyskania wysokiej wydajno≈õci renderowania.</p>
</section>
<section id="klasa-hardwarebuffer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code><a class="headerlink" href="#klasa-hardwarebuffer" title="Link to this heading">#</a></h1>
</section>
<section id="id404">
<h1>Opis semantyczny<a class="headerlink" href="#id404" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code> enkapsuluje ID bufora VBO w OpenGL i dostarcza podstawowe metody do jego obs≈Çugi: bindowania, odpinania i zapisu danych. U≈ºycie VBO jest znacznie wydajniejsze ni≈º przesy≈Çanie danych wierzcho≈Çk√≥w z pamiƒôci RAM do GPU w ka≈ºdej klatce.</p>
</section>
<section id="id405">
<h1>Typy wyliczeniowe (Enums)<a class="headerlink" href="#id405" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">Type</span></code></strong>: Okre≈õla typ bufora.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">VertexBuffer</span></code> (<code class="docutils literal notranslate"><span class="pre">GL_ARRAY_BUFFER</span></code>): Przechowuje atrybuty wierzcho≈Çk√≥w (np. pozycje, kolory, wsp√≥≈Çrzƒôdne tekstur).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IndexBuffer</span></code> (<code class="docutils literal notranslate"><span class="pre">GL_ELEMENT_ARRAY_BUFFER</span></code>): Przechowuje indeksy wierzcho≈Çk√≥w (nieu≈ºywane w tym kodzie).</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">UsagePattern</span></code></strong>: Wskaz√≥wka dla sterownika OpenGL, jak dane bƒôdƒÖ u≈ºywane.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">StreamDraw</span></code> (<code class="docutils literal notranslate"><span class="pre">GL_STREAM_DRAW</span></code>): Dane zmieniane czƒôsto, u≈ºywane rzadko.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StaticDraw</span></code> (<code class="docutils literal notranslate"><span class="pre">GL_STATIC_DRAW</span></code>): Dane ustawiane raz, u≈ºywane czƒôsto.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DynamicDraw</span></code> (<code class="docutils literal notranslate"><span class="pre">GL_DYNAMIC_DRAW</span></code>): Dane zmieniane i u≈ºywane czƒôsto.</p></li>
</ul>
</li>
</ul>
</section>
<section id="id406">
<h1>Metody publiczne<a class="headerlink" href="#id406" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HardwareBuffer(Type</span> <span class="pre">type)</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy nowy obiekt bufora w OpenGL (<code class="docutils literal notranslate"><span class="pre">glGenBuffers</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~HardwareBuffer()</span></code></p></td>
<td class="text-left"><p>Destruktor, zwalnia obiekt bufora (<code class="docutils literal notranslate"><span class="pre">glDeleteBuffers</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">bind()</span></code></p></td>
<td class="text-left"><p>Bindowanie (aktywuje) bufor w kontek≈õcie OpenGL (<code class="docutils literal notranslate"><span class="pre">glBindBuffer</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">unbind(Type</span> <span class="pre">type)</span></code></p></td>
<td class="text-left"><p>Odpina jakikolwiek bufor danego typu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">write(...)</span></code></p></td>
<td class="text-left"><p>Kopiuje dane z pamiƒôci RAM do bufora w pamiƒôci GPU (<code class="docutils literal notranslate"><span class="pre">glBufferData</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id407">
<h1>Zmienne prywatne<a class="headerlink" href="#id407" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_type</span></code>: Typ bufora (<code class="docutils literal notranslate"><span class="pre">VertexBuffer</span></code> lub <code class="docutils literal notranslate"><span class="pre">IndexBuffer</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_id</span></code>: ID (uchwyt) bufora w OpenGL.</p></li>
</ul>
</section>
<section id="id408">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id408" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Zawiera <code class="docutils literal notranslate"><span class="pre">glutil.h</span></code> z definicjami OpenGL.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> (w <code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code>) do opcjonalnego keszowania geometrii na GPU.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Painter</span></code> u≈ºywa <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code> do ustawiania atrybut√≥w wierzcho≈Çk√≥w podczas rysowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="image-h">
<h1>üìÑ image.h<a class="headerlink" href="#image-h" title="Link to this heading">#</a></h1>
</section>
<section id="id409">
<h1>Opis og√≥lny<a class="headerlink" href="#id409" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">image.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Image</span></code>, kt√≥ra reprezentuje obraz rastrowy przechowywany w pamiƒôci systemowej (RAM). Jest to podstawowa struktura danych do manipulacji pikselami przed ich wys≈Çaniem do karty graficznej jako tekstura.</p>
</section>
<section id="id410">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Image</span></code><a class="headerlink" href="#id410" title="Link to this heading">#</a></h1>
</section>
<section id="id411">
<h1>Opis semantyczny<a class="headerlink" href="#id411" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Image</span></code> to kontener na surowe dane pikseli. Przechowuje wymiary obrazu, liczbƒô bit√≥w na piksel oraz sam bufor pikseli. Udostƒôpnia metody do ≈Çadowania obraz√≥w z plik√≥w, zapisywania ich, a tak≈ºe do podstawowych operacji graficznych, takich jak kopiowanie fragment√≥w (<code class="docutils literal notranslate"><span class="pre">blit</span></code>), generowanie mipmap czy skalowanie.</p>
</section>
<section id="id412">
<h1>Metody publiczne<a class="headerlink" href="#id412" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Image(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">ImagePtr</span> <span class="pre">load(...)</span></code></p></td>
<td class="text-left"><p>Statyczna metoda fabryczna do ≈Çadowania obrazu z pliku (obecnie tylko PNG).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">ImagePtr</span> <span class="pre">loadPNG(...)</span></code></p></td>
<td class="text-left"><p>≈Åaduje obraz PNG z pliku lub bufora w pamiƒôci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">savePNG(...)</span></code></p></td>
<td class="text-left"><p>Zapisuje obraz do pliku w formacie PNG.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">blit(...)</span></code></p></td>
<td class="text-left"><p>Kopiuje inny obraz na ten obraz z uwzglƒôdnieniem przezroczysto≈õci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">paste(...)</span></code></p></td>
<td class="text-left"><p>Nak≈Çada inny obraz na ten obraz, zastƒôpujƒÖc piksele.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">upscale()</span></code></p></td>
<td class="text-left"><p>Zwraca nowƒÖ, dwukrotnie wiƒôkszƒÖ wersjƒô obrazu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(...)</span></code></p></td>
<td class="text-left"><p>Zmienia rozmiar obrazu, realokujƒÖc bufor pikseli.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">nextMipmap()</span></code></p></td>
<td class="text-left"><p>Generuje kolejny poziom mipmapy, zmniejszajƒÖc obraz o po≈Çowƒô.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setPixel(...)</span></code></p></td>
<td class="text-left"><p>Ustawia kolor pojedynczego piksela.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint8&gt;&amp;</span> <span class="pre">getPixels()</span></code></p></td>
<td class="text-left"><p>Zwraca referencjƒô do wektora pikseli.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint8*</span> <span class="pre">getPixelData()</span></code></p></td>
<td class="text-left"><p>Zwraca surowy wska≈∫nik na dane pikseli.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getPixelCount()</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô pikseli.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">getSize()</span></code></p></td>
<td class="text-left"><p>Zwraca wymiary obrazu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getBpp()</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô bajt√≥w na piksel.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">ImagePtr</span> <span class="pre">fromQRCode(...)</span></code></p></td>
<td class="text-left"><p>Tworzy obraz z kodu QR.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id413">
<h1>Zmienne prywatne<a class="headerlink" href="#id413" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_pixels</span></code>: Wektor przechowujƒÖcy dane pikseli.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Wymiary obrazu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_bpp</span></code>: Liczba bajt√≥w na piksel.</p></li>
</ul>
</section>
<section id="id414">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id414" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: Potencjalnie, chocia≈º tutaj u≈ºywa <code class="docutils literal notranslate"><span class="pre">std::vector</span></code>.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Texture</span></code> i <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code> jako ≈∫r√≥d≈Ço danych pikseli podczas tworzenia tekstur.</p></li>
<li><p>Wykorzystywana przez <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> do ≈Çadowania ikon i kursor√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="framebuffermanager-h">
<h1>üìÑ framebuffermanager.h<a class="headerlink" href="#framebuffermanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id415">
<h1>Opis og√≥lny<a class="headerlink" href="#id415" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">framebuffermanager.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code>) s≈Çu≈ºƒÖcym do zarzƒÖdzania i tworzenia obiekt√≥w <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p>
</section>
<section id="id416">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code><a class="headerlink" href="#id416" title="Link to this heading">#</a></h1>
</section>
<section id="id417">
<h1>Opis semantyczny<a class="headerlink" href="#id417" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code> pe≈Çni rolƒô fabryki i mened≈ºera dla obiekt√≥w <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>. Upraszcza ich tworzenie i zarzƒÖdzanie cyklem ≈ºycia. Udostƒôpnia r√≥wnie≈º dwa predefiniowane, ‚Äûtymczasowe‚Äù bufory, kt√≥re mogƒÖ byƒá u≈ºywane w ca≈Çym systemie do kr√≥tkotrwa≈Çych operacji renderowania poza ekranem, co pozwala uniknƒÖƒá kosztownego tworzenia i niszczenia FBO.</p>
</section>
<section id="id418">
<h1>Metody publiczne<a class="headerlink" href="#id418" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje mened≈ºera i tworzy tymczasowe bufory ramki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia wszystkie zarzƒÖdzane bufory ramki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>(Brak implementacji) Prawdopodobnie mia≈Ça s≈Çu≈ºyƒá do zwolnienia wszystkich bufor√≥w poza tymczasowymi.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">FrameBufferPtr</span> <span class="pre">createFrameBuffer(bool</span> <span class="pre">withDepth</span> <span class="pre">=</span> <span class="pre">false)</span></code></p></td>
<td class="text-left"><p>Metoda fabryczna tworzƒÖca i zwracajƒÖca nowy obiekt <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">FrameBufferPtr&amp;</span> <span class="pre">getTemporaryFrameBuffer()</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik do pierwszego tymczasowego bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">FrameBufferPtr&amp;</span> <span class="pre">getDrawQueueTemporaryFrameBuffer()</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik do drugiego tymczasowego bufora, prawdopodobnie u≈ºywanego przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id419">
<h1>Zmienne chronione<a class="headerlink" href="#id419" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_temporaryFramebuffer</span></code>: Pierwszy tymczasowy <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawQueueTemporaryFramebuffer</span></code>: Drugi tymczasowy <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_framebuffers</span></code>: Wektor przechowujƒÖcy wska≈∫niki do wszystkich utworzonych (i niezwolnionych) bufor√≥w ramki. |</p></li>
</ul>
</section>
<section id="id420">
<h1>Zmienne globalne<a class="headerlink" href="#id420" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code>.</p></li>
</ul>
</section>
<section id="id421">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id421" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffer.h</span></code>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>.</p></li>
<li><p>Jest to kluczowy komponent, od kt√≥rego zale≈ºƒÖ inne czƒô≈õci systemu graficznego, takie jak <code class="docutils literal notranslate"><span class="pre">Atlas</span></code> i <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, kt√≥re potrzebujƒÖ tworzyƒá w≈Çasne bufory ramki.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="painter-h">
<h1>üìÑ painter.h<a class="headerlink" href="#painter-h" title="Link to this heading">#</a></h1>
</section>
<section id="id422">
<h1>Opis og√≥lny<a class="headerlink" href="#id422" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">painter.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, kt√≥ra jest centralnym interfejsem do wszystkich operacji rysowania w 2D. Abstrakcjonuje ona niskopoziomowe wywo≈Çania OpenGL, dostarczajƒÖc prostsze API do rysowania prostokƒÖt√≥w, tekstur, linii i zarzƒÖdzania stanem renderowania.</p>
</section>
<section id="klasa-painter">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Painter</span></code><a class="headerlink" href="#klasa-painter" title="Link to this heading">#</a></h1>
</section>
<section id="id423">
<h1>Opis semantyczny<a class="headerlink" href="#id423" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Painter</span></code> dzia≈Ça jak maszyna stan√≥w. Przechowuje aktualny stan renderowania, taki jak macierze transformacji, kolor, tryb mieszania, aktywny shader, tekstura, itp. Ka≈ºda operacja rysowania jest wykonywana w kontek≈õcie tego stanu. <code class="docutils literal notranslate"><span class="pre">Painter</span></code> zarzƒÖdza r√≥wnie≈º w≈Çasnymi, domy≈õlnymi programami shader√≥w do podstawowych operacji.</p>
</section>
<section id="id424">
<h1>Typy wyliczeniowe (Enums)<a class="headerlink" href="#id424" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BlendEquation</span></code>: Okre≈õla, jak kolory sƒÖ mieszane (np. dodawanie, odejmowanie).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CompositionMode</span></code>: Definiuje predefiniowane tryby mieszania (<code class="docutils literal notranslate"><span class="pre">glBlendFunc</span></code>), np. normalne (z przezroczysto≈õciƒÖ), addytywne, mno≈ºenie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DepthFunc</span></code>: Okre≈õla funkcjƒô testu g≈Çƒôbi.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DrawMode</span></code>: Okre≈õla prymityw do rysowania (tr√≥jkƒÖty, paski tr√≥jkƒÖt√≥w).</p></li>
</ul>
</section>
<section id="struktura-painterstate">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">PainterState</span></code><a class="headerlink" href="#struktura-painterstate" title="Link to this heading">#</a></h1>
<p>Przechowuje pe≈Çny stan <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, co pozwala na jego zapisywanie i przywracanie.</p>
</section>
<section id="id425">
<h1>Metody publiczne<a class="headerlink" href="#id425" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>ZarzƒÖdzanie stanem</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">resetState()</span></code></p></td>
<td class="text-left"><p>Przywraca wszystkie ustawienia do warto≈õci domy≈õlnych.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">saveState()</span></code> / <code class="docutils literal notranslate"><span class="pre">restoreSavedState()</span></code></p></td>
<td class="text-left"><p>Zapisuje/przywraca stan na wewnƒôtrznym stosie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setTransformMatrix(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">setProjectionMatrix(...)</span></code>, ‚Ä¶</p></td>
<td class="text-left"><p>UstawiajƒÖ poszczeg√≥lne elementy stanu (macierze, tryb mieszania, etc.).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">scale()</span></code>, <code class="docutils literal notranslate"><span class="pre">translate()</span></code>, <code class="docutils literal notranslate"><span class="pre">rotate()</span></code></p></td>
<td class="text-left"><p>ModyfikujƒÖ bie≈ºƒÖcƒÖ macierz transformacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Operacje rysowania</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">clear(const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></p></td>
<td class="text-left"><p>Czy≈õci ca≈Çy bufor ramki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawCoords(...)</span></code></p></td>
<td class="text-left"><p>Niskopoziomowa metoda rysujƒÖca geometriƒô z <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawFilledRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code></p></td>
<td class="text-left"><p>Rysuje wype≈Çniony prostokƒÖt.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawTexturedRect(...)</span></code></p></td>
<td class="text-left"><p>Rysuje prostokƒÖt z teksturƒÖ.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawText(...)</span></code></p></td>
<td class="text-left"><p>Rysuje tekst (przez <code class="docutils literal notranslate"><span class="pre">TextRender</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawLine(...)</span></code></p></td>
<td class="text-left"><p>Rysuje liniƒô.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">drawCache(...)</span></code></p></td>
<td class="text-left"><p>Rysuje dane zbuforowane w <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Gettery</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTransformMatrix()</span></code>, <code class="docutils literal notranslate"><span class="pre">getColor()</span></code>, <code class="docutils literal notranslate"><span class="pre">getClipRect()</span></code>, ‚Ä¶</p></td>
<td class="text-left"><p>ZwracajƒÖ aktualne warto≈õci stanu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">draws()</span></code>, <code class="docutils literal notranslate"><span class="pre">calls()</span></code></p></td>
<td class="text-left"><p>ZwracajƒÖ statystyki renderowania dla bie≈ºƒÖcej klatki.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zmienne-chronione-prywatne">
<h1>Zmienne chronione/prywatne<a class="headerlink" href="#zmienne-chronione-prywatne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_transformMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">m_projectionMatrix</span></code>, ‚Ä¶: Zmienne przechowujƒÖce aktualny stan.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_transformMatrixStack</span></code>: Stos do zapisywania macierzy transformacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_olderStates</span></code>: Stos do zapisywania pe≈Çnego stanu <code class="docutils literal notranslate"><span class="pre">PainterState</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_draw...Program</span></code>: Wska≈∫niki na domy≈õlne programy shader√≥w.</p></li>
</ul>
</section>
<section id="id426">
<h1>Zmienne globalne<a class="headerlink" href="#id426" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_painter</span></code>: Globalny wska≈∫nik na instancjƒô <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
</ul>
</section>
<section id="id427">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id427" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code>, <code class="docutils literal notranslate"><span class="pre">paintershaderprogram.h</span></code>, <code class="docutils literal notranslate"><span class="pre">texture.h</span></code>, <code class="docutils literal notranslate"><span class="pre">colorarray.h</span></code>, <code class="docutils literal notranslate"><span class="pre">drawqueue.h</span></code>: Deklaracje typ√≥w, z kt√≥rymi <code class="docutils literal notranslate"><span class="pre">Painter</span></code> wsp√≥≈Çpracuje.</p></li>
<li><p>Jest to centralny komponent renderujƒÖcy, u≈ºywany bezpo≈õrednio lub po≈õrednio przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>, <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">TextRender</span></code> i inne.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="painter-cpp">
<h1>üìÑ painter.cpp<a class="headerlink" href="#painter-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id428">
<h1>Opis og√≥lny<a class="headerlink" href="#id428" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">painter.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, kt√≥ra jest sercem silnika renderujƒÖcego. Odpowiada za bezpo≈õredniƒÖ komunikacjƒô z API graficznym (OpenGL) w celu rysowania prymityw√≥w 2D.</p>
</section>
<section id="id429">
<h1>Zmienne globalne<a class="headerlink" href="#id429" title="Link to this heading">#</a></h1>
</section>
<section id="g-painter">
<h1><code class="docutils literal notranslate"><span class="pre">g_painter</span></code><a class="headerlink" href="#g-painter" title="Link to this heading">#</a></h1>
<p>Globalny wska≈∫nik na jedynƒÖ instancjƒô <code class="docutils literal notranslate"><span class="pre">Painter</span></code>. Jest inicjalizowany w <code class="docutils literal notranslate"><span class="pre">Graphics::init()</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Painter</span><span class="o">*</span><span class="w"> </span><span class="n">g_painter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id430">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Painter</span></code><a class="headerlink" href="#id430" title="Link to this heading">#</a></h1>
</section>
<section id="painter-painter">
<h1><code class="docutils literal notranslate"><span class="pre">Painter::Painter()</span></code><a class="headerlink" href="#painter-painter" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domy≈õlne warto≈õci stanu, takie jak macierze, kolory i tryby mieszania. Co najwa≈ºniejsze, tworzy i kompiluje zestaw domy≈õlnych program√≥w shader√≥w, kt√≥re sƒÖ u≈ºywane do podstawowych operacji rysowania:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawTexturedProgram</span></code>: Do rysowania tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawSolidColorProgram</span></code>: Do rysowania jednolitych kolor√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawSolidColorOnTextureProgram</span></code>: Do rysowania jednolitego koloru na wierzchu tekstury.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawOutfitLayersProgram</span></code>: Specjalny shader do rysowania stroj√≥w postaci z kolorowaniem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawNewProgram</span></code>: Shader u≈ºywany przez <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code> do zoptymalizowanego rysowania wsadowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_drawTextProgram</span></code>, <code class="docutils literal notranslate"><span class="pre">m_drawLineProgram</span></code>: Specjalne shadery do rysowania tekstu i linii.</p></li>
</ul>
</section>
<section id="void-painter-bind-i-void-painter-unbind">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::unbind()</span></code><a class="headerlink" href="#void-painter-bind-i-void-painter-unbind" title="Link to this heading">#</a></h1>
<p>Metody wywo≈Çywane na poczƒÖtku i na ko≈Ñcu cyklu ≈ºycia <code class="docutils literal notranslate"><span class="pre">Painter</span></code>. <code class="docutils literal notranslate"><span class="pre">bind()</span></code> w≈ÇƒÖcza podstawowe atrybuty wierzcho≈Çk√≥w, kt√≥re sƒÖ zawsze aktywne.</p>
</section>
<section id="void-painter-resetstate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::resetState()</span></code><a class="headerlink" href="#void-painter-resetstate" title="Link to this heading">#</a></h1>
<p>Przywraca wszystkie parametry <code class="docutils literal notranslate"><span class="pre">Painter</span></code> (kolor, macierze, tryby mieszania itp.) do ich warto≈õci domy≈õlnych.</p>
</section>
<section id="void-painter-savestate-i-void-painter-restoresavedstate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::saveState()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::restoreSavedState()</span></code><a class="headerlink" href="#void-painter-savestate-i-void-painter-restoresavedstate" title="Link to this heading">#</a></h1>
<p>ImplementujƒÖ mechanizm stosu do zapisywania i przywracania stanu renderowania. Pozwala to na tymczasowƒÖ zmianƒô stanu (np. ustawienie przycinania) i ≈Çatwy powr√≥t do poprzedniego stanu.</p>
</section>
<section id="metody-updategl">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">updateGl...()</span></code><a class="headerlink" href="#metody-updategl" title="Link to this heading">#</a></h1>
<p>Prywatne metody pomocnicze (<code class="docutils literal notranslate"><span class="pre">updateGlTexture</span></code>, <code class="docutils literal notranslate"><span class="pre">updateGlCompositionMode</span></code>, <code class="docutils literal notranslate"><span class="pre">updateGlClipRect</span></code> itd.), kt√≥re aplikujƒÖ zmiany stanu <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do rzeczywistego stanu OpenGL. SƒÖ wywo≈Çywane, gdy odpowiednia w≈Ça≈õciwo≈õƒá <code class="docutils literal notranslate"><span class="pre">Painter</span></code> (np. <code class="docutils literal notranslate"><span class="pre">m_compositionMode</span></code>) ulega zmianie.</p>
</section>
<section id="void-painter-setresolution-const-size-resolution">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::setResolution(const</span> <span class="pre">Size&amp;</span> <span class="pre">resolution)</span></code><a class="headerlink" href="#void-painter-setresolution-const-size-resolution" title="Link to this heading">#</a></h1>
<p>Aktualizuje rozdzielczo≈õƒá renderowania. Najwa≈ºniejszƒÖ czƒô≈õciƒÖ jest przeliczenie macierzy projekcji (<code class="docutils literal notranslate"><span class="pre">m_projectionMatrix</span></code>), kt√≥ra mapuje wsp√≥≈Çrzƒôdne w pikselach na znormalizowane wsp√≥≈Çrzƒôdne urzƒÖdzenia OpenGL (-1 do 1).</p>
</section>
<section id="void-painter-drawcoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::drawCoords(...)</span></code><a class="headerlink" href="#void-painter-drawcoords" title="Link to this heading">#</a></h1>
<p>Niskopoziomowa metoda, kt√≥ra jest podstawƒÖ wiƒôkszo≈õci operacji rysowania.</p>
<ol class="arabic simple">
<li><p>Bindowanie i konfiguruje odpowiedni program shadera.</p></li>
<li><p>Przekazuje do shadera uniformy (macierze, kolor, czas itp.).</p></li>
<li><p>Ustawia wska≈∫niki na dane atrybut√≥w wierzcho≈Çk√≥w (pozycja, wsp√≥≈Çrzƒôdne tekstury, kolor).</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">glDrawArrays</span></code> w celu narysowania geometrii.</p></li>
<li><p>Zlicza statystyki (<code class="docutils literal notranslate"><span class="pre">m_draws</span></code>, <code class="docutils literal notranslate"><span class="pre">m_calls</span></code>).</p></li>
</ol>
</section>
<section id="metody-draw-rect-i-draw-coords">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">draw...Rect(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">draw...Coords(...)</span></code><a class="headerlink" href="#metody-draw-rect-i-draw-coords" title="Link to this heading">#</a></h1>
<p>Wysokopoziomowe metody rysujƒÖce, kt√≥re przygotowujƒÖ <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z odpowiedniƒÖ geometriƒÖ, a nastƒôpnie wywo≈ÇujƒÖ <code class="docutils literal notranslate"><span class="pre">drawCoords</span></code> do jej narysowania.</p>
</section>
<section id="void-painter-drawcache">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::drawCache(...)</span></code><a class="headerlink" href="#void-painter-drawcache" title="Link to this heading">#</a></h1>
<p>Specjalna, zoptymalizowana metoda do rysowania du≈ºej liczby wierzcho≈Çk√≥w na raz. U≈ºywa dedykowanego shadera (<code class="docutils literal notranslate"><span class="pre">m_drawNewProgram</span></code>), kt√≥ry pobiera pozycjƒô, wsp√≥≈Çrzƒôdne tekstury i kolor jako osobne atrybuty dla ka≈ºdego wierzcho≈Çka.</p>
</section>
<section id="id431">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id431" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to klasa niskiego poziomu, kt√≥ra bezpo≈õrednio zale≈ºy od API graficznego (OpenGL/GLES/GLEW).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shaders/shaders.h</span></code>: Zawiera kod ≈∫r√≥d≈Çowy domy≈õlnych shader√≥w.</p></li>
<li><p>Wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>, <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>, <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>, <code class="docutils literal notranslate"><span class="pre">TextRender</span></code> i innymi komponentami graficznymi.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do wykonywania wszystkich operacji rysowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="hardwarebuffer-cpp">
<h1>üìÑ hardwarebuffer.cpp<a class="headerlink" href="#hardwarebuffer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id432">
<h1>Opis og√≥lny<a class="headerlink" href="#id432" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">hardwarebuffer.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code>, kt√≥ra jest opakowaniem na bufory VBO (Vertex Buffer Object) w OpenGL.</p>
</section>
<section id="id433">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code><a class="headerlink" href="#id433" title="Link to this heading">#</a></h1>
</section>
<section id="hardwarebuffer-hardwarebuffer-type-type">
<h1><code class="docutils literal notranslate"><span class="pre">HardwareBuffer::HardwareBuffer(Type</span> <span class="pre">type)</span></code><a class="headerlink" href="#hardwarebuffer-hardwarebuffer-type-type" title="Link to this heading">#</a></h1>
<p>Konstruktor.</p>
<ul class="simple">
<li><p><strong>Parametr <code class="docutils literal notranslate"><span class="pre">type</span></code></strong>: Okre≈õla, czy ma to byƒá bufor na wierzcho≈Çki (<code class="docutils literal notranslate"><span class="pre">VertexBuffer</span></code>) czy indeksy (<code class="docutils literal notranslate"><span class="pre">IndexBuffer</span></code>).</p></li>
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ol class="arabic simple">
<li><p>Zapamiƒôtuje typ bufora.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">glGenBuffers(1,</span> <span class="pre">&amp;m_id)</span></code> w celu wygenerowania nowego, unikalnego ID dla bufora w kontek≈õcie OpenGL.</p></li>
<li><p>Sprawdza, czy operacja siƒô powiod≈Ça; w przeciwnym razie ko≈Ñczy aplikacjƒô b≈Çƒôdem krytycznym.</p></li>
</ol>
</li>
</ul>
</section>
<section id="hardwarebuffer-hardwarebuffer">
<h1><code class="docutils literal notranslate"><span class="pre">HardwareBuffer::~HardwareBuffer()</span></code><a class="headerlink" href="#hardwarebuffer-hardwarebuffer" title="Link to this heading">#</a></h1>
<p>Destruktor.</p>
<ul class="simple">
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ol class="arabic simple">
<li><p>Zwalnia zas√≥b OpenGL w spos√≥b bezpieczny wƒÖtkowo.</p></li>
<li><p>Zamiast bezpo≈õrednio wywo≈Çywaƒá <code class="docutils literal notranslate"><span class="pre">glDeleteBuffers</span></code>, dodaje zadanie do kolejki dyspozytora graficznego (<code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>). Gwarantuje to, ≈ºe operacja usuniƒôcia zostanie wykonana w wƒÖtku, kt√≥ry ma aktywny kontekst OpenGL, nawet je≈õli destruktor jest wywo≈Çywany z innego wƒÖtku.</p></li>
</ol>
</li>
</ul>
</section>
<section id="id434">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id434" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/hardwarebuffer.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do sprawdzania b≈Çƒôd√≥w OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>, <code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code>, <code class="docutils literal notranslate"><span class="pre">logger.h</span></code>: Do walidacji, planowania zdarze≈Ñ i logowania.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> (w <code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code>) do przechowywania danych geometrycznych w pamiƒôci karty graficznej, co znacznie przyspiesza renderowanie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="paintershaderprogram-cpp">
<h1>üìÑ paintershaderprogram.cpp<a class="headerlink" href="#paintershaderprogram-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id435">
<h1>Opis og√≥lny<a class="headerlink" href="#id435" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">paintershaderprogram.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>, kt√≥ra jest specjalizacjƒÖ <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>. Jest ona dostosowana do wsp√≥≈Çpracy z klasƒÖ <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, udostƒôpniajƒÖc standardowy zestaw uniform√≥w i atrybut√≥w u≈ºywanych w procesie renderowania 2D.</p>
</section>
<section id="klasa-paintershaderprogram">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code><a class="headerlink" href="#klasa-paintershaderprogram" title="Link to this heading">#</a></h1>
</section>
<section id="paintershaderprogram-paintershaderprogram-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">PainterShaderProgram::PainterShaderProgram(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#paintershaderprogram-paintershaderprogram-const-std-string-name" title="Link to this heading">#</a></h1>
<p>Konstruktor. Wywo≈Çuje konstruktor klasy bazowej i inicjalizuje dodatkowe zmienne, takie jak <code class="docutils literal notranslate"><span class="pre">m_startTime</span></code>, kt√≥ry jest u≈ºywany do animacji opartych na czasie w shaderach.</p>
</section>
<section id="void-paintershaderprogram-setupuniforms">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::setupUniforms()</span></code><a class="headerlink" href="#void-paintershaderprogram-setupuniforms" title="Link to this heading">#</a></h1>
</section>
<section id="id436">
<h1>Opis semantyczny<a class="headerlink" href="#id436" title="Link to this heading">#</a></h1>
<p>Wirtualna metoda, kt√≥ra po zlinkowaniu programu shadera wyszukuje lokalizacje standardowych uniform√≥w (<code class="docutils literal notranslate"><span class="pre">u_TransformMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">u_ProjectionMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">u_Color</span></code>, <code class="docutils literal notranslate"><span class="pre">u_Tex0</span></code> itd.) i przypisuje im domy≈õlne warto≈õci.</p>
</section>
<section id="bool-paintershaderprogram-link">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">PainterShaderProgram::link()</span></code><a class="headerlink" href="#bool-paintershaderprogram-link" title="Link to this heading">#</a></h1>
<p>Przes≈Çania metodƒô z <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>.</p>
<ol class="arabic simple">
<li><p>Ustawia <code class="docutils literal notranslate"><span class="pre">m_startTime</span></code>.</p></li>
<li><p>WiƒÖ≈ºe standardowe lokalizacje atrybut√≥w (<code class="docutils literal notranslate"><span class="pre">VERTEX_ATTR</span></code>, <code class="docutils literal notranslate"><span class="pre">TEXCOORD_ATTR</span></code>, etc.) z ich nazwami w shaderze.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">ShaderProgram::link()</span></code>.</p></li>
<li><p>Je≈õli linkowanie siƒô powiedzie, bindowanie program i wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">setupUniforms()</span></code>.</p></li>
</ol>
</section>
<section id="metody-set">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">set...()</span></code><a class="headerlink" href="#metody-set" title="Link to this heading">#</a></h1>
<p>SƒÖ to metody do ustawiania warto≈õci uniform√≥w. Ka≈ºda z nich:</p>
<ol class="arabic simple">
<li><p>Sprawdza, czy nowa warto≈õƒá r√≥≈ºni siƒô od aktualnie przechowywanej, aby uniknƒÖƒá zbƒôdnych wywo≈Ça≈Ñ <code class="docutils literal notranslate"><span class="pre">glUniform...</span></code>.</p></li>
<li><p>Bindowanie program shadera (<code class="docutils literal notranslate"><span class="pre">bind()</span></code>).</p></li>
<li><p>Ustawia nowƒÖ warto≈õƒá uniformu w OpenGL.</p></li>
<li><p>Aktualizuje przechowywanƒÖ warto≈õƒá.</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setTransformMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">setProjectionMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">setTextureMatrix</span></code>: UstawiajƒÖ macierze.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setColor</span></code>: Ustawia g≈Ç√≥wny kolor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setMatrixColor</span></code>: Ustawia macierz kolor√≥w (dla shadera stroj√≥w).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setResolution</span></code>: Ustawia rozdzielczo≈õƒá (przydatne do efekt√≥w zale≈ºnych od pikseli).</p></li>
<li><p>‚Ä¶ i inne.</p></li>
</ul>
</section>
<section id="void-paintershaderprogram-updatetime">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::updateTime()</span></code><a class="headerlink" href="#void-paintershaderprogram-updatetime" title="Link to this heading">#</a></h1>
<p>Aktualizuje uniform <code class="docutils literal notranslate"><span class="pre">u_Time</span></code>, przekazujƒÖc do shadera czas, jaki up≈ÇynƒÖ≈Ç od jego utworzenia. Pozwala to na tworzenie animowanych efekt√≥w w shaderach.</p>
</section>
<section id="void-paintershaderprogram-addmultitexture-i-void-paintershaderprogram-bindmultitextures">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::addMultiTexture(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::bindMultiTextures()</span></code><a class="headerlink" href="#void-paintershaderprogram-addmultitexture-i-void-paintershaderprogram-bindmultitextures" title="Link to this heading">#</a></h1>
<p>Metody do obs≈Çugi dodatkowych tekstur (multi-texturing). <code class="docutils literal notranslate"><span class="pre">addMultiTexture</span></code> ≈Çaduje teksturƒô i dodaje jƒÖ do listy. <code class="docutils literal notranslate"><span class="pre">bindMultiTextures</span></code> aktywuje te tekstury na kolejnych jednostkach teksturujƒÖcych (od <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE1</span></code> wzwy≈º), aby mog≈Çy byƒá u≈ºywane w shaderze.</p>
</section>
<section id="id437">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id437" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/paintershaderprogram.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: ≈öci≈õle wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, kt√≥ry ustawia jej uniformy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>, <code class="docutils literal notranslate"><span class="pre">texturemanager.h</span></code>: Do ≈Çadowania i zarzƒÖdzania dodatkowymi teksturami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Do ≈õledzenia czasu dla animacji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="paintershaderprogram-h">
<h1>üìÑ paintershaderprogram.h<a class="headerlink" href="#paintershaderprogram-h" title="Link to this heading">#</a></h1>
</section>
<section id="id438">
<h1>Opis og√≥lny<a class="headerlink" href="#id438" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">paintershaderprogram.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>, kt√≥ra jest wyspecjalizowanƒÖ wersjƒÖ <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>, dostosowanƒÖ do potrzeb <code class="docutils literal notranslate"><span class="pre">Painter</span></code>. Definiuje ona standardowy zestaw uniform√≥w i atrybut√≥w u≈ºywanych w shaderach 2D.</p>
</section>
<section id="id439">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code><a class="headerlink" href="#id439" title="Link to this heading">#</a></h1>
</section>
<section id="id440">
<h1>Opis semantyczny<a class="headerlink" href="#id440" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code> i dodaje do niej warstwƒô abstrakcji specyficznƒÖ dla <code class="docutils literal notranslate"><span class="pre">Painter</span></code>. Zamiast odwo≈Çywaƒá siƒô do uniform√≥w po nazwach (stringach), udostƒôpnia dedykowane metody <code class="docutils literal notranslate"><span class="pre">set...()</span></code>, kt√≥re operujƒÖ na predefiniowanych, zbuforowanych lokalizacjach. Upraszcza to kod <code class="docutils literal notranslate"><span class="pre">Painter</span></code> i potencjalnie zwiƒôksza wydajno≈õƒá.</p>
</section>
<section id="id441">
<h1>Typy wyliczeniowe (Enums)<a class="headerlink" href="#id441" title="Link to this heading">#</a></h1>
<p>Definiuje sta≈Çe dla lokalizacji standardowych atrybut√≥w i uniform√≥w, co pozwala na ich efektywne buforowanie.</p>
<ul class="simple">
<li><p><strong>Atrybuty</strong>: <code class="docutils literal notranslate"><span class="pre">VERTEX_ATTR</span></code>, <code class="docutils literal notranslate"><span class="pre">TEXCOORD_ATTR</span></code>, ‚Ä¶</p></li>
<li><p><strong>Uniformy</strong>: <code class="docutils literal notranslate"><span class="pre">PROJECTION_MATRIX_UNIFORM</span></code>, <code class="docutils literal notranslate"><span class="pre">TEXTURE_MATRIX_UNIFORM</span></code>, <code class="docutils literal notranslate"><span class="pre">COLOR_UNIFORM</span></code>, <code class="docutils literal notranslate"><span class="pre">TEX0_UNIFORM</span></code>, ‚Ä¶</p></li>
</ul>
</section>
<section id="id442">
<h1>Metody publiczne<a class="headerlink" href="#id442" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">PainterShaderProgram(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">link()</span></code></p></td>
<td class="text-left"><p>Przes≈Çania metodƒô bazowƒÖ, aby dodatkowo zmapowaƒá standardowe atrybuty i uniformy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setTransformMatrix(...)</span></code></p></td>
<td class="text-left"><p>Ustawia macierz transformacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setProjectionMatrix(...)</span></code></p></td>
<td class="text-left"><p>Ustawia macierz projekcji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setTextureMatrix(...)</span></code></p></td>
<td class="text-left"><p>Ustawia macierz tekstury.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setColor(...)</span></code></p></td>
<td class="text-left"><p>Ustawia g≈Ç√≥wny kolor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setMatrixColor(...)</span></code></p></td>
<td class="text-left"><p>Ustawia macierz kolor√≥w (dla shadera stroj√≥w).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setDepth(...)</span></code></p></td>
<td class="text-left"><p>Ustawia warto≈õƒá g≈Çƒôbi.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setResolution(...)</span></code></p></td>
<td class="text-left"><p>Ustawia rozdzielczo≈õƒá renderowania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setOffset(...)</span></code></p></td>
<td class="text-left"><p>Ustawia przesuniƒôcie (offset).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">updateTime()</span></code></p></td>
<td class="text-left"><p>Aktualizuje uniform czasu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addMultiTexture(...)</span></code></p></td>
<td class="text-left"><p>Dodaje dodatkowƒÖ teksturƒô do shadera.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bindMultiTextures()</span></code></p></td>
<td class="text-left"><p>Bindowanie wszystkie dodatkowe tekstury.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">clearMultiTextures()</span></code></p></td>
<td class="text-left"><p>Czy≈õci listƒô dodatkowych tekstur.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">enableColorMatrix()</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza tryb macierzy kolor√≥w (dla shadera stroj√≥w).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id443">
<h1>Zmienne prywatne<a class="headerlink" href="#id443" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_startTime</span></code>: Czas utworzenia shadera.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_color</span></code>, <code class="docutils literal notranslate"><span class="pre">m_depth</span></code>, <code class="docutils literal notranslate"><span class="pre">m_transformMatrix</span></code>, ‚Ä¶: PrzechowujƒÖ aktualne warto≈õci uniform√≥w, aby uniknƒÖƒá zbƒôdnych wywo≈Ça≈Ñ <code class="docutils literal notranslate"><span class="pre">glUniform...</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_multiTextures</span></code>: Wektor dodatkowych tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_useColorMatrix</span></code>: Flaga wskazujƒÖca, czy <code class="docutils literal notranslate"><span class="pre">u_Color</span></code> jest macierzƒÖ 4x4.</p></li>
</ul>
</section>
<section id="id444">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id444" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shaderprogram.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/coordsbuffer.h</span></code>: Po≈õrednio, poprzez <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code> jako podstawa dla wszystkich operacji rysowania opartych na shaderach.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="shader-cpp">
<h1>üìÑ shader.cpp<a class="headerlink" href="#shader-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id445">
<h1>Opis og√≥lny<a class="headerlink" href="#id445" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shader.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Shader</span></code>, kt√≥ra jest opakowaniem na pojedynczy obiekt shadera w OpenGL (np. shader wierzcho≈Çk√≥w lub shader fragment√≥w).</p>
</section>
<section id="klasa-shader">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Shader</span></code><a class="headerlink" href="#klasa-shader" title="Link to this heading">#</a></h1>
</section>
<section id="shader-shader-shader-shadertype-shadertype">
<h1><code class="docutils literal notranslate"><span class="pre">Shader::Shader(Shader::ShaderType</span> <span class="pre">shaderType)</span></code><a class="headerlink" href="#shader-shader-shader-shadertype-shadertype" title="Link to this heading">#</a></h1>
<p>Konstruktor.</p>
<ul class="simple">
<li><p><strong>Parametr <code class="docutils literal notranslate"><span class="pre">shaderType</span></code></strong>: Okre≈õla, czy tworzony jest shader wierzcho≈Çk√≥w (<code class="docutils literal notranslate"><span class="pre">Vertex</span></code>) czy fragment√≥w (<code class="docutils literal notranslate"><span class="pre">Fragment</span></code>).</p></li>
<li><p><strong>Dzia≈Çanie</strong>: Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">glCreateShader</span></code> z odpowiednim typem, aby utworzyƒá obiekt shadera w sterowniku graficznym. W przypadku b≈Çƒôdu, ko≈Ñczy aplikacjƒô.</p></li>
</ul>
</section>
<section id="shader-shader">
<h1><code class="docutils literal notranslate"><span class="pre">Shader::~Shader()</span></code><a class="headerlink" href="#shader-shader" title="Link to this heading">#</a></h1>
<p>Destruktor. Zwalnia zas√≥b shadera w OpenGL, wywo≈ÇujƒÖc <code class="docutils literal notranslate"><span class="pre">glDeleteShader</span></code>.</p>
</section>
<section id="bool-shader-compilesourcecode-const-std-string-sourcecode">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Shader::compileSourceCode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">sourceCode)</span></code><a class="headerlink" href="#bool-shader-compilesourcecode-const-std-string-sourcecode" title="Link to this heading">#</a></h1>
</section>
<section id="id446">
<h1>Opis semantyczny<a class="headerlink" href="#id446" title="Link to this heading">#</a></h1>
<p>Kompiluje kod ≈∫r√≥d≈Çowy shadera.</p>
</section>
<section id="id447">
<h1>Dzia≈Çanie<a class="headerlink" href="#id447" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Dla OpenGL ES, dodaje na poczƒÖtku kodu dyrektywƒô <code class="docutils literal notranslate"><span class="pre">precision</span> <span class="pre">highp</span> <span class="pre">float;</span></code>.</p></li>
<li><p>Przekazuje kod ≈∫r√≥d≈Çowy do sterownika za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glShaderSource</span></code>.</p></li>
<li><p>Kompiluje shader za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glCompileShader</span></code>.</p></li>
<li><p>Sprawdza status kompilacji za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glGetShaderiv</span></code>.</p></li>
<li><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code> w przypadku sukcesu, <code class="docutils literal notranslate"><span class="pre">false</span></code> w przeciwnym razie.</p></li>
</ol>
</section>
<section id="bool-shader-compilesourcefile-const-std-string-sourcefile">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Shader::compileSourceFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">sourceFile)</span></code><a class="headerlink" href="#bool-shader-compilesourcefile-const-std-string-sourcefile" title="Link to this heading">#</a></h1>
<p>≈Åaduje kod ≈∫r√≥d≈Çowy z pliku za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_resources</span></code>, a nastƒôpnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">compileSourceCode</span></code>.</p>
</section>
<section id="std-string-shader-log">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Shader::log()</span></code><a class="headerlink" href="#std-string-shader-log" title="Link to this heading">#</a></h1>
<p>Pobiera i zwraca logi kompilatora shadera (<code class="docutils literal notranslate"><span class="pre">glGetShaderInfoLog</span></code>), kt√≥re zawierajƒÖ informacje o b≈Çƒôdach lub ostrze≈ºeniach.</p>
</section>
<section id="id448">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id448" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shader.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do dostƒôpu do funkcji OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Do sprawdzania stanu aplikacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do ≈Çadowania shader√≥w z plik√≥w.</p></li>
<li><p>Obiekty <code class="docutils literal notranslate"><span class="pre">Shader</span></code> sƒÖ tworzone i zarzƒÖdzane przez <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code> (lub <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>), kt√≥ry nastƒôpnie linkuje je w kompletny program shadera.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="shadermanager-h">
<h1>üìÑ shadermanager.h<a class="headerlink" href="#shadermanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id449">
<h1>Opis og√≥lny<a class="headerlink" href="#id449" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shadermanager.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_shaders</span></code>) odpowiedzialnym za zarzƒÖdzanie niestandardowymi programami shader√≥w tworzonymi w skryptach Lua.</p>
</section>
<section id="klasa-shadermanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code><a class="headerlink" href="#klasa-shadermanager" title="Link to this heading">#</a></h1>
</section>
<section id="id450">
<h1>Opis semantyczny<a class="headerlink" href="#id450" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code> dzia≈Ça jako repozytorium dla <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code> tworzonych dynamicznie. Przechowuje je w mapie pod unikalnymi nazwami, co pozwala na ich p√≥≈∫niejsze pobieranie i u≈ºywanie w trakcie renderowania.</p>
</section>
<section id="id451">
<h1>Metody publiczne<a class="headerlink" href="#id451" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje mened≈ºera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Czy≈õci i zwalnia wszystkie za≈Çadowane shadery.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">createShader(...)</span></code></p></td>
<td class="text-left"><p>Tworzy, kompiluje i linkuje nowy <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code> z podanego kodu ≈∫r√≥d≈Çowego (lub plik√≥w). Zapisuje go pod danƒÖ nazwƒÖ.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">createOutfitShader(...)</span></code></p></td>
<td class="text-left"><p>Skr√≥t do <code class="docutils literal notranslate"><span class="pre">createShader</span></code> z w≈ÇƒÖczonƒÖ opcjƒÖ macierzy kolor√≥w, specjalnie dla shader√≥w stroj√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addTexture(...)</span></code></p></td>
<td class="text-left"><p>Dodaje dodatkowƒÖ teksturƒô do istniejƒÖcego programu shadera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span> <span class="pre">getShader(...)</span></code></p></td>
<td class="text-left"><p>Wyszukuje i zwraca wska≈∫nik do programu shadera o podanej nazwie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id452">
<h1>Zmienne prywatne<a class="headerlink" href="#id452" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_shaders</span></code>: Mapa (<code class="docutils literal notranslate"><span class="pre">std::unordered_map</span></code>) przechowujƒÖca wszystkie niestandardowe programy shader√≥w.</p></li>
</ul>
</section>
<section id="id453">
<h1>Zmienne globalne<a class="headerlink" href="#id453" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_shaders</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>.</p></li>
</ul>
</section>
<section id="id454">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id454" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">paintershaderprogram.h</span></code>: Deklaracje klas shader√≥w.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindsingleton</span> <span class="pre">g_shaders</span></code>, co udostƒôpnia jej API (<code class="docutils literal notranslate"><span class="pre">createShader</span></code>, <code class="docutils literal notranslate"><span class="pre">addTexture</span></code>) w skryptach Lua.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (w <code class="docutils literal notranslate"><span class="pre">uiwidgetimage.cpp</span></code>) do rysowania obraz√≥w z niestandardowymi shaderami.</p></li>
<li><p>Wszystkie operacje tworzenia i modyfikacji shader√≥w sƒÖ delegowane do wƒÖtku graficznego za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>, aby zapewniƒá bezpiecze≈Ñstwo wƒÖtkowe.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="shadermanager-cpp">
<h1>üìÑ shadermanager.cpp<a class="headerlink" href="#shadermanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id455">
<h1>Opis og√≥lny<a class="headerlink" href="#id455" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shadermanager.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>, kt√≥ra zarzƒÖdza niestandardowymi programami shader√≥w.</p>
</section>
<section id="id456">
<h1>Zmienne globalne<a class="headerlink" href="#id456" title="Link to this heading">#</a></h1>
</section>
<section id="g-shaders">
<h1><code class="docutils literal notranslate"><span class="pre">g_shaders</span></code><a class="headerlink" href="#g-shaders" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ShaderManager</span><span class="w"> </span><span class="n">g_shaders</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id457">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code><a class="headerlink" href="#id457" title="Link to this heading">#</a></h1>
</section>
<section id="void-shadermanager-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::init()</span></code><a class="headerlink" href="#void-shadermanager-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje mened≈ºera. W obecnej implementacji wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram::release()</span></code>, aby upewniƒá siƒô, ≈ºe ≈ºaden shader nie jest aktywny.</p>
</section>
<section id="void-shadermanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::terminate()</span></code><a class="headerlink" href="#void-shadermanager-terminate" title="Link to this heading">#</a></h1>
<p>Czy≈õci mapƒô <code class="docutils literal notranslate"><span class="pre">m_shaders</span></code>, co powoduje zwolnienie wszystkich niestandardowych program√≥w shader√≥w.</p>
</section>
<section id="void-shadermanager-createshader-const-std-string-name-std-string-vertex-std-string-fragment-bool-colormatrix">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::createShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">std::string</span> <span class="pre">vertex,</span> <span class="pre">std::string</span> <span class="pre">fragment,</span> <span class="pre">bool</span> <span class="pre">colorMatrix)</span></code><a class="headerlink" href="#void-shadermanager-createshader-const-std-string-name-std-string-vertex-std-string-fragment-bool-colormatrix" title="Link to this heading">#</a></h1>
</section>
<section id="id458">
<h1>Opis semantyczny<a class="headerlink" href="#id458" title="Link to this heading">#</a></h1>
<p>Tworzy nowy program shadera. Metoda jest asynchroniczna - dodaje zadanie do dyspozytora graficznego.</p>
</section>
<section id="id459">
<h1>Dzia≈Çanie<a class="headerlink" href="#id459" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy podane stringi <code class="docutils literal notranslate"><span class="pre">vertex</span></code> i <code class="docutils literal notranslate"><span class="pre">fragment</span></code> sƒÖ kodem ≈∫r√≥d≈Çowym (zawierajƒÖ znak nowej linii) czy ≈õcie≈ºkami do plik√≥w.</p></li>
<li><p>Je≈õli sƒÖ to ≈õcie≈ºki, odczytuje zawarto≈õƒá plik√≥w za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_resources</span></code>.</p></li>
<li><p>Dodaje do <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code> zadanie (lambda), kt√≥re:</p>
<ul class="simple">
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram::create</span></code> w celu skompilowania i zlinkowania shadera.</p></li>
<li><p>Je≈õli operacja siƒô powiedzie, dodaje nowo utworzony program do mapy <code class="docutils literal notranslate"><span class="pre">m_shaders</span></code>.</p></li>
</ul>
</li>
</ol>
</section>
<section id="void-shadermanager-addtexture-const-std-string-name-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::addTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#void-shadermanager-addtexture-const-std-string-name-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Dodaje dodatkowƒÖ teksturƒô do istniejƒÖcego shadera. Podobnie jak <code class="docutils literal notranslate"><span class="pre">createShader</span></code>, operacja jest wykonywana asynchronicznie w wƒÖtku graficznym.</p>
</section>
<section id="paintershaderprogramptr-shadermanager-getshader-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span> <span class="pre">ShaderManager::getShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#paintershaderprogramptr-shadermanager-getshader-const-std-string-name" title="Link to this heading">#</a></h1>
<p>Wyszukuje i zwraca program shadera o podanej nazwie. Ta metoda musi byƒá wywo≈Çywana z wƒÖtku graficznego, co jest zapewnione przez <code class="docutils literal notranslate"><span class="pre">VALIDATE_GRAPHICS_THREAD()</span></code>.</p>
</section>
<section id="id460">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id460" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shadermanager.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/paintershaderprogram.h</span></code>: Do tworzenia obiekt√≥w shader√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do ≈Çadowania kodu shader√≥w z plik√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do zapewnienia, ≈ºe operacje na OpenGL sƒÖ wykonywane w wƒÖtku graficznym.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="shader-h">
<h1>üìÑ shader.h<a class="headerlink" href="#shader-h" title="Link to this heading">#</a></h1>
</section>
<section id="id461">
<h1>Opis og√≥lny<a class="headerlink" href="#id461" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shader.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Shader</span></code>, kt√≥ra reprezentuje pojedynczy, skompilowany obiekt shadera w OpenGL (np. shader wierzcho≈Çk√≥w lub fragment√≥w), ale jeszcze nie zlinkowany w pe≈Çny program.</p>
</section>
<section id="id462">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Shader</span></code><a class="headerlink" href="#id462" title="Link to this heading">#</a></h1>
</section>
<section id="id463">
<h1>Opis semantyczny<a class="headerlink" href="#id463" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Shader</span></code> jest niskopoziomowym opakowaniem na ID obiektu shadera w OpenGL. Jego g≈Ç√≥wnym zadaniem jest przyjƒôcie kodu ≈∫r√≥d≈Çowego, skompilowanie go i przechowanie wyniku. Obiekty tej klasy sƒÖ nastƒôpnie ≈ÇƒÖczone w <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>.</p>
</section>
<section id="typ-wyliczeniowy-shadertype">
<h1>Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">ShaderType</span></code><a class="headerlink" href="#typ-wyliczeniowy-shadertype" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Vertex</span></code>: Oznacza shader wierzcho≈Çk√≥w (<code class="docutils literal notranslate"><span class="pre">GL_VERTEX_SHADER</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Fragment</span></code>: Oznacza shader fragment√≥w/pikseli (<code class="docutils literal notranslate"><span class="pre">GL_FRAGMENT_SHADER</span></code>).</p></li>
</ul>
</section>
<section id="id464">
<h1>Metody publiczne<a class="headerlink" href="#id464" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Shader(ShaderType</span> <span class="pre">shaderType)</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy obiekt shadera w OpenGL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~Shader()</span></code></p></td>
<td class="text-left"><p>Destruktor, zwalnia obiekt shadera.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">compileSourceCode(...)</span></code></p></td>
<td class="text-left"><p>Kompiluje shader z podanego kodu ≈∫r√≥d≈Çowego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">compileSourceFile(...)</span></code></p></td>
<td class="text-left"><p>≈Åaduje kod z pliku i go kompiluje.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">log()</span></code></p></td>
<td class="text-left"><p>Zwraca logi kompilatora shadera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getShaderId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID obiektu shadera w OpenGL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ShaderType</span> <span class="pre">getShaderType()</span></code></p></td>
<td class="text-left"><p>Zwraca typ shadera.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id465">
<h1>Zmienne prywatne<a class="headerlink" href="#id465" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_shaderId</span></code>: ID obiektu shadera w OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_shaderType</span></code>: Typ shadera.</p></li>
</ul>
</section>
<section id="id466">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id466" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p>Jest tworzona i u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code> w procesie budowania kompletnego programu shadera.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="textrender-cpp">
<h1>üìÑ textrender.cpp<a class="headerlink" href="#textrender-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id467">
<h1>Opis og√≥lny<a class="headerlink" href="#id467" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">textrender.cpp</span></code> implementuje klasƒô <code class="docutils literal notranslate"><span class="pre">TextRender</span></code>, kt√≥ra jest systemem do optymalizacji renderowania tekstu. Dzia≈Ça jako globalny cache dla geometrii tekstu, aby uniknƒÖƒá ponownego obliczania pozycji glif√≥w w ka≈ºdej klatce dla tekst√≥w, kt√≥re siƒô nie zmieniajƒÖ.</p>
</section>
<section id="id468">
<h1>Zmienne globalne<a class="headerlink" href="#id468" title="Link to this heading">#</a></h1>
</section>
<section id="g-text">
<h1><code class="docutils literal notranslate"><span class="pre">g_text</span></code><a class="headerlink" href="#g-text" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">TextRender</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">TextRender</span><span class="w"> </span><span class="n">g_text</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-textrender">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">TextRender</span></code><a class="headerlink" href="#klasa-textrender" title="Link to this heading">#</a></h1>
</section>
<section id="id469">
<h1>Opis semantyczny<a class="headerlink" href="#id469" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">TextRender</span></code> przechowuje mapƒô (<code class="docutils literal notranslate"><span class="pre">m_cache</span></code>), w kt√≥rej kluczem jest hash wygenerowany na podstawie tre≈õci tekstu, jego rozmiaru, wyr√≥wnania i fontu. Warto≈õciƒÖ jest obiekt <code class="docutils literal notranslate"><span class="pre">TextRenderCache</span></code>, kt√≥ry przechowuje <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z gotowƒÖ geometriƒÖ tekstu. Przy pierwszym ≈ºƒÖdaniu narysowania danego tekstu, geometria jest obliczana i zapisywana w cache. Przy kolejnych ≈ºƒÖdaniach, u≈ºywana jest ju≈º istniejƒÖca geometria. System posiada r√≥wnie≈º mechanizm czyszczenia nieu≈ºywanych wpis√≥w z cache.</p>
</section>
<section id="void-textrender-init-i-void-textrender-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::terminate()</span></code><a class="headerlink" href="#void-textrender-init-i-void-textrender-terminate" title="Link to this heading">#</a></h1>
<p>Metody inicjalizujƒÖce i zwalniajƒÖce cache.</p>
</section>
<section id="void-textrender-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::poll()</span></code><a class="headerlink" href="#void-textrender-poll" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana okresowo. Jej zadaniem jest czyszczenie cache z wpis√≥w, kt√≥re nie by≈Çy u≈ºywane od pewnego czasu. Implementuje prosty mechanizm LRU (Least Recently Used) oparty na czasie ostatniego u≈ºycia (<code class="docutils literal notranslate"><span class="pre">lastUse</span></code>).</p>
</section>
<section id="uint64-t-textrender-addtext">
<h1><code class="docutils literal notranslate"><span class="pre">uint64_t</span> <span class="pre">TextRender::addText(...)</span></code><a class="headerlink" href="#uint64-t-textrender-addtext" title="Link to this heading">#</a></h1>
<p>Generuje unikalny hash dla kombinacji (font, tekst, rozmiar, wyr√≥wnanie) i tworzy dla niego wpis w cache, je≈õli jeszcze nie istnieje. Zwraca wygenerowany hash.</p>
</section>
<section id="void-textrender-drawtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawText(...)</span></code><a class="headerlink" href="#void-textrender-drawtext" title="Link to this heading">#</a></h1>
<p>Wysokopoziomowa metoda do rysowania tekstu. Najpierw wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">addText</span></code>, aby uzyskaƒá/stworzyƒá wpis w cache, a nastƒôpnie wywo≈Çuje drugƒÖ wersjƒô <code class="docutils literal notranslate"><span class="pre">drawText</span></code> z hashem.</p>
</section>
<section id="void-textrender-drawtext-const-point-pos-uint64-t-hash">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawText(const</span> <span class="pre">Point&amp;</span> <span class="pre">pos,</span> <span class="pre">uint64_t</span> <span class="pre">hash,</span> <span class="pre">...)</span></code><a class="headerlink" href="#void-textrender-drawtext-const-point-pos-uint64-t-hash" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda rysujƒÖca.</p>
<ol class="arabic simple">
<li><p>Znajduje wpis w cache na podstawie hasha.</p></li>
<li><p>Je≈õli wpis jest nowy (<code class="docutils literal notranslate"><span class="pre">it‚Üífont</span></code> nie jest <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>), wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">font‚ÜícalculateDrawTextCoords</span></code>, aby wygenerowaƒá geometriƒô, keszuje jƒÖ w <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> (<code class="docutils literal notranslate"><span class="pre">it‚Üícoords.cache()</span></code>) i zwalnia referencje do fontu i tekstu, aby oszczƒôdzaƒá pamiƒôƒá.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">g_painter‚ÜídrawText</span></code>, przekazujƒÖc mu gotowy <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z geometriƒÖ.</p></li>
<li><p>Obs≈Çuguje r√≥wnie≈º rysowanie cienia.</p></li>
</ol>
</section>
<section id="void-textrender-drawcoloredtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawColoredText(...)</span></code><a class="headerlink" href="#void-textrender-drawcoloredtext" title="Link to this heading">#</a></h1>
<p>Dzia≈Ça analogicznie do <code class="docutils literal notranslate"><span class="pre">drawText</span></code>, ale wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">g_painter‚ÜídrawText</span></code> w wersji dla tekstu wielokolorowego.</p>
</section>
<section id="id470">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id470" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/textrender.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_painter</span></code> do finalnego rysowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do walidacji wƒÖtku.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueueItemText</span></code> do renderowania tekstu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="shaderprogram-cpp">
<h1>üìÑ shaderprogram.cpp<a class="headerlink" href="#shaderprogram-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id471">
<h1>Opis og√≥lny<a class="headerlink" href="#id471" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shaderprogram.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code>, kt√≥ra jest podstawowym obiektem do zarzƒÖdzania programami shader√≥w w OpenGL.</p>
</section>
<section id="id472">
<h1>Zmienne globalne<a class="headerlink" href="#id472" title="Link to this heading">#</a></h1>
</section>
<section id="uint-shaderprogram-m-currentprogram">
<h1><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">ShaderProgram::m_currentProgram</span></code><a class="headerlink" href="#uint-shaderprogram-m-currentprogram" title="Link to this heading">#</a></h1>
<p>Statyczna zmienna cz≈Çonkowska, kt√≥ra przechowuje ID aktualnie aktywnego (zbindowanego) programu shadera. S≈Çu≈ºy do unikania zbƒôdnych wywo≈Ça≈Ñ <code class="docutils literal notranslate"><span class="pre">glUseProgram</span></code>, je≈õli ten sam program jest ju≈º aktywny.</p>
</section>
<section id="id473">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code><a class="headerlink" href="#id473" title="Link to this heading">#</a></h1>
</section>
<section id="shaderprogram-shaderprogram-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">ShaderProgram::ShaderProgram(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#shaderprogram-shaderprogram-const-std-string-name" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje nazwƒô, ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_linked</span></code> na <code class="docutils literal notranslate"><span class="pre">false</span></code> i tworzy nowy, pusty obiekt programu shadera w OpenGL za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glCreateProgram()</span></code>.</p>
</section>
<section id="shaderprogram-shaderprogram">
<h1><code class="docutils literal notranslate"><span class="pre">ShaderProgram::~ShaderProgram()</span></code><a class="headerlink" href="#shaderprogram-shaderprogram" title="Link to this heading">#</a></h1>
<p>Destruktor. Zwalnia zas√≥b programu shadera, wywo≈ÇujƒÖc <code class="docutils literal notranslate"><span class="pre">glDeleteProgram()</span></code>.</p>
</section>
<section id="paintershaderprogramptr-shaderprogram-create">
<h1><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span> <span class="pre">ShaderProgram::create(...)</span></code><a class="headerlink" href="#paintershaderprogramptr-shaderprogram-create" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna, kt√≥ra tworzy i konfiguruje <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>. Jest to g≈Ç√≥wny spos√≥b tworzenia shader√≥w w tym frameworku.</p>
</section>
<section id="id474">
<h1>Dzia≈Çanie<a class="headerlink" href="#id474" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>.</p></li>
<li><p>Dodaje i kompiluje shadery wierzcho≈Çk√≥w i fragment√≥w.</p></li>
<li><p>Opcjonalnie w≈ÇƒÖcza tryb macierzy kolor√≥w.</p></li>
<li><p>Linkuje program.</p></li>
<li><p>W przypadku b≈Çƒôd√≥w kompilacji lub linkowania, loguje szczeg√≥≈Çowe informacje i zwraca <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p></li>
</ol>
</section>
<section id="bool-shaderprogram-addshader">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::addShader(...)</span></code><a class="headerlink" href="#bool-shaderprogram-addshader" title="Link to this heading">#</a></h1>
<p>Do≈ÇƒÖcza wcze≈õniej skompilowany obiekt <code class="docutils literal notranslate"><span class="pre">Shader</span></code> do programu za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glAttachShader</span></code>.</p>
</section>
<section id="bool-shaderprogram-addshaderfromsourcecode-i-addshaderfromsourcefile">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::addShaderFromSourceCode(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">addShaderFromSourceFile(...)</span></code><a class="headerlink" href="#bool-shaderprogram-addshaderfromsourcecode-i-addshaderfromsourcefile" title="Link to this heading">#</a></h1>
<p>Metody pomocnicze, kt√≥re tworzƒÖ obiekt <code class="docutils literal notranslate"><span class="pre">Shader</span></code>, kompilujƒÖ go z kodu ≈∫r√≥d≈Çowego lub pliku, a nastƒôpnie dodajƒÖ do programu.</p>
</section>
<section id="bool-shaderprogram-link">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::link()</span></code><a class="headerlink" href="#bool-shaderprogram-link" title="Link to this heading">#</a></h1>
</section>
<section id="id475">
<h1>Opis semantyczny<a class="headerlink" href="#id475" title="Link to this heading">#</a></h1>
<p>Linkuje wszystkie do≈ÇƒÖczone shadery w jeden wykonywalny program.</p>
</section>
<section id="id476">
<h1>Dzia≈Çanie<a class="headerlink" href="#id476" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">glLinkProgram()</span></code>.</p></li>
<li><p>Sprawdza status linkowania za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glGetProgramiv</span></code>.</p></li>
<li><p>Je≈õli wystƒÖpi b≈ÇƒÖd, pobiera i loguje szczeg√≥≈Çowy komunikat b≈Çƒôdu z <code class="docutils literal notranslate"><span class="pre">glGetProgramInfoLog</span></code>.</p></li>
<li><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code> w przypadku sukcesu.</p></li>
</ol>
</section>
<section id="bool-shaderprogram-bind">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::bind()</span></code><a class="headerlink" href="#bool-shaderprogram-bind" title="Link to this heading">#</a></h1>
<p>Aktywuje program shadera w potoku renderowania OpenGL za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glUseProgram</span></code>. Dziƒôki <code class="docutils literal notranslate"><span class="pre">m_currentProgram</span></code>, faktyczne wywo≈Çanie <code class="docutils literal notranslate"><span class="pre">glUseProgram</span></code> nastƒôpuje tylko wtedy, gdy zmieniany jest program.</p>
</section>
<section id="void-shaderprogram-release">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderProgram::release()</span></code><a class="headerlink" href="#void-shaderprogram-release" title="Link to this heading">#</a></h1>
<p>Deaktywuje jakikolwiek aktywny program shadera (<code class="docutils literal notranslate"><span class="pre">glUseProgram(0)</span></code>).</p>
</section>
<section id="metody-location-i-set-value">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">...Location(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">set...Value(...)</span></code><a class="headerlink" href="#metody-location-i-set-value" title="Link to this heading">#</a></h1>
<p>ImplementujƒÖ interfejs do pracy z atrybutami i uniformami w shaderze, opakowujƒÖc odpowiednie funkcje OpenGL (<code class="docutils literal notranslate"><span class="pre">glGetAttribLocation</span></code>, <code class="docutils literal notranslate"><span class="pre">glBindAttribLocation</span></code>, <code class="docutils literal notranslate"><span class="pre">glGetUniformLocation</span></code>, <code class="docutils literal notranslate"><span class="pre">glUniform...</span></code>, <code class="docutils literal notranslate"><span class="pre">glVertexAttrib...</span></code>).</p>
</section>
<section id="id477">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id477" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/shaderprogram.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do sprawdzania b≈Çƒôd√≥w i dostƒôpu do informacji o sterowniku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Do sprawdzania stanu aplikacji.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>.</p></li>
<li><p>Jest zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="texture-cpp">
<h1>üìÑ texture.cpp<a class="headerlink" href="#texture-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id478">
<h1>Opis og√≥lny<a class="headerlink" href="#id478" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">texture.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, kt√≥ra jest obiektowym opakowaniem na teksturƒô w OpenGL. Odpowiada za tworzenie, ≈Çadowanie danych, ustawianie parametr√≥w i zwalnianie zasob√≥w tekstury w pamiƒôci karty graficznej.</p>
</section>
<section id="id479">
<h1>Zmienne globalne<a class="headerlink" href="#id479" title="Link to this heading">#</a></h1>
</section>
<section id="uint-texture-uniqueid">
<h1><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">Texture::uniqueId</span></code><a class="headerlink" href="#uint-texture-uniqueid" title="Link to this heading">#</a></h1>
<p>Statyczny licznik u≈ºywany do przypisywania unikalnego ID ka≈ºdej nowo utworzonej teksturze. Jest to przydatne do szybkiego por√≥wnywania tekstur.</p>
</section>
<section id="klasa-texture">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Texture</span></code><a class="headerlink" href="#klasa-texture" title="Link to this heading">#</a></h1>
</section>
<section id="texture-texture">
<h1><code class="docutils literal notranslate"><span class="pre">Texture::Texture(...)</span></code><a class="headerlink" href="#texture-texture" title="Link to this heading">#</a></h1>
<p>Konstruktory.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Texture(const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">...)</span></code></strong>: Tworzy pustƒÖ teksturƒô o podanych wymiarach.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Texture(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">image,</span> <span class="pre">...)</span></code></strong>: Tworzy teksturƒô na podstawie obiektu <code class="docutils literal notranslate"><span class="pre">Image</span></code>.</p></li>
<li><p><strong>Dzia≈Çanie</strong>: InicjalizujƒÖ pola, przypisujƒÖ unikalne ID i zwiƒôkszajƒÖ globalny licznik tekstur w <code class="docutils literal notranslate"><span class="pre">g_stats</span></code>.</p></li>
</ul>
</section>
<section id="id480">
<h1><code class="docutils literal notranslate"><span class="pre">Texture::~Texture()</span></code><a class="headerlink" href="#id480" title="Link to this heading">#</a></h1>
<p>Destruktor. Dodaje zadanie usuniƒôcia tekstury z pamiƒôci GPU do kolejki dyspozytora graficznego (<code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>), co zapewnia bezpiecze≈Ñstwo wƒÖtkowe. Zmniejsza globalny licznik tekstur.</p>
</section>
<section id="void-texture-replace-const-imageptr-image">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::replace(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">image)</span></code><a class="headerlink" href="#void-texture-replace-const-imageptr-image" title="Link to this heading">#</a></h1>
<p>Zastƒôpuje zawarto≈õƒá tekstury nowym obrazem. Stara tekstura w OpenGL jest zwalniana, a nowa zostanie utworzona przy nastƒôpnym wywo≈Çaniu <code class="docutils literal notranslate"><span class="pre">update()</span></code>.</p>
</section>
<section id="void-texture-resize-const-size-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-texture-resize-const-size-size" title="Link to this heading">#</a></h1>
<p>Zmienia rozmiar istniejƒÖcej tekstury, ponownie alokujƒÖc dla niej pamiƒôƒá w GPU za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glTexImage2D</span></code> z <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> jako danymi pikseli.</p>
</section>
<section id="void-texture-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::update()</span></code><a class="headerlink" href="#void-texture-update" title="Link to this heading">#</a></h1>
</section>
<section id="id481">
<h1>Opis semantyczny<a class="headerlink" href="#id481" title="Link to this heading">#</a></h1>
<p>Kluczowa metoda, kt√≥ra dba o to, aby obiekt tekstury w OpenGL by≈Ç poprawnie zainicjalizowany i skonfigurowany. Musi byƒá wywo≈Çywana przed pierwszym u≈ºyciem tekstury.</p>
</section>
<section id="id482">
<h1>Dzia≈Çanie<a class="headerlink" href="#id482" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>Je≈õli tekstura nie istnieje (<code class="docutils literal notranslate"><span class="pre">m_id</span> <span class="pre">==</span> <span class="pre">0</span></code>)</strong>:</p>
<ul class="simple">
<li><p>Generuje nowe ID tekstury (<code class="docutils literal notranslate"><span class="pre">glGenTextures</span></code>).</p></li>
<li><p>Bindowanie teksturƒô.</p></li>
<li><p>Je≈õli <code class="docutils literal notranslate"><span class="pre">m_image</span></code> istnieje, przesy≈Ça jego dane pikseli do GPU za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">setupPixels</span></code>, generujƒÖc mipmapy, je≈õli to wymagane. Nastƒôpnie zwalnia <code class="docutils literal notranslate"><span class="pre">m_image</span></code>, aby oszczƒôdzaƒá RAM.</p></li>
<li><p>Je≈õli nie ma obrazu, tworzy pustƒÖ teksturƒô.</p></li>
</ul>
</li>
<li><p><strong>Je≈õli <code class="docutils literal notranslate"><span class="pre">m_needsUpdate</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code></strong>:</p>
<ul class="simple">
<li><p>Bindowanie teksturƒô.</p></li>
<li><p>Ustawia parametry zawijania (<code class="docutils literal notranslate"><span class="pre">setupWrap</span></code>).</p></li>
<li><p>Ustawia parametry filtrowania (<code class="docutils literal notranslate"><span class="pre">setupFilters</span></code>).</p></li>
<li><p>Aktualizuje macierz transformacji (<code class="docutils literal notranslate"><span class="pre">setupTranformMatrix</span></code>).</p></li>
<li><p>Resetuje flagƒô <code class="docutils literal notranslate"><span class="pre">m_needsUpdate</span></code>.</p></li>
</ul>
</li>
</ol>
</section>
<section id="void-texture-setsmooth-bool-smooth-i-void-texture-setrepeat-bool-repeat">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::setSmooth(bool</span> <span class="pre">smooth)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::setRepeat(bool</span> <span class="pre">repeat)</span></code><a class="headerlink" href="#void-texture-setsmooth-bool-smooth-i-void-texture-setrepeat-bool-repeat" title="Link to this heading">#</a></h1>
<p>UstawiajƒÖ flagi, kt√≥re zostanƒÖ zastosowane do parametr√≥w tekstury (<code class="docutils literal notranslate"><span class="pre">GL_TEXTURE_MIN/MAG_FILTER</span></code>, <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE_WRAP_S/T</span></code>) podczas nastƒôpnego wywo≈Çania <code class="docutils literal notranslate"><span class="pre">update()</span></code>.</p>
</section>
<section id="metody-setup">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">setup...()</span></code><a class="headerlink" href="#metody-setup" title="Link to this heading">#</a></h1>
<p>Prywatne metody pomocnicze, kt√≥re wywo≈ÇujƒÖ odpowiednie funkcje OpenGL do konfiguracji tekstury:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setupSize()</span></code>: Sprawdza, czy rozmiar nie przekracza limit√≥w GPU.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setupWrap()</span></code>: Ustawia <code class="docutils literal notranslate"><span class="pre">glTexParameteri</span></code> dla <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE_WRAP_S/T</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setupFilters()</span></code>: Ustawia <code class="docutils literal notranslate"><span class="pre">glTexParameteri</span></code> dla <code class="docutils literal notranslate"><span class="pre">GL_TEXTURE_MIN/MAG_FILTER</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setupTranformMatrix()</span></code>: Oblicza macierz do transformacji wsp√≥≈Çrzƒôdnych tekstury (np. w celu odwr√≥cenia jej w osi Y).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setupPixels()</span></code>: Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">glTexImage2D</span></code> do przes≈Çania danych pikseli.</p></li>
</ul>
</section>
<section id="id483">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id483" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code>: Do operacji OpenGL i sprawdzania limit√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/image.h</span></code>: U≈ºywana jako ≈∫r√≥d≈Ço danych pikseli.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="texture-h">
<h1>üìÑ texture.h<a class="headerlink" href="#texture-h" title="Link to this heading">#</a></h1>
</section>
<section id="id484">
<h1>Opis og√≥lny<a class="headerlink" href="#id484" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">texture.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, kt√≥ra jest obiektowym interfejsem do zarzƒÖdzania teksturami w OpenGL.</p>
</section>
<section id="id485">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Texture</span></code><a class="headerlink" href="#id485" title="Link to this heading">#</a></h1>
</section>
<section id="id486">
<h1>Opis semantyczny<a class="headerlink" href="#id486" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Texture</span></code> enkapsuluje ID tekstury w OpenGL oraz jej w≈Ça≈õciwo≈õci, takie jak rozmiar, wyg≈Çadzanie (filtrowanie), powtarzanie (wrapping) i mipmapy. Dostarcza metody do tworzenia tekstury z obiektu <code class="docutils literal notranslate"><span class="pre">Image</span></code> lub jako pustej tekstury (np. dla bufora ramki). Metoda <code class="docutils literal notranslate"><span class="pre">update()</span></code> jest kluczowa i synchronizuje stan obiektu C++ z rzeczywistym stanem tekstury w pamiƒôci GPU.</p>
</section>
<section id="id487">
<h1>Metody publiczne<a class="headerlink" href="#id487" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Texture(...)</span></code></p></td>
<td class="text-left"><p>Konstruktory.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~Texture()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">replace(...)</span></code></p></td>
<td class="text-left"><p>Zastƒôpuje zawarto≈õƒá tekstury nowym obrazem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(...)</span></code></p></td>
<td class="text-left"><p>Zmienia rozmiar tekstury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">update()</span></code></p></td>
<td class="text-left"><p>Tworzy lub aktualizuje parametry tekstury w OpenGL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setUpsideDown(...)</span></code></p></td>
<td class="text-left"><p>Ustawia, czy tekstura ma byƒá odwr√≥cona.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setSmooth(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wyg≈Çadzanie (filtrowanie liniowe/najbli≈ºszego sƒÖsiada).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setRepeat(...)</span></code></p></td>
<td class="text-left"><p>Ustawia tryb powtarzania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">buildHardwareMipmaps()</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza generowanie mipmap przez GPU.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID tekstury w OpenGL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getUniqueId()</span></code></p></td>
<td class="text-left"><p>Zwraca unikalne ID obiektu w aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">getSize()</span></code></p></td>
<td class="text-left"><p>Zwraca rozmiar tekstury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">Matrix3&amp;</span> <span class="pre">getTransformMatrix()</span></code></p></td>
<td class="text-left"><p>Zwraca macierz transformacji dla wsp√≥≈Çrzƒôdnych tekstury.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isEmpty()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy tekstura jest pusta.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">canCache()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli teksturƒô mo≈ºna umie≈õciƒá w atlasie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">isAnimatedTexture()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code> (przes≈Çaniane przez <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id488">
<h1>Zmienne chronione<a class="headerlink" href="#id488" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_id</span></code>: ID tekstury w OpenGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_uniqueId</span></code>: Unikalne ID w aplikacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Rozmiar tekstury.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_transformMatrix</span></code>: Macierz transformacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_hasMipmaps</span></code>, <code class="docutils literal notranslate"><span class="pre">m_smooth</span></code>, <code class="docutils literal notranslate"><span class="pre">m_upsideDown</span></code>, <code class="docutils literal notranslate"><span class="pre">m_repeat</span></code>, ‚Ä¶: Flagi stanu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_image</span></code>: Wska≈∫nik na <code class="docutils literal notranslate"><span class="pre">Image</span></code>, u≈ºywany tylko podczas tworzenia tekstury.</p></li>
</ul>
</section>
<section id="id489">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id489" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Definicje typ√≥w, np. <code class="docutils literal notranslate"><span class="pre">ImagePtr</span></code>.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>, <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> i inne komponenty do rysowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="texturemanager-cpp">
<h1>üìÑ texturemanager.cpp<a class="headerlink" href="#texturemanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id490">
<h1>Opis og√≥lny<a class="headerlink" href="#id490" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">texturemanager.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_textures</span></code>) odpowiedzialnym za zarzƒÖdzanie teksturami w aplikacji. Dzia≈Ça jako cache, aby zapobiec wielokrotnemu ≈Çadowaniu tych samych tekstur z dysku.</p>
</section>
<section id="id491">
<h1>Zmienne globalne<a class="headerlink" href="#id491" title="Link to this heading">#</a></h1>
</section>
<section id="g-textures">
<h1><code class="docutils literal notranslate"><span class="pre">g_textures</span></code><a class="headerlink" href="#g-textures" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">TextureManager</span><span class="w"> </span><span class="n">g_textures</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="klasa-texturemanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code><a class="headerlink" href="#klasa-texturemanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-texturemanager-init-i-void-texturemanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::terminate()</span></code><a class="headerlink" href="#void-texturemanager-init-i-void-texturemanager-terminate" title="Link to this heading">#</a></h1>
<p>Metody do inicjalizacji i zwalniania mened≈ºera. <code class="docutils literal notranslate"><span class="pre">terminate()</span></code> czy≈õci wszystkie zbuforowane tekstury.</p>
</section>
<section id="void-texturemanager-clearcache">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::clearCache()</span></code><a class="headerlink" href="#void-texturemanager-clearcache" title="Link to this heading">#</a></h1>
<p>Czy≈õci wszystkie zbuforowane tekstury, w tym animowane.</p>
</section>
<section id="void-texturemanager-reload">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::reload()</span></code><a class="headerlink" href="#void-texturemanager-reload" title="Link to this heading">#</a></h1>
<p>Prze≈Çadowuje wszystkie za≈Çadowane tekstury z ich oryginalnych plik√≥w. Jest to przydatne do ‚Äûhot-reloading‚Äù zasob√≥w.</p>
</section>
<section id="textureptr-texturemanager-gettexture-const-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">TextureManager::getTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code><a class="headerlink" href="#textureptr-texturemanager-gettexture-const-std-string-filename" title="Link to this heading">#</a></h1>
</section>
<section id="id492">
<h1>Opis semantyczny<a class="headerlink" href="#id492" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda do pobierania tekstury. Dzia≈Ça jak ‚Äûget-or-load‚Äù.</p>
</section>
<section id="id493">
<h1>Dzia≈Çanie<a class="headerlink" href="#id493" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy tekstura o podanej nazwie (<code class="docutils literal notranslate"><span class="pre">fileName</span></code>) jest ju≈º w cache (<code class="docutils literal notranslate"><span class="pre">m_textures</span></code>). Je≈õli tak, zwraca jƒÖ.</p></li>
<li><p>Je≈õli nie, rozwiƒÖzuje pe≈ÇnƒÖ ≈õcie≈ºkƒô do pliku za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_resources</span></code>.</p></li>
<li><p>Ponownie sprawdza cache, tym razem z pe≈ÇnƒÖ ≈õcie≈ºkƒÖ.</p></li>
<li><p>Je≈õli tekstury wciƒÖ≈º nie ma, pr√≥buje jƒÖ za≈Çadowaƒá z pliku:</p>
<ul class="simple">
<li><p>Odczytuje plik do strumienia w pamiƒôci.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">loadTexture()</span></code>, aby sparsowaƒá dane (APNG) i utworzyƒá obiekt <code class="docutils literal notranslate"><span class="pre">Texture</span></code> lub <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>.</p></li>
</ul>
</li>
<li><p>Je≈õli ≈Çadowanie siƒô powiedzie, dodaje nowƒÖ teksturƒô do cache pod obiema nazwami (oryginalnƒÖ i pe≈ÇnƒÖ ≈õcie≈ºkƒÖ) i zwraca jƒÖ.</p></li>
<li><p>W przypadku b≈Çƒôdu, loguje go i zwraca <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p></li>
</ol>
</section>
<section id="textureptr-texturemanager-loadtexture-std-stringstream-file-const-std-string-source">
<h1><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">TextureManager::loadTexture(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code><a class="headerlink" href="#textureptr-texturemanager-loadtexture-std-stringstream-file-const-std-string-source" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza, kt√≥ra parsuje strumie≈Ñ danych APNG za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">load_apng</span></code>.</p>
<ul class="simple">
<li><p>Je≈õli plik zawiera jednƒÖ klatkƒô, tworzy <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p>Je≈õli plik zawiera wiele klatek, tworzy <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code>.</p></li>
</ul>
</section>
<section id="id494">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id494" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texturemanager.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/animatedtexture.h</span></code>, <code class="docutils literal notranslate"><span class="pre">image.h</span></code>: Do tworzenia obiekt√≥w tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do odczytywania plik√≥w tekstur.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/apngloader.h</span></code>: Do parsowania formatu APNG.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code> i inne komponenty, kt√≥re potrzebujƒÖ wy≈õwietlaƒá obrazy.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="vertexarray-h">
<h1>üìÑ vertexarray.h<a class="headerlink" href="#vertexarray-h" title="Link to this heading">#</a></h1>
</section>
<section id="id495">
<h1>Opis og√≥lny<a class="headerlink" href="#id495" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">vertexarray.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code>, kt√≥ra jest prostym, dynamicznym buforem na wsp√≥≈Çrzƒôdne wierzcho≈Çk√≥w (<code class="docutils literal notranslate"><span class="pre">float</span></code>). S≈Çu≈ºy do gromadzenia geometrii przed wys≈Çaniem jej do renderowania.</p>
</section>
<section id="klasa-vertexarray">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code><a class="headerlink" href="#klasa-vertexarray" title="Link to this heading">#</a></h1>
</section>
<section id="id496">
<h1>Opis semantyczny<a class="headerlink" href="#id496" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> to opakowanie na <code class="docutils literal notranslate"><span class="pre">DataBuffer&lt;float&gt;</span></code>, zoptymalizowane do przechowywania par wsp√≥≈Çrzƒôdnych (X, Y). Udostƒôpnia metody do dodawania popularnych prymityw√≥w 2D (tr√≥jkƒÖty, prostokƒÖty) i mo≈ºe opcjonalnie przenie≈õƒá swoje dane do sprzƒôtowego bufora VBO (<code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code>) w celu zwiƒôkszenia wydajno≈õci.</p>
</section>
<section id="id497">
<h1>Metody publiczne<a class="headerlink" href="#id497" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">VertexArray()</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~VertexArray()</span></code></p></td>
<td class="text-left"><p>Destruktor, zwalnia <code class="docutils literal notranslate"><span class="pre">m_hardwareBuffer</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">VertexArray(VertexArray&amp;</span> <span class="pre">c)</span></code></p></td>
<td class="text-left"><p>Konstruktor kopiujƒÖcy (kopiuje tylko dane z <code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>, nie <code class="docutils literal notranslate"><span class="pre">m_hardwareBuffer</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addVertex(float</span> <span class="pre">x,</span> <span class="pre">float</span> <span class="pre">y)</span></code></p></td>
<td class="text-left"><p>Dodaje pojedynczy wierzcho≈Çek.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addTriangle(...)</span></code></p></td>
<td class="text-left"><p>Dodaje trzy wierzcho≈Çki tworzƒÖce tr√≥jkƒÖt.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addRect(...)</span></code></p></td>
<td class="text-left"><p>Dodaje sze≈õƒá wierzcho≈Çk√≥w tworzƒÖcych dwa tr√≥jkƒÖty (prostokƒÖt).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addQuad(...)</span></code></p></td>
<td class="text-left"><p>Dodaje cztery wierzcho≈Çki tworzƒÖce czworokƒÖt (dla <code class="docutils literal notranslate"><span class="pre">TriangleStrip</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Czy≈õci bufor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">*vertices()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik na surowe dane.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">vertexCount()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô wierzcho≈Çk√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">cache()</span></code></p></td>
<td class="text-left"><p>Kopiuje dane z bufora RAM do bufora VBO na karcie graficznej.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isCached()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli dane zosta≈Çy skopiowane do VBO.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HardwareBuffer*</span> <span class="pre">getHardwareCache()</span></code></p></td>
<td class="text-left"><p>Zwraca wska≈∫nik na obiekt <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id498">
<h1>Zmienne prywatne<a class="headerlink" href="#id498" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Bufor <code class="docutils literal notranslate"><span class="pre">DataBuffer&lt;float&gt;</span></code> przechowujƒÖcy wsp√≥≈Çrzƒôdne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_hardwareBuffer</span></code>: Wska≈∫nik na opcjonalny bufor VBO.</p></li>
</ul>
</section>
<section id="id499">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id499" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/hardwarebuffer.h</span></code>: Do sprzƒôtowego keszowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: U≈ºywana jako wewnƒôtrzny kontener.</p></li>
<li><p>Jest podstawowym sk≈Çadnikiem <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code>, kt√≥ry u≈ºywa dw√≥ch instancji <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code> (jednej na pozycje, drugiej na wsp√≥≈Çrzƒôdne tekstur).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="texturemanager-h">
<h1>üìÑ texturemanager.h<a class="headerlink" href="#texturemanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id500">
<h1>Opis og√≥lny<a class="headerlink" href="#id500" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">texturemanager.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_textures</span></code>) odpowiedzialnym za zarzƒÖdzanie (≈Çadowanie, cachowanie, zwalnianie) teksturami w aplikacji.</p>
</section>
<section id="id501">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code><a class="headerlink" href="#id501" title="Link to this heading">#</a></h1>
</section>
<section id="id502">
<h1>Opis semantyczny<a class="headerlink" href="#id502" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">TextureManager</span></code> dzia≈Ça jako centralne repozytorium tekstur. Gdy jaka≈õ czƒô≈õƒá kodu prosi o teksturƒô z pliku, mened≈ºer najpierw sprawdza, czy nie zosta≈Ça ona ju≈º za≈Çadowana. Je≈õli tak, zwraca istniejƒÖcƒÖ instancjƒô. Je≈õli nie, ≈Çaduje jƒÖ z dysku, zapisuje w swojej pamiƒôci podrƒôcznej (cache) i zwraca. Zapobiega to wielokrotnemu ≈Çadowaniu tych samych zasob√≥w i marnowaniu pamiƒôci.</p>
</section>
<section id="id503">
<h1>Metody publiczne<a class="headerlink" href="#id503" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje mened≈ºera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia wszystkie za≈Çadowane tekstury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clearCache()</span></code></p></td>
<td class="text-left"><p>Czy≈õci pamiƒôƒá podrƒôcznƒÖ tekstur.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">reload()</span></code></p></td>
<td class="text-left"><p>Prze≈Çadowuje wszystkie tekstury z plik√≥w, umo≈ºliwiajƒÖc ‚Äûhot-reloading‚Äù.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">preload(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td class="text-left"><p>Skr√≥t do <code class="docutils literal notranslate"><span class="pre">getTexture</span></code>, kt√≥ry ≈Çaduje teksturƒô do cache, ale nie zwraca jej.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">getTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td class="text-left"><p>Pobiera teksturƒô. Je≈õli nie ma jej w cache, ≈Çaduje jƒÖ.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">loadTexture(...)</span></code></p></td>
<td class="text-left"><p>Niskopoziomowa metoda do tworzenia tekstury ze strumienia danych.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id504">
<h1>Zmienne prywatne<a class="headerlink" href="#id504" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_textures</span></code>: Mapa (<code class="docutils literal notranslate"><span class="pre">std::unordered_map</span></code>) przechowujƒÖca za≈Çadowane tekstury, gdzie kluczem jest nazwa pliku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_animatedTextures</span></code>: Wektor przechowujƒÖcy wska≈∫niki do animowanych tekstur, prawdopodobnie w celu ich aktualizacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_liveReloadEvent</span></code>: Wska≈∫nik na zdarzenie, prawdopodobnie do implementacji ‚Äûlive reload‚Äù.</p></li>
</ul>
</section>
<section id="id505">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id505" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texture.h</span></code>: Definicja <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code>: Deklaracje <code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span></code>.</p></li>
<li><p>Jest to kluczowy mened≈ºer w systemie graficznym, u≈ºywany przez wszystkie komponenty, kt√≥re muszƒÖ wy≈õwietlaƒá obrazy, takie jak <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> czy <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="textrender-h">
<h1>üìÑ textrender.h<a class="headerlink" href="#textrender-h" title="Link to this heading">#</a></h1>
</section>
<section id="id506">
<h1>Opis og√≥lny<a class="headerlink" href="#id506" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">textrender.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">TextRender</span></code>, kt√≥ra jest systemem do optymalizacji renderowania tekstu. Dzia≈Ça jako globalny cache dla geometrii tekstu.</p>
</section>
<section id="struktura-textrendercache">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">TextRenderCache</span></code><a class="headerlink" href="#struktura-textrendercache" title="Link to this heading">#</a></h1>
<p>Przechowuje wszystkie informacje potrzebne do narysowania tekstu, w tym gotowy <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> z geometriƒÖ.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">font</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">BitmapFontPtr</span></code></p></td>
<td class="text-left"><p>Font u≈ºyty do wygenerowania geometrii (zwalniany po pierwszym u≈ºyciu).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Tekst (zwalniany po pierwszym u≈ºyciu).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Size</span></code></p></td>
<td class="text-left"><p>Rozmiar obszaru, w kt√≥rym tekst ma byƒá rysowany.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">align</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span></code></p></td>
<td class="text-left"><p>Wyr√≥wnanie tekstu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">texture</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">TexturePtr</span></code></p></td>
<td class="text-left"><p>Tekstura fontu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">coords</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code></p></td>
<td class="text-left"><p>Zbuforowana geometria tekstu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">lastUse</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span></code></p></td>
<td class="text-left"><p>Czas ostatniego u≈ºycia (do czyszczenia cache).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id507">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">TextRender</span></code><a class="headerlink" href="#id507" title="Link to this heading">#</a></h1>
</section>
<section id="id508">
<h1>Opis semantyczny<a class="headerlink" href="#id508" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">TextRender</span></code> minimalizuje narzut na CPU zwiƒÖzany z obliczaniem pozycji poszczeg√≥lnych glif√≥w dla czƒôsto wy≈õwietlanych tekst√≥w. Zamiast przeliczaƒá geometriƒô w ka≈ºdej klatce, robi to tylko raz, a nastƒôpnie przechowuje wynik w cache.</p>
</section>
<section id="id509">
<h1>Sta≈Çe<a class="headerlink" href="#id509" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">INDEXES</span></code>: Liczba ‚Äûkube≈Çk√≥w‚Äù w hash mapie. U≈ºycie wielu map z osobnymi mutexami ma na celu zmniejszenie rywalizacji o zasoby w ≈õrodowisku wielowƒÖtkowym.</p></li>
</ul>
</section>
<section id="id510">
<h1>Metody publiczne<a class="headerlink" href="#id510" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje i zwalnia system.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Czy≈õci cache z nieu≈ºywanych wpis√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint64_t</span> <span class="pre">addText(...)</span></code></p></td>
<td class="text-left"><p>Generuje hash dla tekstu i tworzy dla niego wpis w cache.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">drawText(...)</span></code></p></td>
<td class="text-left"><p>Rysuje tekst, u≈ºywajƒÖc skeszowanej geometrii.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">drawColoredText(...)</span></code></p></td>
<td class="text-left"><p>Rysuje tekst wielokolorowy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id511">
<h1>Zmienne prywatne<a class="headerlink" href="#id511" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_cache[INDEXES]</span></code>: Tablica map, kt√≥ra przechowuje skeszowane dane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex[INDEXES]</span></code>: Tablica mutex√≥w, po jednym dla ka≈ºdej mapy w <code class="docutils literal notranslate"><span class="pre">m_cache</span></code>.</p></li>
</ul>
</section>
<section id="id512">
<h1>Zmienne globalne<a class="headerlink" href="#id512" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_text</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">TextRender</span></code>.</p></li>
</ul>
</section>
<section id="id513">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id513" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/bitmapfont.h</span></code>, <code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code>: Kluczowe struktury danych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Do ≈õledzenia czasu ostatniego u≈ºycia.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">DrawQueueItemText</span></code> do renderowania tekstu w zoptymalizowany spos√≥b.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="outfits-h">
<h1>üìÑ outfits.h<a class="headerlink" href="#outfits-h" title="Link to this heading">#</a></h1>
</section>
<section id="id514">
<h1>Opis og√≥lny<a class="headerlink" href="#id514" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">outfits.h</span></code> zawiera kod ≈∫r√≥d≈Çowy shader√≥w w postaci sta≈Çych string√≥w, kt√≥re sƒÖ u≈ºywane do renderowania stroj√≥w postaci z niestandardowymi kolorami.</p>
</section>
<section id="shadery">
<h1>Shadery<a class="headerlink" href="#shadery" title="Link to this heading">#</a></h1>
</section>
<section id="glsladvancedoutfitvertexshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslAdvancedOutfitVertexShader</span></code><a class="headerlink" href="#glsladvancedoutfitvertexshader" title="Link to this heading">#</a></h1>
</section>
<section id="opis">
<h1>Opis<a class="headerlink" href="#opis" title="Link to this heading">#</a></h1>
<p>Shader wierzcho≈Çk√≥w dla zaawansowanego renderowania stroj√≥w.</p>
</section>
<section id="id515">
<h1>Dzia≈Çanie<a class="headerlink" href="#id515" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>Atrybuty</strong>: Przyjmuje pozycjƒô wierzcho≈Çka (<code class="docutils literal notranslate"><span class="pre">a_Vertex</span></code>) i jego wsp√≥≈Çrzƒôdne na teksturze (<code class="docutils literal notranslate"><span class="pre">a_TexCoord</span></code>).</p></li>
<li><p><strong>Uniformy</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">u_ProjectionMatrix</span></code>, <code class="docutils literal notranslate"><span class="pre">u_TransformMatrix</span></code>: Standardowe macierze do transformacji pozycji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u_TextureMatrix</span></code>: Do transformacji wsp√≥≈Çrzƒôdnych tekstury.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u_Offset</span></code>, <code class="docutils literal notranslate"><span class="pre">u_Resolution</span></code>: Dodatkowe dane, prawdopodobnie do efekt√≥w.</p></li>
</ul>
</li>
<li><p><strong>Varying</strong>:</p>
<ul class="simple">
<li><p>Przekazuje do shadera fragment√≥w trzy zestawy wsp√≥≈Çrzƒôdnych tekstury:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">v_TexCoord</span></code>: Podstawowe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v_TexCoord2</span></code>: Przesuniƒôte o <code class="docutils literal notranslate"><span class="pre">u_Offset</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v_TexCoord3</span></code>: Wsp√≥≈Çrzƒôdne oparte na rozdzielczo≈õci.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Oblicza finalnƒÖ pozycjƒô wierzcho≈Çka na ekranie (<code class="docutils literal notranslate"><span class="pre">gl_Position</span></code>).</p></li>
</ol>
</section>
<section id="glsladvancedoutfitfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslAdvancedOutfitFragmentShader</span></code><a class="headerlink" href="#glsladvancedoutfitfragmentshader" title="Link to this heading">#</a></h1>
</section>
<section id="id516">
<h1>Opis<a class="headerlink" href="#id516" title="Link to this heading">#</a></h1>
<p>Shader fragment√≥w (pikseli) dla zaawansowanego renderowania stroj√≥w.</p>
</section>
<section id="id517">
<h1>Dzia≈Çanie<a class="headerlink" href="#id517" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera kolor piksela z g≈Ç√≥wnej tekstury (<code class="docutils literal notranslate"><span class="pre">u_Tex0</span></code>) na podstawie <code class="docutils literal notranslate"><span class="pre">v_TexCoord</span></code>.</p></li>
<li><p>Sprawdza kolor piksela z tej samej tekstury, ale w przesuniƒôtym miejscu (<code class="docutils literal notranslate"><span class="pre">v_TexCoord2</span></code>). Je≈õli alfa tego piksela jest wiƒôksza od progu, mno≈ºy finalny kolor przez ≈º√≥≈Çty (<code class="docutils literal notranslate"><span class="pre">vec4(1.0,</span> <span class="pre">1.0,</span> <span class="pre">0.0,</span> <span class="pre">1.0)</span></code>), tworzƒÖc efekt pod≈õwietlenia lub konturu.</p></li>
<li><p>Odrzuca piksel (<code class="docutils literal notranslate"><span class="pre">discard</span></code>), je≈õli jego alfa jest zbyt niska.</p></li>
</ol>
<blockquote>
<div><p><strong>NOTE</strong>: Kod shader√≥w w tym pliku wydaje siƒô byƒá eksperymentalny lub nie w pe≈Çni zaimplementowany w reszcie kodu. Prawdziwy shader do stroj√≥w znajduje siƒô w <code class="docutils literal notranslate"><span class="pre">shadersources.h</span></code>.</p>
</div></blockquote>
</section>
<section id="id518">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id518" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">shaders.h</span></code>.</p></li>
<li><p>Kod jest przeznaczony do u≈ºycia przez <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="newshader-h">
<h1>üìÑ newshader.h<a class="headerlink" href="#newshader-h" title="Link to this heading">#</a></h1>
</section>
<section id="id519">
<h1>Opis og√≥lny<a class="headerlink" href="#id519" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">newshader.h</span></code> zawiera kod ≈∫r√≥d≈Çowy dla nowego, zoptymalizowanego systemu renderowania opartego na <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>. Definiuje shadery wierzcho≈Çk√≥w i fragment√≥w do rysowania geometrii wsadowej, tekstu i linii.</p>
</section>
<section id="id520">
<h1>Shadery<a class="headerlink" href="#id520" title="Link to this heading">#</a></h1>
</section>
<section id="newvertexshader">
<h1><code class="docutils literal notranslate"><span class="pre">newVertexShader</span></code><a class="headerlink" href="#newvertexshader" title="Link to this heading">#</a></h1>
</section>
<section id="id521">
<h1>Opis<a class="headerlink" href="#id521" title="Link to this heading">#</a></h1>
<p>Shader wierzcho≈Çk√≥w dla <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>.</p>
</section>
<section id="id522">
<h1>Dzia≈Çanie<a class="headerlink" href="#id522" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>Atrybuty</strong>: Przyjmuje pozycjƒô (<code class="docutils literal notranslate"><span class="pre">a_Vertex</span></code>), wsp√≥≈Çrzƒôdne tekstury (<code class="docutils literal notranslate"><span class="pre">a_TexCoord</span></code>) i <strong>kolor (<code class="docutils literal notranslate"><span class="pre">a_Color</span></code>)</strong> dla ka≈ºdego wierzcho≈Çka.</p></li>
<li><p><strong>Varying</strong>: Przekazuje wsp√≥≈Çrzƒôdne tekstury i kolor do shadera fragment√≥w.</p></li>
<li><p>Oblicza pozycjƒô wierzcho≈Çka.</p></li>
</ol>
</section>
<section id="newfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">newFragmentShader</span></code><a class="headerlink" href="#newfragmentshader" title="Link to this heading">#</a></h1>
</section>
<section id="id523">
<h1>Opis<a class="headerlink" href="#id523" title="Link to this heading">#</a></h1>
<p>Shader fragment√≥w dla <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>.</p>
</section>
<section id="id524">
<h1>Dzia≈Çanie<a class="headerlink" href="#id524" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy wsp√≥≈Çrzƒôdna X tekstury jest mniejsza od 0. Je≈õli tak, oznacza to, ≈ºe wierzcho≈Çek nie ma tekstury i jego kolorem jest po prostu <code class="docutils literal notranslate"><span class="pre">v_Color</span></code>.</p></li>
<li><p>W przeciwnym razie, pobiera kolor z tekstury atlasu (<code class="docutils literal notranslate"><span class="pre">u_Atlas</span></code>) i mno≈ºy go przez kolor wierzcho≈Çka (<code class="docutils literal notranslate"><span class="pre">v_Color</span></code>).</p></li>
</ol>
</section>
<section id="textvertexshader-i-textfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">textVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">textFragmentShader</span></code><a class="headerlink" href="#textvertexshader-i-textfragmentshader" title="Link to this heading">#</a></h1>
<p>Shadery zoptymalizowane do rysowania tekstu. Wierzcho≈Çki sƒÖ przesuwane o <code class="docutils literal notranslate"><span class="pre">u_Offset</span></code> (pozycja tekstu na ekranie), a kolor jest jednolity dla ca≈Çego tekstu (<code class="docutils literal notranslate"><span class="pre">u_Color</span></code>).</p>
</section>
<section id="linevertexshader-i-linefragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">lineVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">lineFragmentShader</span></code><a class="headerlink" href="#linevertexshader-i-linefragmentshader" title="Link to this heading">#</a></h1>
<p>Proste shadery do rysowania linii. Shader fragment√≥w po prostu ustawia jednolity kolor <code class="docutils literal notranslate"><span class="pre">u_Color</span></code>.</p>
</section>
<section id="id525">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id525" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">shaders.h</span></code>.</p></li>
<li><p>Shadery te sƒÖ kompilowane i u≈ºywane przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do implementacji <code class="docutils literal notranslate"><span class="pre">drawCache</span></code>, <code class="docutils literal notranslate"><span class="pre">drawText</span></code> i <code class="docutils literal notranslate"><span class="pre">drawLine</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="shaders-h">
<h1>üìÑ shaders.h<a class="headerlink" href="#shaders-h" title="Link to this heading">#</a></h1>
</section>
<section id="id526">
<h1>Opis og√≥lny<a class="headerlink" href="#id526" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shaders.h</span></code> jest plikiem nag≈Ç√≥wkowym, kt√≥ry agreguje wszystkie pliki zawierajƒÖce kod ≈∫r√≥d≈Çowy shader√≥w. S≈Çu≈ºy jako pojedynczy punkt do≈ÇƒÖczania dla wszystkich predefiniowanych shader√≥w w systemie.</p>
</section>
<section id="zawartosc">
<h1>Zawarto≈õƒá<a class="headerlink" href="#zawartosc" title="Link to this heading">#</a></h1>
<p>Do≈ÇƒÖcza nastƒôpujƒÖce pliki:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newshader.h</span></code>: Zawiera shadery dla nowego, wsadowego systemu renderowania (<code class="docutils literal notranslate"><span class="pre">DrawCache</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shadersources.h</span></code>: Zawiera kod ≈∫r√≥d≈Çowy dla standardowych shader√≥w u≈ºywanych przez <code class="docutils literal notranslate"><span class="pre">Painter</span></code> (rysowanie tekstur, jednolitych kolor√≥w, stroj√≥w).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">outfits.h</span></code>: Zawiera eksperymentalne/alternatywne shadery do stroj√≥w.</p></li>
</ul>
</section>
<section id="id527">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id527" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">painter.cpp</span></code> w celu uzyskania dostƒôpu do kodu ≈∫r√≥d≈Çowego shader√≥w, kt√≥re sƒÖ kompilowane podczas inicjalizacji <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="shadersources-h">
<h1>üìÑ shadersources.h<a class="headerlink" href="#shadersources-h" title="Link to this heading">#</a></h1>
</section>
<section id="id528">
<h1>Opis og√≥lny<a class="headerlink" href="#id528" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shadersources.h</span></code> zawiera kod ≈∫r√≥d≈Çowy w GLSL dla standardowych shader√≥w u≈ºywanych przez klasƒô <code class="docutils literal notranslate"><span class="pre">Painter</span></code>. SƒÖ one zdefiniowane jako sta≈Çe stringi i kompilowane w trakcie dzia≈Çania programu.</p>
</section>
<section id="id529">
<h1>Shadery<a class="headerlink" href="#id529" title="Link to this heading">#</a></h1>
</section>
<section id="glslmainvertexshader-i-glslmainwithtexcoordsvertexshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslMainVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">glslMainWithTexCoordsVertexShader</span></code><a class="headerlink" href="#glslmainvertexshader-i-glslmainwithtexcoordsvertexshader" title="Link to this heading">#</a></h1>
<p>SƒÖ to ‚Äûszablony‚Äù dla shader√≥w wierzcho≈Çk√≥w. DefiniujƒÖ one funkcjƒô <code class="docutils literal notranslate"><span class="pre">main</span></code>, kt√≥ra wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">calculatePosition()</span></code>. Wersja <code class="docutils literal notranslate"><span class="pre">WithTexCoords</span></code> dodatkowo przekazuje wsp√≥≈Çrzƒôdne tekstury do shadera fragment√≥w.</p>
</section>
<section id="glslpositiononlyvertexshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslPositionOnlyVertexShader</span></code><a class="headerlink" href="#glslpositiononlyvertexshader" title="Link to this heading">#</a></h1>
<p>Jest to implementacja <code class="docutils literal notranslate"><span class="pre">calculatePosition()</span></code>. Oblicza ona finalnƒÖ pozycjƒô wierzcho≈Çka, mno≈ºƒÖc jego pozycjƒô przez macierze transformacji i projekcji. Uwzglƒôdnia r√≥wnie≈º g≈Çƒôbiƒô (<code class="docutils literal notranslate"><span class="pre">u_Depth</span></code>).</p>
</section>
<section id="glslmainfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslMainFragmentShader</span></code><a class="headerlink" href="#glslmainfragmentshader" title="Link to this heading">#</a></h1>
<p>Szablon dla shader√≥w fragment√≥w. Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">calculatePixel()</span></code> i odrzuca piksele o niskiej warto≈õci alfa, je≈õli <code class="docutils literal notranslate"><span class="pre">u_Depth</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>.</p>
</section>
<section id="glsltexturesrcfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslTextureSrcFragmentShader</span></code><a class="headerlink" href="#glsltexturesrcfragmentshader" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">calculatePixel()</span></code>, kt√≥ra pobiera kolor z tekstury (<code class="docutils literal notranslate"><span class="pre">u_Tex0</span></code>) i mno≈ºy go przez jednolity kolor (<code class="docutils literal notranslate"><span class="pre">u_Color</span></code>).</p>
</section>
<section id="glslsolidcolorfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslSolidColorFragmentShader</span></code><a class="headerlink" href="#glslsolidcolorfragmentshader" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">calculatePixel()</span></code>, kt√≥ra zwraca jednolity kolor (<code class="docutils literal notranslate"><span class="pre">u_Color</span></code>).</p>
</section>
<section id="glslsolidcolorontexturefragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslSolidColorOnTextureFragmentShader</span></code><a class="headerlink" href="#glslsolidcolorontexturefragmentshader" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">calculatePixel()</span></code>, kt√≥ra rysuje jednolity kolor (<code class="docutils literal notranslate"><span class="pre">u_Color</span></code>) tylko tam, gdzie tekstura (<code class="docutils literal notranslate"><span class="pre">u_Tex0</span></code>) nie jest w pe≈Çni przezroczysta.</p>
</section>
<section id="glsloutfitvertexshader-i-glsloutfitfragmentshader">
<h1><code class="docutils literal notranslate"><span class="pre">glslOutfitVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">glslOutfitFragmentShader</span></code><a class="headerlink" href="#glsloutfitvertexshader-i-glsloutfitfragmentshader" title="Link to this heading">#</a></h1>
<p>Shadery do renderowania stroj√≥w.</p>
<ul class="simple">
<li><p><strong>Shader wierzcho≈Çk√≥w</strong>: Przekazuje dwie pary wsp√≥≈Çrzƒôdnych tekstury ‚Äì normalne (<code class="docutils literal notranslate"><span class="pre">v_TexCoord</span></code>) i przesuniƒôte o <code class="docutils literal notranslate"><span class="pre">u_Offset</span></code> (<code class="docutils literal notranslate"><span class="pre">v_TexCoord2</span></code>).</p></li>
<li><p><strong>Shader fragment√≥w</strong>:</p>
<ol class="arabic simple">
<li><p>Pobiera kolor bazowy z <code class="docutils literal notranslate"><span class="pre">v_TexCoord</span></code>.</p></li>
<li><p>Pobiera kolor ‚Äûmaski‚Äù z <code class="docutils literal notranslate"><span class="pre">v_TexCoord2</span></code>.</p></li>
<li><p>Na podstawie koloru maski (sprawdzajƒÖc, kt√≥ry kana≈Ç R, G lub B jest dominujƒÖcy), mno≈ºy kolor bazowy przez jeden z czterech kolor√≥w przekazanych w macierzy <code class="docutils literal notranslate"><span class="pre">u_Color</span></code>. Pozwala to na dynamiczne kolorowanie r√≥≈ºnych czƒô≈õci stroju.</p></li>
</ol>
</li>
</ul>
</section>
<section id="id530">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id530" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">shaders.h</span></code>.</p></li>
<li><p>Kod jest u≈ºywany w <code class="docutils literal notranslate"><span class="pre">painter.cpp</span></code> do tworzenia domy≈õlnych program√≥w shader√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="http-cpp">
<h1>üìÑ http.cpp<a class="headerlink" href="#http-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id531">
<h1>Opis og√≥lny<a class="headerlink" href="#id531" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">http.cpp</span></code> implementuje klasƒô <code class="docutils literal notranslate"><span class="pre">Http</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_http</span></code>) odpowiedzialnym za obs≈Çugƒô zapyta≈Ñ HTTP/HTTPS oraz po≈ÇƒÖcze≈Ñ WebSocket. Dzia≈Ça asynchronicznie, wykorzystujƒÖc bibliotekƒô Boost.Asio do operacji sieciowych w osobnym wƒÖtku.</p>
</section>
<section id="id532">
<h1>Zmienne globalne<a class="headerlink" href="#id532" title="Link to this heading">#</a></h1>
</section>
<section id="g-http">
<h1><code class="docutils literal notranslate"><span class="pre">g_http</span></code><a class="headerlink" href="#g-http" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p>
</section>
<section id="klasa-http">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Http</span></code><a class="headerlink" href="#klasa-http" title="Link to this heading">#</a></h1>
</section>
<section id="void-http-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Http::init()</span></code><a class="headerlink" href="#void-http-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje mened≈ºera. Tworzy i uruchamia osobny wƒÖtek, w kt√≥rym bƒôdzie dzia≈Çaƒá <code class="docutils literal notranslate"><span class="pre">boost::asio::io_service</span></code> (<code class="docutils literal notranslate"><span class="pre">m_ios</span></code>), obs≈ÇugujƒÖc wszystkie operacje sieciowe.</p>
</section>
<section id="void-http-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Http::terminate()</span></code><a class="headerlink" href="#void-http-terminate" title="Link to this heading">#</a></h1>
<p>Zamyka mened≈ºera. Zatrzymuje <code class="docutils literal notranslate"><span class="pre">io_service</span></code>, anuluje wszystkie bie≈ºƒÖce operacje i czeka na zako≈Ñczenie wƒÖtku sieciowego.</p>
</section>
<section id="int-http-get-const-std-string-url-int-timeout">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url,</span> <span class="pre">int</span> <span class="pre">timeout)</span></code><a class="headerlink" href="#int-http-get-const-std-string-url-int-timeout" title="Link to this heading">#</a></h1>
</section>
<section id="id533">
<h1>Opis semantyczny<a class="headerlink" href="#id533" title="Link to this heading">#</a></h1>
<p>Wysy≈Ça asynchroniczne zapytanie HTTP GET.</p>
</section>
<section id="id534">
<h1>Dzia≈Çanie<a class="headerlink" href="#id534" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Generuje unikalne ID operacji.</p></li>
<li><p>Dodaje zadanie do <code class="docutils literal notranslate"><span class="pre">m_ios</span></code>, kt√≥re tworzy obiekt <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> wykonuje zapytanie w wƒÖtku sieciowym.</p></li>
<li><p>Wyniki (postƒôp, b≈ÇƒÖd, odpowied≈∫) sƒÖ przekazywane z powrotem do g≈Ç√≥wnego wƒÖtku za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> i wywo≈Çywane sƒÖ odpowiednie callbacki w Lua (<code class="docutils literal notranslate"><span class="pre">g_http.onGetProgress</span></code>, <code class="docutils literal notranslate"><span class="pre">g_http.onGet</span></code>).</p></li>
</ol>
</section>
<section id="int-http-post">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::post(...)</span></code><a class="headerlink" href="#int-http-post" title="Link to this heading">#</a></h1>
<p>Dzia≈Ça analogicznie do <code class="docutils literal notranslate"><span class="pre">get</span></code>, ale wysy≈Ça zapytanie HTTP POST z podanymi danymi (<code class="docutils literal notranslate"><span class="pre">data</span></code>).</p>
</section>
<section id="int-http-download">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::download(...)</span></code><a class="headerlink" href="#int-http-download" title="Link to this heading">#</a></h1>
<p>Specjalna wersja <code class="docutils literal notranslate"><span class="pre">get</span></code>, kt√≥ra dodatkowo zapisuje pobrane dane w wewnƒôtrznej mapie <code class="docutils literal notranslate"><span class="pre">m_downloads</span></code>. Pozwala to na dostƒôp do pobranych plik√≥w przez <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> za pomocƒÖ wirtualnej ≈õcie≈ºki <code class="docutils literal notranslate"><span class="pre">/downloads/...</span></code>.</p>
</section>
<section id="int-http-ws">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::ws(...)</span></code><a class="headerlink" href="#int-http-ws" title="Link to this heading">#</a></h1>
<p>Inicjuje asynchroniczne po≈ÇƒÖczenie WebSocket. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code>, kt√≥ry zarzƒÖdza cyklem ≈ºycia po≈ÇƒÖczenia. Callbacki Lua (<code class="docutils literal notranslate"><span class="pre">onWsOpen</span></code>, <code class="docutils literal notranslate"><span class="pre">onWsMessage</span></code>, <code class="docutils literal notranslate"><span class="pre">onWsClose</span></code>, <code class="docutils literal notranslate"><span class="pre">onWsError</span></code>) sƒÖ wywo≈Çywane w odpowiedzi na zdarzenia z gniazda.</p>
</section>
<section id="bool-http-wssend-int-operationid-std-string-message">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Http::wsSend(int</span> <span class="pre">operationId,</span> <span class="pre">std::string</span> <span class="pre">message)</span></code><a class="headerlink" href="#bool-http-wssend-int-operationid-std-string-message" title="Link to this heading">#</a></h1>
<p>Wysy≈Ça wiadomo≈õƒá przez istniejƒÖce po≈ÇƒÖczenie WebSocket o danym <code class="docutils literal notranslate"><span class="pre">operationId</span></code>.</p>
</section>
<section id="bool-http-cancel-int-id">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Http::cancel(int</span> <span class="pre">id)</span></code><a class="headerlink" href="#bool-http-cancel-int-id" title="Link to this heading">#</a></h1>
<p>Anuluje operacjƒô (HTTP lub WebSocket) o podanym ID.</p>
</section>
<section id="id535">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id535" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/http.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/session.h</span></code>, <code class="docutils literal notranslate"><span class="pre">websocket.h</span></code>: Implementacje sesji HTTP i WebSocket (niedostƒôpne dla Emscripten).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: Do wywo≈Çywania callback√≥w w Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do przekazywania wynik√≥w z wƒÖtku sieciowego do wƒÖtku g≈Ç√≥wnego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>, <code class="docutils literal notranslate"><span class="pre">boost/beast</span></code>: Podstawowe biblioteki do obs≈Çugi sieci.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="websocket-h">
<h1>üìÑ websocket.h<a class="headerlink" href="#websocket-h" title="Link to this heading">#</a></h1>
</section>
<section id="id536">
<h1>Opis og√≥lny<a class="headerlink" href="#id536" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">websocket.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code>, kt√≥ra zarzƒÖdza pojedynczym po≈ÇƒÖczeniem WebSocket. Plik ten (i jego implementacja) jest wy≈ÇƒÖczony z kompilacji dla Emscripten.</p>
</section>
<section id="typy-wyliczeniowe-i-definicje">
<h1>Typy wyliczeniowe i definicje<a class="headerlink" href="#typy-wyliczeniowe-i-definicje" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">WebsocketCallbackType</span></code>: Definiuje typy zdarze≈Ñ dla callbacka (<code class="docutils literal notranslate"><span class="pre">WEBSOCKET_OPEN</span></code>, <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_MESSAGE</span></code>, <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_ERROR</span></code>, <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_CLOSE</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">WebsocketSession_cb</span></code>: Alias dla typu funkcji zwrotnej.</p></li>
</ul>
</section>
<section id="klasa-websocketsession">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code><a class="headerlink" href="#klasa-websocketsession" title="Link to this heading">#</a></h1>
</section>
<section id="id537">
<h1>Opis semantyczny<a class="headerlink" href="#id537" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code> enkapsuluje ca≈ÇƒÖ logikƒô zwiƒÖzanƒÖ z nawiƒÖzywaniem, utrzymywaniem i zamykaniem po≈ÇƒÖczenia WebSocket, w≈ÇƒÖczajƒÖc w to obs≈Çugƒô protoko≈Çu (handshake) i szyfrowania (WSS). Dzia≈Ça w pe≈Çni asynchronicznie w oparciu o Boost.Asio.</p>
</section>
<section id="id538">
<h1>Metody publiczne<a class="headerlink" href="#id538" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">WebsocketSession(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">start()</span></code></p></td>
<td class="text-left"><p>Rozpoczyna proces nawiƒÖzywania po≈ÇƒÖczenia (rozwiƒÖzywanie nazwy DNS, ≈ÇƒÖczenie, handshake).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">send(std::string</span> <span class="pre">data)</span></code></p></td>
<td class="text-left"><p>Dodaje wiadomo≈õƒá do kolejki wysy≈Çania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">close()</span></code></p></td>
<td class="text-left"><p>Zamyka po≈ÇƒÖczenie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id539">
<h1>Zmienne prywatne<a class="headerlink" href="#id539" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_service</span></code>: Referencja do <code class="docutils literal notranslate"><span class="pre">io_service</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_url</span></code>, <code class="docutils literal notranslate"><span class="pre">m_agent</span></code>: URL i User-Agent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_resolver</span></code>: Do rozwiƒÖzywania nazw DNS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_callback</span></code>: Funkcja zwrotna do powiadamiania o zdarzeniach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_result</span></code>: Wska≈∫nik na <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code> do przechowywania stanu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_timer</span></code>: Timer do obs≈Çugi timeout√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_socket</span></code>: Gniazdo WebSocket dla po≈ÇƒÖcze≈Ñ nieszyfrowanych (WS).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_ssl</span></code>: Gniazdo WebSocket dla po≈ÇƒÖcze≈Ñ szyfrowanych (WSS).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_context</span></code>: Kontekst SSL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_streambuf</span></code>: Bufor na przychodzƒÖce dane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_sendQueue</span></code>: Kolejka wiadomo≈õci do wys≈Çania.</p></li>
</ul>
</section>
<section id="metody-prywatne-on">
<h1>Metody prywatne (<code class="docutils literal notranslate"><span class="pre">on_...</span></code>)<a class="headerlink" href="#metody-prywatne-on" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>SƒÖ to handlery wywo≈Çywane przez Boost.Asio po zako≈Ñczeniu operacji asynchronicznych (np. <code class="docutils literal notranslate"><span class="pre">on_resolve</span></code>, <code class="docutils literal notranslate"><span class="pre">on_connect</span></code>, <code class="docutils literal notranslate"><span class="pre">on_handshake</span></code>, <code class="docutils literal notranslate"><span class="pre">on_read</span></code>, <code class="docutils literal notranslate"><span class="pre">on_send</span></code>). ImplementujƒÖ one logikƒô maszyny stan√≥w po≈ÇƒÖczenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onError</span></code>: Centralna funkcja do obs≈Çugi b≈Çƒôd√≥w.</p></li>
</ul>
</section>
<section id="id540">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id540" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/result.h</span></code>: Definicja <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>, <code class="docutils literal notranslate"><span class="pre">boost/beast</span></code>: Kluczowe biblioteki do obs≈Çugi sieci.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez klasƒô <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="http-h">
<h1>üìÑ http.h<a class="headerlink" href="#http-h" title="Link to this heading">#</a></h1>
</section>
<section id="id541">
<h1>Opis og√≥lny<a class="headerlink" href="#id541" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">http.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Http</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_http</span></code>) i stanowi g≈Ç√≥wny interfejs do wykonywania operacji sieciowych opartych na protoko≈Çach HTTP/HTTPS i WebSocket.</p>
</section>
<section id="id542">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Http</span></code><a class="headerlink" href="#id542" title="Link to this heading">#</a></h1>
</section>
<section id="id543">
<h1>Opis semantyczny<a class="headerlink" href="#id543" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Http</span></code> zarzƒÖdza pulƒÖ operacji sieciowych, kt√≥re sƒÖ wykonywane asynchronicznie w dedykowanym wƒÖtku. Udostƒôpnia proste API do wysy≈Çania zapyta≈Ñ GET, POST, pobierania plik√≥w oraz nawiƒÖzywania po≈ÇƒÖcze≈Ñ WebSocket. Interakcja z resztƒÖ aplikacji (g≈Ç√≥wnie ze skryptami Lua) odbywa siƒô poprzez system callback√≥w.</p>
</section>
<section id="id544">
<h1>Metody publiczne<a class="headerlink" href="#id544" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Http()</span></code></p></td>
<td class="text-left"><p>Konstruktor, inicjalizuje <code class="docutils literal notranslate"><span class="pre">io_context</span></code> i <code class="docutils literal notranslate"><span class="pre">work_guard</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Uruchamia wƒÖtek sieciowy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje wƒÖtek sieciowy i anuluje wszystkie operacje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">get(...)</span></code></p></td>
<td class="text-left"><p>Inicjuje asynchroniczne zapytanie GET.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">post(...)</span></code></p></td>
<td class="text-left"><p>Inicjuje asynchroniczne zapytanie POST.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">download(...)</span></code></p></td>
<td class="text-left"><p>Inicjuje asynchroniczne pobieranie pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ws(...)</span></code></p></td>
<td class="text-left"><p>Inicjuje asynchroniczne po≈ÇƒÖczenie WebSocket.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">wsSend(...)</span></code></p></td>
<td class="text-left"><p>Wysy≈Ça dane przez istniejƒÖce po≈ÇƒÖczenie WebSocket.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">wsClose(...)</span></code></p></td>
<td class="text-left"><p>Zamyka po≈ÇƒÖczenie WebSocket.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">cancel(int</span> <span class="pre">id)</span></code></p></td>
<td class="text-left"><p>Anuluje operacjƒô o podanym ID.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::map&lt;...&gt;&amp;</span> <span class="pre">downloads()</span></code></p></td>
<td class="text-left"><p>Zwraca mapƒô pobranych plik√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clearDownloads()</span></code></p></td>
<td class="text-left"><p>Czy≈õci mapƒô pobranych plik√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HttpResult_ptr</span> <span class="pre">getFile(...)</span></code></p></td>
<td class="text-left"><p>Pobiera dane pobranego pliku na podstawie jego ≈õcie≈ºki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setUserAgent(...)</span></code></p></td>
<td class="text-left"><p>Ustawia nag≈Ç√≥wek User-Agent dla wszystkich zapyta≈Ñ.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id545">
<h1>Zmienne prywatne<a class="headerlink" href="#id545" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_working</span></code>: Flaga kontrolujƒÖca dzia≈Çanie wƒÖtku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_operationId</span></code>: Licznik do generowania unikalnych ID dla operacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_thread</span></code>: WƒÖtek roboczy dla operacji sieciowych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_ios</span></code>: Kontekst <code class="docutils literal notranslate"><span class="pre">io_context</span></code> z Boost.Asio.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_guard</span></code>: <code class="docutils literal notranslate"><span class="pre">work_guard</span></code> zapobiegajƒÖcy zako≈Ñczeniu <code class="docutils literal notranslate"><span class="pre">m_ios.run()</span></code>, dop√≥ki nie ma pracy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_operations</span></code>: Mapa przechowujƒÖca stan wszystkich aktywnych operacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_websockets</span></code>: Mapa przechowujƒÖca aktywne sesje WebSocket.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_downloads</span></code>: Mapa przechowujƒÖca pobrane pliki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_userAgent</span></code>: String User-Agent.</p></li>
</ul>
</section>
<section id="id546">
<h1>Zmienne globalne<a class="headerlink" href="#id546" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_http</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p></li>
</ul>
</section>
<section id="id547">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id547" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/result.h</span></code>: Definicja <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code>.</p></li>
<li><p>Jest u≈ºywana w skryptach Lua (poprzez bindowania w <code class="docutils literal notranslate"><span class="pre">luafunctions.cpp</span></code>) do komunikacji z serwerami WWW, np. do pobierania aktualizacji, sprawdzania statusu serwer√≥w itp.</p></li>
<li><p>Wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code> w celu udostƒôpnienia pobranych plik√≥w przez wirtualny system plik√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="result-h">
<h1>üìÑ result.h<a class="headerlink" href="#result-h" title="Link to this heading">#</a></h1>
</section>
<section id="id548">
<h1>Opis og√≥lny<a class="headerlink" href="#id548" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">result.h</span></code> deklaruje strukturƒô <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code>, kt√≥ra s≈Çu≈ºy do przechowywania stanu i wyniku pojedynczej operacji HTTP lub WebSocket. Definiuje r√≥wnie≈º aliasy typ√≥w dla inteligentnych wska≈∫nik√≥w i funkcji zwrotnych.</p>
</section>
<section id="struktura-httpresult">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code><a class="headerlink" href="#struktura-httpresult" title="Link to this heading">#</a></h1>
</section>
<section id="id549">
<h1>Opis semantyczny<a class="headerlink" href="#id549" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">HttpResult</span></code> jest kontenerem danych przekazywanym miƒôdzy wƒÖtkiem sieciowym a wƒÖtkiem g≈Ç√≥wnym. Agreguje wszystkie informacje zwiƒÖzane z danym zapytaniem, takie jak URL, status, postƒôp, dane odpowiedzi i ewentualne b≈Çƒôdy.</p>
</section>
<section id="id550">
<h1>Pola struktury<a class="headerlink" href="#id550" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">url</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Adres URL zapytania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">operationId</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Unikalny identyfikator operacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">status</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Kod statusu odpowiedzi HTTP (np. 200, 404).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Ca≈Çkowity rozmiar odpowiedzi (z nag≈Ç√≥wka Content-Length).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">progress</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Postƒôp pobierania w procentach (0-100).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">redirects</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td class="text-left"><p>Licznik przekierowa≈Ñ.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">connected</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td class="text-left"><p>Flaga wskazujƒÖca, czy po≈ÇƒÖczenie jest aktywne.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">finished</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td class="text-left"><p>Flaga wskazujƒÖca, czy operacja zosta≈Ça zako≈Ñczona.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">canceled</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td class="text-left"><p>Flaga wskazujƒÖca, czy operacja zosta≈Ça anulowana.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">postData</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Dane wys≈Çane w zapytaniu POST.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">response</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint8_t&gt;</span></code></p></td>
<td class="text-left"><p>Surowe bajty odpowiedzi.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">error</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Komunikat b≈Çƒôdu, je≈õli wystƒÖpi≈Ç.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">session</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::weak_ptr&lt;HttpSession&gt;</span></code></p></td>
<td class="text-left"><p>S≈Çaby wska≈∫nik do obiektu sesji, aby uniknƒÖƒá cyklicznych referencji.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="definicje-typow">
<h1>Definicje typ√≥w<a class="headerlink" href="#definicje-typow" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HttpResult_ptr</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::shared_ptr&lt;HttpResult&gt;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HttpResult_cb</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::function&lt;void(HttpResult_ptr)&gt;</span></code>.</p></li>
</ul>
</section>
<section id="id551">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id551" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to podstawowa struktura danych u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Http</span></code>, <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> i <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code> do komunikacji i przekazywania wynik√≥w.</p></li>
<li><p>Zawiera <code class="docutils literal notranslate"><span class="pre">std::weak_ptr</span></code> do <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code>, aby umo≈ºliwiƒá anulowanie operacji z zewnƒÖtrz bez tworzenia cyklu referencji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="session-cpp">
<h1>üìÑ session.cpp<a class="headerlink" href="#session-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id552">
<h1>Opis og√≥lny<a class="headerlink" href="#id552" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">session.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code>, kt√≥ra zarzƒÖdza pojedynczƒÖ sesjƒÖ HTTP/HTTPS. Jest on wy≈ÇƒÖczony z kompilacji dla platformy Emscripten.</p>
</section>
<section id="klasa-httpsession">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code><a class="headerlink" href="#klasa-httpsession" title="Link to this heading">#</a></h1>
</section>
<section id="void-httpsession-start">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">HttpSession::start()</span></code><a class="headerlink" href="#void-httpsession-start" title="Link to this heading">#</a></h1>
</section>
<section id="id553">
<h1>Opis semantyczny<a class="headerlink" href="#id553" title="Link to this heading">#</a></h1>
<p>Rozpoczyna proces wysy≈Çania zapytania HTTP.</p>
</section>
<section id="id554">
<h1>Dzia≈Çanie<a class="headerlink" href="#id554" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza limit przekierowa≈Ñ.</p></li>
<li><p>Parsuje URL, aby uzyskaƒá protok√≥≈Ç, domenƒô, port i ≈õcie≈ºkƒô.</p></li>
<li><p>Ustawia timer (<code class="docutils literal notranslate"><span class="pre">m_timer</span></code>) na obs≈Çugƒô timeoutu.</p></li>
<li><p>Konfiguruje obiekt ≈ºƒÖdania <code class="docutils literal notranslate"><span class="pre">boost::beast::http::request</span></code> (metoda, nag≈Ç√≥wki, tre≈õƒá).</p></li>
<li><p>Uruchamia asynchroniczne rozwiƒÖzywanie nazwy DNS za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">m_resolver.async_resolve</span></code>.</p></li>
</ol>
</section>
<section id="metody-on">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">on_...()</span></code><a class="headerlink" href="#metody-on" title="Link to this heading">#</a></h1>
<p>SƒÖ to handlery (funkcje zwrotne) dla operacji asynchronicznych Boost.Asio, kt√≥re implementujƒÖ maszynƒô stan√≥w sesji HTTP:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_resolve</span></code></strong>: Wywo≈Çywana po rozwiƒÖzaniu nazwy DNS. Inicjuje <code class="docutils literal notranslate"><span class="pre">async_connect</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_connect</span></code></strong>: Wywo≈Çywana po nawiƒÖzaniu po≈ÇƒÖczenia TCP.</p>
<ul>
<li><p>Je≈õli protok√≥≈Ç to HTTPS, inicjalizuje kontekst SSL i wykonuje <code class="docutils literal notranslate"><span class="pre">async_handshake</span></code>.</p></li>
<li><p>Wysy≈Ça ≈ºƒÖdanie HTTP za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">boost::beast::http::async_write</span></code>.</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_request_sent</span></code></strong>: Wywo≈Çywana po wys≈Çaniu ≈ºƒÖdania. Rozpoczyna odczytywanie nag≈Ç√≥wk√≥w odpowiedzi za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">async_read_header</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_read_header</span></code></strong>: Wywo≈Çywana po odczytaniu nag≈Ç√≥wk√≥w.</p>
<ul>
<li><p>Sprawdza kod statusu.</p></li>
<li><p>Je≈õli jest to przekierowanie (np. 301, 302), tworzy nowƒÖ <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> dla nowego URL.</p></li>
<li><p>Je≈õli status jest niepoprawny, zg≈Çasza b≈ÇƒÖd.</p></li>
<li><p>Rozpoczyna odczytywanie tre≈õci odpowiedzi za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">async_read_some</span></code>.</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_read</span></code></strong>: Wywo≈Çywana wielokrotnie podczas odczytywania tre≈õci odpowiedzi.</p>
<ul>
<li><p>Aktualizuje postƒôp pobierania i wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> progresu.</p></li>
<li><p>Gdy ca≈Ça tre≈õƒá zostanie odczytana (<code class="docutils literal notranslate"><span class="pre">end_of_stream</span></code>), finalizuje operacjƒô, zapisuje odpowied≈∫ w <code class="docutils literal notranslate"><span class="pre">m_result</span></code> i wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> ko≈Ñcowy.</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">onTimeout</span></code></strong>: Handler dla timera, kt√≥ry zg≈Çasza b≈ÇƒÖd timeoutu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">onError</span></code></strong>: Centralna funkcja do obs≈Çugi b≈Çƒôd√≥w. Zamyka gniazdo, anuluje timer i wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> z informacjƒÖ o b≈Çƒôdzie.</p></li>
</ul>
</section>
<section id="void-httpsession-close">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">HttpSession::close()</span></code><a class="headerlink" href="#void-httpsession-close" title="Link to this heading">#</a></h1>
<p>Zamyka po≈ÇƒÖczenie, anuluje timer i, w przypadku HTTPS, wykonuje <code class="docutils literal notranslate"><span class="pre">async_shutdown</span></code> dla strumienia SSL.</p>
</section>
<section id="id555">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id555" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/session.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/uri.h</span></code>: Do parsowania URL.</p></li>
<li><p><strong>Boost.Asio</strong> i <strong>Boost.Beast</strong>: Kluczowe biblioteki do obs≈Çugi sieci.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez klasƒô <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="session-h">
<h1>üìÑ session.h<a class="headerlink" href="#session-h" title="Link to this heading">#</a></h1>
</section>
<section id="id556">
<h1>Opis og√≥lny<a class="headerlink" href="#id556" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">session.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code>, kt√≥ra enkapsuluje logikƒô pojedynczej sesji HTTP/HTTPS. Plik ten jest wy≈ÇƒÖczony z kompilacji dla Emscripten.</p>
</section>
<section id="id557">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code><a class="headerlink" href="#id557" title="Link to this heading">#</a></h1>
</section>
<section id="id558">
<h1>Opis semantyczny<a class="headerlink" href="#id558" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> zarzƒÖdza ca≈Çym cyklem ≈ºycia zapytania HTTP, od rozwiƒÖzania nazwy DNS, przez nawiƒÖzanie po≈ÇƒÖczenia (w tym SSL/TLS handshake), wys≈Çanie ≈ºƒÖdania, a≈º po odczytanie odpowiedzi. Jest zaprojektowana do dzia≈Çania asynchronicznego w ramach <code class="docutils literal notranslate"><span class="pre">boost::asio::io_service</span></code>.</p>
</section>
<section id="id559">
<h1>Metody publiczne<a class="headerlink" href="#id559" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">HttpSession(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">start()</span></code></p></td>
<td class="text-left"><p>Rozpoczyna sesjƒô HTTP.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">cancel()</span></code></p></td>
<td class="text-left"><p>Anuluje bie≈ºƒÖcƒÖ operacjƒô.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id560">
<h1>Zmienne prywatne<a class="headerlink" href="#id560" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_service</span></code>: Referencja do <code class="docutils literal notranslate"><span class="pre">io_service</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_url</span></code>, <code class="docutils literal notranslate"><span class="pre">m_agent</span></code>: URL i User-Agent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_socket</span></code>: Gniazdo TCP.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_resolver</span></code>: Resolver DNS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_callback</span></code>: Funkcja zwrotna do powiadamiania o wyniku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_result</span></code>: Wska≈∫nik na obiekt <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code> przechowujƒÖcy stan.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_timer</span></code>: Timer do obs≈Çugi timeout√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_timeout</span></code>: Czas timeoutu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_isJson</span></code>: Flaga wskazujƒÖca, czy tre≈õƒá POST jest w formacie JSON.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_ssl</span></code>, <code class="docutils literal notranslate"><span class="pre">m_context</span></code>: Do obs≈Çugi HTTPS.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_streambuf</span></code>: Bufor na dane przychodzƒÖce.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_request</span></code>: Obiekt ≈ºƒÖdania z Boost.Beast.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_response</span></code>: Parser odpowiedzi z Boost.Beast.</p></li>
</ul>
</section>
<section id="metody-prywatne-on-close-onerror">
<h1>Metody prywatne (<code class="docutils literal notranslate"><span class="pre">on_...</span></code>, <code class="docutils literal notranslate"><span class="pre">close</span></code>, <code class="docutils literal notranslate"><span class="pre">onError</span></code>)<a class="headerlink" href="#metody-prywatne-on-close-onerror" title="Link to this heading">#</a></h1>
<p>Deklaracje handler√≥w dla operacji asynchronicznych i funkcji pomocniczych.</p>
</section>
<section id="id561">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id561" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/result.h</span></code>: Definicja <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code>.</p></li>
<li><p>Jest tworzona i u≈ºywana przez klasƒô <code class="docutils literal notranslate"><span class="pre">Http</span></code> do realizacji zapyta≈Ñ GET i POST.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="websocket-cpp">
<h1>üìÑ websocket.cpp<a class="headerlink" href="#websocket-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id562">
<h1>Opis og√≥lny<a class="headerlink" href="#id562" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">websocket.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code>, kt√≥ra zarzƒÖdza pojedynczym po≈ÇƒÖczeniem WebSocket. Plik ten jest wy≈ÇƒÖczony z kompilacji dla Emscripten.</p>
</section>
<section id="id563">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code><a class="headerlink" href="#id563" title="Link to this heading">#</a></h1>
</section>
<section id="void-websocketsession-start">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::start()</span></code><a class="headerlink" href="#void-websocketsession-start" title="Link to this heading">#</a></h1>
</section>
<section id="id564">
<h1>Opis semantyczny<a class="headerlink" href="#id564" title="Link to this heading">#</a></h1>
<p>Rozpoczyna proces nawiƒÖzywania po≈ÇƒÖczenia WebSocket.</p>
</section>
<section id="id565">
<h1>Dzia≈Çanie<a class="headerlink" href="#id565" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza limit przekierowa≈Ñ.</p></li>
<li><p>Parsuje URL, aby uzyskaƒá protok√≥≈Ç, domenƒô, port i ≈õcie≈ºkƒô.</p></li>
<li><p>Ustawia timer na obs≈Çugƒô timeoutu.</p></li>
<li><p>Tworzy odpowiedni obiekt gniazda (<code class="docutils literal notranslate"><span class="pre">m_socket</span></code> dla WS lub <code class="docutils literal notranslate"><span class="pre">m_ssl</span></code> dla WSS).</p></li>
<li><p>Uruchamia asynchroniczne rozwiƒÖzywanie nazwy DNS.</p></li>
</ol>
</section>
<section id="void-websocketsession-send-std-string-data">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::send(std::string</span> <span class="pre">data)</span></code><a class="headerlink" href="#void-websocketsession-send-std-string-data" title="Link to this heading">#</a></h1>
<p>Dodaje wiadomo≈õƒá do kolejki <code class="docutils literal notranslate"><span class="pre">m_sendQueue</span></code>. Je≈õli kolejka by≈Ça pusta i po≈ÇƒÖczenie jest aktywne, natychmiast inicjuje operacjƒô wysy≈Çania.</p>
</section>
<section id="id566">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">on_...()</span></code><a class="headerlink" href="#id566" title="Link to this heading">#</a></h1>
<p>SƒÖ to handlery dla operacji asynchronicznych, kt√≥re implementujƒÖ maszynƒô stan√≥w po≈ÇƒÖczenia WebSocket:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_resolve</span></code></strong>: Wywo≈Çywana po rozwiƒÖzaniu nazwy DNS. Inicjuje <code class="docutils literal notranslate"><span class="pre">async_connect</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_connect</span></code></strong>: Wywo≈Çywana po nawiƒÖzaniu po≈ÇƒÖczenia TCP. W przypadku WSS, wykonuje handshake SSL. Nastƒôpnie inicjuje handshake protoko≈Çu WebSocket za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">async_handshake</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_handshake</span></code></strong>: Wywo≈Çywana po pomy≈õlnym handshake‚Äôu WebSocket. Ustawia stan na <code class="docutils literal notranslate"><span class="pre">connected</span></code>, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_OPEN</span></code>, rozpoczyna nas≈Çuchiwanie wiadomo≈õci (<code class="docutils literal notranslate"><span class="pre">async_read</span></code>) i wysy≈Ça wiadomo≈õci z kolejki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_send</span></code></strong>: Wywo≈Çywana po wys≈Çaniu wiadomo≈õci. Usuwa wys≈ÇanƒÖ wiadomo≈õƒá z kolejki i, je≈õli kolejka nie jest pusta, inicjuje wysy≈Çanie nastƒôpnej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">on_read</span></code></strong>: Wywo≈Çywana po otrzymaniu nowej wiadomo≈õci. Resetuje timer, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_MESSAGE</span></code> i ponownie nas≈Çuchuje.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">onTimeout</span></code></strong>: Zg≈Çasza b≈ÇƒÖd timeoutu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">onError</span></code></strong>: Obs≈Çuguje b≈Çƒôdy i wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_ERROR</span></code>.</p></li>
</ul>
</section>
<section id="void-websocketsession-close">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::close()</span></code><a class="headerlink" href="#void-websocketsession-close" title="Link to this heading">#</a></h1>
<p>Zamyka po≈ÇƒÖczenie, anuluje timer i wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">WEBSOCKET_CLOSE</span></code>.</p>
</section>
<section id="id567">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id567" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/http/websocket.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/uri.h</span></code>: Do parsowania URL.</p></li>
<li><p><strong>Boost.Asio</strong> i <strong>Boost.Beast</strong>: Kluczowe biblioteki do obs≈Çugi sieci i protoko≈Çu WebSocket.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez klasƒô <code class="docutils literal notranslate"><span class="pre">Http</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="mouse-cpp">
<h1>üìÑ mouse.cpp<a class="headerlink" href="#mouse-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id568">
<h1>Opis og√≥lny<a class="headerlink" href="#id568" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">mouse.cpp</span></code> implementuje klasƒô <code class="docutils literal notranslate"><span class="pre">Mouse</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_mouse</span></code>) odpowiedzialnym za zarzƒÖdzanie kursorami myszy.</p>
</section>
<section id="id569">
<h1>Zmienne globalne<a class="headerlink" href="#id569" title="Link to this heading">#</a></h1>
</section>
<section id="g-mouse">
<h1><code class="docutils literal notranslate"><span class="pre">g_mouse</span></code><a class="headerlink" href="#g-mouse" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">Mouse</span></code>.</p>
</section>
<section id="klasa-mouse">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Mouse</span></code><a class="headerlink" href="#klasa-mouse" title="Link to this heading">#</a></h1>
</section>
<section id="void-mouse-init-i-void-mouse-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::terminate()</span></code><a class="headerlink" href="#void-mouse-init-i-void-mouse-terminate" title="Link to this heading">#</a></h1>
<p>Metody do inicjalizacji i zwalniania zasob√≥w. <code class="docutils literal notranslate"><span class="pre">terminate()</span></code> czy≈õci listƒô za≈Çadowanych kursor√≥w.</p>
</section>
<section id="void-mouse-loadcursors-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::loadCursors(std::string</span> <span class="pre">filename)</span></code><a class="headerlink" href="#void-mouse-loadcursors-std-string-filename" title="Link to this heading">#</a></h1>
<p>≈Åaduje definicje kursor√≥w z pliku OTML. Parsuje plik i dla ka≈ºdego wpisu w sekcji <code class="docutils literal notranslate"><span class="pre">Cursors</span></code> wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">addCursor</span></code>.</p>
</section>
<section id="void-mouse-addcursor-const-std-string-name-const-std-string-file-const-point-hotspot">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::addCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">file,</span> <span class="pre">const</span> <span class="pre">Point&amp;</span> <span class="pre">hotSpot)</span></code><a class="headerlink" href="#void-mouse-addcursor-const-std-string-name-const-std-string-file-const-point-hotspot" title="Link to this heading">#</a></h1>
</section>
<section id="id570">
<h1>Opis semantyczny<a class="headerlink" href="#id570" title="Link to this heading">#</a></h1>
<p>≈Åaduje obraz kursora z pliku i tworzy z niego natywny kursor systemowy. Jest bezpieczna wƒÖtkowo.</p>
</section>
<section id="id571">
<h1>Dzia≈Çanie<a class="headerlink" href="#id571" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Je≈õli jest wywo≈Çana z wƒÖtku innego ni≈º graficzny, deleguje zadanie do <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">g_window.loadMouseCursor</span></code>, kt√≥ra wykonuje operacje specyficzne dla platformy.</p></li>
<li><p>Zapisuje zwr√≥cone ID kursora w mapie <code class="docutils literal notranslate"><span class="pre">m_cursors</span></code> pod podanƒÖ nazwƒÖ.</p></li>
</ol>
</section>
<section id="void-mouse-pushcursor-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::pushCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#void-mouse-pushcursor-const-std-string-name" title="Link to this heading">#</a></h1>
</section>
<section id="id572">
<h1>Opis semantyczny<a class="headerlink" href="#id572" title="Link to this heading">#</a></h1>
<p>Ustawia nowy kursor i dodaje go na stos aktywnych kursor√≥w.</p>
</section>
<section id="id573">
<h1>Dzia≈Çanie<a class="headerlink" href="#id573" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Deleguje do wƒÖtku graficznego, je≈õli to konieczne.</p></li>
<li><p>Znajduje ID kursora w <code class="docutils literal notranslate"><span class="pre">m_cursors</span></code>.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">g_window.setMouseCursor</span></code> z znalezionym ID.</p></li>
<li><p>Dodaje ID na koniec stosu <code class="docutils literal notranslate"><span class="pre">m_cursorStack</span></code>.</p></li>
</ol>
</section>
<section id="void-mouse-popcursor-const-std-string-name">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::popCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code><a class="headerlink" href="#void-mouse-popcursor-const-std-string-name" title="Link to this heading">#</a></h1>
</section>
<section id="id574">
<h1>Opis semantyczny<a class="headerlink" href="#id574" title="Link to this heading">#</a></h1>
<p>Usuwa kursor ze stosu i przywraca poprzedni.</p>
</section>
<section id="id575">
<h1>Dzia≈Çanie<a class="headerlink" href="#id575" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Deleguje do wƒÖtku graficznego.</p></li>
<li><p>Je≈õli <code class="docutils literal notranslate"><span class="pre">name</span></code> jest puste, usuwa ostatni kursor ze stosu.</p></li>
<li><p>Je≈õli <code class="docutils literal notranslate"><span class="pre">name</span></code> jest podane, wyszukuje i usuwa konkretny kursor ze stosu.</p></li>
<li><p>Je≈õli stos nie jest pusty, ustawia kursor, kt√≥ry jest teraz na jego szczycie.</p></li>
<li><p>Je≈õli stos jest pusty, przywraca domy≈õlny kursor systemowy.</p></li>
</ol>
</section>
<section id="bool-mouse-iscursorchanged">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Mouse::isCursorChanged()</span></code><a class="headerlink" href="#bool-mouse-iscursorchanged" title="Link to this heading">#</a></h1>
<p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli stos kursor√≥w nie jest pusty, co oznacza, ≈ºe aktualny kursor jest niestandardowy.</p>
</section>
<section id="bool-mouse-ispressed-fw-mousebutton-mousebutton">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Mouse::isPressed(Fw::MouseButton</span> <span class="pre">mouseButton)</span></code><a class="headerlink" href="#bool-mouse-ispressed-fw-mousebutton-mousebutton" title="Link to this heading">#</a></h1>
<p>Sprawdza i zwraca stan wci≈õniƒôcia danego przycisku myszy, delegujƒÖc zapytanie do <code class="docutils literal notranslate"><span class="pre">g_window</span></code>.</p>
</section>
<section id="id576">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id576" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/input/mouse.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Widgety mogƒÖ zmieniaƒá kursor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platformwindow.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_window</span></code> do niskopoziomowych operacji na kursorach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do zapewnienia bezpiecze≈Ñstwa wƒÖtkowego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do ≈Çadowania plik√≥w definicji kursor√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="mouse-h">
<h1>üìÑ mouse.h<a class="headerlink" href="#mouse-h" title="Link to this heading">#</a></h1>
</section>
<section id="id577">
<h1>Opis og√≥lny<a class="headerlink" href="#id577" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">mouse.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Mouse</span></code>, kt√≥ra jest interfejsem wysokiego poziomu do zarzƒÖdzania kursorami myszy w aplikacji.</p>
</section>
<section id="id578">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Mouse</span></code><a class="headerlink" href="#id578" title="Link to this heading">#</a></h1>
</section>
<section id="id579">
<h1>Opis semantyczny<a class="headerlink" href="#id579" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Mouse</span></code> zarzƒÖdza kolekcjƒÖ niestandardowych kursor√≥w, kt√≥re mogƒÖ byƒá ≈Çadowane z plik√≥w. Implementuje mechanizm stosu (<code class="docutils literal notranslate"><span class="pre">m_cursorStack</span></code>), kt√≥ry pozwala na tymczasowƒÖ zmianƒô kursora (np. gdy kursor znajduje siƒô nad widgetem) i ≈Çatwy powr√≥t do poprzedniego stanu.</p>
</section>
<section id="id580">
<h1>Metody publiczne<a class="headerlink" href="#id580" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">init()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje mened≈ºera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zwalnia zasoby.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">loadCursors(...)</span></code></p></td>
<td class="text-left"><p>≈Åaduje definicje kursor√≥w z pliku OTML.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addCursor(...)</span></code></p></td>
<td class="text-left"><p>Dodaje nowy niestandardowy kursor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">pushCursor(...)</span></code></p></td>
<td class="text-left"><p>Ustawia nowy kursor, dodajƒÖc go na szczyt stosu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">popCursor(...)</span></code></p></td>
<td class="text-left"><p>Usuwa kursor ze stosu i przywraca poprzedni.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isCursorChanged()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy aktualny kursor jest niestandardowy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isPressed(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza stan wci≈õniƒôcia przycisku myszy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id581">
<h1>Zmienne prywatne<a class="headerlink" href="#id581" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursors</span></code>: Mapa przechowujƒÖca nazwy kursor√≥w i ich ID specyficzne dla platformy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursorStack</span></code>: Stos (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) przechowujƒÖcy ID aktywnych kursor√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mutex</span></code>: Mutex do ochrony dostƒôpu do <code class="docutils literal notranslate"><span class="pre">m_cursorStack</span></code> z r√≥≈ºnych wƒÖtk√≥w.</p></li>
</ul>
</section>
<section id="id582">
<h1>Zmienne globalne<a class="headerlink" href="#id582" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_mouse</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Mouse</span></code>.</p></li>
</ul>
</section>
<section id="id583">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id583" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> do zmiany wyglƒÖdu kursora, gdy znajduje siƒô on nad widgetem.</p></li>
<li><p>Wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> w celu faktycznego ustawiania kursora w systemie operacyjnym.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id584">
<h1>üìÑ declarations.h<a class="headerlink" href="#id584" title="Link to this heading">#</a></h1>
</section>
<section id="id585">
<h1>Opis og√≥lny<a class="headerlink" href="#id585" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">luaengine</span></code> s≈Çu≈ºy do wczesnych deklaracji (forward declarations) i definicji typ√≥w zwiƒÖzanych z silnikiem Lua. Jego celem jest unikanie zale≈ºno≈õci cyklicznych i zmniejszenie liczby do≈ÇƒÖczanych nag≈Ç√≥wk√≥w.</p>
</section>
<section id="wczesne-deklaracje">
<h1>Wczesne deklaracje<a class="headerlink" href="#wczesne-deklaracje" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>: G≈Ç√≥wna klasa interfejsu Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>: Bazowa klasa dla wszystkich obiekt√≥w eksportowanych do Lua.</p></li>
</ul>
</section>
<section id="id586">
<h1>Definicje typ√≥w<a class="headerlink" href="#id586" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">LuaCppFunction</span></code></strong>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::function&lt;int(LuaInterface*)&gt;</span></code>. Jest to typ funkcji C++, kt√≥ra mo≈ºe byƒá wywo≈Çana z Lua. Przyjmuje wska≈∫nik do <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code> i zwraca liczbƒô warto≈õci zwr√≥conych na stos Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">LuaCppFunctionPtr</span></code></strong>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::unique_ptr&lt;LuaCppFunction&gt;</span></code>. U≈ºywany wewnƒôtrznie do zarzƒÖdzania czasem ≈ºycia funkcji bindowanych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">LuaObjectPtr</span></code></strong>: Alias dla <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;LuaObject&gt;</span></code>. Standardowy spos√≥b przekazywania i przechowywania obiekt√≥w C++ w Lua.</p></li>
</ul>
</section>
<section id="id587">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id587" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Zawiera podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;memory&gt;</span></code>: Dla <code class="docutils literal notranslate"><span class="pre">std::unique_ptr</span></code>.</p></li>
<li><p>Jest to fundamentalny plik dla ca≈Çego silnika Lua, do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">luainterface.h</span></code>, <code class="docutils literal notranslate"><span class="pre">luaobject.h</span></code> i inne.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="lbitlib-cpp">
<h1>üìÑ lbitlib.cpp<a class="headerlink" href="#lbitlib-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id588">
<h1>Opis og√≥lny<a class="headerlink" href="#id588" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">lbitlib.cpp</span></code> zawiera kod ≈∫r√≥d≈Çowy biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code> z Lua 5.2.0, przeniesiony (backported) do u≈ºytku z Lua 5.1.4 (lub LuaJIT, kt√≥ry jest kompatybilny z 5.1). Biblioteka ta dostarcza operacje bitowe na 32-bitowych liczbach ca≈Çkowitych bez znaku.</p>
</section>
<section id="id589">
<h1>Zawarto≈õƒá<a class="headerlink" href="#id589" title="Link to this heading">#</a></h1>
<p>Plik sk≈Çada siƒô z kilku czƒô≈õci:</p>
<ol class="arabic simple">
<li><p><strong>Adaptacje i definicje kompatybilno≈õci</strong>:</p>
<ul class="simple">
<li><p>Zawiera kod przeniesiony z <code class="docutils literal notranslate"><span class="pre">luaconf.h</span></code> i <code class="docutils literal notranslate"><span class="pre">llimits.h</span></code> z Lua 5.2, kt√≥ry definiuje makra (<code class="docutils literal notranslate"><span class="pre">lua_number2unsigned</span></code>) do bezpiecznej konwersji miƒôdzy <code class="docutils literal notranslate"><span class="pre">lua_Number</span></code> (zwykle <code class="docutils literal notranslate"><span class="pre">double</span></code>) a <code class="docutils literal notranslate"><span class="pre">lua_Unsigned</span></code> (32-bitowy <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code>). Jest to konieczne, poniewa≈º Lua 5.1 nie ma wbudowanego typu ca≈Çkowitoliczbowego.</p></li>
<li><p>Definiuje funkcjƒô <code class="docutils literal notranslate"><span class="pre">lua_pushunsigned</span></code> i <code class="docutils literal notranslate"><span class="pre">luaL_checkunsigned</span></code> do obs≈Çugi tego typu na stosie Lua.</p></li>
<li><p>Definiuje makro <code class="docutils literal notranslate"><span class="pre">luaL_newlib</span></code> dla kompatybilno≈õci z <code class="docutils literal notranslate"><span class="pre">luaL_register</span></code> z Lua 5.1.</p></li>
</ul>
</li>
<li><p><strong>Oryginalny kod <code class="docutils literal notranslate"><span class="pre">lbitlib.c</span></code> z Lua 5.2.0</strong>:</p>
<ul class="simple">
<li><p>Zawiera implementacje wszystkich funkcji z biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code>.</p></li>
</ul>
</li>
</ol>
</section>
<section id="funkcje-biblioteki-bit32">
<h1>Funkcje biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code><a class="headerlink" href="#funkcje-biblioteki-bit32" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja Lua</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.band(...)</span></code></p></td>
<td class="text-left"><p>Wykonuje bitowe AND na wszystkich argumentach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.btest(...)</span></code></p></td>
<td class="text-left"><p>Wykonuje bitowe AND i zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli wynik jest r√≥≈ºny od zera.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.bor(...)</span></code></p></td>
<td class="text-left"><p>Wykonuje bitowe OR na wszystkich argumentach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.bxor(...)</span></code></p></td>
<td class="text-left"><p>Wykonuje bitowe XOR na wszystkich argumentach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.bnot(x)</span></code></p></td>
<td class="text-left"><p>Wykonuje bitowƒÖ negacjƒô.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.lshift(x,</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>Przesuniƒôcie bitowe w lewo.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.rshift(x,</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>Przesuniƒôcie bitowe w prawo (logiczne).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.arshift(x,</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>Przesuniƒôcie bitowe w prawo (arytmetyczne).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.lrotate(x,</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>Rotacja bitowa w lewo.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.rrotate(x,</span> <span class="pre">n)</span></code></p></td>
<td class="text-left"><p>Rotacja bitowa w prawo.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.extract(n,</span> <span class="pre">field,</span> <span class="pre">width)</span></code></p></td>
<td class="text-left"><p>Ekstrahuje <code class="docutils literal notranslate"><span class="pre">width</span></code> bit√≥w z liczby <code class="docutils literal notranslate"><span class="pre">n</span></code>, zaczynajƒÖc od bitu <code class="docutils literal notranslate"><span class="pre">field</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bit32.replace(n,</span> <span class="pre">v,</span> <span class="pre">field,</span> <span class="pre">width)</span></code></p></td>
<td class="text-left"><p>Zastƒôpuje bity w liczbie <code class="docutils literal notranslate"><span class="pre">n</span></code> bitami z <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="int-luaopen-bit32-lua-state-l">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">luaopen_bit32</span> <span class="pre">(lua_State</span> <span class="pre">*L)</span></code><a class="headerlink" href="#int-luaopen-bit32-lua-state-l" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna funkcja, kt√≥ra rejestruje bibliotekƒô <code class="docutils literal notranslate"><span class="pre">bit32</span></code> w podanym stanie Lua.</p>
</section>
<section id="id590">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id590" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lbitlib.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p>Nag≈Ç√≥wki Lua/LuaJIT (<code class="docutils literal notranslate"><span class="pre">lua.h</span></code>, <code class="docutils literal notranslate"><span class="pre">lualib.h</span></code>, <code class="docutils literal notranslate"><span class="pre">lauxlib.h</span></code>).</p></li>
<li><p>Jest ≈Çadowana w <code class="docutils literal notranslate"><span class="pre">LuaInterface::createLuaState</span></code>, aby udostƒôpniƒá operacje bitowe w skryptach.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="lbitlib-h">
<h1>üìÑ lbitlib.h<a class="headerlink" href="#lbitlib-h" title="Link to this heading">#</a></h1>
</section>
<section id="id591">
<h1>Opis og√≥lny<a class="headerlink" href="#id591" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">lbitlib.h</span></code> jest plikiem nag≈Ç√≥wkowym dla biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code> z Lua 5.2, kt√≥ra zosta≈Ça przeniesiona do u≈ºytku w tym projekcie.</p>
</section>
<section id="deklaracje">
<h1>Deklaracje<a class="headerlink" href="#deklaracje" title="Link to this heading">#</a></h1>
</section>
<section id="id592">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">luaopen_bit32</span> <span class="pre">(lua_State</span> <span class="pre">*L)</span></code><a class="headerlink" href="#id592" title="Link to this heading">#</a></h1>
<p>Deklaruje funkcjƒô, kt√≥ra jest punktem wej≈õcia do za≈Çadowania biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code> w stanie Lua. Zgodnie z konwencjƒÖ Lua, funkcje <code class="docutils literal notranslate"><span class="pre">luaopen_*</span></code> sƒÖ u≈ºywane do rejestrowania modu≈Ç√≥w.</p>
</section>
<section id="id593">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id593" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Wymaga definicji <code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">lua_State</span></code>.</p></li>
<li><p>Jest do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">luainterface.cpp</span></code>, aby umo≈ºliwiƒá za≈Çadowanie biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code> podczas inicjalizacji <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luabinder-h">
<h1>üìÑ luabinder.h<a class="headerlink" href="#luabinder-h" title="Link to this heading">#</a></h1>
</section>
<section id="id594">
<h1>Opis og√≥lny<a class="headerlink" href="#id594" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luabinder.h</span></code> jest sercem mechanizmu bindowania C++ do Lua. Zawiera on zestaw zaawansowanych szablon√≥w metaprogramowania, kt√≥re umo≈ºliwiajƒÖ automatyczne generowanie funkcji-opakowa≈Ñ (wrapper√≥w) dla niemal dowolnych funkcji C++, w tym funkcji globalnych, statycznych, metod klas, funkcji <code class="docutils literal notranslate"><span class="pre">std::function</span></code> i lambd.</p>
</section>
<section id="namespace-luabinder">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">luabinder</span></code><a class="headerlink" href="#namespace-luabinder" title="Link to this heading">#</a></h1>
</section>
<section id="id595">
<h1>Opis semantyczny<a class="headerlink" href="#id595" title="Link to this heading">#</a></h1>
<p>Przestrze≈Ñ nazw <code class="docutils literal notranslate"><span class="pre">luabinder</span></code> zawiera szablony, kt√≥re dzia≈ÇajƒÖ jak ‚Äûfabryka‚Äù funkcji typu <code class="docutils literal notranslate"><span class="pre">LuaCppFunction</span></code>. AnalizujƒÖ one sygnaturƒô funkcji C++ (typ zwracany i typy argument√≥w), a nastƒôpnie generujƒÖ lambdƒô, kt√≥ra:</p>
<ol class="arabic simple">
<li><p>Pobiera argumenty z stosu Lua i konwertuje je na odpowiednie typy C++.</p></li>
<li><p>Wywo≈Çuje oryginalnƒÖ funkcjƒô C++ z tymi argumentami.</p></li>
<li><p>Pobiera warto≈õƒá zwracanƒÖ przez funkcjƒô C++.</p></li>
<li><p>Konwertuje tƒô warto≈õƒá na typ zrozumia≈Çy dla Lua i umieszcza jƒÖ na stosie.</p></li>
<li><p>Zwraca liczbƒô warto≈õci umieszczonych na stosie.</p></li>
</ol>
</section>
<section id="glowne-szablony">
<h1>G≈Ç√≥wne szablony<a class="headerlink" href="#glowne-szablony" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pack_values_into_tuple</span></code></strong>: Szablon rekurencyjny, kt√≥ry pobiera <code class="docutils literal notranslate"><span class="pre">N</span></code> warto≈õci ze stosu Lua i umieszcza je w <code class="docutils literal notranslate"><span class="pre">std::tuple</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">expand_fun_arguments</span></code></strong>: Szablon rekurencyjny, kt√≥ry rozpakowuje <code class="docutils literal notranslate"><span class="pre">std::tuple</span></code> z argumentami i wywo≈Çuje z nimi docelowƒÖ funkcjƒô C++.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">call_fun_and_push_result</span></code></strong>: Szablon, kt√≥ry wywo≈Çuje funkcjƒô i obs≈Çuguje warto≈õƒá zwracanƒÖ (specjalizacje dla <code class="docutils literal notranslate"><span class="pre">void</span></code> i typ√≥w nie-<code class="docutils literal notranslate"><span class="pre">void</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">bind_fun_specializer</span></code></strong>: G≈Ç√≥wny szablon, kt√≥ry ≈ÇƒÖczy powy≈ºsze, generujƒÖc finalnƒÖ lambdƒô.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">bind_fun(...)</span></code></strong>: PrzeciƒÖ≈ºone funkcje, kt√≥re sƒÖ publicznym API tego namespace. PrzyjmujƒÖ r√≥≈ºne typy funkcji (wska≈∫niki, <code class="docutils literal notranslate"><span class="pre">std::function</span></code>, lambdy) i przekierowujƒÖ je do odpowiednich specjalizacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">make_mem_func(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">make_mem_func_singleton(...)</span></code></strong>: Funkcje pomocnicze, kt√≥re konwertujƒÖ wska≈∫niki na metody klas na obiekty <code class="docutils literal notranslate"><span class="pre">std::function</span></code> (lambdy), kt√≥re mo≈ºna nastƒôpnie zbindowaƒá.</p></li>
</ul>
</section>
<section id="id596">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id596" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to plik wewnƒôtrzny, do≈ÇƒÖczany tylko przez <code class="docutils literal notranslate"><span class="pre">luainterface.h</span></code>.</p></li>
<li><p>Intensywnie korzysta z zaawansowanych cech C++11/14/17, takich jak szablony wariadyczne, <code class="docutils literal notranslate"><span class="pre">std::tuple</span></code>, <code class="docutils literal notranslate"><span class="pre">std::function</span></code>, <code class="docutils literal notranslate"><span class="pre">std::enable_if</span></code>, <code class="docutils literal notranslate"><span class="pre">decltype</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/traits.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">remove_const_ref</span></code> do normalizacji typ√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">luaexception.h</span></code>: Mo≈ºe rzucaƒá wyjƒÖtki w przypadku b≈Çƒôd√≥w (np. wywo≈Çanie metody na obiekcie <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>).</p></li>
<li><p>Jest podstawƒÖ dla wszystkich metod <code class="docutils literal notranslate"><span class="pre">bind...</span></code> w <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, kt√≥re automatyzujƒÖ proces tworzenia bindowa≈Ñ.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luaexception-h">
<h1>üìÑ luaexception.h<a class="headerlink" href="#luaexception-h" title="Link to this heading">#</a></h1>
</section>
<section id="id597">
<h1>Opis og√≥lny<a class="headerlink" href="#id597" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luaexception.h</span></code> deklaruje hierarchiƒô klas wyjƒÖtk√≥w specyficznych dla interakcji z silnikiem Lua. Te klasy wyjƒÖtk√≥w sƒÖ u≈ºywane do sygnalizowania b≈Çƒôd√≥w, kt√≥re wystƒôpujƒÖ podczas operacji na stosie Lua, rzutowania typ√≥w lub wywo≈Çywania funkcji.</p>
</section>
<section id="klasa-luaexception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaException</span></code><a class="headerlink" href="#klasa-luaexception" title="Link to this heading">#</a></h1>
</section>
<section id="id598">
<h1>Opis semantyczny<a class="headerlink" href="#id598" title="Link to this heading">#</a></h1>
<p>Jest to bazowa klasa dla wszystkich wyjƒÖtk√≥w zwiƒÖzanych z Lua. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>. Jej g≈Ç√≥wnym zadaniem jest sformatowanie komunikatu o b≈Çƒôdzie, opcjonalnie do≈ÇƒÖczajƒÖc do niego ≈õlad stosu (traceback) z Lua.</p>
</section>
<section id="id599">
<h1>Metody<a class="headerlink" href="#id599" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LuaException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">traceLevel</span> <span class="pre">=</span> <span class="pre">-1)</span></code>: Konstruktor, kt√≥ry generuje komunikat b≈Çƒôdu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">const</span> <span class="pre">char*</span> <span class="pre">what()</span> <span class="pre">const</span> <span class="pre">throw()</span></code>: Zwraca sformatowany komunikat b≈Çƒôdu.</p></li>
</ul>
</section>
<section id="klasa-luabadnumberofargumentsexception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException</span></code><a class="headerlink" href="#klasa-luabadnumberofargumentsexception" title="Link to this heading">#</a></h1>
</section>
<section id="id600">
<h1>Opis semantyczny<a class="headerlink" href="#id600" title="Link to this heading">#</a></h1>
<p>Specjalistyczny wyjƒÖtek rzucany, gdy funkcja C++ bindowana do Lua zostanie wywo≈Çana z nieprawid≈ÇowƒÖ liczbƒÖ argument√≥w.</p>
</section>
<section id="id601">
<h1>Metody<a class="headerlink" href="#id601" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException(int</span> <span class="pre">expected</span> <span class="pre">=</span> <span class="pre">-1,</span> <span class="pre">int</span> <span class="pre">got</span> <span class="pre">=</span> <span class="pre">-1)</span></code>: Konstruktor, kt√≥ry tworzy odpowiedni komunikat o b≈Çƒôdzie.</p></li>
</ul>
</section>
<section id="klasa-luabadvaluecastexception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException</span></code><a class="headerlink" href="#klasa-luabadvaluecastexception" title="Link to this heading">#</a></h1>
</section>
<section id="id602">
<h1>Opis semantyczny<a class="headerlink" href="#id602" title="Link to this heading">#</a></h1>
<p>Specjalistyczny wyjƒÖtek rzucany, gdy pr√≥ba rzutowania warto≈õci ze stosu Lua na okre≈õlony typ C++ (<code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code>) nie powiedzie siƒô.</p>
</section>
<section id="id603">
<h1>Metody<a class="headerlink" href="#id603" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">luaTypeName,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">cppTypeName)</span></code>: Konstruktor, kt√≥ry tworzy komunikat b≈Çƒôdu informujƒÖcy o typach, miƒôdzy kt√≥rymi rzutowanie zawiod≈Ço.</p></li>
</ul>
</section>
<section id="id604">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id604" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/exception.h</span></code>: Klasa bazowa <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>.</p></li>
<li><p>WyjƒÖtki te sƒÖ rzucane przez <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code> i <code class="docutils literal notranslate"><span class="pre">luabinder</span></code>, a ≈Çapane w bezpiecznych punktach wywo≈Ça≈Ñ (np. <code class="docutils literal notranslate"><span class="pre">luaCppFunctionCallback</span></code>), aby zapobiec awarii aplikacji i przekazaƒá b≈ÇƒÖd do log√≥w lub z powrotem do ≈õrodowiska Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luaexception-cpp">
<h1>üìÑ luaexception.cpp<a class="headerlink" href="#luaexception-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id605">
<h1>Opis og√≥lny<a class="headerlink" href="#id605" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luaexception.cpp</span></code> zawiera implementacjƒô klas wyjƒÖtk√≥w zdefiniowanych w <code class="docutils literal notranslate"><span class="pre">luaexception.h</span></code>.</p>
</section>
<section id="id606">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaException</span></code><a class="headerlink" href="#id606" title="Link to this heading">#</a></h1>
</section>
<section id="luaexception-luaexception-const-std-string-error-int-tracelevel">
<h1><code class="docutils literal notranslate"><span class="pre">LuaException::LuaException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">traceLevel)</span></code><a class="headerlink" href="#luaexception-luaexception-const-std-string-error-int-tracelevel" title="Link to this heading">#</a></h1>
<p>Konstruktor. Jego g≈Ç√≥wnym zadaniem jest wywo≈Çanie <code class="docutils literal notranslate"><span class="pre">generateLuaErrorMessage</span></code>, aby przygotowaƒá pe≈Çny komunikat b≈Çƒôdu.</p>
</section>
<section id="void-luaexception-generateluaerrormessage-const-std-string-error-int-tracelevel">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaException::generateLuaErrorMessage(const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">traceLevel)</span></code><a class="headerlink" href="#void-luaexception-generateluaerrormessage-const-std-string-error-int-tracelevel" title="Link to this heading">#</a></h1>
<p>Metoda ta formatuje finalny komunikat b≈Çƒôdu, kt√≥ry bƒôdzie dostƒôpny przez <code class="docutils literal notranslate"><span class="pre">what()</span></code>.</p>
<ul class="simple">
<li><p>Je≈õli <code class="docutils literal notranslate"><span class="pre">traceLevel</span></code> jest podany (wiƒôkszy lub r√≥wny 0), wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">g_lua.traceback</span></code>, aby do≈ÇƒÖczyƒá do komunikatu ≈õlad stosu wywo≈Ça≈Ñ Lua.</p></li>
<li><p>W przeciwnym razie, po prostu prefiksuje b≈ÇƒÖd napisem ‚ÄûLUA ERROR:‚Äù.</p></li>
</ul>
</section>
<section id="id607">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException</span></code><a class="headerlink" href="#id607" title="Link to this heading">#</a></h1>
</section>
<section id="luabadnumberofargumentsexception-luabadnumberofargumentsexception-int-expected-int-got">
<h1><code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException::LuaBadNumberOfArgumentsException(int</span> <span class="pre">expected,</span> <span class="pre">int</span> <span class="pre">got)</span></code><a class="headerlink" href="#luabadnumberofargumentsexception-luabadnumberofargumentsexception-int-expected-int-got" title="Link to this heading">#</a></h1>
<p>Konstruktor. Tworzy specyficzny komunikat b≈Çƒôdu informujƒÖcy o nieprawid≈Çowej liczbie argument√≥w, a nastƒôpnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">generateLuaErrorMessage</span></code> z poziomem ≈õledzenia <code class="docutils literal notranslate"><span class="pre">1</span></code>, aby pokazaƒá, kt√≥ra funkcja w Lua zosta≈Ça ≈∫le wywo≈Çana.</p>
</section>
<section id="id608">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException</span></code><a class="headerlink" href="#id608" title="Link to this heading">#</a></h1>
</section>
<section id="luabadvaluecastexception-luabadvaluecastexception-const-std-string-luatypename-const-std-string-cpptypename">
<h1><code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException::LuaBadValueCastException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">luaTypeName,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">cppTypeName)</span></code><a class="headerlink" href="#luabadvaluecastexception-luabadvaluecastexception-const-std-string-luatypename-const-std-string-cpptypename" title="Link to this heading">#</a></h1>
<p>Konstruktor. Tworzy komunikat b≈Çƒôdu informujƒÖcy o niemo≈ºno≈õci rzutowania miƒôdzy danym typem Lua a typem C++, a nastƒôpnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">generateLuaErrorMessage</span></code>.</p>
</section>
<section id="id609">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id609" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaexception.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do generowania ≈õladu stosu.</p></li>
<li><p>Implementuje logikƒô formatowania b≈Çƒôd√≥w, kt√≥ra jest kluczowa dla debugowania skrypt√≥w Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luainterface-cpp">
<h1>üìÑ luainterface.cpp<a class="headerlink" href="#luainterface-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id610">
<h1>Opis og√≥lny<a class="headerlink" href="#id610" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luainterface.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, kt√≥ra jest centralnym interfejsem do komunikacji z silnikiem Lua. Jest to jedna z najwa≈ºniejszych klas w ca≈Çym frameworku.</p>
</section>
<section id="id611">
<h1>Zmienne globalne<a class="headerlink" href="#id611" title="Link to this heading">#</a></h1>
</section>
<section id="g-lua">
<h1><code class="docutils literal notranslate"><span class="pre">g_lua</span></code><a class="headerlink" href="#g-lua" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>.</p>
</section>
<section id="klasa-luainterface">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code><a class="headerlink" href="#klasa-luainterface" title="Link to this heading">#</a></h1>
</section>
<section id="inicjalizacja-i-zamykanie">
<h1>Inicjalizacja i zamykanie<a class="headerlink" href="#inicjalizacja-i-zamykanie" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">init()</span></code></strong>: Inicjalizuje <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>.</p>
<ol class="arabic simple">
<li><p>Tworzy nowy stan Lua (<code class="docutils literal notranslate"><span class="pre">createLuaState</span></code>).</p></li>
<li><p>Zapisuje referencjƒô do globalnego ≈õrodowiska.</p></li>
<li><p>Rejestruje bazowƒÖ klasƒô <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code> i jej podstawowe metody.</p></li>
</ol>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">terminate()</span></code></strong>: Zamyka stan Lua, co powoduje zwolnienie wszystkich zasob√≥w i wywo≈Çanie garbage collectora.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">createLuaState()</span></code></strong>: Tworzy stan Lua (<code class="docutils literal notranslate"><span class="pre">luaL_newstate</span></code>), ≈Çaduje standardowe biblioteki (<code class="docutils literal notranslate"><span class="pre">luaL_openlibs</span></code>), ≈Çaduje bibliotekƒô <code class="docutils literal notranslate"><span class="pre">bit32</span></code>, tworzy specjalnƒÖ ‚Äûs≈ÇabƒÖ‚Äù tabelƒô do przechowywania referencji i instaluje niestandardowe loadery (<code class="docutils literal notranslate"><span class="pre">dofile</span></code>, <code class="docutils literal notranslate"><span class="pre">loadfile</span></code>).</p></li>
</ul>
</section>
<section id="rejestracja-i-bindowanie">
<h1>Rejestracja i bindowanie<a class="headerlink" href="#rejestracja-i-bindowanie" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">registerSingletonClass(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">registerClass(...)</span></code></strong>: ImplementujƒÖ logikƒô tworzenia tabel i metatabel w Lua, kt√≥re reprezentujƒÖ klasy C++. <code class="docutils literal notranslate"><span class="pre">registerClass</span></code> dodatkowo ustawia dziedziczenie, linkujƒÖc metatabelƒô klasy pochodnej do metatabeli klasy bazowej za pomocƒÖ metametody <code class="docutils literal notranslate"><span class="pre">__index</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">register...Function(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">register...Field(...)</span></code></strong>: Metody te pobierajƒÖ odpowiednie tabele (klasy, metody, fieldmethods) z globalnego ≈õrodowiska Lua i umieszczajƒÖ w nich funkcje C++ opakowane w <code class="docutils literal notranslate"><span class="pre">LuaCppFunction</span></code>.</p></li>
</ul>
</section>
<section id="metody-obslugi-metametod-obiektow">
<h1>Metody obs≈Çugi metametod obiekt√≥w<a class="headerlink" href="#metody-obslugi-metametod-obiektow" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaObjectGetEvent(__index)</span></code></strong>: Handler wywo≈Çywany przy pr√≥bie odczytu pola z obiektu C++ w Lua. Wyszukuje on kolejno: metodƒô ‚Äûget‚Äù, pole w tabeli <code class="docutils literal notranslate"><span class="pre">fields</span></code> obiektu, metodƒô w tabeli metod klasy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaObjectSetEvent(__newindex)</span></code></strong>: Handler wywo≈Çywany przy pr√≥bie zapisu pola. Wyszukuje i wywo≈Çuje metodƒô ‚Äûset‚Äù lub zapisuje warto≈õƒá w tabeli <code class="docutils literal notranslate"><span class="pre">fields</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaObjectEqualEvent(__eq)</span></code></strong>: Por√≥wnuje dwa obiekty C++.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaObjectCollectEvent(__gc)</span></code></strong>: Handler wywo≈Çywany przez garbage collector Lua. Zwalnia <code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code> do obiektu, dekrementujƒÖc jego licznik referencji.</p></li>
</ul>
</section>
<section id="wykonywanie-skryptow">
<h1>Wykonywanie skrypt√≥w<a class="headerlink" href="#wykonywanie-skryptow" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">runScript(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">loadScript(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">runBuffer(...)</span></code></strong>: Metody do ≈Çadowania i wykonywania skrypt√≥w Lua z plik√≥w lub bufor√≥w w pamiƒôci. <code class="docutils literal notranslate"><span class="pre">loadScript</span></code> u≈ºywa <code class="docutils literal notranslate"><span class="pre">g_resources</span></code> do znalezienia i odczytania pliku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">safeCall(...)</span></code></strong>: Kluczowa metoda do bezpiecznego wywo≈Çywania funkcji Lua. Ustawia <code class="docutils literal notranslate"><span class="pre">luaErrorHandler</span></code> jako funkcjƒô obs≈Çugi b≈Çƒôd√≥w, a nastƒôpnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">lua_pcall</span></code>. W przypadku b≈Çƒôdu, ≈Çapie go i zwraca jako string lub rzuca wyjƒÖtek <code class="docutils literal notranslate"><span class="pre">LuaException</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">signalCall(...)</span></code></strong>: Wysokopoziomowa metoda, kt√≥ra opakowuje <code class="docutils literal notranslate"><span class="pre">safeCall</span></code> i dodatkowo obs≈Çuguje wywo≈Çywanie tabeli funkcji.</p></li>
</ul>
</section>
<section id="inne">
<h1>Inne<a class="headerlink" href="#inne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">traceback(...)</span></code></strong>: Generuje ≈õlad stosu wywo≈Ça≈Ñ Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">getCurrentSourcePath(...)</span></code></strong>: Zwraca ≈õcie≈ºkƒô do pliku skryptu, w kt√≥rym aktualnie wykonywany jest kod.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">newSandboxEnv()</span></code></strong>: Tworzy nowe, odizolowane ≈õrodowisko Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lua...</span></code> (funkcje statyczne)</strong>: Implementacje funkcji C, kt√≥re sƒÖ bezpo≈õrednio rejestrowane w Lua (np. <code class="docutils literal notranslate"><span class="pre">lua_dofile</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">...Callback</span></code></strong>: Implementacje handler√≥w dla <code class="docutils literal notranslate"><span class="pre">lua_pcall</span></code> i <code class="docutils literal notranslate"><span class="pre">__gc</span></code>.</p></li>
<li><p><strong>Metody opakowujƒÖce API Lua</strong>: Plik zawiera dziesiƒÖtki metod (<code class="docutils literal notranslate"><span class="pre">getTop</span></code>, <code class="docutils literal notranslate"><span class="pre">pushNil</span></code>, <code class="docutils literal notranslate"><span class="pre">toString</span></code>, <code class="docutils literal notranslate"><span class="pre">isTable</span></code>, etc.), kt√≥re sƒÖ cienkimi, ale bezpieczniejszymi (dziƒôki <code class="docutils literal notranslate"><span class="pre">VALIDATE</span></code>) opakowaniami na funkcje z biblioteki Lua C API.</p></li>
</ul>
</section>
<section id="id612">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id612" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to centralna klasa, kt√≥ra ≈ÇƒÖczy C++ z Lua. Zale≈ºy od <code class="docutils literal notranslate"><span class="pre">lua.h</span></code>, <code class="docutils literal notranslate"><span class="pre">lualib.h</span></code>, <code class="docutils literal notranslate"><span class="pre">lauxlib.h</span></code>.</p></li>
<li><p>≈öci≈õle wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, <code class="docutils literal notranslate"><span class="pre">luabinder.h</span></code>, <code class="docutils literal notranslate"><span class="pre">luavaluecasts.h</span></code>.</p></li>
<li><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_resources</span></code> do ≈Çadowania skrypt√≥w.</p></li>
<li><p>U≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Application</span></code> do inicjalizacji, <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code> do ≈Çadowania modu≈Ç√≥w i <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> do wywo≈Çywania callback√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luainterface-h">
<h1>üìÑ luainterface.h<a class="headerlink" href="#luainterface-h" title="Link to this heading">#</a></h1>
</section>
<section id="id613">
<h1>Opis og√≥lny<a class="headerlink" href="#id613" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luainterface.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, kt√≥ra jest g≈Ç√≥wnym interfejsem do interakcji z silnikiem Lua. Jest to klasa singletonowa (<code class="docutils literal notranslate"><span class="pre">g_lua</span></code>), kt√≥ra enkapsuluje stan Lua (<code class="docutils literal notranslate"><span class="pre">lua_State*</span></code>) i dostarcza bogaty zestaw metod do manipulacji stosem, wywo≈Çywania funkcji, bindowania kodu C++ i zarzƒÖdzania obiektami.</p>
</section>
<section id="id614">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code><a class="headerlink" href="#id614" title="Link to this heading">#</a></h1>
</section>
<section id="id615">
<h1>Opis semantyczny<a class="headerlink" href="#id615" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code> stanowi most miƒôdzy kodem C++ a skryptami Lua. Udostƒôpnia wysokopoziomowe API, kt√≥re ukrywa z≈Ço≈ºono≈õƒá bezpo≈õredniej pracy z Lua C API. Wszystkie operacje, takie jak umieszczanie warto≈õci na stosie, odczytywanie ich, wywo≈Çywanie funkcji czy rejestrowanie klas, sƒÖ opakowane w metody tej klasy.</p>
</section>
<section id="metody-publiczne-wybrane">
<h1>Metody publiczne (wybrane)<a class="headerlink" href="#metody-publiczne-wybrane" title="Link to this heading">#</a></h1>
</section>
<section id="inicjalizacja-i-zarzadzanie">
<h1>Inicjalizacja i zarzƒÖdzanie<a class="headerlink" href="#inicjalizacja-i-zarzadzanie" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code>: Uruchamia i zamyka silnik Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">collectGarbage()</span></code>: Wymusza uruchomienie garbage collectora.</p></li>
</ul>
</section>
<section id="id616">
<h1>Rejestracja i bindowanie<a class="headerlink" href="#id616" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">registerSingletonClass(...)</span></code>: Rejestruje globalny obiekt (singleton) w Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">registerClass(...)</span></code>: Rejestruje klasƒô C++ w Lua, umo≈ºliwiajƒÖc tworzenie jej instancji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bind...Function(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">bind...Field(...)</span></code>: Szablonowe metody do bindowania funkcji i p√≥l klas.</p></li>
</ul>
</section>
<section id="id617">
<h1>Wykonywanie skrypt√≥w<a class="headerlink" href="#id617" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">safeRunScript(...)</span></code>: Bezpiecznie wykonuje skrypt z pliku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">runScript(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">runBuffer(...)</span></code>: WykonujƒÖ skrypt z pliku lub bufora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loadScript(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">loadFunction(...)</span></code>: ≈ÅadujƒÖ skrypt/funkcjƒô na stos bez jej wykonywania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">safeCall(...)</span></code>: Bezpiecznie wywo≈Çuje funkcjƒô na stosie, z obs≈ÇugƒÖ b≈Çƒôd√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">signalCall(...)</span></code>: Wysokopoziomowa wersja <code class="docutils literal notranslate"><span class="pre">safeCall</span></code> z dodatkowymi funkcjami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">callGlobalField&lt;R,</span> <span class="pre">...T&gt;(...)</span></code>: Wygodna metoda do wywo≈Çywania globalnej funkcji Lua z C++ i otrzymywania wyniku.</p></li>
</ul>
</section>
<section id="manipulacja-stosem-i-typami">
<h1>Manipulacja stosem i typami<a class="headerlink" href="#manipulacja-stosem-i-typami" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">push...()</span></code> / <code class="docutils literal notranslate"><span class="pre">pop...()</span></code> / <code class="docutils literal notranslate"><span class="pre">to...()</span></code> / <code class="docutils literal notranslate"><span class="pre">is...()</span></code>: Zestaw metod do pracy ze stosem Lua dla r√≥≈ºnych typ√≥w danych (np. <code class="docutils literal notranslate"><span class="pre">pushInteger</span></code>, <code class="docutils literal notranslate"><span class="pre">isString</span></code>, <code class="docutils literal notranslate"><span class="pre">toObject</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getTop()</span></code>: Zwraca rozmiar stosu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ref()</span></code> / <code class="docutils literal notranslate"><span class="pre">unref()</span></code>: Do tworzenia i zwalniania trwa≈Çych referencji do warto≈õci Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">polymorphicPush&lt;T&gt;(...)</span></code>: Szablonowa metoda do umieszczania na stosie dowolnego typu, dla kt√≥rego zdefiniowano <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">castValue&lt;T&gt;(...)</span></code>: Szablonowa metoda do rzutowania warto≈õci ze stosu na typ C++, u≈ºywajƒÖc <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code>.</p></li>
</ul>
</section>
<section id="id618">
<h1>Zmienne prywatne<a class="headerlink" href="#id618" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: Wska≈∫nik na <code class="docutils literal notranslate"><span class="pre">lua_State</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_weakTableRef</span></code>: Referencja do tabeli ze s≈Çabymi referencjami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cppCallbackDepth</span></code>: Licznik zagnie≈ºd≈ºenia wywo≈Ça≈Ñ zwrotnych C++.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_totalObjRefs</span></code>, <code class="docutils literal notranslate"><span class="pre">m_totalFuncRefs</span></code>: Liczniki do ≈õledzenia alokacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_globalEnv</span></code>: Referencja do globalnego ≈õrodowiska Lua.</p></li>
</ul>
</section>
<section id="dolaczane-pliki">
<h1>Do≈ÇƒÖczane pliki<a class="headerlink" href="#dolaczane-pliki" title="Link to this heading">#</a></h1>
<p>Plik ten na ko≈Ñcu do≈ÇƒÖcza trzy kluczowe pliki, kt√≥re sƒÖ od niego zale≈ºne i rozszerzajƒÖ jego funkcjonalno≈õƒá:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">luaexception.h</span></code>: Definicje wyjƒÖtk√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">luabinder.h</span></code>: Maszyneria do bindowania funkcji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">luavaluecasts.h</span></code>: Implementacje <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code> i <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code> dla r√≥≈ºnych typ√≥w.</p></li>
</ul>
</section>
<section id="id619">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id619" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to centralny plik dla ca≈Çego podsystemu Lua.</p></li>
<li><p>Zale≈ºny od <code class="docutils literal notranslate"><span class="pre">framework/luaengine/declarations.h</span></code>.</p></li>
<li><p>U≈ºywany przez praktycznie ka≈ºdƒÖ czƒô≈õƒá aplikacji, kt√≥ra wchodzi w interakcjƒô z Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luaobject-cpp">
<h1>üìÑ luaobject.cpp<a class="headerlink" href="#luaobject-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id620">
<h1>Opis og√≥lny<a class="headerlink" href="#id620" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luaobject.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, kt√≥ra jest klasƒÖ bazowƒÖ dla wszystkich obiekt√≥w C++, kt√≥re majƒÖ byƒá dostƒôpne w ≈õrodowisku Lua.</p>
</section>
<section id="klasa-luaobject">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code><a class="headerlink" href="#klasa-luaobject" title="Link to this heading">#</a></h1>
</section>
<section id="luaobject-luaobject">
<h1><code class="docutils literal notranslate"><span class="pre">LuaObject::LuaObject()</span></code><a class="headerlink" href="#luaobject-luaobject" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje <code class="docutils literal notranslate"><span class="pre">m_fieldsTableRef</span></code> na -1, co oznacza, ≈ºe obiekt nie ma jeszcze przypisanej tabeli p√≥l w Lua.</p>
</section>
<section id="id621">
<h1><code class="docutils literal notranslate"><span class="pre">LuaObject::~LuaObject()</span></code><a class="headerlink" href="#id621" title="Link to this heading">#</a></h1>
<p>Destruktor. Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">releaseLuaFieldsTable()</span></code>, aby zwolniƒá referencjƒô do tabeli p√≥l w Lua, co pozwala garbage collectorowi na jej usuniƒôcie. Sprawdza r√≥wnie≈º, czy nie jest wywo≈Çywany podczas zamykania aplikacji.</p>
</section>
<section id="bool-luaobject-hasluafield-const-std-string-field">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">LuaObject::hasLuaField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">field)</span></code><a class="headerlink" href="#bool-luaobject-hasluafield-const-std-string-field" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy obiekt posiada pole o danej nazwie w swojej tabeli p√≥l Lua.</p>
</section>
<section id="void-luaobject-releaseluafieldstable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::releaseLuaFieldsTable()</span></code><a class="headerlink" href="#void-luaobject-releaseluafieldstable" title="Link to this heading">#</a></h1>
<p>Zwalnia referencjƒô do tabeli p√≥l (<code class="docutils literal notranslate"><span class="pre">m_fieldsTableRef</span></code>), je≈õli istnieje.</p>
</section>
<section id="void-luaobject-luasetfield-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaSetField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#void-luaobject-luasetfield-const-std-string-key" title="Link to this heading">#</a></h1>
</section>
<section id="id622">
<h1>Opis semantyczny<a class="headerlink" href="#id622" title="Link to this heading">#</a></h1>
<p>Ustawia pole w tabeli Lua powiƒÖzanej z tym obiektem. Warto≈õƒá do ustawienia musi znajdowaƒá siƒô na szczycie stosu Lua.</p>
</section>
<section id="id623">
<h1>Dzia≈Çanie<a class="headerlink" href="#id623" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Je≈õli obiekt nie ma jeszcze tabeli p√≥l (<code class="docutils literal notranslate"><span class="pre">m_fieldsTableRef</span> <span class="pre">==</span> <span class="pre">-1</span></code>), tworzy nowƒÖ tabelƒô w Lua i zapisuje do niej referencjƒô.</p></li>
<li><p>Pobiera tabelƒô p√≥l na stos Lua.</p></li>
<li><p>Przenosi warto≈õƒá ze szczytu stosu na odpowiednie miejsce.</p></li>
<li><p>Ustawia pole w tabeli za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_lua.setField(key)</span></code>.</p></li>
<li><p>Zdejmuje tabelƒô p√≥l ze stosu.</p></li>
</ol>
</section>
<section id="void-luaobject-luagetfield-const-std-string-key">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code><a class="headerlink" href="#void-luaobject-luagetfield-const-std-string-key" title="Link to this heading">#</a></h1>
<p>Pobiera warto≈õƒá pola z tabeli Lua obiektu i umieszcza jƒÖ na szczycie stosu. Je≈õli tabela p√≥l nie istnieje, umieszcza <code class="docutils literal notranslate"><span class="pre">nil</span></code>.</p>
</section>
<section id="void-luaobject-luagetmetatable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetMetatable()</span></code><a class="headerlink" href="#void-luaobject-luagetmetatable" title="Link to this heading">#</a></h1>
<p>Pobiera i umieszcza na stosie metatabelƒô dla klasy tego obiektu. U≈ºywa statycznej mapy (<code class="docutils literal notranslate"><span class="pre">metatableMap</span></code>) do cachowania referencji do metatabel dla ka≈ºdego typu klasy, aby uniknƒÖƒá wielokrotnego wyszukiwania ich w globalnym ≈õrodowisku Lua.</p>
</section>
<section id="void-luaobject-luagetfieldstable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetFieldsTable()</span></code><a class="headerlink" href="#void-luaobject-luagetfieldstable" title="Link to this heading">#</a></h1>
<p>Umieszcza na stosie tabelƒô p√≥l tego obiektu, lub <code class="docutils literal notranslate"><span class="pre">nil</span></code>, je≈õli ona nie istnieje.</p>
</section>
<section id="int-luaobject-getusecount">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">LuaObject::getUseCount()</span></code><a class="headerlink" href="#int-luaobject-getusecount" title="Link to this heading">#</a></h1>
<p>Zwraca liczbƒô referencji do obiektu (<code class="docutils literal notranslate"><span class="pre">shared_object::ref_count()</span></code>).</p>
</section>
<section id="std-string-luaobject-getclassname">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">LuaObject::getClassName()</span></code><a class="headerlink" href="#std-string-luaobject-getclassname" title="Link to this heading">#</a></h1>
<p>Zwraca zdemanglowanƒÖ nazwƒô klasy obiektu, kt√≥ra jest u≈ºywana do znalezienia odpowiedniej metatabeli w Lua.</p>
</section>
<section id="id624">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id624" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: Intensywnie korzysta z <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do wszystkich operacji na stanie Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Do sprawdzania stanu aplikacji.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla setek innych klas w projekcie, kt√≥re sƒÖ eksportowane do Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luaobject-h">
<h1>üìÑ luaobject.h<a class="headerlink" href="#luaobject-h" title="Link to this heading">#</a></h1>
</section>
<section id="id625">
<h1>Opis og√≥lny<a class="headerlink" href="#id625" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luaobject.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, kt√≥ra jest fundamentalnƒÖ klasƒÖ bazowƒÖ dla wszystkich obiekt√≥w C++, kt√≥re majƒÖ byƒá widoczne i zarzƒÖdzane przez silnik Lua.</p>
</section>
<section id="id626">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code><a class="headerlink" href="#id626" title="Link to this heading">#</a></h1>
</section>
<section id="id627">
<h1>Opis semantyczny<a class="headerlink" href="#id627" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">LuaObject</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">stdext::shared_object</span></code>, co zapewnia zarzƒÖdzanie czasem ≈ºycia obiektu za pomocƒÖ licznika referencji. Dodaje funkcjonalno≈õƒá, kt√≥ra pozwala na dynamiczne do≈ÇƒÖczanie do obiektu C++ p√≥l i metod z poziomu Lua. Ka≈ºda instancja <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code> mo≈ºe posiadaƒá w≈ÇasnƒÖ, unikalnƒÖ tabelƒô w Lua (<code class="docutils literal notranslate"><span class="pre">m_fieldsTableRef</span></code>), w kt√≥rej przechowywane sƒÖ te dynamiczne dane.</p>
</section>
<section id="id628">
<h1>Metody publiczne<a class="headerlink" href="#id628" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>Szablonowe metody do interakcji z Lua</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">connectLuaField(...)</span></code></p></td>
<td class="text-left"><p>≈ÅƒÖczy funkcjƒô C++ (<code class="docutils literal notranslate"><span class="pre">std::function</span></code>) z polem Lua, tworzƒÖc lub rozszerzajƒÖc tabelƒô callback√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">luaCallLuaField(...)</span></code></p></td>
<td class="text-left"><p>Wywo≈Çuje funkcjƒô przechowywanƒÖ w polu Lua tego obiektu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">callLuaField(...)</span></code></p></td>
<td class="text-left"><p>Wysokopoziomowe opakowanie na <code class="docutils literal notranslate"><span class="pre">luaCallLuaField</span></code>, kt√≥re obs≈Çuguje konwersjƒô typ√≥w zwracanych.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">hasLuaField(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy obiekt ma pole o danej nazwie w swojej tabeli Lua.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setLuaField(...)</span></code></p></td>
<td class="text-left"><p>Ustawia warto≈õƒá pola w tabeli Lua.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getLuaField(...)</span></code></p></td>
<td class="text-left"><p>Pobiera warto≈õƒá pola z tabeli Lua.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Niskopoziomowe metody do interakcji z Lua</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">releaseLuaFieldsTable()</span></code></p></td>
<td class="text-left"><p>Zwalnia referencjƒô do tabeli p√≥l.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">luaSetField(...)</span></code></p></td>
<td class="text-left"><p>Ustawia pole, pobierajƒÖc warto≈õƒá ze szczytu stosu Lua.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">luaGetField(...)</span></code></p></td>
<td class="text-left"><p>Pobiera pole i umieszcza jego warto≈õƒá na stosie Lua.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">luaGetMetatable()</span></code></p></td>
<td class="text-left"><p>Pobiera i umieszcza na stosie metatabelƒô klasy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">luaGetFieldsTable()</span></code></p></td>
<td class="text-left"><p>Umieszcza na stosie tabelƒô p√≥l obiektu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Metody pomocnicze</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getUseCount()</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô referencji do obiektu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getClassName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô klasy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id629">
<h1>Zmienne prywatne<a class="headerlink" href="#id629" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_fieldsTableRef</span></code>: Przechowuje referencjƒô (indeks w rejestrze Lua) do tabeli p√≥l tego obiektu.</p></li>
</ul>
</section>
<section id="funkcje-globalne-connect">
<h1>Funkcje globalne (<code class="docutils literal notranslate"><span class="pre">connect</span></code>)<a class="headerlink" href="#funkcje-globalne-connect" title="Link to this heading">#</a></h1>
<p>Szablonowe funkcje globalne, kt√≥re sƒÖ wygodnym opakowaniem na <code class="docutils literal notranslate"><span class="pre">LuaObject::connectLuaField</span></code>, pozwalajƒÖc na ≈Çatwe ≈ÇƒÖczenie zar√≥wno <code class="docutils literal notranslate"><span class="pre">std::function</span></code>, jak i lambd z polami obiekt√≥w.</p>
</section>
<section id="id630">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id630" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/stats.h</span></code>: Potencjalnie do statystyk.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla prawie ka≈ºdej klasy w projekcie, kt√≥ra jest eksportowana do Lua (np. <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, <code class="docutils literal notranslate"><span class="pre">Module</span></code>).</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, jej podstawowe metody (<code class="docutils literal notranslate"><span class="pre">getUseCount</span></code>, <code class="docutils literal notranslate"><span class="pre">getClassName</span></code>, <code class="docutils literal notranslate"><span class="pre">getFieldsTable</span></code>) sƒÖ dostƒôpne w Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luavaluecasts-cpp">
<h1>üìÑ luavaluecasts.cpp<a class="headerlink" href="#luavaluecasts-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id631">
<h1>Opis og√≥lny<a class="headerlink" href="#id631" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luavaluecasts.cpp</span></code> zawiera implementacje specjalizacji szablon√≥w <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code> i <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code> dla podstawowych typ√≥w danych. Te funkcje sƒÖ sercem systemu konwersji typ√≥w miƒôdzy C++ a Lua.</p>
</section>
<section id="funkcje-push-luavalue">
<h1>Funkcje <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code><a class="headerlink" href="#funkcje-push-luavalue" title="Link to this heading">#</a></h1>
</section>
<section id="id632">
<h1>Opis semantyczny<a class="headerlink" href="#id632" title="Link to this heading">#</a></h1>
<p>Ka≈ºda funkcja <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code> przyjmuje warto≈õƒá typu C++ i umieszcza jej odpowiednik na szczycie stosu Lua. Zwraca liczbƒô warto≈õci umieszczonych na stosie (zwykle 1).</p>
</section>
<section id="implementacje">
<h1>Implementacje:<a class="headerlink" href="#implementacje" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.pushBoolean(b)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.pushInteger(i)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">double</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.pushNumber(d)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span></code>, <code class="docutils literal notranslate"><span class="pre">std::string</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.pushString(str)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LuaCppFunction</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.pushCppFunction(func)</span></code></p></li>
<li><p><strong>Typy z≈Ço≈ºone (<code class="docutils literal notranslate"><span class="pre">Color</span></code>, <code class="docutils literal notranslate"><span class="pre">Rect</span></code>, <code class="docutils literal notranslate"><span class="pre">Point</span></code>, <code class="docutils literal notranslate"><span class="pre">Size</span></code>)</strong>: TworzƒÖ nowƒÖ tabelƒô w Lua i wype≈ÇniajƒÖ jƒÖ odpowiednimi polami (np. <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">g</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">a</span></code> dla <code class="docutils literal notranslate"><span class="pre">Color</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code></strong>: Konwertuje wƒôze≈Ç OTML na tabelƒô Lua, rekurencyjnie przetwarzajƒÖc jego dzieci.</p></li>
</ul>
</section>
<section id="funkcje-luavalue-cast">
<h1>Funkcje <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code><a class="headerlink" href="#funkcje-luavalue-cast" title="Link to this heading">#</a></h1>
</section>
<section id="id633">
<h1>Opis semantyczny<a class="headerlink" href="#id633" title="Link to this heading">#</a></h1>
<p>Ka≈ºda funkcja <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code> pr√≥buje odczytaƒá warto≈õƒá z podanego indeksu na stosie Lua i skonwertowaƒá jƒÖ na odpowiedni typ C++. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code> w przypadku sukcesu.</p>
</section>
<section id="id634">
<h1>Implementacje:<a class="headerlink" href="#id634" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.toBoolean(index)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.toInteger(index)</span></code>, <code class="docutils literal notranslate"><span class="pre">g_lua.toNumber(index)</span></code>. SprawdzajƒÖ dodatkowo, czy warto≈õƒá na stosie jest faktycznie liczbƒÖ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code>: <code class="docutils literal notranslate"><span class="pre">g_lua.toString(index)</span></code></p></li>
<li><p><strong>Typy z≈Ço≈ºone (<code class="docutils literal notranslate"><span class="pre">Color</span></code>, <code class="docutils literal notranslate"><span class="pre">Rect</span></code>, ‚Ä¶)</strong>: SprawdzajƒÖ, czy na stosie jest tabela z odpowiednimi polami lub string, kt√≥ry mo≈ºna sparsowaƒá. OdczytujƒÖ warto≈õci z tabeli i przypisujƒÖ je do obiektu C++.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code></strong>: Konwertuje tabelƒô Lua z powrotem na strukturƒô wƒôz≈Ç√≥w OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">LuaObjectPtr</span></code></strong>: Sprawdza, czy na stosie jest <code class="docutils literal notranslate"><span class="pre">userdata</span></code> i rzutuje je na odpowiedni typ wska≈∫nika.</p></li>
</ul>
</section>
<section id="id635">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id635" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luavaluecasts.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code>: U≈ºywajƒÖ metod <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do interakcji ze stosem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlnode.h</span></code>: Do konwersji wƒôz≈Ç√≥w OTML.</p></li>
<li><p>SƒÖ to funkcje niskiego poziomu, u≈ºywane przez <code class="docutils literal notranslate"><span class="pre">LuaInterface::polymorphicPush</span></code> i <code class="docutils literal notranslate"><span class="pre">LuaInterface::castValue</span></code> do automatycznej konwersji typ√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luavaluecasts-h">
<h1>üìÑ luavaluecasts.h<a class="headerlink" href="#luavaluecasts-h" title="Link to this heading">#</a></h1>
</section>
<section id="id636">
<h1>Opis og√≥lny<a class="headerlink" href="#id636" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">luavaluecasts.h</span></code> deklaruje zestaw szablonowych funkcji <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code> i <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code>, kt√≥re definiujƒÖ, w jaki spos√≥b r√≥≈ºne typy danych C++ sƒÖ konwertowane do i z warto≈õci Lua. Jest to kluczowy element systemu bindowania, kt√≥ry umo≈ºliwia automatycznƒÖ konwersjƒô argument√≥w funkcji i warto≈õci zwracanych.</p>
</section>
<section id="szablony-i-funkcje">
<h1>Szablony i funkcje<a class="headerlink" href="#szablony-i-funkcje" title="Link to this heading">#</a></h1>
</section>
<section id="push-luavalue-t-const-t-v">
<h1><code class="docutils literal notranslate"><span class="pre">push_luavalue&lt;T&gt;(const</span> <span class="pre">T&amp;</span> <span class="pre">v)</span></code><a class="headerlink" href="#push-luavalue-t-const-t-v" title="Link to this heading">#</a></h1>
</section>
<section id="id637">
<h1>Opis<a class="headerlink" href="#id637" title="Link to this heading">#</a></h1>
<p>Szablon funkcji, kt√≥ry przyjmuje warto≈õƒá typu <code class="docutils literal notranslate"><span class="pre">T</span></code> i umieszcza jej reprezentacjƒô na stosie Lua. Dla ka≈ºdego typu, kt√≥ry ma byƒá przekazywany miƒôdzy C++ a Lua, musi istnieƒá specjalizacja tej funkcji.</p>
</section>
<section id="luavalue-cast-t-int-index-t-v">
<h1><code class="docutils literal notranslate"><span class="pre">luavalue_cast&lt;T&gt;(int</span> <span class="pre">index,</span> <span class="pre">T&amp;</span> <span class="pre">v)</span></code><a class="headerlink" href="#luavalue-cast-t-int-index-t-v" title="Link to this heading">#</a></h1>
</section>
<section id="id638">
<h1>Opis<a class="headerlink" href="#id638" title="Link to this heading">#</a></h1>
<p>Szablon funkcji, kt√≥ry pr√≥buje odczytaƒá warto≈õƒá z podanego indeksu <code class="docutils literal notranslate"><span class="pre">index</span></code> na stosie Lua i skonwertowaƒá jƒÖ do typu <code class="docutils literal notranslate"><span class="pre">T</span></code>. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli konwersja siƒô powiedzie.</p>
</section>
<section id="zadeklarowane-specjalizacje">
<h1>Zadeklarowane specjalizacje<a class="headerlink" href="#zadeklarowane-specjalizacje" title="Link to this heading">#</a></h1>
<p>Plik deklaruje (a w przypadku typ√≥w prostych, r√≥wnie≈º definiuje <code class="docutils literal notranslate"><span class="pre">inline</span></code>) specjalizacje dla:</p>
<ul class="simple">
<li><p><strong>Typ√≥w prostych</strong>: <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, liczby ca≈Çkowite o sta≈Çym rozmiarze (<code class="docutils literal notranslate"><span class="pre">int8</span></code>, <code class="docutils literal notranslate"><span class="pre">uint16</span></code>, itp.).</p></li>
<li><p><strong>String√≥w</strong>: <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span></code>, <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p></li>
<li><p><strong>Funkcji C++</strong>: <code class="docutils literal notranslate"><span class="pre">LuaCppFunction</span></code>, <code class="docutils literal notranslate"><span class="pre">std::function</span></code>.</p></li>
<li><p><strong>Struktur frameworka</strong>: <code class="docutils literal notranslate"><span class="pre">Color</span></code>, <code class="docutils literal notranslate"><span class="pre">Rect</span></code>, <code class="docutils literal notranslate"><span class="pre">Point</span></code>, <code class="docutils literal notranslate"><span class="pre">Size</span></code>.</p></li>
<li><p><strong>Wƒôz≈Ç√≥w OTML</strong>: <code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code>.</p></li>
<li><p><strong>Typ√≥w wyliczeniowych (enum)</strong>.</p></li>
<li><p><strong>Obiekt√≥w C++</strong>: <code class="docutils literal notranslate"><span class="pre">LuaObjectPtr</span></code> i wska≈∫niki do klas pochodnych.</p></li>
<li><p><strong>Kontener√≥w STL</strong>: <code class="docutils literal notranslate"><span class="pre">std::list</span></code>, <code class="docutils literal notranslate"><span class="pre">std::vector</span></code>, <code class="docutils literal notranslate"><span class="pre">std::set</span></code>, <code class="docutils literal notranslate"><span class="pre">std::deque</span></code>, <code class="docutils literal notranslate"><span class="pre">std::map</span></code>.</p></li>
<li><p><strong>Krotek</strong>: <code class="docutils literal notranslate"><span class="pre">std::tuple</span></code>.</p></li>
</ul>
</section>
<section id="przyklad-dzialania">
<h1>Przyk≈Çad dzia≈Çania<a class="headerlink" href="#przyklad-dzialania" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// C++</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">myFunction</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// Lua</span>
<span class="n">myFunction</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Gdy <code class="docutils literal notranslate"><span class="pre">myFunction</span></code> jest wywo≈Çywana z Lua, <code class="docutils literal notranslate"><span class="pre">luabinder</span></code> u≈ºyje:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(1,</span> <span class="pre">int&amp;)</span></code> do konwersji <code class="docutils literal notranslate"><span class="pre">10</span></code> z Lua na <code class="docutils literal notranslate"><span class="pre">int</span></code> w C++.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(2,</span> <span class="pre">std::string&amp;)</span></code> do konwersji <code class="docutils literal notranslate"><span class="pre">&quot;hello&quot;</span></code> z Lua na <code class="docutils literal notranslate"><span class="pre">std::string</span></code> w C++.</p></li>
</ul>
</section>
<section id="id639">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id639" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to plik wewnƒôtrzny, do≈ÇƒÖczany tylko przez <code class="docutils literal notranslate"><span class="pre">luainterface.h</span></code>.</p></li>
<li><p>Wymaga definicji <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, <code class="docutils literal notranslate"><span class="pre">LuaException</span></code>.</p></li>
<li><p>Jest podstawƒÖ ca≈Çego systemu automatycznej konwersji typ√≥w, u≈ºywanego przez <code class="docutils literal notranslate"><span class="pre">luabinder</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="connection-cpp">
<h1>üìÑ connection.cpp<a class="headerlink" href="#connection-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id640">
<h1>Opis og√≥lny<a class="headerlink" href="#id640" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">connection.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, kt√≥ra jest niskopoziomowym opakowaniem na asynchroniczne gniazdo TCP (TCP socket) z biblioteki Boost.Asio. ZarzƒÖdza ona cyklem ≈ºycia po≈ÇƒÖczenia, operacjami odczytu i zapisu oraz obs≈ÇugƒÖ b≈Çƒôd√≥w.</p>
</section>
<section id="id641">
<h1>Zmienne globalne<a class="headerlink" href="#id641" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">boost::asio::io_service</span></code>, kt√≥ra jest sercem pƒôtli zdarze≈Ñ dla wszystkich operacji sieciowych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Connection::m_outputStreams</span></code>: Statyczna lista, kt√≥ra dzia≈Ça jak pula bufor√≥w wyj≈õciowych. Zu≈ºyte bufory sƒÖ do niej zwracane, co pozwala na ich ponowne wykorzystanie i redukuje alokacjƒô pamiƒôci.</p></li>
</ul>
</section>
<section id="klasa-connection">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Connection</span></code><a class="headerlink" href="#klasa-connection" title="Link to this heading">#</a></h1>
</section>
<section id="connection-connection">
<h1><code class="docutils literal notranslate"><span class="pre">Connection::Connection()</span></code><a class="headerlink" href="#connection-connection" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje obiekty Boost.Asio (<code class="docutils literal notranslate"><span class="pre">timer</span></code>, <code class="docutils literal notranslate"><span class="pre">resolver</span></code>, <code class="docutils literal notranslate"><span class="pre">socket</span></code>) powiƒÖzane z <code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>.</p>
</section>
<section id="void-connection-poll-i-void-connection-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::poll()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::terminate()</span></code><a class="headerlink" href="#void-connection-poll-i-void-connection-terminate" title="Link to this heading">#</a></h1>
<p>Statyczne metody, kt√≥re zarzƒÖdzajƒÖ globalnym <code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>. <code class="docutils literal notranslate"><span class="pre">poll()</span></code> przetwarza zdarzenia sieciowe, a <code class="docutils literal notranslate"><span class="pre">terminate()</span></code> zatrzymuje <code class="docutils literal notranslate"><span class="pre">io_service</span></code>.</p>
</section>
<section id="void-connection-close">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::close()</span></code><a class="headerlink" href="#void-connection-close" title="Link to this heading">#</a></h1>
<p>Zamyka po≈ÇƒÖczenie. Anuluje wszystkie aktywne operacje asynchroniczne, zamyka gniazdo i resetuje callbacki.</p>
</section>
<section id="void-connection-connect">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::connect(...)</span></code><a class="headerlink" href="#void-connection-connect" title="Link to this heading">#</a></h1>
<p>Rozpoczyna proces nawiƒÖzywania po≈ÇƒÖczenia. Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">m_resolver.async_resolve</span></code> w celu przet≈Çumaczenia nazwy hosta na adres IP.</p>
</section>
<section id="void-connection-write-uint8-buffer-size-t-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::write(uint8*</span> <span class="pre">buffer,</span> <span class="pre">size_t</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-connection-write-uint8-buffer-size-t-size" title="Link to this heading">#</a></h1>
<p>Dodaje dane do bufora wyj≈õciowego (<code class="docutils literal notranslate"><span class="pre">m_outputStream</span></code>). Aby uniknƒÖƒá zator√≥w (congestion), faktyczne wys≈Çanie danych jest op√≥≈∫niane o 0 milisekund za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">m_delayedWriteTimer</span></code>. Oznacza to, ≈ºe wys≈Çanie nastƒÖpi w nastƒôpnej iteracji pƒôtli <code class="docutils literal notranslate"><span class="pre">io_service</span></code>, co pozwala na zgrupowanie wielu ma≈Çych zapis√≥w w jeden wiƒôkszy.</p>
</section>
<section id="metody-read-read-until-read-some">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">read(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">read_until(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">read_some(...)</span></code><a class="headerlink" href="#metody-read-read-until-read-some" title="Link to this heading">#</a></h1>
<p>InicjujƒÖ asynchroniczne operacje odczytu danych z gniazda. UstawiajƒÖ <code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code>, kt√≥ry zostanie wywo≈Çany po otrzymaniu danych, oraz <code class="docutils literal notranslate"><span class="pre">m_readTimer</span></code> do obs≈Çugi timeoutu.</p>
</section>
<section id="id642">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">on...()</span></code><a class="headerlink" href="#id642" title="Link to this heading">#</a></h1>
<p>SƒÖ to handlery (funkcje zwrotne) dla operacji asynchronicznych Boost.Asio:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">onResolve</span></code>: Wywo≈Çywana po rozwiƒÖzaniu nazwy DNS. Inicjuje po≈ÇƒÖczenie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onConnect</span></code>: Wywo≈Çywana po nawiƒÖzaniu po≈ÇƒÖczenia. Ustawia opcje gniazda (np. <code class="docutils literal notranslate"><span class="pre">no_delay</span></code> - wy≈ÇƒÖczenie algorytmu Nagle‚Äôa) i wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">m_connectCallback</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onCanWrite</span></code>: Wywo≈Çywana przez <code class="docutils literal notranslate"><span class="pre">m_delayedWriteTimer</span></code>. Inicjuje faktyczne wys≈Çanie danych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onWrite</span></code>: Wywo≈Çywana po zako≈Ñczeniu operacji zapisu. Zwraca bufor do puli.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onRecv</span></code>: Wywo≈Çywana po otrzymaniu danych. Przekazuje dane do <code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onTimeout</span></code>: Wywo≈Çywana, gdy up≈Çynie czas oczekiwania na operacjƒô.</p></li>
</ul>
</section>
<section id="void-connection-handleerror">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::handleError(...)</span></code><a class="headerlink" href="#void-connection-handleerror" title="Link to this heading">#</a></h1>
<p>Centralna funkcja do obs≈Çugi b≈Çƒôd√≥w sieciowych. Zapisuje b≈ÇƒÖd, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">m_errorCallback</span></code> i zamyka po≈ÇƒÖczenie.</p>
</section>
<section id="id643">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id643" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/connection.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>, <code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code>: Do walidacji i planowania zdarze≈Ñ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>: Kluczowa zale≈ºno≈õƒá do obs≈Çugi sieci.</p></li>
<li><p>Jest u≈ºywana przez klasƒô <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do implementacji protoko≈Çu komunikacyjnego z serwerem gry.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="server-h">
<h1>üìÑ server.h<a class="headerlink" href="#server-h" title="Link to this heading">#</a></h1>
</section>
<section id="id644">
<h1>Opis og√≥lny<a class="headerlink" href="#id644" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">server.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Server</span></code>, kt√≥ra jest prostym opakowaniem na <code class="docutils literal notranslate"><span class="pre">boost::asio::ip::tcp::acceptor</span></code>. Umo≈ºliwia tworzenie serwera TCP, kt√≥ry nas≈Çuchuje na przychodzƒÖce po≈ÇƒÖczenia na okre≈õlonym porcie.</p>
</section>
<section id="klasa-server">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Server</span></code><a class="headerlink" href="#klasa-server" title="Link to this heading">#</a></h1>
</section>
<section id="id645">
<h1>Opis semantyczny<a class="headerlink" href="#id645" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Server</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co pozwala na tworzenie i zarzƒÖdzanie serwerami z poziomu skrypt√≥w Lua. Jego g≈Ç√≥wnym zadaniem jest akceptowanie nowych po≈ÇƒÖcze≈Ñ i przekazywanie ich do obs≈Çugi (np. w formie obiektu <code class="docutils literal notranslate"><span class="pre">Connection</span></code>).</p>
</section>
<section id="id646">
<h1>Metody publiczne<a class="headerlink" href="#id646" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Server(int</span> <span class="pre">port)</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy i bindowanie akceptor do podanego portu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">ServerPtr</span> <span class="pre">create(int</span> <span class="pre">port)</span></code></p></td>
<td class="text-left"><p>Metoda fabryczna, kt√≥ra tworzy <code class="docutils literal notranslate"><span class="pre">Server</span></code> i opakowuje go w <code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isOpen()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli serwer nas≈Çuchuje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">close()</span></code></p></td>
<td class="text-left"><p>Zamyka akceptor, przestajƒÖc nas≈Çuchiwaƒá.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">acceptNext()</span></code></p></td>
<td class="text-left"><p>Inicjuje asynchronicznƒÖ operacjƒô oczekiwania na nastƒôpne po≈ÇƒÖczenie. Po jego nadej≈õciu, wywo≈Çywany jest <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">onAccept</span></code> w Lua.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id647">
<h1>Zmienne prywatne<a class="headerlink" href="#id647" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_isOpen</span></code>: Flaga wskazujƒÖca, czy serwer jest aktywny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_acceptor</span></code>: Obiekt <code class="docutils literal notranslate"><span class="pre">tcp::acceptor</span></code> z Boost.Asio.</p></li>
</ul>
</section>
<section id="id648">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id648" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">tcp::acceptor</span></code>.</p></li>
<li><p>Jest u≈ºywana do implementacji serwer√≥w nas≈ÇuchujƒÖcych w Lua, np. do niestandardowych narzƒôdzi lub protoko≈Ç√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="connection-h">
<h1>üìÑ connection.h<a class="headerlink" href="#connection-h" title="Link to this heading">#</a></h1>
</section>
<section id="id649">
<h1>Opis og√≥lny<a class="headerlink" href="#id649" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">connection.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, kt√≥ra jest interfejsem do asynchronicznego po≈ÇƒÖczenia TCP. Jest to kluczowy element podsystemu sieciowego.</p>
</section>
<section id="id650">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Connection</span></code><a class="headerlink" href="#id650" title="Link to this heading">#</a></h1>
</section>
<section id="id651">
<h1>Opis semantyczny<a class="headerlink" href="#id651" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Connection</span></code> enkapsuluje <code class="docutils literal notranslate"><span class="pre">boost::asio::ip::tcp::socket</span></code> i zarzƒÖdza ca≈Çym cyklem ≈ºycia po≈ÇƒÖczenia: od nawiƒÖzywania, przez wysy≈Çanie i odbieranie danych, a≈º po zamykanie i obs≈Çugƒô b≈Çƒôd√≥w. Dzia≈Ça w pe≈Çni asynchronicznie, integrujƒÖc siƒô z globalnƒÖ pƒôtlƒÖ zdarze≈Ñ <code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co umo≈ºliwia jej u≈ºycie w Lua.</p>
</section>
<section id="id652">
<h1>Sta≈Çe<a class="headerlink" href="#id652" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">READ_TIMEOUT</span></code>, <code class="docutils literal notranslate"><span class="pre">WRITE_TIMEOUT</span></code>: Czas (w sekundach) na zako≈Ñczenie operacji odczytu/zapisu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SEND_BUFFER_SIZE</span></code>, <code class="docutils literal notranslate"><span class="pre">RECV_BUFFER_SIZE</span></code>: Rozmiary bufor√≥w.</p></li>
</ul>
</section>
<section id="id653">
<h1>Metody publiczne<a class="headerlink" href="#id653" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>Statyczne</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia w globalnym <code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje <code class="docutils literal notranslate"><span class="pre">g_ioService</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Cykl ≈ºycia</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">connect(...)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna asynchroniczne nawiƒÖzywanie po≈ÇƒÖczenia.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">close()</span></code></p></td>
<td class="text-left"><p>Zamyka po≈ÇƒÖczenie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Operacje I/O</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">write(...)</span></code></p></td>
<td class="text-left"><p>Dodaje dane do kolejki wysy≈Çania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">read(...)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna asynchroniczny odczyt okre≈õlonej liczby bajt√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">read_until(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje dane a≈º do napotkania okre≈õlonego separatora.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">read_some(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje dowolnƒÖ ilo≈õƒá dostƒôpnych danych (nie wiƒôcej ni≈º rozmiar bufora).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Callbacki i stan</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setErrorCallback(...)</span></code></p></td>
<td class="text-left"><p>Ustawia funkcjƒô zwrotnƒÖ dla b≈Çƒôd√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getIp()</span></code></p></td>
<td class="text-left"><p>Zwraca adres IP zdalnego hosta.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">boost::system::error_code</span> <span class="pre">getError()</span></code></p></td>
<td class="text-left"><p>Zwraca ostatni b≈ÇƒÖd.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isConnecting()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli trwa nawiƒÖzywanie po≈ÇƒÖczenia.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isConnected()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli po≈ÇƒÖczenie jest aktywne.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">getElapsedTicksSinceLastRead()</span></code></p></td>
<td class="text-left"><p>Zwraca czas od ostatniej operacji odczytu (do wykrywania timeout√≥w na wy≈ºszym poziomie).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id654">
<h1>Zmienne chronione<a class="headerlink" href="#id654" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_connectCallback</span></code>, <code class="docutils literal notranslate"><span class="pre">m_errorCallback</span></code>, <code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code>: Funkcje zwrotne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_readTimer</span></code>, <code class="docutils literal notranslate"><span class="pre">m_writeTimer</span></code>, ‚Ä¶: Obiekty Boost.Asio (timery, resolver, socket).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_outputStream</span></code>, <code class="docutils literal notranslate"><span class="pre">m_inputStream</span></code>: Bufory do zapisu i odczytu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_connected</span></code>, <code class="docutils literal notranslate"><span class="pre">m_connecting</span></code>: Flagi stanu.</p></li>
</ul>
</section>
<section id="id655">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id655" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/declarations.h</span></code>: Deklaracje typ√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code>: Do ≈õledzenia aktywno≈õci.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do komunikacji z serwerem gry.</p></li>
<li><p>Jest zwracana przez <code class="docutils literal notranslate"><span class="pre">Server</span></code> po zaakceptowaniu nowego po≈ÇƒÖczenia.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id656">
<h1>üìÑ declarations.h<a class="headerlink" href="#id656" title="Link to this heading">#</a></h1>
</section>
<section id="id657">
<h1>Opis og√≥lny<a class="headerlink" href="#id657" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">net</span></code> s≈Çu≈ºy do wczesnych deklaracji (forward declarations) i definicji typ√≥w wska≈∫nik√≥w dla klas zwiƒÖzanych z obs≈ÇugƒÖ sieci. Pomaga to unikaƒá zale≈ºno≈õci cyklicznych i skraca czas kompilacji.</p>
</section>
<section id="id658">
<h1>Deklaracje<a class="headerlink" href="#id658" title="Link to this heading">#</a></h1>
</section>
<section id="namespace-asio">
<h1><code class="docutils literal notranslate"><span class="pre">namespace</span> <span class="pre">asio</span></code><a class="headerlink" href="#namespace-asio" title="Link to this heading">#</a></h1>
<p>Deklaruje, ≈ºe <code class="docutils literal notranslate"><span class="pre">asio</span></code> jest aliasem dla <code class="docutils literal notranslate"><span class="pre">boost::asio</span></code>.</p>
</section>
<section id="wczesne-deklaracje-klas">
<h1>Wczesne deklaracje klas<a class="headerlink" href="#wczesne-deklaracje-klas" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">InputMessage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Connection</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Protocol</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Server</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code></p></li>
</ul>
</section>
<section id="id659">
<h1>Definicje typ√≥w<a class="headerlink" href="#id659" title="Link to this heading">#</a></h1>
<p>Definiuje aliasy dla inteligentnych wska≈∫nik√≥w (<code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>) do klas sieciowych.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">InputMessagePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OutputMessagePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ConnectionPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ProtocolPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ServerPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PacketPlayerPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PacketRecorderPtr</span></code></p></li>
</ul>
</section>
<section id="id660">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id660" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest do≈ÇƒÖczany przez wiƒôkszo≈õƒá plik√≥w nag≈Ç√≥wkowych w module <code class="docutils literal notranslate"><span class="pre">net</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="inputmessage-h">
<h1>üìÑ inputmessage.h<a class="headerlink" href="#inputmessage-h" title="Link to this heading">#</a></h1>
</section>
<section id="id661">
<h1>Opis og√≥lny<a class="headerlink" href="#id661" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">inputmessage.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code>, kt√≥ra jest narzƒôdziem do parsowania przychodzƒÖcych pakiet√≥w sieciowych.</p>
</section>
<section id="klasa-inputmessage">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code><a class="headerlink" href="#klasa-inputmessage" title="Link to this heading">#</a></h1>
</section>
<section id="id662">
<h1>Opis semantyczny<a class="headerlink" href="#id662" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">InputMessage</span></code> dzia≈Ça jak bufor z wska≈∫nikiem odczytu. Przechowuje surowe dane pakietu i udostƒôpnia metody do sekwencyjnego odczytywania z niego r√≥≈ºnych typ√≥w danych (np. <code class="docutils literal notranslate"><span class="pre">getU8</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16</span></code>, <code class="docutils literal notranslate"><span class="pre">getString</span></code>). ZarzƒÖdza r√≥wnie≈º pozycjƒÖ nag≈Ç√≥wka, co pozwala na oddzielenie metadanych pakietu (rozmiar, suma kontrolna) od jego w≈Ça≈õciwej zawarto≈õci (cia≈Ça).</p>
</section>
<section id="id663">
<h1>Sta≈Çe<a class="headerlink" href="#id663" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BUFFER_MAXSIZE</span></code>: Maksymalny rozmiar bufora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_HEADER_SIZE</span></code>: Maksymalny rozmiar nag≈Ç√≥wka (rezerwowane miejsce na poczƒÖtku bufora).</p></li>
</ul>
</section>
<section id="id664">
<h1>Metody publiczne<a class="headerlink" href="#id664" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setBuffer(...)</span></code></p></td>
<td class="text-left"><p>Kopiuje dane z <code class="docutils literal notranslate"><span class="pre">std::string</span></code> do wewnƒôtrznego bufora.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBuffer()</span></code></p></td>
<td class="text-left"><p>Zwraca ca≈Çy pakiet (nag≈Ç√≥wek + cia≈Ço) jako <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBodyBuffer()</span></code></p></td>
<td class="text-left"><p>Zwraca tylko cia≈Ço pakietu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">skipBytes(uint32</span> <span class="pre">bytes)</span></code></p></td>
<td class="text-left"><p>Przesuwa wska≈∫nik odczytu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getU8()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU32()</span></code>, <code class="docutils literal notranslate"><span class="pre">getU64()</span></code></p></td>
<td class="text-left"><p>OdczytujƒÖ liczby ca≈Çkowite bez znaku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getString()</span></code></p></td>
<td class="text-left"><p>Odczytuje string (poprzedzony d≈Çugo≈õciƒÖ U16).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getDouble()</span></code></p></td>
<td class="text-left"><p>Odczytuje liczbƒô zmiennoprzecinkowƒÖ w niestandardowym formacie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">peekU8()</span></code>, ‚Ä¶</p></td>
<td class="text-left"><p>OdczytujƒÖ warto≈õƒá bez przesuwania wska≈∫nika.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">decryptRsa(...)</span></code></p></td>
<td class="text-left"><p>Deszyfruje fragment bufora za pomocƒÖ RSA.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getHeaderSize()</span></code>, <code class="docutils literal notranslate"><span class="pre">getMessageSize()</span></code>, <code class="docutils literal notranslate"><span class="pre">getUnreadSize()</span></code></p></td>
<td class="text-left"><p>ZwracajƒÖ informacje o rozmiarach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">eof()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli wszystkie dane zosta≈Çy odczytane.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-chronione-uzywane-przez-protocol">
<h1>Metody chronione (u≈ºywane przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>)<a class="headerlink" href="#metody-chronione-uzywane-przez-protocol" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">reset()</span></code>: Resetuje stan wiadomo≈õci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fillBuffer(...)</span></code>: Dopisuje dane do bufora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setHeaderSize(...)</span></code>: Ustawia rozmiar nag≈Ç√≥wka.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">readChecksum()</span></code>: Odczytuje i weryfikuje sumƒô kontrolnƒÖ.</p></li>
</ul>
</section>
<section id="id665">
<h1>Zmienne prywatne<a class="headerlink" href="#id665" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_headerPos</span></code>: Pozycja startowa nag≈Ç√≥wka.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_readPos</span></code>: Aktualna pozycja odczytu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_messageSize</span></code>: Ca≈Çkowity rozmiar wiadomo≈õci (bez nag≈Ç√≥wka).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Bufor na dane.</p></li>
</ul>
</section>
<section id="id666">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id666" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, jest dostƒôpna w Lua.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do parsowania danych otrzymanych z <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="outputmessage-cpp">
<h1>üìÑ outputmessage.cpp<a class="headerlink" href="#outputmessage-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id667">
<h1>Opis og√≥lny<a class="headerlink" href="#id667" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">outputmessage.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code>, kt√≥ra s≈Çu≈ºy do budowania wychodzƒÖcych pakiet√≥w sieciowych.</p>
</section>
<section id="klasa-outputmessage">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code><a class="headerlink" href="#klasa-outputmessage" title="Link to this heading">#</a></h1>
</section>
<section id="outputmessage-outputmessage">
<h1><code class="docutils literal notranslate"><span class="pre">OutputMessage::OutputMessage()</span></code><a class="headerlink" href="#outputmessage-outputmessage" title="Link to this heading">#</a></h1>
<p>Konstruktor, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">reset()</span></code>.</p>
</section>
<section id="void-outputmessage-reset">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::reset()</span></code><a class="headerlink" href="#void-outputmessage-reset" title="Link to this heading">#</a></h1>
<p>Resetuje stan wiadomo≈õci, ustawiajƒÖc wska≈∫nik zapisu (<code class="docutils literal notranslate"><span class="pre">m_writePos</span></code>) i pozycjƒô nag≈Ç√≥wka (<code class="docutils literal notranslate"><span class="pre">m_headerPos</span></code>) na poczƒÖtek obszaru na cia≈Ço wiadomo≈õci.</p>
</section>
<section id="void-outputmessage-setbuffer-const-std-string-buffer">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::setBuffer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code><a class="headerlink" href="#void-outputmessage-setbuffer-const-std-string-buffer" title="Link to this heading">#</a></h1>
<p>Kopiuje dane z <code class="docutils literal notranslate"><span class="pre">std::string</span></code> do bufora wiadomo≈õci.</p>
</section>
<section id="metody-add">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">add...()</span></code><a class="headerlink" href="#metody-add" title="Link to this heading">#</a></h1>
<p>S≈Çu≈ºƒÖ do dodawania r√≥≈ºnych typ√≥w danych na koniec wiadomo≈õci.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16</span></code>, <code class="docutils literal notranslate"><span class="pre">addU32</span></code>, <code class="docutils literal notranslate"><span class="pre">addU64</span></code>: DodajƒÖ liczby ca≈Çkowite, konwertujƒÖc je do porzƒÖdku Little Endian.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addString</span></code>: Dodaje <code class="docutils literal notranslate"><span class="pre">std::string</span></code>, poprzedzajƒÖc go 2-bajtowƒÖ d≈Çugo≈õciƒÖ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addRawString</span></code>: Dodaje <code class="docutils literal notranslate"><span class="pre">std::string</span></code> bez informacji o d≈Çugo≈õci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addPaddingBytes</span></code>: Dodaje okre≈õlonƒÖ liczbƒô bajt√≥w wype≈ÇniajƒÖcych.</p></li>
<li><p>Ka≈ºda z tych metod wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">checkWrite</span></code> w celu sprawdzenia, czy jest wystarczajƒÖco miejsca w buforze.</p></li>
</ul>
</section>
<section id="void-outputmessage-encryptrsa">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::encryptRsa()</span></code><a class="headerlink" href="#void-outputmessage-encryptrsa" title="Link to this heading">#</a></h1>
<p>Szyfruje ostatnie <code class="docutils literal notranslate"><span class="pre">N</span></code> bajt√≥w bufora za pomocƒÖ klucza publicznego RSA, gdzie <code class="docutils literal notranslate"><span class="pre">N</span></code> to rozmiar klucza.</p>
</section>
<section id="metody-write">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">write...()</span></code><a class="headerlink" href="#metody-write" title="Link to this heading">#</a></h1>
<p>Metody te operujƒÖ na zarezerwowanym miejscu na nag≈Ç√≥wek (przed cia≈Çem wiadomo≈õci):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">writeChecksum()</span></code>: Oblicza sumƒô kontrolnƒÖ Adler-32 dla cia≈Ça wiadomo≈õci i zapisuje jƒÖ w nag≈Ç√≥wku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">writeSequence()</span></code>: Zapisuje numer sekwencyjny pakietu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">writeMessageSize()</span></code>: Zapisuje ca≈Çkowity rozmiar cia≈Ça wiadomo≈õci w nag≈Ç√≥wku.</p></li>
</ul>
</section>
<section id="void-outputmessage-checkwrite-int-bytes">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::checkWrite(int</span> <span class="pre">bytes)</span></code><a class="headerlink" href="#void-outputmessage-checkwrite-int-bytes" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy dodanie <code class="docutils literal notranslate"><span class="pre">bytes</span></code> bajt√≥w nie przekroczy maksymalnego rozmiaru bufora. Je≈õli tak, rzuca wyjƒÖtek.</p>
</section>
<section id="id668">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id668" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/outputmessage.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/crypt.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_crypt</span></code> do szyfrowania RSA i <code class="docutils literal notranslate"><span class="pre">stdext::adler32</span></code> do sum kontrolnych.</p></li>
<li><p>Jest tworzona przez kod logiki gry, wype≈Çniana danymi, a nastƒôpnie przekazywana do <code class="docutils literal notranslate"><span class="pre">Protocol::send()</span></code> w celu wys≈Çania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="outputmessage-h">
<h1>üìÑ outputmessage.h<a class="headerlink" href="#outputmessage-h" title="Link to this heading">#</a></h1>
</section>
<section id="id669">
<h1>Opis og√≥lny<a class="headerlink" href="#id669" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">outputmessage.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code>, kt√≥ra jest narzƒôdziem do konstruowania wychodzƒÖcych pakiet√≥w sieciowych.</p>
</section>
<section id="id670">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code><a class="headerlink" href="#id670" title="Link to this heading">#</a></h1>
</section>
<section id="id671">
<h1>Opis semantyczny<a class="headerlink" href="#id671" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code> dzia≈Ça jak bufor z wska≈∫nikiem zapisu. Udostƒôpnia metody do dodawania r√≥≈ºnych typ√≥w danych (<code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addString</span></code>, itp.), kt√≥re sƒÖ do≈ÇƒÖczane na ko≈Ñcu bufora. Posiada r√≥wnie≈º zarezerwowane miejsce na poczƒÖtku bufora na nag≈Ç√≥wek, kt√≥ry jest wype≈Çniany tu≈º przed wys≈Çaniem (np. rozmiarem wiadomo≈õci, sumƒÖ kontrolnƒÖ).</p>
</section>
<section id="id672">
<h1>Sta≈Çe<a class="headerlink" href="#id672" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BUFFER_MAXSIZE</span></code>: Maksymalny rozmiar bufora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_STRING_LENGTH</span></code>: Maksymalna d≈Çugo≈õƒá stringa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_HEADER_SIZE</span></code>: Rozmiar zarezerwowanego miejsca na nag≈Ç√≥wek.</p></li>
</ul>
</section>
<section id="id673">
<h1>Metody publiczne<a class="headerlink" href="#id673" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">reset()</span></code></p></td>
<td class="text-left"><p>Resetuje wiadomo≈õƒá do stanu poczƒÖtkowego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setBuffer(...)</span></code></p></td>
<td class="text-left"><p>Ustawia zawarto≈õƒá cia≈Ça wiadomo≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getBuffer()</span></code></p></td>
<td class="text-left"><p>Zwraca gotowy pakiet (nag≈Ç√≥wek + cia≈Ço) jako <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addU8()</span></code>, ‚Ä¶, <code class="docutils literal notranslate"><span class="pre">addString()</span></code></p></td>
<td class="text-left"><p>DodajƒÖ dane do cia≈Ça wiadomo≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">encryptRsa()</span></code></p></td>
<td class="text-left"><p>Szyfruje czƒô≈õƒá wiadomo≈õci za pomocƒÖ RSA.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getWritePos()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualnƒÖ pozycjƒô zapisu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMessageSize()</span></code></p></td>
<td class="text-left"><p>Zwraca aktualny rozmiar cia≈Ça wiadomo≈õci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setWritePos(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">setMessageSize(...)</span></code></p></td>
<td class="text-left"><p>UstawiajƒÖ pozycjƒô zapisu i rozmiar.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id674">
<h1>Metody chronione (u≈ºywane przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>)<a class="headerlink" href="#id674" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">getHeaderBuffer()</span></code>: Zwraca wska≈∫nik na poczƒÖtek gotowego pakietu (poczƒÖtek nag≈Ç√≥wka).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">writeChecksum()</span></code>, <code class="docutils literal notranslate"><span class="pre">writeSequence()</span></code>, <code class="docutils literal notranslate"><span class="pre">writeMessageSize()</span></code>: Wype≈ÇniajƒÖ nag≈Ç√≥rek odpowiednimi metadanymi.</p></li>
</ul>
</section>
<section id="id675">
<h1>Zmienne prywatne<a class="headerlink" href="#id675" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_headerPos</span></code>: Aktualna pozycja poczƒÖtku nag≈Ç√≥wka.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_writePos</span></code>: Aktualna pozycja zapisu w ciele wiadomo≈õci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_messageSize</span></code>: Rozmiar ca≈Çego pakietu (nag≈Ç√≥wek + cia≈Ço).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Bufor na dane.</p></li>
</ul>
</section>
<section id="id676">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id676" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, jest dostƒôpna w Lua do tworzenia pakiet√≥w.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do przygotowania pakiet√≥w do wys≈Çania przez <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="packet-player-cpp">
<h1>üìÑ packet_player.cpp<a class="headerlink" href="#packet-player-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id677">
<h1>Opis og√≥lny<a class="headerlink" href="#id677" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packet_player.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code>, kt√≥ra umo≈ºliwia odtwarzanie wcze≈õniej nagranych sesji sieciowych. Jest to narzƒôdzie do debugowania i testowania.</p>
</section>
<section id="klasa-packetplayer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code><a class="headerlink" href="#klasa-packetplayer" title="Link to this heading">#</a></h1>
</section>
<section id="packetplayer-packetplayer-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">PacketPlayer::PacketPlayer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#packetplayer-packetplayer-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Konstruktor.</p>
<ul class="simple">
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ol class="arabic simple">
<li><p>Otwiera plik nagrania z katalogu <code class="docutils literal notranslate"><span class="pre">records/</span></code>.</p></li>
<li><p>Czyta plik linia po linii.</p></li>
<li><p>Ka≈ºda linia zawiera typ pakietu (<code class="docutils literal notranslate"><span class="pre">&lt;</span></code> dla przychodzƒÖcego, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> dla wychodzƒÖcego), sygnaturƒô czasowƒÖ i dane pakietu w formacie heksadecymalnym.</p></li>
<li><p>Dekoduje dane heksadecymalne do postaci binarnej i zapisuje pakiety w odpowiednich kolejkach (<code class="docutils literal notranslate"><span class="pre">m_input</span></code> lub <code class="docutils literal notranslate"><span class="pre">m_output</span></code>).</p></li>
</ol>
</li>
</ul>
</section>
<section id="packetplayer-packetplayer">
<h1><code class="docutils literal notranslate"><span class="pre">PacketPlayer::~PacketPlayer()</span></code><a class="headerlink" href="#packetplayer-packetplayer" title="Link to this heading">#</a></h1>
<p>Destruktor. Anuluje zaplanowane zdarzenie (<code class="docutils literal notranslate"><span class="pre">m_event</span></code>), je≈õli istnieje.</p>
</section>
<section id="void-packetplayer-start">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::start(...)</span></code><a class="headerlink" href="#void-packetplayer-start" title="Link to this heading">#</a></h1>
<p>Rozpoczyna odtwarzanie.</p>
<ul class="simple">
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ol class="arabic simple">
<li><p>Zapisuje czas startu (<code class="docutils literal notranslate"><span class="pre">m_start</span></code>).</p></li>
<li><p>Zapisuje callbacki do obs≈Çugi ‚Äûotrzymanych‚Äù pakiet√≥w i zdarzenia roz≈ÇƒÖczenia.</p></li>
<li><p>Planuje pierwsze wywo≈Çanie metody <code class="docutils literal notranslate"><span class="pre">process()</span></code> za 50ms.</p></li>
</ol>
</li>
</ul>
</section>
<section id="void-packetplayer-stop">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::stop()</span></code><a class="headerlink" href="#void-packetplayer-stop" title="Link to this heading">#</a></h1>
<p>Zatrzymuje odtwarzanie, anulujƒÖc zdarzenie.</p>
</section>
<section id="void-packetplayer-onoutputpacket-const-outputmessageptr-packet">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::onOutputPacket(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">packet)</span></code><a class="headerlink" href="#void-packetplayer-onoutputpacket-const-outputmessageptr-packet" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, gdy pr√≥buje on wys≈Çaƒá pakiet. W trybie odtwarzania, pakiety wychodzƒÖce sƒÖ analizowane (np. w celu wykrycia wylogowania), ale nie sƒÖ nigdzie wysy≈Çane.</p>
</section>
<section id="void-packetplayer-process">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::process()</span></code><a class="headerlink" href="#void-packetplayer-process" title="Link to this heading">#</a></h1>
</section>
<section id="id678">
<h1>Opis semantyczny<a class="headerlink" href="#id678" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda pƒôtli odtwarzacza.</p>
</section>
<section id="id679">
<h1>Dzia≈Çanie<a class="headerlink" href="#id679" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Iteruje po kolejce pakiet√≥w przychodzƒÖcych (<code class="docutils literal notranslate"><span class="pre">m_input</span></code>).</p></li>
<li><p>Sprawdza sygnaturƒô czasowƒÖ ka≈ºdego pakietu. Je≈õli czas odtworzenia pakietu (<code class="docutils literal notranslate"><span class="pre">packet.first</span> <span class="pre">+</span> <span class="pre">m_start</span></code>) ju≈º minƒÖ≈Ç, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code> z danymi pakietu i usuwa go z kolejki.</p></li>
<li><p>Je≈õli kolejka nie jest pusta, planuje swoje nastƒôpne wywo≈Çanie z op√≥≈∫nieniem r√≥wnym r√≥≈ºnicy czasu do nastƒôpnego pakietu.</p></li>
<li><p>Je≈õli kolejka jest pusta, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">m_disconnectCallback</span></code>, symulujƒÖc koniec sesji.</p></li>
</ol>
</section>
<section id="id680">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id680" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/packet_player.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>, <code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code>: Do zarzƒÖdzania czasem i planowania zdarze≈Ñ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/hex.hpp</span></code>: Do dekodowania danych z formatu heksadecymalnego.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> w trybie odtwarzania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="packet-player-h">
<h1>üìÑ packet_player.h<a class="headerlink" href="#packet-player-h" title="Link to this heading">#</a></h1>
</section>
<section id="id681">
<h1>Opis og√≥lny<a class="headerlink" href="#id681" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packet_player.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code>, kt√≥ra s≈Çu≈ºy do odtwarzania nagranych sesji sieciowych z plik√≥w.</p>
</section>
<section id="id682">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code><a class="headerlink" href="#id682" title="Link to this heading">#</a></h1>
</section>
<section id="id683">
<h1>Opis semantyczny<a class="headerlink" href="#id683" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code> odczytuje plik z zarejestrowanymi pakietami i ich sygnaturami czasowymi. Po uruchomieniu, symuluje przychodzƒÖce pakiety sieciowe, wywo≈ÇujƒÖc <code class="docutils literal notranslate"><span class="pre">callback</span></code> w odpowiednich odstƒôpach czasu, zgodnie z nagraniem. Pozwala to na debugowanie i testowanie logiki klienta bez potrzeby ≈ÇƒÖczenia siƒô z serwerem. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p>
</section>
<section id="id684">
<h1>Metody publiczne<a class="headerlink" href="#id684" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">PacketPlayer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Konstruktor, ≈Çaduje nagranie z pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~PacketPlayer()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">start(...)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna odtwarzanie sesji. Przyjmuje callbacki na otrzymanie pakietu i na roz≈ÇƒÖczenie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">stop()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje odtwarzanie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">onOutputPacket(...)</span></code></p></td>
<td class="text-left"><p>Przechwytuje pakiety, kt√≥re normalnie by≈Çyby wys≈Çane, w celu symulacji (np. wykrycia wylogowania).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id685">
<h1>Zmienne prywatne<a class="headerlink" href="#id685" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_start</span></code>: Czas rozpoczƒôcia odtwarzania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_event</span></code>: Wska≈∫nik na zaplanowane zdarzenie do przetwarzania pakiet√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_input</span></code>, <code class="docutils literal notranslate"><span class="pre">m_output</span></code>: Kolejki (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) przechowujƒÖce pary (czas, dane pakietu) dla pakiet√≥w przychodzƒÖcych i wychodzƒÖcych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code>: <code class="docutils literal notranslate"><span class="pre">Callback</span></code> wywo≈Çywany z danymi ‚Äûotrzymanego‚Äù pakietu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_disconnectCallback</span></code>: <code class="docutils literal notranslate"><span class="pre">Callback</span></code> wywo≈Çywany na koniec sesji.</p></li>
</ul>
</section>
<section id="id686">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id686" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do planowania zdarze≈Ñ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/outputmessage.h</span></code>: Do analizy pakiet√≥w wychodzƒÖcych.</p></li>
<li><p>Jest tworzona i u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> w trybie odtwarzania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="protocol-h">
<h1>üìÑ protocol.h<a class="headerlink" href="#protocol-h" title="Link to this heading">#</a></h1>
</section>
<section id="id687">
<h1>Opis og√≥lny<a class="headerlink" href="#id687" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">protocol.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, kt√≥ra jest klasƒÖ bazowƒÖ do implementacji protoko≈Ç√≥w komunikacji sieciowej.</p>
</section>
<section id="klasa-protocol">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Protocol</span></code><a class="headerlink" href="#klasa-protocol" title="Link to this heading">#</a></h1>
</section>
<section id="id688">
<h1>Opis semantyczny<a class="headerlink" href="#id688" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Protocol</span></code> jest abstrakcjƒÖ wysokiego poziomu, kt√≥ra zarzƒÖdza po≈ÇƒÖczeniem (<code class="docutils literal notranslate"><span class="pre">Connection</span></code>) i implementuje logikƒô specyficznƒÖ dla danego protoko≈Çu, takƒÖ jak szyfrowanie XTEA, obs≈Çuga sum kontrolnych, kompresja i sekwencjonowanie pakiet√≥w. Przetwarza surowe dane z <code class="docutils literal notranslate"><span class="pre">Connection</span></code> na obiekty <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code> i przygotowuje <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code> do wys≈Çania. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co pozwala na tworzenie implementacji protoko≈Ç√≥w w Lua.</p>
</section>
<section id="id689">
<h1>Metody publiczne<a class="headerlink" href="#id689" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">connect(...)</span></code></p></td>
<td class="text-left"><p>NawiƒÖzuje po≈ÇƒÖczenie z serwerem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">disconnect()</span></code></p></td>
<td class="text-left"><p>Zamyka po≈ÇƒÖczenie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setRecorder(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">playRecord(...)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza tryb nagrywania lub odtwarzania sesji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isConnected()</span></code> / <code class="docutils literal notranslate"><span class="pre">isConnecting()</span></code></p></td>
<td class="text-left"><p>ZwracajƒÖ stan po≈ÇƒÖczenia.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ConnectionPtr</span> <span class="pre">getConnection()</span></code></p></td>
<td class="text-left"><p>Zwraca obiekt <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Konfiguracja protoko≈Çu</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">generateXteaKey()</span></code>, <code class="docutils literal notranslate"><span class="pre">setXteaKey(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">enableXteaEncryption()</span></code></p></td>
<td class="text-left"><p>ZarzƒÖdzajƒÖ szyfrowaniem XTEA.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">enableChecksum()</span></code>, <code class="docutils literal notranslate"><span class="pre">enabledSequencedPackets()</span></code>, <code class="docutils literal notranslate"><span class="pre">enableBigPackets()</span></code>, <code class="docutils literal notranslate"><span class="pre">enableCompression()</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖczajƒÖ r√≥≈ºne cechy protoko≈Çu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Operacje I/O</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">send(...)</span></code></p></td>
<td class="text-left"><p>Wysy≈Ça <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code>, opcjonalnie szyfrujƒÖc i dodajƒÖc nag≈Ç√≥wki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">recv()</span></code></p></td>
<td class="text-left"><p>Inicjuje proces odbierania nastƒôpnego pakietu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id690">
<h1>Metody chronione<a class="headerlink" href="#id690" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">onConnect()</span></code>: Wirtualna metoda wywo≈Çywana po nawiƒÖzaniu po≈ÇƒÖczenia. Domy≈õlnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">onConnect</span></code> w Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onRecv(...)</span></code>: Wirtualna metoda wywo≈Çywana po otrzymaniu i zdeserializowaniu pe≈Çnego pakietu. Domy≈õlnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">onRecv</span></code> w Lua.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onError(...)</span></code>: Wirtualna metoda wywo≈Çywana w przypadku b≈Çƒôdu sieciowego.</p></li>
</ul>
</section>
<section id="zmienne">
<h1>Zmienne<a class="headerlink" href="#zmienne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_xteaKey</span></code>: Klucz XTEA.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_packetNumber</span></code>: Licznik dla pakiet√≥w sekwencyjnych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_player</span></code>, <code class="docutils literal notranslate"><span class="pre">m_recorder</span></code>: Wska≈∫niki na obiekty do odtwarzania/nagrywania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_checksumEnabled</span></code>, <code class="docutils literal notranslate"><span class="pre">m_xteaEncryptionEnabled</span></code>, ‚Ä¶: Flagi konfiguracji protoko≈Çu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_connection</span></code>: Wska≈∫nik na obiekt <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_inputMessage</span></code>: Bufor na przychodzƒÖce dane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_zstream</span></code>: Strumie≈Ñ ZLIB do dekompresji.</p></li>
</ul>
</section>
<section id="id691">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id691" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">inputmessage.h</span></code>, <code class="docutils literal notranslate"><span class="pre">outputmessage.h</span></code>, <code class="docutils literal notranslate"><span class="pre">connection.h</span></code>: Podstawowe klasy sieciowe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy.h</span></code>: Do integracji z systemem proxy.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, jest kluczowym elementem do implementacji logiki sieciowej w Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="packet-recorder-cpp">
<h1>üìÑ packet_recorder.cpp<a class="headerlink" href="#packet-recorder-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id692">
<h1>Opis og√≥lny<a class="headerlink" href="#id692" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packet_recorder.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code>, kt√≥ra s≈Çu≈ºy do nagrywania sesji sieciowej do pliku tekstowego.</p>
</section>
<section id="klasa-packetrecorder">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code><a class="headerlink" href="#klasa-packetrecorder" title="Link to this heading">#</a></h1>
</section>
<section id="packetrecorder-packetrecorder-const-std-string-file">
<h1><code class="docutils literal notranslate"><span class="pre">PacketRecorder::PacketRecorder(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code><a class="headerlink" href="#packetrecorder-packetrecorder-const-std-string-file" title="Link to this heading">#</a></h1>
<p>Konstruktor.</p>
<ul class="simple">
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ol class="arabic simple">
<li><p>Zapisuje czas startu nagrywania (<code class="docutils literal notranslate"><span class="pre">m_start</span></code>).</p></li>
<li><p>Tworzy katalog <code class="docutils literal notranslate"><span class="pre">records/</span></code>, je≈õli nie istnieje.</p></li>
<li><p>Otwiera plik o podanej nazwie w tym katalogu do zapisu.</p></li>
</ol>
</li>
</ul>
</section>
<section id="void-packetrecorder-addinputpacket-const-inputmessageptr-packet">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketRecorder::addInputPacket(const</span> <span class="pre">InputMessagePtr&amp;</span> <span class="pre">packet)</span></code><a class="headerlink" href="#void-packetrecorder-addinputpacket-const-inputmessageptr-packet" title="Link to this heading">#</a></h1>
<p>Nagrywa pakiet przychodzƒÖcy.</p>
<ul class="simple">
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ol class="arabic simple">
<li><p>Zapisuje do pliku znacznik <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>.</p></li>
<li><p>Zapisuje r√≥≈ºnicƒô czasu od startu nagrywania.</p></li>
<li><p>Zapisuje zawarto≈õƒá cia≈Ça pakietu w formacie heksadecymalnym.</p></li>
<li><p>Dodaje znak nowej linii.</p></li>
</ol>
</li>
</ul>
</section>
<section id="void-packetrecorder-addoutputpacket-const-outputmessageptr-packet">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketRecorder::addOutputPacket(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">packet)</span></code><a class="headerlink" href="#void-packetrecorder-addoutputpacket-const-outputmessageptr-packet" title="Link to this heading">#</a></h1>
<p>Nagrywa pakiet wychodzƒÖcy.</p>
<ul class="simple">
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ol class="arabic simple">
<li><p>Ignoruje pierwszy pakiet wychodzƒÖcy (kt√≥ry zazwyczaj zawiera login i has≈Ço), aby nie zapisywaƒá wra≈ºliwych danych.</p></li>
<li><p>Zapisuje do pliku znacznik <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>.</p></li>
<li><p>Zapisuje r√≥≈ºnicƒô czasu.</p></li>
<li><p>Zapisuje ca≈ÇƒÖ zawarto≈õƒá pakietu (wraz z nag≈Ç√≥wkiem) w formacie heksadecymalnym.</p></li>
<li><p>Dodaje znak nowej linii.</p></li>
</ol>
</li>
</ul>
</section>
<section id="id693">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id693" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/packet_recorder.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>, <code class="docutils literal notranslate"><span class="pre">resourcemanager.h</span></code>: Do zarzƒÖdzania czasem i plikami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/hex.hpp</span></code>: Do konwersji danych binarnych na format heksadecymalny.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, gdy w≈ÇƒÖczony jest tryb nagrywania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="protocol-cpp">
<h1>üìÑ protocol.cpp<a class="headerlink" href="#protocol-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id694">
<h1>Opis og√≥lny<a class="headerlink" href="#id694" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">protocol.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, kt√≥ra stanowi bazƒô dla protoko≈Ç√≥w komunikacyjnych. Implementuje ona logikƒô niskiego poziomu, takƒÖ jak szyfrowanie, sumy kontrolne i kompresjƒô, delegujƒÖc obs≈Çugƒô samych pakiet√≥w do skrypt√≥w Lua.</p>
</section>
<section id="id695">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Protocol</span></code><a class="headerlink" href="#id695" title="Link to this heading">#</a></h1>
</section>
<section id="protocol-protocol">
<h1><code class="docutils literal notranslate"><span class="pre">Protocol::Protocol()</span></code><a class="headerlink" href="#protocol-protocol" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domy≈õlne flagi protoko≈Çu na <code class="docutils literal notranslate"><span class="pre">false</span></code> i przygotowuje strumie≈Ñ ZLIB do dekompresji.</p>
</section>
<section id="void-protocol-connect-const-std-string-host-uint16-port">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::connect(const</span> <span class="pre">std::string&amp;</span> <span class="pre">host,</span> <span class="pre">uint16</span> <span class="pre">port)</span></code><a class="headerlink" href="#void-protocol-connect-const-std-string-host-uint16-port" title="Link to this heading">#</a></h1>
<p>Rozpoczyna po≈ÇƒÖczenie. Je≈õli <code class="docutils literal notranslate"><span class="pre">host</span></code> to ‚Äûproxy‚Äù lub inny specjalny adres, u≈ºywa <code class="docutils literal notranslate"><span class="pre">g_proxy</span></code>. W przeciwnym razie tworzy nowy <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p>
</section>
<section id="void-protocol-disconnect">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::disconnect()</span></code><a class="headerlink" href="#void-protocol-disconnect" title="Link to this heading">#</a></h1>
<p>Zamyka po≈ÇƒÖczenie, zwalniajƒÖc <code class="docutils literal notranslate"><span class="pre">Connection</span></code> lub sesjƒô proxy.</p>
</section>
<section id="void-protocol-send-const-outputmessageptr-outputmessage-bool-rawpacket">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::send(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">outputMessage,</span> <span class="pre">bool</span> <span class="pre">rawPacket)</span></code><a class="headerlink" href="#void-protocol-send-const-outputmessageptr-outputmessage-bool-rawpacket" title="Link to this heading">#</a></h1>
</section>
<section id="id696">
<h1>Opis semantyczny<a class="headerlink" href="#id696" title="Link to this heading">#</a></h1>
<p>Przygotowuje i wysy≈Ça pakiet.</p>
</section>
<section id="id697">
<h1>Dzia≈Çanie<a class="headerlink" href="#id697" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Je≈õli w≈ÇƒÖczone jest nagrywanie, zapisuje pakiet.</p></li>
<li><p>Je≈õli <code class="docutils literal notranslate"><span class="pre">rawPacket</span></code> jest <code class="docutils literal notranslate"><span class="pre">false</span></code>:</p>
<ul class="simple">
<li><p>Szyfruje pakiet za pomocƒÖ XTEA, je≈õli w≈ÇƒÖczone.</p></li>
<li><p>Dodaje sumƒô kontrolnƒÖ lub numer sekwencyjny.</p></li>
<li><p>Dodaje rozmiar pakietu na poczƒÖtku.</p></li>
</ul>
</li>
<li><p>Wysy≈Ça gotowy pakiet przez <code class="docutils literal notranslate"><span class="pre">Connection</span></code> lub <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
<li><p>Resetuje <code class="docutils literal notranslate"><span class="pre">outputMessage</span></code>, aby m√≥g≈Ç byƒá ponownie u≈ºyty.</p></li>
</ol>
</section>
<section id="void-protocol-recv">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::recv()</span></code><a class="headerlink" href="#void-protocol-recv" title="Link to this heading">#</a></h1>
<p>Rozpoczyna proces odbierania nowego pakietu, instruujƒÖc <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, aby najpierw odczyta≈Ç nag≈Ç√≥wek o odpowiedniej d≈Çugo≈õci.</p>
</section>
<section id="void-protocol-internalrecvheader-i-internalrecvdata">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::internalRecvHeader(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">internalRecvData(...)</span></code><a class="headerlink" href="#void-protocol-internalrecvheader-i-internalrecvdata" title="Link to this heading">#</a></h1>
<p>Handlery wywo≈Çywane przez <code class="docutils literal notranslate"><span class="pre">Connection</span></code>. <code class="docutils literal notranslate"><span class="pre">internalRecvHeader</span></code> odczytuje rozmiar cia≈Ça pakietu, a <code class="docutils literal notranslate"><span class="pre">internalRecvData</span></code> odczytuje resztƒô danych. <code class="docutils literal notranslate"><span class="pre">internalRecvData</span></code> nastƒôpnie wykonuje deszyfrowanie, weryfikacjƒô sumy kontrolnej i dekompresjƒô, a na ko≈Ñcu wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">onRecv</span></code> z gotowym <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code>.</p>
</section>
<section id="void-protocol-generatexteakey-i-setxteakey">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::generateXteaKey()</span></code> i <code class="docutils literal notranslate"><span class="pre">setXteaKey(...)</span></code><a class="headerlink" href="#void-protocol-generatexteakey-i-setxteakey" title="Link to this heading">#</a></h1>
<p>Metody do zarzƒÖdzania kluczem szyfrowania XTEA.</p>
</section>
<section id="bool-protocol-xteadecrypt-i-void-protocol-xteaencrypt">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Protocol::xteaDecrypt(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::xteaEncrypt(...)</span></code><a class="headerlink" href="#bool-protocol-xteadecrypt-i-void-protocol-xteaencrypt" title="Link to this heading">#</a></h1>
<p>Implementacje algorytmu XTEA do szyfrowania i deszyfrowania bufor√≥w wiadomo≈õci.</p>
</section>
<section id="void-protocol-onconnect-onrecv-onerror">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::onConnect()</span></code>, <code class="docutils literal notranslate"><span class="pre">onRecv(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">onError(...)</span></code><a class="headerlink" href="#void-protocol-onconnect-onrecv-onerror" title="Link to this heading">#</a></h1>
<p>Metody wirtualne, kt√≥re domy≈õlnie wywo≈ÇujƒÖ odpowiednie funkcje w Lua (<code class="docutils literal notranslate"><span class="pre">onConnect</span></code>, <code class="docutils literal notranslate"><span class="pre">onRecv</span></code>, <code class="docutils literal notranslate"><span class="pre">onError</span></code>), przekazujƒÖc im kontrolƒô nad logikƒÖ protoko≈Çu.</p>
</section>
<section id="id698">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id698" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/protocol.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/connection.h</span></code>, <code class="docutils literal notranslate"><span class="pre">packet_player.h</span></code>, <code class="docutils literal notranslate"><span class="pre">packet_recorder.h</span></code>: Komponenty sieciowe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy.h</span></code>: Do integracji z proxy.</p></li>
<li><p><strong>ZLIB</strong>: Do kompresji/dekompresji.</p></li>
<li><p>Jest to kluczowa klasa, kt√≥ra jest dziedziczona (w Lua) w celu zaimplementowania konkretnego protoko≈Çu gry.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="server-cpp">
<h1>üìÑ server.cpp<a class="headerlink" href="#server-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id699">
<h1>Opis og√≥lny<a class="headerlink" href="#id699" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">server.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">Server</span></code>, kt√≥ra umo≈ºliwia tworzenie prostych serwer√≥w TCP nas≈ÇuchujƒÖcych na przychodzƒÖce po≈ÇƒÖczenia.</p>
</section>
<section id="id700">
<h1>Zmienne globalne<a class="headerlink" href="#id700" title="Link to this heading">#</a></h1>
</section>
<section id="g-ioservice">
<h1><code class="docutils literal notranslate"><span class="pre">g_ioService</span></code><a class="headerlink" href="#g-ioservice" title="Link to this heading">#</a></h1>
<p>Globalny <code class="docutils literal notranslate"><span class="pre">io_service</span></code> z Boost.Asio, u≈ºywany r√≥wnie≈º przez <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, na kt√≥rym dzia≈Ça akceptor serwera.</p>
</section>
<section id="id701">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Server</span></code><a class="headerlink" href="#id701" title="Link to this heading">#</a></h1>
</section>
<section id="server-server-int-port">
<h1><code class="docutils literal notranslate"><span class="pre">Server::Server(int</span> <span class="pre">port)</span></code><a class="headerlink" href="#server-server-int-port" title="Link to this heading">#</a></h1>
<p>Konstruktor. Tworzy i otwiera obiekt <code class="docutils literal notranslate"><span class="pre">boost::asio::ip::tcp::acceptor</span></code>, bindowanie go do wszystkich interfejs√≥w (<code class="docutils literal notranslate"><span class="pre">tcp::v4()</span></code>) na podanym porcie.</p>
</section>
<section id="serverptr-server-create-int-port">
<h1><code class="docutils literal notranslate"><span class="pre">ServerPtr</span> <span class="pre">Server::create(int</span> <span class="pre">port)</span></code><a class="headerlink" href="#serverptr-server-create-int-port" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">Server</span></code>, opakowujƒÖc go w <code class="docutils literal notranslate"><span class="pre">shared_ptr</span></code>. Obs≈Çuguje wyjƒÖtki, kt√≥re mogƒÖ wystƒÖpiƒá, je≈õli port jest ju≈º zajƒôty.</p>
</section>
<section id="void-server-close">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Server::close()</span></code><a class="headerlink" href="#void-server-close" title="Link to this heading">#</a></h1>
<p>Zamyka serwer. Anuluje wszystkie oczekujƒÖce operacje akceptowania i zamyka akceptor.</p>
</section>
<section id="void-server-acceptnext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Server::acceptNext()</span></code><a class="headerlink" href="#void-server-acceptnext" title="Link to this heading">#</a></h1>
</section>
<section id="id702">
<h1>Opis semantyczny<a class="headerlink" href="#id702" title="Link to this heading">#</a></h1>
<p>Rozpoczyna asynchroniczne oczekiwanie na nowe po≈ÇƒÖczenie.</p>
</section>
<section id="id703">
<h1>Dzia≈Çanie<a class="headerlink" href="#id703" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzy nowy, pusty obiekt <code class="docutils literal notranslate"><span class="pre">Connection</span></code>.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">m_acceptor.async_accept</span></code>, przekazujƒÖc jej gniazdo nowego <code class="docutils literal notranslate"><span class="pre">Connection</span></code> oraz <code class="docutils literal notranslate"><span class="pre">callback</span></code> (lambdƒô).</p></li>
<li><p>Gdy nowe po≈ÇƒÖczenie zostanie nawiƒÖzane, <code class="docutils literal notranslate"><span class="pre">callback</span></code> jest wywo≈Çywany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Callback</span></code> ustawia stan <code class="docutils literal notranslate"><span class="pre">Connection</span></code> na <code class="docutils literal notranslate"><span class="pre">connected</span></code> i wywo≈Çuje funkcjƒô <code class="docutils literal notranslate"><span class="pre">onAccept</span></code> w skrypcie Lua, przekazujƒÖc jej nowy obiekt <code class="docutils literal notranslate"><span class="pre">Connection</span></code> oraz ewentualny kod b≈Çƒôdu.</p></li>
</ol>
</section>
<section id="id704">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id704" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/server.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/connection.h</span></code>: Tworzy obiekty <code class="docutils literal notranslate"><span class="pre">Connection</span></code> dla nowych po≈ÇƒÖcze≈Ñ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">tcp::acceptor</span></code>.</p></li>
<li><p>Jest przeznaczona do u≈ºytku w Lua, co pozwala na tworzenie np. prostych serwer√≥w pomocniczych, serwer√≥w proxy lub narzƒôdzi deweloperskich.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="inputmessage-cpp">
<h1>üìÑ inputmessage.cpp<a class="headerlink" href="#inputmessage-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id705">
<h1>Opis og√≥lny<a class="headerlink" href="#id705" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">inputmessage.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code>, kt√≥ra jest narzƒôdziem do parsowania przychodzƒÖcych pakiet√≥w sieciowych.</p>
</section>
<section id="id706">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code><a class="headerlink" href="#id706" title="Link to this heading">#</a></h1>
</section>
<section id="inputmessage-inputmessage">
<h1><code class="docutils literal notranslate"><span class="pre">InputMessage::InputMessage()</span></code><a class="headerlink" href="#inputmessage-inputmessage" title="Link to this heading">#</a></h1>
<p>Konstruktor, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">reset()</span></code>.</p>
</section>
<section id="void-inputmessage-reset">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::reset()</span></code><a class="headerlink" href="#void-inputmessage-reset" title="Link to this heading">#</a></h1>
<p>Resetuje stan wiadomo≈õci do warto≈õci poczƒÖtkowych, ustawiajƒÖc pozycjƒô odczytu i nag≈Ç√≥wka na <code class="docutils literal notranslate"><span class="pre">MAX_HEADER_SIZE</span></code>.</p>
</section>
<section id="void-inputmessage-setbuffer-const-std-string-buffer">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::setBuffer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code><a class="headerlink" href="#void-inputmessage-setbuffer-const-std-string-buffer" title="Link to this heading">#</a></h1>
<p>Ustawia zawarto≈õƒá cia≈Ça wiadomo≈õci, kopiujƒÖc dane z <code class="docutils literal notranslate"><span class="pre">std::string</span></code> do wewnƒôtrznego bufora.</p>
</section>
<section id="metody-get">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">get...()</span></code><a class="headerlink" href="#metody-get" title="Link to this heading">#</a></h1>
<p>OdczytujƒÖ dane z bufora, zaczynajƒÖc od bie≈ºƒÖcej pozycji <code class="docutils literal notranslate"><span class="pre">m_readPos</span></code>.</p>
<ul class="simple">
<li><p>Ka≈ºda metoda najpierw wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">checkRead</span></code>, aby upewniƒá siƒô, ≈ºe jest wystarczajƒÖco du≈ºo danych do odczytania.</p></li>
<li><p>Nastƒôpnie odczytuje dane z bufora, konwertujƒÖc je z porzƒÖdku Little Endian, je≈õli to konieczne.</p></li>
<li><p>Na koniec przesuwa wska≈∫nik <code class="docutils literal notranslate"><span class="pre">m_readPos</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getString</span></code> najpierw odczytuje 2-bajtowƒÖ d≈Çugo≈õƒá, a potem sam string.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getDouble</span></code> odczytuje niestandardowy format liczby zmiennoprzecinkowej.</p></li>
</ul>
</section>
<section id="bool-inputmessage-decryptrsa-int-size">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">InputMessage::decryptRsa(int</span> <span class="pre">size)</span></code><a class="headerlink" href="#bool-inputmessage-decryptrsa-int-size" title="Link to this heading">#</a></h1>
<p>Deszyfruje <code class="docutils literal notranslate"><span class="pre">size</span></code> bajt√≥w z bie≈ºƒÖcej pozycji za pomocƒÖ klucza prywatnego RSA. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli pierwszy zdeszyfrowany bajt to 0.</p>
</section>
<section id="void-inputmessage-fillbuffer">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::fillBuffer(...)</span></code><a class="headerlink" href="#void-inputmessage-fillbuffer" title="Link to this heading">#</a></h1>
<p>Dopisuje surowe dane do bufora w bie≈ºƒÖcej pozycji odczytu (u≈ºywane przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> podczas odbierania danych z gniazda).</p>
</section>
<section id="void-inputmessage-setheadersize-uint32-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::setHeaderSize(uint32</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-inputmessage-setheadersize-uint32-size" title="Link to this heading">#</a></h1>
<p>Ustawia pozycjƒô poczƒÖtku nag≈Ç√≥wka (<code class="docutils literal notranslate"><span class="pre">m_headerPos</span></code>), co efektywnie okre≈õla jego rozmiar.</p>
</section>
<section id="bool-inputmessage-readchecksum">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">InputMessage::readChecksum()</span></code><a class="headerlink" href="#bool-inputmessage-readchecksum" title="Link to this heading">#</a></h1>
<p>Odczytuje 4-bajtowƒÖ sumƒô kontrolnƒÖ z bufora, oblicza sumƒô kontrolnƒÖ Adler-32 dla reszty danych i por√≥wnuje je.</p>
</section>
<section id="void-inputmessage-checkread-int-bytes">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::checkRead(int</span> <span class="pre">bytes)</span></code><a class="headerlink" href="#void-inputmessage-checkread-int-bytes" title="Link to this heading">#</a></h1>
<p>Prywatna metoda, kt√≥ra rzuca wyjƒÖtek, je≈õli pr√≥ba odczytu <code class="docutils literal notranslate"><span class="pre">bytes</span></code> bajt√≥w wykroczy≈Çaby poza granice wiadomo≈õci.</p>
</section>
<section id="id707">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id707" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/inputmessage.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/crypt.h</span></code>: Do deszyfracji RSA.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">client/map.h</span></code>: Potencjalna zale≈ºno≈õƒá, byƒá mo≈ºe z starszej wersji.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do reprezentowania i parsowania przychodzƒÖcych pakiet√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="packet-recorder-h">
<h1>üìÑ packet_recorder.h<a class="headerlink" href="#packet-recorder-h" title="Link to this heading">#</a></h1>
</section>
<section id="id708">
<h1>Opis og√≥lny<a class="headerlink" href="#id708" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packet_recorder.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code>, kt√≥ra s≈Çu≈ºy do nagrywania sesji sieciowej do pliku tekstowego w celu p√≥≈∫niejszej analizy lub odtworzenia.</p>
</section>
<section id="id709">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code><a class="headerlink" href="#id709" title="Link to this heading">#</a></h1>
</section>
<section id="id710">
<h1>Opis semantyczny<a class="headerlink" href="#id710" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code> przechwytuje pakiety przychodzƒÖce (<code class="docutils literal notranslate"><span class="pre">InputMessage</span></code>) i wychodzƒÖce (<code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code>) i zapisuje je w czytelnym formacie do pliku. Ka≈ºdy wpis zawiera znacznik kierunku (<code class="docutils literal notranslate"><span class="pre">&lt;</span></code> lub <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>), sygnaturƒô czasowƒÖ i zawarto≈õƒá pakietu w postaci heksadecymalnej. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p>
</section>
<section id="id711">
<h1>Metody publiczne<a class="headerlink" href="#id711" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">PacketRecorder(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td class="text-left"><p>Konstruktor, otwiera plik do zapisu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~PacketRecorder()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addInputPacket(...)</span></code></p></td>
<td class="text-left"><p>Zapisuje pakiet przychodzƒÖcy do pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addOutputPacket(...)</span></code></p></td>
<td class="text-left"><p>Zapisuje pakiet wychodzƒÖcy do pliku.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id712">
<h1>Zmienne prywatne<a class="headerlink" href="#id712" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_start</span></code>: Czas rozpoczƒôcia nagrywania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_stream</span></code>: Strumie≈Ñ pliku do zapisu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_firstOutput</span></code>: Flaga u≈ºywana do pominiƒôcia pierwszego pakietu wychodzƒÖcego (zwykle zawierajƒÖcego has≈Ço).</p></li>
</ul>
</section>
<section id="id713">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id713" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/net/inputmessage.h</span></code>, <code class="docutils literal notranslate"><span class="pre">outputmessage.h</span></code>: Przyjmuje obiekty tych typ√≥w do nagrania.</p></li>
<li><p>Jest tworzona i u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, gdy w≈ÇƒÖczony jest tryb nagrywania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id714">
<h1>üìÑ declarations.h<a class="headerlink" href="#id714" title="Link to this heading">#</a></h1>
</section>
<section id="id715">
<h1>Opis og√≥lny<a class="headerlink" href="#id715" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">otml</span></code> s≈Çu≈ºy do wczesnych deklaracji (forward declarations) i definicji typ√≥w dla klas zwiƒÖzanych z parserem OTML.</p>
</section>
<section id="id716">
<h1>Wczesne deklaracje<a class="headerlink" href="#id716" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code></p></li>
</ul>
</section>
<section id="id717">
<h1>Definicje typ√≥w<a class="headerlink" href="#id717" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;OTMLNode&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span></code>: <code class="docutils literal notranslate"><span class="pre">stdext::shared_object_ptr&lt;OTMLDocument&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLNodeList</span></code>: <code class="docutils literal notranslate"><span class="pre">std::vector&lt;OTMLNodePtr&gt;</span></code></p></li>
</ul>
</section>
<section id="id718">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id718" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest do≈ÇƒÖczany przez wszystkie pliki nag≈Ç√≥wkowe w module <code class="docutils literal notranslate"><span class="pre">otml</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otmlparser-h">
<h1>üìÑ otmlparser.h<a class="headerlink" href="#otmlparser-h" title="Link to this heading">#</a></h1>
</section>
<section id="id719">
<h1>Opis og√≥lny<a class="headerlink" href="#id719" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlparser.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code>, kt√≥ra jest odpowiedzialna za parsowanie dokument√≥w w formacie OTML (OTClient Markup Language).</p>
</section>
<section id="klasa-otmlparser">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code><a class="headerlink" href="#klasa-otmlparser" title="Link to this heading">#</a></h1>
</section>
<section id="id720">
<h1>Opis semantyczny<a class="headerlink" href="#id720" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code> odczytuje dane linia po linii ze strumienia wej≈õciowego, analizuje wciƒôcia (kt√≥re definiujƒÖ hierarchiƒô), a nastƒôpnie parsuje tagi i warto≈õci, budujƒÖc drzewo obiekt√≥w <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>.</p>
</section>
<section id="id721">
<h1>Metody publiczne<a class="headerlink" href="#id721" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OTMLParser(OTMLDocumentPtr</span> <span class="pre">doc,</span> <span class="pre">std::istream&amp;</span> <span class="pre">in)</span></code>: Konstruktor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">parse()</span></code>: G≈Ç√≥wna metoda rozpoczynajƒÖca proces parsowania.</p></li>
</ul>
</section>
<section id="metody-prywatne">
<h1>Metody prywatne<a class="headerlink" href="#metody-prywatne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getNextLine()</span></code>: Odczytuje nastƒôpnƒÖ liniƒô ze strumienia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getLineDepth(...)</span></code>: Oblicza poziom zagnie≈ºd≈ºenia na podstawie liczby spacji na poczƒÖtku linii.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">parseLine(...)</span></code>: Przetwarza pojedynczƒÖ liniƒô (sprawdza wciƒôcia, komentarze, puste linie).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">parseNode(...)</span></code>: Parsuje tag i warto≈õƒá z linii i tworzy nowy <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>.</p></li>
</ul>
</section>
<section id="id722">
<h1>Zmienne prywatne<a class="headerlink" href="#id722" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">currentDepth</span></code>, <code class="docutils literal notranslate"><span class="pre">currentLine</span></code>: ≈öledzƒÖ pozycjƒô w pliku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doc</span></code>: Wska≈∫nik na dokument, kt√≥ry jest budowany.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">currentParent</span></code>: Wska≈∫nik na bie≈ºƒÖcy wƒôze≈Ç-rodzica.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parentMap</span></code>: Mapa do ≈õledzenia hierarchii.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">previousNode</span></code>: Wska≈∫nik na ostatnio dodany wƒôze≈Ç.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">in</span></code>: Referencja do strumienia wej≈õciowego.</p></li>
</ul>
</section>
<section id="id723">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id723" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: Definicje typ√≥w.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">OTMLDocument::parse</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otml-h">
<h1>üìÑ otml.h<a class="headerlink" href="#otml-h" title="Link to this heading">#</a></h1>
</section>
<section id="id724">
<h1>Opis og√≥lny<a class="headerlink" href="#id724" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otml.h</span></code> jest g≈Ç√≥wnym plikiem nag≈Ç√≥wkowym dla modu≈Çu OTML. Jego jedynym zadaniem jest do≈ÇƒÖczenie dw√≥ch najwa≈ºniejszych plik√≥w tego modu≈Çu: <code class="docutils literal notranslate"><span class="pre">otmldocument.h</span></code> i <code class="docutils literal notranslate"><span class="pre">otmlnode.h</span></code>.</p>
</section>
<section id="id725">
<h1>Zawarto≈õƒá<a class="headerlink" href="#id725" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&quot;otmldocument.h&quot;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&quot;otmlnode.h&quot;</span>
</pre></div>
</div>
</section>
<section id="id726">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id726" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>U≈Çatwia do≈ÇƒÖczanie podstawowych funkcjonalno≈õci OTML w innych czƒô≈õciach projektu, kt√≥re potrzebujƒÖ zar√≥wno <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>, jak i <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otmldocument-cpp">
<h1>üìÑ otmldocument.cpp<a class="headerlink" href="#otmldocument-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id727">
<h1>Opis og√≥lny<a class="headerlink" href="#id727" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmldocument.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>, kt√≥ra reprezentuje ca≈Çy dokument OTML i jest korzeniem drzewa wƒôz≈Ç√≥w.</p>
</section>
<section id="klasa-otmldocument">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code><a class="headerlink" href="#klasa-otmldocument" title="Link to this heading">#</a></h1>
</section>
<section id="otmldocumentptr-otmldocument-create">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::create()</span></code><a class="headerlink" href="#otmldocumentptr-otmldocument-create" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna. Tworzy nowy, pusty dokument z domy≈õlnym tagiem ‚Äûdoc‚Äù.</p>
</section>
<section id="otmldocumentptr-otmldocument-parse-const-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parse(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code><a class="headerlink" href="#otmldocumentptr-otmldocument-parse-const-std-string-filename" title="Link to this heading">#</a></h1>
<p>Statyczna metoda, kt√≥ra ≈Çaduje i parsuje dokument OTML z pliku. U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_resources</span></code> do odczytania pliku do strumienia, a nastƒôpnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">parse(std::istream&amp;,</span> <span class="pre">...)</span></code>.</p>
</section>
<section id="otmldocumentptr-otmldocument-parsestring-const-std-string-data-const-std-string-source">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parseString(const</span> <span class="pre">std::string&amp;</span> <span class="pre">data,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code><a class="headerlink" href="#otmldocumentptr-otmldocument-parsestring-const-std-string-data-const-std-string-source" title="Link to this heading">#</a></h1>
<p>Parsuje dokument z <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p>
</section>
<section id="otmldocumentptr-otmldocument-parse-std-istream-in-const-std-string-source">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parse(std::istream&amp;</span> <span class="pre">in,</span> <span class="pre">const</span> <span class="pre">std::::string&amp;</span> <span class="pre">source)</span></code><a class="headerlink" href="#otmldocumentptr-otmldocument-parse-std-istream-in-const-std-string-source" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda parsujƒÖca.</p>
<ol class="arabic simple">
<li><p>Tworzy nowy <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>.</p></li>
<li><p>Tworzy <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code> dla tego dokumentu i strumienia.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">parser.parse()</span></code> w celu zbudowania drzewa wƒôz≈Ç√≥w.</p></li>
<li><p>Zwraca gotowy dokument.</p></li>
</ol>
</section>
<section id="std-string-otmldocument-emit">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">OTMLDocument::emit()</span></code><a class="headerlink" href="#std-string-otmldocument-emit" title="Link to this heading">#</a></h1>
<p>Konwertuje ca≈Çe drzewo wƒôz≈Ç√≥w OTML z powrotem na format tekstowy, u≈ºywajƒÖc <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code>.</p>
</section>
<section id="bool-otmldocument-save-const-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLDocument::save(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code><a class="headerlink" href="#bool-otmldocument-save-const-std-string-filename" title="Link to this heading">#</a></h1>
<p>Zapisuje wyemitowany dokument do pliku za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_resources</span></code>.</p>
</section>
<section id="id728">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id728" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmldocument.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlparser.h</span></code>, <code class="docutils literal notranslate"><span class="pre">otmlemitter.h</span></code>: U≈ºywa parsera i emittera.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do operacji na plikach.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otmldocument-h">
<h1>üìÑ otmldocument.h<a class="headerlink" href="#otmldocument-h" title="Link to this heading">#</a></h1>
</section>
<section id="id729">
<h1>Opis og√≥lny<a class="headerlink" href="#id729" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmldocument.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>, kt√≥ra jest specjalizacjƒÖ <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> i reprezentuje korze≈Ñ dokumentu OTML.</p>
</section>
<section id="id730">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code><a class="headerlink" href="#id730" title="Link to this heading">#</a></h1>
</section>
<section id="id731">
<h1>Opis semantyczny<a class="headerlink" href="#id731" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>, wiƒôc jest jednocze≈õnie wƒôz≈Çem (korzeniem) i ca≈Çym dokumentem. Dodaje funkcjonalno≈õƒá zwiƒÖzanƒÖ z plikami: parsowanie z pliku/stringu i zapisywanie do pliku. Przechowuje r√≥wnie≈º informacjƒô o ≈∫r√≥dle (<code class="docutils literal notranslate"><span class="pre">source</span></code>), z kt√≥rego zosta≈Ç za≈Çadowany.</p>
</section>
<section id="metody-publiczne-statyczne">
<h1>Metody publiczne (statyczne)<a class="headerlink" href="#metody-publiczne-statyczne" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">OTMLDocumentPtr</span> <span class="pre">create()</span></code></p></td>
<td class="text-left"><p>Tworzy pusty dokument.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">OTMLDocumentPtr</span> <span class="pre">parse(...)</span></code></p></td>
<td class="text-left"><p>Parsuje dokument z pliku, stringu lub strumienia.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-publiczne-instancji">
<h1>Metody publiczne (instancji)<a class="headerlink" href="#metody-publiczne-instancji" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">emit()</span></code></p></td>
<td class="text-left"><p>Konwertuje dokument na string w formacie OTML.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">save(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td class="text-left"><p>Zapisuje dokument do pliku.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id732">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id732" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlnode.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest u≈ºywana jako punkt wej≈õcia do tworzenia i ≈Çadowania struktur OTML w ca≈Çej aplikacji (np. w <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otmlemitter-cpp">
<h1>üìÑ otmlemitter.cpp<a class="headerlink" href="#otmlemitter-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id733">
<h1>Opis og√≥lny<a class="headerlink" href="#id733" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlemitter.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code>, kt√≥ra jest odpowiedzialna za konwersjƒô drzewa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> z powrotem do formatu tekstowego OTML.</p>
</section>
<section id="klasa-otmlemitter">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code><a class="headerlink" href="#klasa-otmlemitter" title="Link to this heading">#</a></h1>
</section>
<section id="std-string-otmlemitter-emitnode-const-otmlnodeptr-node-int-currentdepth">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">OTMLEmitter::emitNode(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node,</span> <span class="pre">int</span> <span class="pre">currentDepth)</span></code><a class="headerlink" href="#std-string-otmlemitter-emitnode-const-otmlnodeptr-node-int-currentdepth" title="Link to this heading">#</a></h1>
</section>
<section id="id734">
<h1>Opis semantyczny<a class="headerlink" href="#id734" title="Link to this heading">#</a></h1>
<p>Rekurencyjna, statyczna metoda, kt√≥ra generuje tekstowƒÖ reprezentacjƒô pojedynczego wƒôz≈Ça i wszystkich jego dzieci.</p>
</section>
<section id="id735">
<h1>Dzia≈Çanie<a class="headerlink" href="#id735" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Dodaje wciƒôcie (2 spacje na poziom) odpowiednie dla <code class="docutils literal notranslate"><span class="pre">currentDepth</span></code>.</p></li>
<li><p>Zapisuje tag wƒôz≈Ça. Je≈õli wƒôze≈Ç ma warto≈õƒá lub jest unikalny, dodaje <code class="docutils literal notranslate"><span class="pre">:</span></code>. Je≈õli nie ma tagu, zapisuje <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p></li>
<li><p>Zapisuje warto≈õƒá wƒôz≈Ça:</p>
<ul class="simple">
<li><p>Je≈õli warto≈õƒá to <code class="docutils literal notranslate"><span class="pre">null</span></code> (<code class="docutils literal notranslate"><span class="pre">m_null</span></code>), zapisuje <code class="docutils literal notranslate"><span class="pre">~</span></code>.</p></li>
<li><p>Je≈õli warto≈õƒá zawiera znaki nowej linii, formatuje jƒÖ jako blok wieloliniowy, u≈ºywajƒÖc <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">|-</span></code> lub <code class="docutils literal notranslate"><span class="pre">|+</span></code> w zale≈ºno≈õci od tego, jak majƒÖ byƒá traktowane ko≈Ñcowe znaki nowej linii.</p></li>
<li><p>W przeciwnym razie, zapisuje warto≈õƒá w tej samej linii.</p></li>
</ul>
</li>
<li><p>Rekurencyjnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">emitNode</span></code> dla wszystkich dzieci, zwiƒôkszajƒÖc <code class="docutils literal notranslate"><span class="pre">currentDepth</span></code>.</p></li>
</ol>
</section>
<section id="id736">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id736" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlemitter.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmldocument.h</span></code>: U≈ºywana przez <code class="docutils literal notranslate"><span class="pre">OTMLDocument::emit()</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otmlexception-cpp">
<h1>üìÑ otmlexception.cpp<a class="headerlink" href="#otmlexception-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id737">
<h1>Opis og√≥lny<a class="headerlink" href="#id737" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlexception.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code>, kt√≥ra jest u≈ºywana do sygnalizowania b≈Çƒôd√≥w podczas parsowania lub przetwarzania dokument√≥w OTML.</p>
</section>
<section id="klasa-otmlexception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code><a class="headerlink" href="#klasa-otmlexception" title="Link to this heading">#</a></h1>
</section>
<section id="id738">
<h1>Konstruktory<a class="headerlink" href="#id738" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">OTMLException(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">error)</span></code></strong>: Tworzy wyjƒÖtek zwiƒÖzany z konkretnym wƒôz≈Çem. Komunikat b≈Çƒôdu bƒôdzie zawiera≈Ç informacjƒô o ≈∫r√≥dle (<code class="docutils literal notranslate"><span class="pre">source</span></code>) tego wƒôz≈Ça.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">OTMLException(const</span> <span class="pre">OTMLDocumentPtr&amp;</span> <span class="pre">doc,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">line)</span></code></strong>: Tworzy wyjƒÖtek zwiƒÖzany z ca≈Çym dokumentem, opcjonalnie podajƒÖc numer linii, w kt√≥rej wystƒÖpi≈Ç b≈ÇƒÖd parsowania.</p></li>
</ul>
</section>
<section id="id739">
<h1>Dzia≈Çanie<a class="headerlink" href="#id739" title="Link to this heading">#</a></h1>
<p>Oba konstruktory budujƒÖ szczeg√≥≈Çowy komunikat b≈Çƒôdu w <code class="docutils literal notranslate"><span class="pre">std::stringstream</span></code>, kt√≥ry jest nastƒôpnie zapisywany w <code class="docutils literal notranslate"><span class="pre">m_what</span></code> i dostƒôpny przez metodƒô <code class="docutils literal notranslate"><span class="pre">what()</span></code>.</p>
</section>
<section id="id740">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id740" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlexception.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmldocument.h</span></code>: Do dostƒôpu do ≈∫r√≥d≈Ça dokumentu.</p></li>
<li><p>Jest rzucana przez <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code> w przypadku b≈Çƒôd√≥w sk≈Çadniowych i przez <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> w przypadku b≈Çƒôd√≥w logicznych (np. brak wymaganego dziecka).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otmlexception-h">
<h1>üìÑ otmlexception.h<a class="headerlink" href="#otmlexception-h" title="Link to this heading">#</a></h1>
</section>
<section id="id741">
<h1>Opis og√≥lny<a class="headerlink" href="#id741" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlexception.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code>, kt√≥ra jest typem wyjƒÖtku u≈ºywanym do sygnalizowania b≈Çƒôd√≥w zwiƒÖzanych z OTML.</p>
</section>
<section id="id742">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code><a class="headerlink" href="#id742" title="Link to this heading">#</a></h1>
</section>
<section id="id743">
<h1>Opis semantyczny<a class="headerlink" href="#id743" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>. Jest tworzona z informacjƒÖ o kontek≈õcie b≈Çƒôdu (wƒôze≈Ç lub dokument oraz numer linii), co pozwala na generowanie precyzyjnych komunikat√≥w o b≈Çƒôdach, u≈ÇatwiajƒÖcych debugowanie plik√≥w OTML.</p>
</section>
<section id="id744">
<h1>Metody publiczne<a class="headerlink" href="#id744" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OTMLException(...)</span></code></p></td>
<td class="text-left"><p>Konstruktory.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~OTMLException()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">const</span> <span class="pre">char*</span> <span class="pre">what()</span> <span class="pre">const</span> <span class="pre">throw()</span></code></p></td>
<td class="text-left"><p>Zwraca sformatowany komunikat b≈Çƒôdu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id745">
<h1>Zmienne chronione<a class="headerlink" href="#id745" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_what</span></code>: <code class="docutils literal notranslate"><span class="pre">std::string</span></code> przechowujƒÖca komunikat b≈Çƒôdu.</p></li>
</ul>
</section>
<section id="id746">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id746" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/exception.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest rzucana przez <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code> i <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otmlemitter-h">
<h1>üìÑ otmlemitter.h<a class="headerlink" href="#otmlemitter-h" title="Link to this heading">#</a></h1>
</section>
<section id="id747">
<h1>Opis og√≥lny<a class="headerlink" href="#id747" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlemitter.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code>, kt√≥ra jest odpowiedzialna za proces ‚Äûemitowania‚Äù, czyli konwersji drzewa wƒôz≈Ç√≥w OTML z powrotem do jego tekstowej reprezentacji.</p>
</section>
<section id="id748">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code><a class="headerlink" href="#id748" title="Link to this heading">#</a></h1>
</section>
<section id="id749">
<h1>Opis semantyczny<a class="headerlink" href="#id749" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code> zawiera jednƒÖ statycznƒÖ metodƒô, kt√≥ra rekurencyjnie przechodzi przez drzewo <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> i buduje sformatowany <code class="docutils literal notranslate"><span class="pre">std::string</span></code> zgodny ze sk≈ÇadniƒÖ OTML, uwzglƒôdniajƒÖc wciƒôcia, tagi, warto≈õci (w tym wieloliniowe) i hierarchiƒô.</p>
</section>
<section id="id750">
<h1>Metody publiczne (statyczne)<a class="headerlink" href="#id750" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">std::string</span> <span class="pre">emitNode(...)</span></code></p></td>
<td class="text-left"><p>Generuje tekstowƒÖ reprezentacjƒô podanego wƒôz≈Ça i wszystkich jego dzieci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id751">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id751" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: Podstawowe deklaracje.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">OTMLDocument::emit()</span></code> i <code class="docutils literal notranslate"><span class="pre">OTMLNode::emit()</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otmlparser-cpp">
<h1>üìÑ otmlparser.cpp<a class="headerlink" href="#otmlparser-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id752">
<h1>Opis og√≥lny<a class="headerlink" href="#id752" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlparser.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code>, kt√≥ra jest sercem mechanizmu parsowania jƒôzyka OTML.</p>
</section>
<section id="id753">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code><a class="headerlink" href="#id753" title="Link to this heading">#</a></h1>
</section>
<section id="otmlparser-otmlparser">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLParser::OTMLParser(...)</span></code><a class="headerlink" href="#otmlparser-otmlparser" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje stan parsera, ustawiajƒÖc bie≈ºƒÖcy wƒôze≈Ç-rodzica na korze≈Ñ dokumentu.</p>
</section>
<section id="void-otmlparser-parse">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parse()</span></code><a class="headerlink" href="#void-otmlparser-parse" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda, kt√≥ra w pƒôtli odczytuje kolejne linie ze strumienia (<code class="docutils literal notranslate"><span class="pre">getNextLine()</span></code>) i przekazuje je do <code class="docutils literal notranslate"><span class="pre">parseLine()</span></code>, a≈º do ko≈Ñca pliku.</p>
</section>
<section id="int-otmlparser-getlinedepth">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">OTMLParser::getLineDepth(...)</span></code><a class="headerlink" href="#int-otmlparser-getlinedepth" title="Link to this heading">#</a></h1>
<p>Oblicza poziom wciƒôcia linii, liczƒÖc spacje na jej poczƒÖtku. Wymusza, aby wciƒôcie by≈Ço wielokrotno≈õciƒÖ dw√≥ch spacji i zabrania u≈ºywania tabulator√≥w.</p>
</section>
<section id="void-otmlparser-parseline-std-string-line">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parseLine(std::string</span> <span class="pre">line)</span></code><a class="headerlink" href="#void-otmlparser-parseline-std-string-line" title="Link to this heading">#</a></h1>
<p>Przetwarza pojedynczƒÖ liniƒô.</p>
<ol class="arabic simple">
<li><p>Oblicza jej g≈Çƒôboko≈õƒá.</p></li>
<li><p>Usuwa bia≈Çe znaki z poczƒÖtku i ko≈Ñca.</p></li>
<li><p>Ignoruje puste linie i komentarze (<code class="docutils literal notranslate"><span class="pre">//</span></code>).</p></li>
<li><p>Na podstawie r√≥≈ºnicy miƒôdzy bie≈ºƒÖcƒÖ g≈Çƒôboko≈õciƒÖ a g≈Çƒôboko≈õciƒÖ linii, aktualizuje <code class="docutils literal notranslate"><span class="pre">currentParent</span></code>, wchodzƒÖc w g≈ÇƒÖb hierarchii lub wracajƒÖc na wy≈ºszy poziom.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">parseNode</span></code> w celu sparsowania w≈Ça≈õciwej zawarto≈õci linii.</p></li>
</ol>
</section>
<section id="void-otmlparser-parsenode-const-std-string-data">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parseNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">data)</span></code><a class="headerlink" href="#void-otmlparser-parsenode-const-std-string-data" title="Link to this heading">#</a></h1>
<p>Parsuje tag i warto≈õƒá z podanego ciƒÖgu znak√≥w.</p>
<ol class="arabic simple">
<li><p>Dzieli ciƒÖg na tag i warto≈õƒá na podstawie separatora <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p></li>
<li><p>Obs≈Çuguje specjalny przypadek <code class="docutils literal notranslate"><span class="pre">-</span></code> dla wƒôz≈Ç√≥w bez tagu.</p></li>
<li><p>Obs≈Çuguje warto≈õci wieloliniowe (rozpoczynajƒÖce siƒô od <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">|-</span></code>, <code class="docutils literal notranslate"><span class="pre">|+</span></code>), odczytujƒÖc kolejne linie, dop√≥ki wciƒôcie siƒô zgadza.</p></li>
<li><p>Obs≈Çuguje listy w nawiasach kwadratowych (<code class="docutils literal notranslate"><span class="pre">[...]</span></code>), dzielƒÖc je na osobne warto≈õci.</p></li>
<li><p>Tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>, ustawia jego w≈Ça≈õciwo≈õci (tag, warto≈õƒá, ≈∫r√≥d≈Ço) i dodaje go do <code class="docutils literal notranslate"><span class="pre">currentParent</span></code>.</p></li>
</ol>
</section>
<section id="id754">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id754" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlparser.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmldocument.h</span></code>, <code class="docutils literal notranslate"><span class="pre">otmlexception.h</span></code>: Do tworzenia i obs≈Çugi b≈Çƒôd√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/tokenizer.hpp</span></code>: Do parsowania list w nawiasach kwadratowych.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otmlnode-h">
<h1>üìÑ otmlnode.h<a class="headerlink" href="#otmlnode-h" title="Link to this heading">#</a></h1>
</section>
<section id="id755">
<h1>Opis og√≥lny<a class="headerlink" href="#id755" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlnode.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>, kt√≥ra jest podstawowym budulcem drzewa dokumentu OTML. Reprezentuje pojedynczy wƒôze≈Ç, kt√≥ry mo≈ºe mieƒá tag, warto≈õƒá i listƒô dzieci.</p>
</section>
<section id="klasa-otmlnode">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code><a class="headerlink" href="#klasa-otmlnode" title="Link to this heading">#</a></h1>
</section>
<section id="id756">
<h1>Opis semantyczny<a class="headerlink" href="#id756" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> to uniwersalny kontener na dane w strukturze drzewiastej. Jest u≈ºywany do reprezentowania zar√≥wno styl√≥w UI, jak i samych widget√≥w w plikach <code class="docutils literal notranslate"><span class="pre">.otui</span></code>, a tak≈ºe modu≈Ç√≥w w <code class="docutils literal notranslate"><span class="pre">.otmod</span></code> i konfiguracji w plikach <code class="docutils literal notranslate"><span class="pre">.otml</span></code>.</p>
</section>
<section id="id757">
<h1>Metody publiczne<a class="headerlink" href="#id757" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">OTMLNodePtr</span> <span class="pre">create(...)</span></code></p></td>
<td class="text-left"><p>Metody fabryczne do tworzenia nowych wƒôz≈Ç√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">tag()</span></code>, <code class="docutils literal notranslate"><span class="pre">size()</span></code>, <code class="docutils literal notranslate"><span class="pre">source()</span></code>, <code class="docutils literal notranslate"><span class="pre">rawValue()</span></code></p></td>
<td class="text-left"><p>Gettery dla podstawowych w≈Ça≈õciwo≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isUnique()</span></code>, <code class="docutils literal notranslate"><span class="pre">isNull()</span></code>, <code class="docutils literal notranslate"><span class="pre">hasTag()</span></code>, <code class="docutils literal notranslate"><span class="pre">hasValue()</span></code>, <code class="docutils literal notranslate"><span class="pre">hasChildren()</span></code></p></td>
<td class="text-left"><p>Metody sprawdzajƒÖce stan wƒôz≈Ça.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setTag(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">setValue(...)</span></code>, ‚Ä¶</p></td>
<td class="text-left"><p>Settery dla w≈Ça≈õciwo≈õci.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">childTag)</span></code></p></td>
<td class="text-left"><p>Zwraca pierwszy wƒôze≈Ç-dziecko o danym tagu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">at(const</span> <span class="pre">std::string&amp;</span> <span class="pre">childTag)</span></code></p></td>
<td class="text-left"><p>To samo co <code class="docutils literal notranslate"><span class="pre">get</span></code>, ale rzuca wyjƒÖtek, je≈õli dziecko nie istnieje.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeChild(...)</span></code></p></td>
<td class="text-left"><p>Dodaje/usuwa dziecko. <code class="docutils literal notranslate"><span class="pre">addChild</span></code> obs≈Çuguje logikƒô ≈ÇƒÖczenia (merge) dla unikalnych wƒôz≈Ç√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">copy(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">merge(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">clear()</span></code>, <code class="docutils literal notranslate"><span class="pre">clone()</span></code></p></td>
<td class="text-left"><p>Metody do manipulacji strukturƒÖ wƒôz≈Ça.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">children()</span></code></p></td>
<td class="text-left"><p>Zwraca listƒô wszystkich dzieci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Szablonowe metody <code class="docutils literal notranslate"><span class="pre">value...</span></code></strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">value&lt;T&gt;()</span></code></p></td>
<td class="text-left"><p>Zwraca warto≈õƒá wƒôz≈Ça, rzutowanƒÖ na typ <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">valueAt&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Zwraca warto≈õƒá dziecka o danym tagu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">valueAtIndex&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Zwraca warto≈õƒá dziecka o danym indeksie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Szablonowe metody <code class="docutils literal notranslate"><span class="pre">write...</span></code></strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">write&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Ustawia warto≈õƒá wƒôz≈Ça.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">writeAt&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Tworzy i dodaje unikalne dziecko z danƒÖ warto≈õciƒÖ.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">writeIn&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Tworzy i dodaje nie-unikalne dziecko z danƒÖ warto≈õciƒÖ.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">emit()</span></code></p></td>
<td class="text-left"><p>Konwertuje wƒôze≈Ç i jego dzieci na string.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id758">
<h1>Zmienne chronione<a class="headerlink" href="#id758" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_children</span></code>: Mapa przechowujƒÖca dzieci pogrupowane wed≈Çug tag√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_tag</span></code>, <code class="docutils literal notranslate"><span class="pre">m_value</span></code>, <code class="docutils literal notranslate"><span class="pre">m_source</span></code>: Podstawowe w≈Ça≈õciwo≈õci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_unique</span></code>, <code class="docutils literal notranslate"><span class="pre">m_null</span></code>: Flagi stanu.</p></li>
</ul>
</section>
<section id="id759">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id759" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/declarations.h</span></code>: Definicje typ√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlexception.h</span></code>: Do rzucania wyjƒÖtk√≥w.</p></li>
<li><p>Jest to podstawowa klasa modu≈Çu OTML, u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code>, <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code> i <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="otmlnode-cpp">
<h1>üìÑ otmlnode.cpp<a class="headerlink" href="#otmlnode-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id760">
<h1>Opis og√≥lny<a class="headerlink" href="#id760" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">otmlnode.cpp</span></code> zawiera implementacjƒô metod klasy <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code>.</p>
</section>
<section id="id761">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code><a class="headerlink" href="#id761" title="Link to this heading">#</a></h1>
</section>
<section id="otmlnodeptr-otmlnode-create">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::create(...)</span></code><a class="headerlink" href="#otmlnodeptr-otmlnode-create" title="Link to this heading">#</a></h1>
<p>Metody fabryczne, kt√≥re tworzƒÖ nowy <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code> i ustawiajƒÖ jego poczƒÖtkowe w≈Ça≈õciwo≈õci.</p>
</section>
<section id="bool-otmlnode-haschildren">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLNode::hasChildren()</span></code><a class="headerlink" href="#bool-otmlnode-haschildren" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy wƒôze≈Ç ma jakiekolwiek dzieci, kt√≥re nie sƒÖ <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</section>
<section id="otmlnodeptr-otmlnode-get-const-std-string-childtag">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">childTag)</span></code><a class="headerlink" href="#otmlnodeptr-otmlnode-get-const-std-string-childtag" title="Link to this heading">#</a></h1>
<p>Wyszukuje w mapie <code class="docutils literal notranslate"><span class="pre">m_children</span></code> pierwsze dziecko o podanym tagu, kt√≥re nie jest <code class="docutils literal notranslate"><span class="pre">null</span></code>, i je zwraca.</p>
</section>
<section id="void-otmlnode-addchild-const-otmlnodeptr-newchild">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::addChild(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">newChild)</span></code><a class="headerlink" href="#void-otmlnode-addchild-const-otmlnodeptr-newchild" title="Link to this heading">#</a></h1>
<p>Dodaje nowe dziecko. Implementuje kluczowƒÖ logikƒô:</p>
<ul class="simple">
<li><p>Je≈õli nowe dziecko ma tag i jest unikalne (<code class="docutils literal notranslate"><span class="pre">isUnique()</span></code>), a dziecko o takim samym tagu ju≈º istnieje, to nowe dziecko jest ≈ÇƒÖczone (<code class="docutils literal notranslate"><span class="pre">merge</span></code>) ze starym, effectively nadpisujƒÖc/dodajƒÖc w≈Ça≈õciwo≈õci.</p></li>
<li><p>W przeciwnym razie, jest po prostu dodawane do listy dzieci o danym tagu.</p></li>
<li><p>Ka≈ºdemu dziecku nadawany jest unikalny, rosnƒÖcy indeks, aby zachowaƒá kolejno≈õƒá wstawiania.</p></li>
</ul>
</section>
<section id="bool-otmlnode-removechild">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLNode::removeChild(...)</span></code><a class="headerlink" href="#bool-otmlnode-removechild" title="Link to this heading">#</a></h1>
<p>Usuwa podane dziecko z listy.</p>
</section>
<section id="void-otmlnode-copy-const-otmlnodeptr-node">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::copy(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code><a class="headerlink" href="#void-otmlnode-copy-const-otmlnodeptr-node" title="Link to this heading">#</a></h1>
<p>G≈Çƒôboko kopiuje wszystkie w≈Ça≈õciwo≈õci i dzieci z innego wƒôz≈Ça, zastƒôpujƒÖc w≈ÇasnƒÖ zawarto≈õƒá.</p>
</section>
<section id="void-otmlnode-merge-const-otmlnodeptr-node">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::merge(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code><a class="headerlink" href="#void-otmlnode-merge-const-otmlnodeptr-node" title="Link to this heading">#</a></h1>
<p>≈ÅƒÖczy zawarto≈õƒá innego wƒôz≈Ça z bie≈ºƒÖcym. W przeciwie≈Ñstwie do <code class="docutils literal notranslate"><span class="pre">copy</span></code>, nie czy≈õci istniejƒÖcych dzieci, lecz dodaje nowe (lub ≈ÇƒÖczy, je≈õli sƒÖ unikalne).</p>
</section>
<section id="otmlnodelist-otmlnode-children">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLNodeList</span> <span class="pre">OTMLNode::children()</span></code><a class="headerlink" href="#otmlnodelist-otmlnode-children" title="Link to this heading">#</a></h1>
<p>Zwraca listƒô wszystkich nie-nullowych dzieci, posortowanƒÖ wed≈Çug ich indeksu wstawienia.</p>
</section>
<section id="otmlnodeptr-otmlnode-clone">
<h1><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::clone()</span></code><a class="headerlink" href="#otmlnodeptr-otmlnode-clone" title="Link to this heading">#</a></h1>
<p>Tworzy i zwraca g≈ÇƒôbokƒÖ kopiƒô wƒôz≈Ça i wszystkich jego dzieci.</p>
</section>
<section id="id762">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id762" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlnode.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otmlemitter.h</span></code>: U≈ºywany w metodzie <code class="docutils literal notranslate"><span class="pre">emit()</span></code>.</p></li>
<li><p>Jest to implementacja centralnej struktury danych dla systemu OTML.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="androidplatform-cpp">
<h1>üìÑ androidplatform.cpp<a class="headerlink" href="#androidplatform-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id763">
<h1>Opis og√≥lny<a class="headerlink" href="#id763" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">androidplatform.cpp</span></code> zawiera implementacjƒô metod klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code> specyficznych dla systemu Android. Jest kompilowany tylko wtedy, gdy zdefiniowano makro <code class="docutils literal notranslate"><span class="pre">ANDROID</span></code>.</p>
</section>
<section id="klasa-platform-implementacja-dla-androida">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Androida)<a class="headerlink" href="#klasa-platform-implementacja-dla-androida" title="Link to this heading">#</a></h1>
<p>Wiele metod jest pustymi implementacjami lub zwraca domy≈õlne warto≈õci, poniewa≈º ich funkcjonalno≈õƒá nie jest dostƒôpna lub nie ma sensu na platformie Android w taki sam spos√≥b, jak na desktopie.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Implementacja na Androidzie</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">processArgs(...)</span></code></p></td>
<td class="text-left"><p>Pusta (argumenty sƒÖ obs≈Çugiwane inaczej).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">spawnProcess(...)</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getProcessId()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">getpid()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isProcessRunning(...)</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">killProcess(...)</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTempPath()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">/tmp/</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCurrentDir()</span></code></p></td>
<td class="text-left"><p>Zwraca wynik <code class="docutils literal notranslate"><span class="pre">getcwd()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">copyFile(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">fileExists(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeFile(...)</span></code></p></td>
<td class="text-left"><p>Puste/zwracajƒÖ <code class="docutils literal notranslate"><span class="pre">true</span></code>/<code class="docutils literal notranslate"><span class="pre">false</span></code>. Operacje na plikach sƒÖ obs≈Çugiwane przez <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getFileModificationTime(...)</span></code></p></td>
<td class="text-left"><p>Zwraca 0.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openUrl(std::string</span> <span class="pre">url,</span> <span class="pre">...)</span></code></p></td>
<td class="text-left"><p>Deleguje zadanie do <code class="docutils literal notranslate"><span class="pre">AndroidWindow::openUrl</span></code> poprzez <code class="docutils literal notranslate"><span class="pre">g_graphicsDispatcher</span></code>, aby zapewniƒá wykonanie w odpowiednim wƒÖtku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openDir(...)</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCPUName()</span></code></p></td>
<td class="text-left"><p>Zwraca pusty string.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTotalSystemMemory()</span></code></p></td>
<td class="text-left"><p>Zwraca 0.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMemoryUsage()</span></code></p></td>
<td class="text-left"><p>Zwraca 0.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getOSName()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">&quot;android&quot;</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">traceback(...)</span></code></p></td>
<td class="text-left"><p>Zwraca pusty string (brak <code class="docutils literal notranslate"><span class="pre">backtrace</span></code> w standardzie).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMacAddresses()</span></code></p></td>
<td class="text-left"><p>Zwraca pusty wektor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getUserName()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">&quot;android&quot;</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getDlls()</span></code>, <code class="docutils literal notranslate"><span class="pre">getProcesses()</span></code>, <code class="docutils literal notranslate"><span class="pre">getWindows()</span></code></p></td>
<td class="text-left"><p>ZwracajƒÖ puste wektory.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id764">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id764" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/androidwindow.h</span></code>: Do otwierania URL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do bezpiecznego wƒÖtkowo wywo≈Çywania metod z <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="androidwindow-cpp">
<h1>üìÑ androidwindow.cpp<a class="headerlink" href="#androidwindow-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id765">
<h1>Opis og√≥lny<a class="headerlink" href="#id765" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">androidwindow.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>, kt√≥ra jest specyficznƒÖ dla platformy Android implementacjƒÖ <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>. ZarzƒÖdza ona cyklem ≈ºycia okna, obs≈ÇugƒÖ wej≈õcia (dotyk, klawiatura) oraz kontekstem graficznym EGL/OpenGL ES.</p>
</section>
<section id="id766">
<h1>Zmienne globalne<a class="headerlink" href="#id766" title="Link to this heading">#</a></h1>
</section>
<section id="g-androidwindow">
<h1><code class="docutils literal notranslate"><span class="pre">g_androidWindow</span></code><a class="headerlink" href="#g-androidwindow" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>.</p>
</section>
<section id="klasa-androidwindow">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code><a class="headerlink" href="#klasa-androidwindow" title="Link to this heading">#</a></h1>
</section>
<section id="androidwindow-androidwindow">
<h1><code class="docutils literal notranslate"><span class="pre">AndroidWindow::AndroidWindow()</span></code><a class="headerlink" href="#androidwindow-androidwindow" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje mapƒô klawiszy (<code class="docutils literal notranslate"><span class="pre">m_keyMap</span></code>), t≈ÇumaczƒÖc kody klawiszy Android (<code class="docutils literal notranslate"><span class="pre">AKEYCODE_*</span></code>) na wewnƒôtrzne kody <code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code>.</p>
</section>
<section id="void-androidwindow-internalinitgl-i-internaldestroygl">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::internalInitGL()</span></code> i <code class="docutils literal notranslate"><span class="pre">internalDestroyGL()</span></code><a class="headerlink" href="#void-androidwindow-internalinitgl-i-internaldestroygl" title="Link to this heading">#</a></h1>
<p>Metody do zarzƒÖdzania kontekstem graficznym EGL.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internalInitGL</span></code>: Pobiera domy≈õlny wy≈õwietlacz EGL, wybiera konfiguracjƒô, tworzy powierzchniƒô renderowania (<code class="docutils literal notranslate"><span class="pre">EGLSurface</span></code>) na podstawie natywnego okna Android i tworzy kontekst OpenGL ES 2.0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalDestroyGL</span></code>: Zwalnia powierzchniƒô i kontekst EGL.</p></li>
</ul>
</section>
<section id="void-androidwindow-init-struct-android-app-app">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::init(struct</span> <span class="pre">android_app*</span> <span class="pre">app)</span></code><a class="headerlink" href="#void-androidwindow-init-struct-android-app-app" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda inicjalizujƒÖca. Zapisuje wska≈∫nik na <code class="docutils literal notranslate"><span class="pre">android_app</span></code> i ustawia <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> dla zdarze≈Ñ cyklu ≈ºycia aplikacji i zdarze≈Ñ wej≈õciowych.</p>
</section>
<section id="void-androidwindow-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::poll()</span></code><a class="headerlink" href="#void-androidwindow-poll" title="Link to this heading">#</a></h1>
<p>Przetwarza zdarzenia systemowe z kolejki Androida za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">ALooper_pollAll</span></code>.</p>
</section>
<section id="void-androidwindow-swapbuffers">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::swapBuffers()</span></code><a class="headerlink" href="#void-androidwindow-swapbuffers" title="Link to this heading">#</a></h1>
<p>Zamienia bufory ekranu za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">eglSwapBuffers</span></code>.</p>
</section>
<section id="void-androidwindow-handlecmd-int32-t-cmd">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::handleCmd(int32_t</span> <span class="pre">cmd)</span></code><a class="headerlink" href="#void-androidwindow-handlecmd-int32-t-cmd" title="Link to this heading">#</a></h1>
<p>Handler dla zdarze≈Ñ cyklu ≈ºycia aplikacji Android (np. <code class="docutils literal notranslate"><span class="pre">APP_CMD_INIT_WINDOW</span></code>, <code class="docutils literal notranslate"><span class="pre">APP_CMD_GAINED_FOCUS</span></code>). W odpowiedzi na te zdarzenia, tworzy lub niszczy kontekst GL i aktualizuje stan widoczno≈õci.</p>
</section>
<section id="int-androidwindow-handleinput-ainputevent-event">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">AndroidWindow::handleInput(AInputEvent*</span> <span class="pre">event)</span></code><a class="headerlink" href="#int-androidwindow-handleinput-ainputevent-event" title="Link to this heading">#</a></h1>
<p>Handler dla zdarze≈Ñ wej≈õciowych.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">AINPUT_EVENT_TYPE_MOTION</span></code> (dotyk)</strong>:</p>
<ul>
<li><p>T≈Çumaczy zdarzenia dotyku (<code class="docutils literal notranslate"><span class="pre">ACTION_DOWN</span></code>, <code class="docutils literal notranslate"><span class="pre">ACTION_UP</span></code>, <code class="docutils literal notranslate"><span class="pre">ACTION_MOVE</span></code>) na zdarzenia myszy (<code class="docutils literal notranslate"><span class="pre">MousePress</span></code>, <code class="docutils literal notranslate"><span class="pre">MouseRelease</span></code>, <code class="docutils literal notranslate"><span class="pre">MouseMove</span></code>).</p></li>
<li><p>Implementuje logikƒô do symulacji klikniƒôcia lewym i prawym przyciskiem myszy oraz przeciƒÖgania na ekranie dotykowym.</p></li>
<li><p>Obs≈Çuguje wielodotyk, mapujƒÖc drugi i trzeci palec na <code class="docutils literal notranslate"><span class="pre">Fw::MouseTouch2</span></code> i <code class="docutils literal notranslate"><span class="pre">Fw::MouseTouch3</span></code>.</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">AINPUT_EVENT_TYPE_KEY</span></code> (klawiatura)</strong>:</p>
<ul>
<li><p>T≈Çumaczy kod klawisza Android na kod <code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code>.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">processKeyDown</span></code> lub <code class="docutils literal notranslate"><span class="pre">processKeyUp</span></code>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="void-androidwindow-showtexteditor">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::showTextEditor(...)</span></code><a class="headerlink" href="#void-androidwindow-showtexteditor" title="Link to this heading">#</a></h1>
<p>Wywo≈Çuje metodƒô Javy (<code class="docutils literal notranslate"><span class="pre">showTextEdit</span></code>) za pomocƒÖ JNI, aby wy≈õwietliƒá natywnƒÖ klawiaturƒô i pole edycji tekstu Androida.</p>
</section>
<section id="void-androidwindow-openurl-std-string-url">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::openUrl(std::string</span> <span class="pre">url)</span></code><a class="headerlink" href="#void-androidwindow-openurl-std-string-url" title="Link to this heading">#</a></h1>
<p>Otwiera URL za pomocƒÖ intencji Androida, wywo≈ÇujƒÖc metodƒô Javy przez JNI.</p>
</section>
<section id="funkcja-jniexport-committext">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">JNIEXPORT</span> <span class="pre">...</span> <span class="pre">commitText(...)</span></code><a class="headerlink" href="#funkcja-jniexport-committext" title="Link to this heading">#</a></h1>
<p>Funkcja C wywo≈Çywana z kodu Javy, kt√≥ra przekazuje tekst wpisany na klawiaturze Androida z powrotem do aplikacji.</p>
</section>
<section id="id767">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id767" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Nag≈Ç√≥wki NDK Androida (<code class="docutils literal notranslate"><span class="pre">android_native_app_glue.h</span></code>, <code class="docutils literal notranslate"><span class="pre">jni.h</span></code>).</p></li>
<li><p>Nag≈Ç√≥wki EGL i GLES.</p></li>
<li><p>Wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> poprzez <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> <code class="docutils literal notranslate"><span class="pre">m_onInputEvent</span></code>, <code class="docutils literal notranslate"><span class="pre">m_onResize</span></code>, <code class="docutils literal notranslate"><span class="pre">m_onClose</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="androidwindow-h">
<h1>üìÑ androidwindow.h<a class="headerlink" href="#androidwindow-h" title="Link to this heading">#</a></h1>
</section>
<section id="id768">
<h1>Opis og√≥lny<a class="headerlink" href="#id768" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">androidwindow.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>, kt√≥ra jest implementacjƒÖ <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> dla systemu Android.</p>
</section>
<section id="id769">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code><a class="headerlink" href="#id769" title="Link to this heading">#</a></h1>
</section>
<section id="id770">
<h1>Opis semantyczny<a class="headerlink" href="#id770" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code> integruje aplikacjƒô z natywnym cyklem ≈ºycia i systemem zdarze≈Ñ Androida za pomocƒÖ struktury <code class="docutils literal notranslate"><span class="pre">android_app</span></code> z NDK. ZarzƒÖdza kontekstem graficznym EGL/GLES i t≈Çumaczy natywne zdarzenia wej≈õciowe (dotyk, klawisze sprzƒôtowe) na wewnƒôtrzny format <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code>.</p>
</section>
<section id="id771">
<h1>Metody publiczne<a class="headerlink" href="#id771" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>ZarzƒÖdzanie cyklem ≈ºycia</strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">init(struct</span> <span class="pre">android_app*</span> <span class="pre">app)</span></code></p></td>
<td class="text-left"><p>Inicjalizuje okno, ≈ÇƒÖczƒÖc je ze strukturƒÖ <code class="docutils literal notranslate"><span class="pre">android_app</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">handleCmd(int32_t</span> <span class="pre">cmd)</span></code></p></td>
<td class="text-left"><p>Obs≈Çuguje komendy cyklu ≈ºycia aplikacji od systemu Android.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">handleInput(AInputEvent*</span> <span class="pre">event)</span></code></p></td>
<td class="text-left"><p>Przetwarza natywne zdarzenia wej≈õciowe.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Interfejs <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code></strong></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Przetwarza zdarzenia z kolejki systemowej.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">swapBuffers()</span></code></p></td>
<td class="text-left"><p>Zamienia bufory EGL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getDisplaySize()</span></code></p></td>
<td class="text-left"><p>Zwraca rozmiar okna.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">showTextEditor(...)</span></code></p></td>
<td class="text-left"><p>Wy≈õwietla natywnƒÖ klawiaturƒô Androida.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openUrl(...)</span></code></p></td>
<td class="text-left"><p>Otwiera URL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>‚Ä¶</p></td>
<td class="text-left"><p>Implementacje innych metod <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, czƒôsto puste, poniewa≈º pojƒôcia takie jak ‚Äûminimalizacja‚Äù czy ‚Äûzmiana tytu≈Çu okna‚Äù nie majƒÖ bezpo≈õredniego odpowiednika na Androidzie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id772">
<h1>Zmienne prywatne<a class="headerlink" href="#id772" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_egl...</span></code>: Uchwyty do zasob√≥w EGL (Display, Context, Surface, Config).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_multiInputEvent[3]</span></code>: Bufory na zdarzenia wielodotykowe.</p></li>
</ul>
</section>
<section id="id773">
<h1>Zmienne globalne<a class="headerlink" href="#id773" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_androidWindow</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>.</p></li>
</ul>
</section>
<section id="id774">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id774" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code>: Klasa bazowa.</p></li>
<li><p>Wymaga <code class="docutils literal notranslate"><span class="pre">android_native_app_glue.h</span></code> i nag≈Ç√≥wk√≥w JNI/EGL/GLES, kt√≥re sƒÖ czƒô≈õciƒÖ Android NDK.</p></li>
<li><p>W <code class="docutils literal notranslate"><span class="pre">platformwindow.cpp</span></code> wska≈∫nik <code class="docutils literal notranslate"><span class="pre">g_window</span></code> jest przypisywany do <code class="docutils literal notranslate"><span class="pre">g_androidWindow</span></code>, gdy kompilacja odbywa siƒô dla Androida.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="crashhandler-h">
<h1>üìÑ crashhandler.h<a class="headerlink" href="#crashhandler-h" title="Link to this heading">#</a></h1>
</section>
<section id="id775">
<h1>Opis og√≥lny<a class="headerlink" href="#id775" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">crashhandler.h</span></code> deklaruje funkcje do instalacji i deinstalacji globalnego mechanizmu obs≈Çugi awarii (crash handler).</p>
</section>
<section id="id776">
<h1>Funkcje<a class="headerlink" href="#id776" title="Link to this heading">#</a></h1>
</section>
<section id="void-installcrashhandler">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code><a class="headerlink" href="#void-installcrashhandler" title="Link to this heading">#</a></h1>
<p>Rejestruje handlery dla sygna≈Ç√≥w lub wyjƒÖtk√≥w systemowych (w zale≈ºno≈õci od platformy), kt√≥re sƒÖ wywo≈Çywane w przypadku krytycznego b≈Çƒôdu aplikacji (np. naruszenie ochrony pamiƒôci).</p>
</section>
<section id="void-uninstallcrashhandler">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code><a class="headerlink" href="#void-uninstallcrashhandler" title="Link to this heading">#</a></h1>
<p>Odinstalowuje wcze≈õniej zarejestrowane handlery.</p>
</section>
<section id="dyrektywa-preprocesora">
<h1>Dyrektywa preprocesora<a class="headerlink" href="#dyrektywa-preprocesora" title="Link to this heading">#</a></h1>
<p>Ca≈Ça zawarto≈õƒá pliku jest objƒôta dyrektywƒÖ <code class="docutils literal notranslate"><span class="pre">#ifdef</span> <span class="pre">CRASH_HANDLER</span></code>, co oznacza, ≈ºe funkcje te sƒÖ dostƒôpne tylko wtedy, gdy opcja <code class="docutils literal notranslate"><span class="pre">CRASH_HANDLER</span></code> jest w≈ÇƒÖczona w CMake.</p>
</section>
<section id="id777">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id777" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Funkcje te sƒÖ implementowane w plikach specyficznych dla platformy: <code class="docutils literal notranslate"><span class="pre">unixcrashhandler.cpp</span></code> i <code class="docutils literal notranslate"><span class="pre">win32crashhandler.cpp</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">installCrashHandler</span></code> jest zazwyczaj wywo≈Çywana na samym poczƒÖtku dzia≈Çania aplikacji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="platform-cpp">
<h1>üìÑ platform.cpp<a class="headerlink" href="#platform-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id778">
<h1>Opis og√≥lny<a class="headerlink" href="#id778" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">platform.cpp</span></code> ma za zadanie jedynie zdefiniowaƒá globalnƒÖ instancjƒô klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code>.</p>
</section>
<section id="id779">
<h1>Zmienne globalne<a class="headerlink" href="#id779" title="Link to this heading">#</a></h1>
</section>
<section id="g-platform">
<h1><code class="docutils literal notranslate"><span class="pre">g_platform</span></code><a class="headerlink" href="#g-platform" title="Link to this heading">#</a></h1>
<p>Globalna, jedyna instancja klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code>, kt√≥ra dostarcza interfejs do funkcji specyficznych dla systemu operacyjnego.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Platform</span><span class="w"> </span><span class="n">g_platform</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id780">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id780" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Plik nag≈Ç√≥wkowy, kt√≥ry deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Platform</span></code>.</p></li>
<li><p>W≈Ça≈õciwa implementacja metod tej klasy znajduje siƒô w plikach <code class="docutils literal notranslate"><span class="pre">win32platform.cpp</span></code>, <code class="docutils literal notranslate"><span class="pre">unixplatform.cpp</span></code> i <code class="docutils literal notranslate"><span class="pre">androidplatform.cpp</span></code>, z kt√≥rych tylko jeden jest kompilowany w zale≈ºno≈õci od docelowej platformy.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="platformwindow-cpp">
<h1>üìÑ platformwindow.cpp<a class="headerlink" href="#platformwindow-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id781">
<h1>Opis og√≥lny<a class="headerlink" href="#id781" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">platformwindow.cpp</span></code> jest kluczowym plikiem, kt√≥ry zarzƒÖdza implementacjƒÖ okna specyficznƒÖ dla danej platformy. Jego g≈Ç√≥wnym zadaniem jest do≈ÇƒÖczenie odpowiedniego pliku nag≈Ç√≥wkowego (np. <code class="docutils literal notranslate"><span class="pre">win32window.h</span></code> lub <code class="docutils literal notranslate"><span class="pre">x11window.h</span></code>) i zdefiniowanie globalnego wska≈∫nika <code class="docutils literal notranslate"><span class="pre">g_window</span></code>, kt√≥ry bƒôdzie wskazywa≈Ç na w≈Ça≈õciwƒÖ, platformowƒÖ instancjƒô okna.</p>
</section>
<section id="id782">
<h1>Zmienne globalne<a class="headerlink" href="#id782" title="Link to this heading">#</a></h1>
</section>
<section id="g-window">
<h1><code class="docutils literal notranslate"><span class="pre">g_window</span></code><a class="headerlink" href="#g-window" title="Link to this heading">#</a></h1>
<p>Globalna referencja do obiektu okna. Jest to centralny punkt dostƒôpu do wszystkich operacji zwiƒÖzanych z oknem w ca≈Çym frameworku. W zale≈ºno≈õci od platformy, wskazuje na instancjƒô <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code>, <code class="docutils literal notranslate"><span class="pre">X11Window</span></code>, <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code> lub <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp"># ifdef ANDROID</span>
<span class="n">PlatformWindow</span><span class="o">&amp;</span><span class="w"> </span><span class="n">g_window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g_androidWindow</span><span class="p">;</span>
<span class="cp"># else</span>
<span class="n">PlatformWindow</span><span class="o">&amp;</span><span class="w"> </span><span class="n">g_window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">window</span><span class="p">;</span><span class="w"> </span><span class="c1">// gdzie &#39;window&#39; to globalna instancja np. WIN32Window</span>
<span class="cp"># endif</span>
</pre></div>
</div>
</section>
<section id="klasa-platformwindow">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code><a class="headerlink" href="#klasa-platformwindow" title="Link to this heading">#</a></h1>
</section>
<section id="int-platformwindow-loadmousecursor">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">PlatformWindow::loadMouseCursor(...)</span></code><a class="headerlink" href="#int-platformwindow-loadmousecursor" title="Link to this heading">#</a></h1>
<p>≈Åaduje obraz kursora, sprawdza jego poprawno≈õƒá (rozmiar 32x32, 4 kana≈Çy kolor√≥w) i deleguje w≈Ça≈õciwe tworzenie kursora do metody wirtualnej <code class="docutils literal notranslate"><span class="pre">internalLoadMouseCursor</span></code>, kt√≥ra jest zaimplementowana w klasach pochodnych.</p>
</section>
<section id="void-platformwindow-updateunmaximizedcoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::updateUnmaximizedCoords()</span></code><a class="headerlink" href="#void-platformwindow-updateunmaximizedcoords" title="Link to this heading">#</a></h1>
<p>Zapisuje aktualnƒÖ pozycjƒô i rozmiar okna, ale tylko wtedy, gdy okno nie jest zmaksymalizowane ani w trybie pe≈Çnoekranowym. S≈Çu≈ºy do przywracania poprzedniego stanu okna.</p>
</section>
<section id="void-platformwindow-processkeydown-fw-key-keycode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::processKeyDown(Fw::Key</span> <span class="pre">keyCode)</span></code><a class="headerlink" href="#void-platformwindow-processkeydown-fw-key-keycode" title="Link to this heading">#</a></h1>
<p>Obs≈Çuguje zdarzenie wci≈õniƒôcia klawisza.</p>
<ul class="simple">
<li><p>Aktualizuje stan modyfikator√≥w (Ctrl, Alt, Shift).</p></li>
<li><p>Sprawdza, czy klawisz nie jest ju≈º wci≈õniƒôty (obs≈Çuga auto-powtarzania).</p></li>
<li><p>Ustawia stan klawisza na wci≈õniƒôty (<code class="docutils literal notranslate"><span class="pre">m_keysState</span></code>).</p></li>
<li><p>Wysy≈Ça zdarzenia <code class="docutils literal notranslate"><span class="pre">KeyDownInputEvent</span></code> i <code class="docutils literal notranslate"><span class="pre">KeyPressInputEvent</span></code> do zarejestrowanego <code class="docutils literal notranslate"><span class="pre">callbacka</span></code>.</p></li>
</ul>
</section>
<section id="void-platformwindow-processkeyup-fw-key-keycode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::processKeyUp(Fw::Key</span> <span class="pre">keyCode)</span></code><a class="headerlink" href="#void-platformwindow-processkeyup-fw-key-keycode" title="Link to this heading">#</a></h1>
<p>Obs≈Çuguje zdarzenie zwolnienia klawisza.</p>
<ul class="simple">
<li><p>Aktualizuje stan modyfikator√≥w.</p></li>
<li><p>Ustawia stan klawisza na zwolniony.</p></li>
<li><p>Wysy≈Ça zdarzenie <code class="docutils literal notranslate"><span class="pre">KeyUpInputEvent</span></code>.</p></li>
</ul>
</section>
<section id="void-platformwindow-releaseallkeys">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::releaseAllKeys()</span></code><a class="headerlink" href="#void-platformwindow-releaseallkeys" title="Link to this heading">#</a></h1>
<p>Resetuje stan wszystkich wci≈õniƒôtych klawiszy i przycisk√≥w myszy. Wywo≈Çywana np. gdy okno traci fokus.</p>
</section>
<section id="void-platformwindow-firekeyspress">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::fireKeysPress()</span></code><a class="headerlink" href="#void-platformwindow-firekeyspress" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana cyklicznie. Sprawdza, kt√≥re klawisze sƒÖ wci≈õniƒôte i od odpowiednio d≈Çugiego czasu, a nastƒôpnie generuje zdarzenia <code class="docutils literal notranslate"><span class="pre">KeyPressInputEvent</span></code> (auto-powtarzanie).</p>
</section>
<section id="id783">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id783" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>W≈ÇƒÖcza jeden z plik√≥w nag≈Ç√≥wkowych specyficznych dla platformy (<code class="docutils literal notranslate"><span class="pre">win32window.h</span></code>, <code class="docutils literal notranslate"><span class="pre">x11window.h</span></code>, etc.).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> do bezpiecznego wƒÖtkowo przetwarzania zdarze≈Ñ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/image.h</span></code>: Do ≈Çadowania obraz√≥w kursor√≥w.</p></li>
<li><p>Jest to implementacja czƒô≈õci wsp√≥lnej dla wszystkich platform, podczas gdy specyfika jest w klasach pochodnych.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="platform-h">
<h1>üìÑ platform.h<a class="headerlink" href="#platform-h" title="Link to this heading">#</a></h1>
</section>
<section id="id784">
<h1>Opis og√≥lny<a class="headerlink" href="#id784" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">platform.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">Platform</span></code>, kt√≥ra jest interfejsem do funkcji specyficznych dla systemu operacyjnego. Zapewnia abstrakcjƒô nad r√≥≈ºnicami miƒôdzy platformami (Windows, Linux, macOS, Android).</p>
</section>
<section id="klasa-platform">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code><a class="headerlink" href="#klasa-platform" title="Link to this heading">#</a></h1>
</section>
<section id="id785">
<h1>Opis semantyczny<a class="headerlink" href="#id785" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Platform</span></code> dostarcza zestaw statycznych metod do interakcji z systemem operacyjnym. Implementacja tych metod znajduje siƒô w plikach specyficznych dla platformy (np. <code class="docutils literal notranslate"><span class="pre">win32platform.cpp</span></code>, <code class="docutils literal notranslate"><span class="pre">unixplatform.cpp</span></code>).</p>
</section>
<section id="id786">
<h1>Metody publiczne<a class="headerlink" href="#id786" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">processArgs(...)</span></code></p></td>
<td class="text-left"><p>Przetwarza argumenty wiersza polece≈Ñ, konwertujƒÖc je do UTF-8.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">spawnProcess(...)</span></code></p></td>
<td class="text-left"><p>Uruchamia nowy proces.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getProcessId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID bie≈ºƒÖcego procesu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isProcessRunning(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy proces o danej nazwie jest uruchomiony.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">killProcess(...)</span></code></p></td>
<td class="text-left"><p>Zamyka proces o danej nazwie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getTempPath()</span></code></p></td>
<td class="text-left"><p>Zwraca ≈õcie≈ºkƒô do katalogu tymczasowego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getCurrentDir()</span></code></p></td>
<td class="text-left"><p>Zwraca bie≈ºƒÖcy katalog roboczy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">copyFile(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">fileExists(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeFile(...)</span></code></p></td>
<td class="text-left"><p>Podstawowe operacje na plikach.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">getFileModificationTime(...)</span></code></p></td>
<td class="text-left"><p>Zwraca czas ostatniej modyfikacji pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">openUrl(...)</span></code></p></td>
<td class="text-left"><p>Otwiera URL w domy≈õlnej przeglƒÖdarce.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">openDir(...)</span></code></p></td>
<td class="text-left"><p>Otwiera katalog w mened≈ºerze plik√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getCPUName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô procesora.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">getTotalSystemMemory()</span></code></p></td>
<td class="text-left"><p>Zwraca ca≈ÇkowitƒÖ ilo≈õƒá pamiƒôci RAM.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">getMemoryUsage()</span></code></p></td>
<td class="text-left"><p>Zwraca u≈ºycie pamiƒôci przez bie≈ºƒÖcy proces.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getOSName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô systemu operacyjnego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">traceback(...)</span></code></p></td>
<td class="text-left"><p>Generuje ≈õlad stosu wywo≈Ça≈Ñ C++.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">getMacAddresses()</span></code></p></td>
<td class="text-left"><p>Zwraca listƒô adres√≥w MAC.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getUserName()</span></code></p></td>
<td class="text-left"><p>Zwraca nazwƒô zalogowanego u≈ºytkownika.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">getDlls()</span></code></p></td>
<td class="text-left"><p>(Windows) Zwraca listƒô za≈Çadowanych bibliotek DLL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">getProcesses()</span></code></p></td>
<td class="text-left"><p>Zwraca listƒô uruchomionych proces√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">getWindows()</span></code></p></td>
<td class="text-left"><p>(Windows) Zwraca listƒô tytu≈Ç√≥w otwartych okien.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id787">
<h1>Zmienne globalne<a class="headerlink" href="#id787" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_platform</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">Platform</span></code>.</p></li>
</ul>
</section>
<section id="id788">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id788" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>U≈ºywana w ca≈Çym projekcie do operacji, kt√≥re wymagajƒÖ interakcji z systemem operacyjnym.</p></li>
<li><p>Jej implementacja jest dostarczana przez pliki <code class="docutils literal notranslate"><span class="pre">*.cpp</span></code> specyficzne dla platformy.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="platformwindow-h">
<h1>üìÑ platformwindow.h<a class="headerlink" href="#platformwindow-h" title="Link to this heading">#</a></h1>
</section>
<section id="id789">
<h1>Opis og√≥lny<a class="headerlink" href="#id789" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code> deklaruje abstrakcyjnƒÖ klasƒô bazowƒÖ <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, kt√≥ra definiuje wsp√≥lny interfejs do zarzƒÖdzania oknem aplikacji na r√≥≈ºnych systemach operacyjnych.</p>
</section>
<section id="id790">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code><a class="headerlink" href="#id790" title="Link to this heading">#</a></h1>
</section>
<section id="id791">
<h1>Opis semantyczny<a class="headerlink" href="#id791" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> jest klasƒÖ abstrakcyjnƒÖ, kt√≥ra ukrywa szczeg√≥≈Çy implementacyjne zwiƒÖzane z tworzeniem okna, obs≈ÇugƒÖ zdarze≈Ñ i zarzƒÖdzaniem kontekstem graficznym. Ka≈ºda platforma (Windows, Linux, Android) dostarcza w≈ÇasnƒÖ, konkretnƒÖ implementacjƒô tej klasy.</p>
</section>
<section id="metody-czysto-wirtualne-do-implementacji-przez-klasy-pochodne">
<h1>Metody czysto wirtualne (do implementacji przez klasy pochodne)<a class="headerlink" href="#metody-czysto-wirtualne-do-implementacji-przez-klasy-pochodne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">init()</span></code>, <code class="docutils literal notranslate"><span class="pre">terminate()</span></code>: Cykl ≈ºycia okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">move()</span></code>, <code class="docutils literal notranslate"><span class="pre">resize()</span></code>, <code class="docutils literal notranslate"><span class="pre">show()</span></code>, <code class="docutils literal notranslate"><span class="pre">hide()</span></code>, <code class="docutils literal notranslate"><span class="pre">minimize()</span></code>, <code class="docutils literal notranslate"><span class="pre">maximize()</span></code>: ZarzƒÖdzanie stanem okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">poll()</span></code>: Przetwarzanie zdarze≈Ñ systemowych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">swapBuffers()</span></code>: Zamiana bufor√≥w graficznych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">set...()</span></code>: Metody do ustawiania w≈Ça≈õciwo≈õci okna (tytu≈Ç, ikona, VSync, etc.).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get...()</span></code>: Metody do pobierania informacji (rozmiar ekranu, tekst ze schowka).</p></li>
</ul>
</section>
<section id="metody-z-implementacja">
<h1>Metody z implementacjƒÖ<a class="headerlink" href="#metody-z-implementacja" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">loadMouseCursor(...)</span></code>: ≈Åaduje kursor z pliku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">processKeyDown()</span></code>, <code class="docutils literal notranslate"><span class="pre">processKeyUp()</span></code>, <code class="docutils literal notranslate"><span class="pre">releaseAllKeys()</span></code>, <code class="docutils literal notranslate"><span class="pre">fireKeysPress()</span></code>: ImplementujƒÖ logikƒô obs≈Çugi stanu klawiatury, kt√≥ra jest wsp√≥lna dla wszystkich platform.</p></li>
<li><p>Gettery dla stanu okna (<code class="docutils literal notranslate"><span class="pre">getSize</span></code>, <code class="docutils literal notranslate"><span class="pre">getPosition</span></code>, <code class="docutils literal notranslate"><span class="pre">isVisible</span></code>, <code class="docutils literal notranslate"><span class="pre">isKeyPressed</span></code>, etc.).</p></li>
</ul>
</section>
<section id="id792">
<h1>Zmienne chronione<a class="headerlink" href="#id792" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_keyMap</span></code>: Mapa t≈ÇumaczƒÖca kody klawiszy specyficzne dla platformy na wewnƒôtrzne kody <code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_keysState</span></code>, <code class="docutils literal notranslate"><span class="pre">m_lastKeysPress</span></code>: Mapy do ≈õledzenia stanu klawiszy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>, <code class="docutils literal notranslate"><span class="pre">m_position</span></code>, <code class="docutils literal notranslate"><span class="pre">m_minimumSize</span></code>: W≈Ça≈õciwo≈õci geometryczne okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_inputEvent</span></code>: Obiekt do przechowywania danych o bie≈ºƒÖcym zdarzeniu wej≈õciowym.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_visible</span></code>, <code class="docutils literal notranslate"><span class="pre">m_focused</span></code>, <code class="docutils literal notranslate"><span class="pre">m_fullscreen</span></code>, <code class="docutils literal notranslate"><span class="pre">m_maximized</span></code>: Flagi stanu okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_onClose</span></code>, <code class="docutils literal notranslate"><span class="pre">m_onResize</span></code>, <code class="docutils literal notranslate"><span class="pre">m_onInputEvent</span></code>: Callbacki do powiadamiania <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> o zdarzeniach.</p></li>
</ul>
</section>
<section id="id793">
<h1>Zmienne globalne<a class="headerlink" href="#id793" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_window</span></code>: Globalna referencja do aktywnej instancji <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>.</p></li>
</ul>
</section>
<section id="id794">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id794" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/inputevent.h</span></code>: Struktura <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code>: Deklaracje typ√≥w graficznych.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code>, <code class="docutils literal notranslate"><span class="pre">X11Window</span></code>, <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code>, <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code>.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> do wszystkich operacji na oknie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="sdlwindow-cpp">
<h1>üìÑ sdlwindow.cpp<a class="headerlink" href="#sdlwindow-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id795">
<h1>Opis og√≥lny<a class="headerlink" href="#id795" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">sdlwindow.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code>, kt√≥ra jest wersjƒÖ <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> dla platformy Emscripten (WebAssembly), opartƒÖ na bibliotece SDL.</p>
<blockquote>
<div><p><strong>NOTE:</strong> Implementacja jest w wiƒôkszo≈õci pusta. Sugeruje to, ≈ºe obs≈Çuga okna i zdarze≈Ñ w Emscripten jest realizowana w inny spos√≥b, prawdopodobnie poprzez g≈Ç√≥wnƒÖ pƒôtlƒô Emscripten i bezpo≈õrednie wywo≈Çania JavaScript, a ta klasa jest jedynie ‚Äûza≈õlepkƒÖ‚Äù (placeholderem), aby kod siƒô kompilowa≈Ç.</p>
</div></blockquote>
</section>
<section id="klasa-sdlwindow">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code><a class="headerlink" href="#klasa-sdlwindow" title="Link to this heading">#</a></h1>
<p>Wszystkie metody implementujƒÖce interfejs <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> sƒÖ puste. Oznacza to, ≈ºe operacje takie jak <code class="docutils literal notranslate"><span class="pre">resize</span></code>, <code class="docutils literal notranslate"><span class="pre">move</span></code>, <code class="docutils literal notranslate"><span class="pre">setTitle</span></code>, <code class="docutils literal notranslate"><span class="pre">poll</span></code> czy <code class="docutils literal notranslate"><span class="pre">swapBuffers</span></code> nie majƒÖ tutaj ≈ºadnego efektu i muszƒÖ byƒá obs≈Çugiwane przez zewnƒôtrzny kod (prawdopodobnie w g≈Ç√≥wnej pƒôtli <code class="docutils literal notranslate"><span class="pre">emscripten_set_main_loop</span></code>).</p>
</section>
<section id="sdlwindow-sdlwindow">
<h1><code class="docutils literal notranslate"><span class="pre">SDLWindow::SDLWindow()</span></code><a class="headerlink" href="#sdlwindow-sdlwindow" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje domy≈õlne rozmiary i stan.</p>
</section>
<section id="std-string-sdlwindow-getplatformtype">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">SDLWindow::getPlatformType()</span></code><a class="headerlink" href="#std-string-sdlwindow-getplatformtype" title="Link to this heading">#</a></h1>
<p>Zwraca <code class="docutils literal notranslate"><span class="pre">&quot;WASM&quot;</span></code>.</p>
</section>
<section id="id796">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id796" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/sdlwindow.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p>W <code class="docutils literal notranslate"><span class="pre">platformwindow.cpp</span></code> (nieza≈ÇƒÖczony, ale mo≈ºna siƒô domy≈õlaƒá), <code class="docutils literal notranslate"><span class="pre">g_window</span></code> jest ustawiane na instancjƒô <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code> gdy kompilacja odbywa siƒô dla Emscripten.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="sdlwindow-h">
<h1>üìÑ sdlwindow.h<a class="headerlink" href="#sdlwindow-h" title="Link to this heading">#</a></h1>
</section>
<section id="id797">
<h1>Opis og√≥lny<a class="headerlink" href="#id797" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">sdlwindow.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code>, kt√≥ra jest implementacjƒÖ <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> dla platformy Emscripten (WebAssembly), opartƒÖ na bibliotece SDL.</p>
</section>
<section id="id798">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code><a class="headerlink" href="#id798" title="Link to this heading">#</a></h1>
</section>
<section id="id799">
<h1>Opis semantyczny<a class="headerlink" href="#id799" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code> jest klasƒÖ-za≈õlepkƒÖ, kt√≥ra spe≈Çnia kontrakt interfejsu <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, ale wiƒôkszo≈õƒá jej metod jest pusta. Logika okna dla Emscripten jest zazwyczaj obs≈Çugiwana przez g≈Ç√≥wnƒÖ pƒôtlƒô zdefiniowanƒÖ w <code class="docutils literal notranslate"><span class="pre">emscripten.h</span></code> i interakcje z API przeglƒÖdarki, a nie przez tradycyjny model okienkowy.</p>
</section>
<section id="id800">
<h1>Metody publiczne<a class="headerlink" href="#id800" title="Link to this heading">#</a></h1>
<p>Deklaruje wszystkie metody wirtualne z <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> z pustymi implementacjami.</p>
</section>
<section id="id801">
<h1>Zmienne prywatne<a class="headerlink" href="#id801" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_egl...</span></code>: Pola zwiƒÖzane z EGL, odziedziczone po logice Androida, ale prawdopodobnie nieu≈ºywane w kontek≈õcie Emscripten/SDL.</p></li>
</ul>
</section>
<section id="id802">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id802" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest to implementacja <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> u≈ºywana, gdy zdefiniowano <code class="docutils literal notranslate"><span class="pre">__EMSCRIPTEN__</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="unixcrashhandler-cpp">
<h1>üìÑ unixcrashhandler.cpp<a class="headerlink" href="#unixcrashhandler-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id803">
<h1>Opis og√≥lny<a class="headerlink" href="#id803" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">unixcrashhandler.cpp</span></code> zawiera implementacjƒô mechanizmu obs≈Çugi awarii (crash handler) dla system√≥w uniksowych (Linux, macOS). Jest kompilowany tylko wtedy, gdy zdefiniowano <code class="docutils literal notranslate"><span class="pre">CRASH_HANDLER</span></code> i platforma nie jest Windows ani Emscripten.</p>
</section>
<section id="id804">
<h1>Funkcje<a class="headerlink" href="#id804" title="Link to this heading">#</a></h1>
</section>
<section id="void-crashhandler-int-signum-siginfo-t-info-void-secret">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">crashHandler(int</span> <span class="pre">signum,</span> <span class="pre">siginfo_t*</span> <span class="pre">info,</span> <span class="pre">void*</span> <span class="pre">secret)</span></code><a class="headerlink" href="#void-crashhandler-int-signum-siginfo-t-info-void-secret" title="Link to this heading">#</a></h1>
</section>
<section id="id805">
<h1>Opis semantyczny<a class="headerlink" href="#id805" title="Link to this heading">#</a></h1>
<p>Jest to funkcja obs≈Çugi sygna≈Çu, kt√≥ra jest wywo≈Çywana przez system operacyjny w momencie wystƒÖpienia krytycznego b≈Çƒôdu (np. b≈ÇƒÖd segmentacji). Jej zadaniem jest zebranie jak najwiƒôkszej ilo≈õci informacji o stanie programu w momencie awarii i zapisanie ich do logu.</p>
</section>
<section id="id806">
<h1>Dzia≈Çanie<a class="headerlink" href="#id806" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Loguje komunikat ‚ÄûApplication crashed‚Äù.</p></li>
<li><p>Tworzy strumie≈Ñ <code class="docutils literal notranslate"><span class="pre">stringstream</span></code> do budowy raportu.</p></li>
<li><p>Zapisuje podstawowe informacje o aplikacji (nazwa, wersja, data kompilacji itp.).</p></li>
<li><p>Pobiera kontekst procesora (<code class="docutils literal notranslate"><span class="pre">ucontext_t</span></code>) i zapisuje warto≈õci rejestr√≥w (np. <code class="docutils literal notranslate"><span class="pre">rip</span></code>, <code class="docutils literal notranslate"><span class="pre">rax</span></code> dla x64; <code class="docutils literal notranslate"><span class="pre">eip</span></code>, <code class="docutils literal notranslate"><span class="pre">eax</span></code> dla x86).</p></li>
<li><p>Generuje ≈õlad stosu wywo≈Ça≈Ñ (backtrace) za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">backtrace()</span></code> i <code class="docutils literal notranslate"><span class="pre">backtrace_symbols()</span></code>.</p></li>
<li><p>Opcjonalnie (je≈õli zdefiniowano <code class="docutils literal notranslate"><span class="pre">DEMANGLE_BACKTRACE_SYMBOLS</span></code>), pr√≥buje zdemanglowaƒá nazwy funkcji C++ w ≈õladzie stosu.</p></li>
<li><p>Zapisuje ca≈Çy raport do pliku <code class="docutils literal notranslate"><span class="pre">crash_report.log</span></code> i do g≈Ç√≥wnego logu aplikacji.</p></li>
<li><p>Przywraca domy≈õlnƒÖ obs≈Çugƒô sygna≈Ç√≥w, aby umo≈ºliwiƒá systemowi operacyjnemu doko≈Ñczenie procesu zamykania aplikacji.</p></li>
</ol>
</section>
<section id="id807">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code><a class="headerlink" href="#id807" title="Link to this heading">#</a></h1>
<p>Rejestruje funkcjƒô <code class="docutils literal notranslate"><span class="pre">crashHandler</span></code> jako handler dla sygna≈Ç√≥w:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SIGILL</span></code>: Nielegalna instrukcja.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SIGSEGV</span></code>: Naruszenie ochrony pamiƒôci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SIGFPE</span></code>: B≈ÇƒÖd operacji zmiennoprzecinkowej.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SIGABRT</span></code>: Sygna≈Ç przerwania (np. z <code class="docutils literal notranslate"><span class="pre">assert</span></code>).</p></li>
</ul>
</section>
<section id="id808">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code><a class="headerlink" href="#id808" title="Link to this heading">#</a></h1>
<p>Pusta funkcja, deinstalacja nie jest zaimplementowana.</p>
</section>
<section id="id809">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id809" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/crashhandler.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>, <code class="docutils literal notranslate"><span class="pre">framework/core/application.h</span></code>: Do pobierania informacji o aplikacji.</p></li>
<li><p>Nag≈Ç√≥wki systemowe: <code class="docutils literal notranslate"><span class="pre">execinfo.h</span></code>, <code class="docutils literal notranslate"><span class="pre">ucontext.h</span></code>, <code class="docutils literal notranslate"><span class="pre">signal.h</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="unixplatform-cpp">
<h1>üìÑ unixplatform.cpp<a class="headerlink" href="#unixplatform-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id810">
<h1>Opis og√≥lny<a class="headerlink" href="#id810" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">unixplatform.cpp</span></code> zawiera implementacjƒô metod klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code> specyficznych dla system√≥w uniksowych (Linux, macOS). Jest kompilowany, gdy platforma nie jest ani Windows, ani Emscripten.</p>
</section>
<section id="klasa-platform-implementacja-dla-uniksa">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Uniksa)<a class="headerlink" href="#klasa-platform-implementacja-dla-uniksa" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Implementacja na Uniksie</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">spawnProcess(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">fork()</span></code> i <code class="docutils literal notranslate"><span class="pre">execv()</span></code> do uruchomienia nowego procesu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getProcessId()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">getpid()</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isProcessRunning(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">killProcess(...)</span></code></p></td>
<td class="text-left"><p>Puste implementacje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTempPath()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">/tmp/</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCurrentDir()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">getcwd()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">copyFile(...)</span></code></p></td>
<td class="text-left"><p>Wywo≈Çuje systemowƒÖ komendƒô <code class="docutils literal notranslate"><span class="pre">cp</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">fileExists(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">stat()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">removeFile(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">unlink()</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getFileModificationTime(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">stat()</span></code> do odczytania <code class="docutils literal notranslate"><span class="pre">st_mtime</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openUrl(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">openDir(...)</span></code></p></td>
<td class="text-left"><p>Wywo≈Çuje systemowƒÖ komendƒô <code class="docutils literal notranslate"><span class="pre">xdg-open</span></code>. Mo≈ºe to zrobiƒá natychmiast lub w <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCPUName()</span></code></p></td>
<td class="text-left"><p>Parsuje plik <code class="docutils literal notranslate"><span class="pre">/proc/cpuinfo</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTotalSystemMemory()</span></code></p></td>
<td class="text-left"><p>Parsuje plik <code class="docutils literal notranslate"><span class="pre">/proc/meminfo</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMemoryUsage()</span></code></p></td>
<td class="text-left"><p>Pusta implementacja.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getOSName()</span></code></p></td>
<td class="text-left"><p>Parsuje plik <code class="docutils literal notranslate"><span class="pre">/etc/issue</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">traceback(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">backtrace()</span></code> i <code class="docutils literal notranslate"><span class="pre">backtrace_symbols()</span></code> do generowania ≈õladu stosu, z opcjonalnym demanglowaniem nazw funkcji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMacAddresses()</span></code></p></td>
<td class="text-left"><p>Pusta implementacja.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getUserName()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">getlogin_r()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getDlls()</span></code>, <code class="docutils literal notranslate"><span class="pre">getProcesses()</span></code>, <code class="docutils literal notranslate"><span class="pre">getWindows()</span></code></p></td>
<td class="text-left"><p>Puste implementacje (brak bezpo≈õrednich odpowiednik√≥w).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id811">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id811" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p>Nag≈Ç√≥wki systemowe POSIX (<code class="docutils literal notranslate"><span class="pre">unistd.h</span></code>, <code class="docutils literal notranslate"><span class="pre">sys/stat.h</span></code>, <code class="docutils literal notranslate"><span class="pre">execinfo.h</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do asynchronicznego otwierania URL/katalog√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="win32crashhandler-cpp">
<h1>üìÑ win32crashhandler.cpp<a class="headerlink" href="#win32crashhandler-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id812">
<h1>Opis og√≥lny<a class="headerlink" href="#id812" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">win32crashhandler.cpp</span></code> zawiera implementacjƒô mechanizmu obs≈Çugi awarii (crash handler) dla systemu Windows. Jest kompilowany, gdy zdefiniowano <code class="docutils literal notranslate"><span class="pre">WIN32</span></code> i <code class="docutils literal notranslate"><span class="pre">CRASH_HANDLER</span></code>.</p>
</section>
<section id="id813">
<h1>Funkcje<a class="headerlink" href="#id813" title="Link to this heading">#</a></h1>
</section>
<section id="const-char-getexceptionname-dword-exceptioncode">
<h1><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*getExceptionName(DWORD</span> <span class="pre">exceptionCode)</span></code><a class="headerlink" href="#const-char-getexceptionname-dword-exceptioncode" title="Link to this heading">#</a></h1>
<p>Funkcja pomocnicza, kt√≥ra t≈Çumaczy kod wyjƒÖtku Windows (np. <code class="docutils literal notranslate"><span class="pre">EXCEPTION_ACCESS_VIOLATION</span></code>) –Ω–∞ czytelnƒÖ nazwƒô.</p>
</section>
<section id="void-stacktrace-lpexception-pointers-e-std-stringstream-ss">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Stacktrace(LPEXCEPTION_POINTERS</span> <span class="pre">e,</span> <span class="pre">std::stringstream&amp;</span> <span class="pre">ss)</span></code><a class="headerlink" href="#void-stacktrace-lpexception-pointers-e-std-stringstream-ss" title="Link to this heading">#</a></h1>
<p>Generuje ≈õlad stosu wywo≈Ça≈Ñ. U≈ºywa funkcji z biblioteki <code class="docutils literal notranslate"><span class="pre">DbgHelp.dll</span></code> (<code class="docutils literal notranslate"><span class="pre">StackWalk</span></code>, <code class="docutils literal notranslate"><span class="pre">SymGetModuleBase</span></code>, <code class="docutils literal notranslate"><span class="pre">SymGetSymFromAddr</span></code>), aby przej≈õƒá przez stos i odczytaƒá nazwy funkcji i modu≈Ç√≥w.</p>
</section>
<section id="long-callback-exceptionhandler-pexception-pointers-e">
<h1><code class="docutils literal notranslate"><span class="pre">LONG</span> <span class="pre">CALLBACK</span> <span class="pre">ExceptionHandler(PEXCEPTION_POINTERS</span> <span class="pre">e)</span></code><a class="headerlink" href="#long-callback-exceptionhandler-pexception-pointers-e" title="Link to this heading">#</a></h1>
<p>Starsza wersja handlera. Generuje raport tekstowy podobny do wersji uniksowej, zapisuje go do pliku i wy≈õwietla <code class="docutils literal notranslate"><span class="pre">MessageBox</span></code> z informacjƒÖ o awarii.</p>
</section>
<section id="long-winapi-unhandledexceptionfilter2-pexception-pointers-exception">
<h1><code class="docutils literal notranslate"><span class="pre">LONG</span> <span class="pre">WINAPI</span> <span class="pre">UnhandledExceptionFilter2(PEXCEPTION_POINTERS</span> <span class="pre">exception)</span></code><a class="headerlink" href="#long-winapi-unhandledexceptionfilter2-pexception-pointers-exception" title="Link to this heading">#</a></h1>
<p>Nowsza, g≈Ç√≥wna funkcja obs≈Çugi wyjƒÖtk√≥w.</p>
<ul class="simple">
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ol class="arabic simple">
<li><p>Tworzy i zapisuje <strong>minidump</strong> awarii do plik√≥w (<code class="docutils literal notranslate"><span class="pre">exception.dmp</span></code>, <code class="docutils literal notranslate"><span class="pre">exception_full.dmp</span></code>). Minidump to plik, kt√≥ry mo≈ºna otworzyƒá w debuggerze (np. Visual Studio, WinDbg) w celu po≈õmiertnej analizy stanu programu.</p></li>
<li><p>Je≈õli <code class="docutils literal notranslate"><span class="pre">quiet_crash</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code> (ustawiane przez <code class="docutils literal notranslate"><span class="pre">uninstallCrashHandler</span></code>), cicho zamyka aplikacjƒô.</p></li>
<li><p>W przeciwnym razie, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">ExceptionHandler</span></code> w celu wygenerowania raportu tekstowego i wy≈õwietlenia komunikatu.</p></li>
</ol>
</li>
</ul>
</section>
<section id="id814">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code><a class="headerlink" href="#id814" title="Link to this heading">#</a></h1>
<p>Rejestruje <code class="docutils literal notranslate"><span class="pre">UnhandledExceptionFilter2</span></code> jako globalny handler nieobs≈Çu≈ºonych wyjƒÖtk√≥w za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">SetUnhandledExceptionFilter</span></code>.</p>
</section>
<section id="id815">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code><a class="headerlink" href="#id815" title="Link to this heading">#</a></h1>
<p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">quiet_crash</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>. Jest to u≈ºywane np. podczas aktualizacji, aby cicho zamknƒÖƒá starƒÖ wersjƒô klienta bez wy≈õwietlania okna b≈Çƒôdu.</p>
</section>
<section id="id816">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id816" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/crashhandler.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>, <code class="docutils literal notranslate"><span class="pre">core/application.h</span></code>, <code class="docutils literal notranslate"><span class="pre">core/resourcemanager.h</span></code>.</p></li>
<li><p>Nag≈Ç√≥wki Windows (<code class="docutils literal notranslate"><span class="pre">windows.h</span></code>, <code class="docutils literal notranslate"><span class="pre">imagehlp.h</span></code>, <code class="docutils literal notranslate"><span class="pre">DbgHelp.h</span></code>).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="win32platform-cpp">
<h1>üìÑ win32platform.cpp<a class="headerlink" href="#win32platform-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id817">
<h1>Opis og√≥lny<a class="headerlink" href="#id817" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">win32platform.cpp</span></code> zawiera implementacjƒô metod klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code> specyficznych dla systemu Windows.</p>
</section>
<section id="klasa-platform-implementacja-dla-windows">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Windows)<a class="headerlink" href="#klasa-platform-implementacja-dla-windows" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Implementacja na Windows</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">processArgs(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">CommandLineToArgvW</span></code> do poprawnego sparsowania argument√≥w wiersza polece≈Ñ (z obs≈ÇugƒÖ Unicode).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">spawnProcess(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">ShellExecuteW</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getProcessId()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">GetCurrentProcessId()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isProcessRunning(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">FindWindowA</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">killProcess(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">FindWindowA</span></code>, <code class="docutils literal notranslate"><span class="pre">GetProcessId</span></code> i <code class="docutils literal notranslate"><span class="pre">TerminateProcess</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTempPath()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">GetTempPathW</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCurrentDir()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">GetCurrentDirectoryW</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">copyFile(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">fileExists(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeFile(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywajƒÖ odpowiednik√≥w z WinAPI (<code class="docutils literal notranslate"><span class="pre">CopyFileW</span></code>, <code class="docutils literal notranslate"><span class="pre">GetFileAttributesW</span></code>, <code class="docutils literal notranslate"><span class="pre">DeleteFileW</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getFileModificationTime(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">GetFileAttributesExW</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">openUrl(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">openDir(...)</span></code></p></td>
<td class="text-left"><p>U≈ºywajƒÖ <code class="docutils literal notranslate"><span class="pre">ShellExecuteW</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getCPUName()</span></code></p></td>
<td class="text-left"><p>Odczytuje warto≈õƒá z rejestru systemowego.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getTotalSystemMemory()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">GlobalMemoryStatusEx</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMemoryUsage()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">GetProcessMemoryInfo</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getOSName()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">VerifyVersionInfo</span></code> i <code class="docutils literal notranslate"><span class="pre">GetProductInfo</span></code> do uzyskania szczeg√≥≈Çowej nazwy wersji Windows.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">traceback(...)</span></code></p></td>
<td class="text-left"><p>Prosta implementacja, zwraca tylko informacjƒô o miejscu wywo≈Çania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getMacAddresses()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">GetAdaptersInfo</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getUserName()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">GetUserNameA</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getDlls()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">EnumProcessModules</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getProcesses()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">CreateToolhelp32Snapshot</span></code> do iteracji po procesach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getWindows()</span></code></p></td>
<td class="text-left"><p>U≈ºywa <code class="docutils literal notranslate"><span class="pre">EnumWindows</span></code> do iteracji po otwartych oknach.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id818">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id818" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p>Nag≈Ç√≥wki WinAPI.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/string.hpp</span></code>: Do operacji na stringach.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="win32window-cpp">
<h1>üìÑ win32window.cpp<a class="headerlink" href="#win32window-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id819">
<h1>Opis og√≥lny<a class="headerlink" href="#id819" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">win32window.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code>, kt√≥ra jest specyficznƒÖ dla Windows implementacjƒÖ <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>. ZarzƒÖdza ona natywnym oknem WinAPI, obs≈ÇugƒÖ zdarze≈Ñ i kontekstem graficznym (WGL dla OpenGL lub EGL dla OpenGL ES/DirectX).</p>
</section>
<section id="klasa-win32window">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code><a class="headerlink" href="#klasa-win32window" title="Link to this heading">#</a></h1>
</section>
<section id="win32window-win32window">
<h1><code class="docutils literal notranslate"><span class="pre">WIN32Window::WIN32Window()</span></code><a class="headerlink" href="#win32window-win32window" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje mapƒô klawiszy (<code class="docutils literal notranslate"><span class="pre">m_keyMap</span></code>), t≈ÇumaczƒÖc wirtualne kody klawiszy Windows (<code class="docutils literal notranslate"><span class="pre">VK_*</span></code>) na wewnƒôtrzne kody <code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code>.</p>
</section>
<section id="void-win32window-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::init()</span></code><a class="headerlink" href="#void-win32window-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje okno, wywo≈ÇujƒÖc kolejno:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internalSetupTimerAccuracy()</span></code>: Zwiƒôksza precyzjƒô systemowego timera.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalCreateWindow()</span></code>: Rejestruje klasƒô okna i tworzy okno za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">CreateWindowExA</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalCreateGLContext()</span></code>: Tworzy kontekst graficzny (WGL lub EGL).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalRestoreGLContext()</span></code>: Aktywuje kontekst.</p></li>
</ol>
</section>
<section id="void-win32window-internalcreateglcontext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::internalCreateGLContext()</span></code><a class="headerlink" href="#void-win32window-internalcreateglcontext" title="Link to this heading">#</a></h1>
<p>Implementacja tworzenia kontekstu graficznego:</p>
<ul class="simple">
<li><p><strong>Dla OpenGL ES (<code class="docutils literal notranslate"><span class="pre">OPENGL_ES</span></code>)</strong>: U≈ºywa EGL (ANGLE), pr√≥bujƒÖc kolejno backend√≥w D3D11, D3D9 i WARP, aby zapewniƒá maksymalnƒÖ kompatybilno≈õƒá.</p></li>
<li><p><strong>Dla standardowego OpenGL</strong>: U≈ºywa WGL. Tworzy <code class="docutils literal notranslate"><span class="pre">PIXELFORMATDESCRIPTOR</span></code>, wybiera format pikseli i tworzy kontekst za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">wglCreateContext</span></code>.</p></li>
</ul>
</section>
<section id="lresult-win32window-windowproc">
<h1><code class="docutils literal notranslate"><span class="pre">LRESULT</span> <span class="pre">WIN32Window::windowProc(...)</span></code><a class="headerlink" href="#lresult-win32window-windowproc" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna funkcja obs≈Çugi zdarze≈Ñ okna (Window Procedure). Odbiera komunikaty od systemu Windows.</p>
<ul class="simple">
<li><p>Przekazuje zdarzenia do <code class="docutils literal notranslate"><span class="pre">dispatcherWindowProc</span></code> w celu obs≈Çugi w g≈Ç√≥wnym wƒÖtku aplikacji.</p></li>
<li><p>Bezpo≈õrednio obs≈Çuguje niekt√≥re komunikaty, kt√≥re muszƒÖ byƒá przetworzone synchronicznie (np. <code class="docutils literal notranslate"><span class="pre">WM_SETCURSOR</span></code>, <code class="docutils literal notranslate"><span class="pre">WM_GETMINMAXINFO</span></code>).</p></li>
</ul>
</section>
<section id="lresult-win32window-dispatcherwindowproc">
<h1><code class="docutils literal notranslate"><span class="pre">LRESULT</span> <span class="pre">WIN32Window::dispatcherWindowProc(...)</span></code><a class="headerlink" href="#lresult-win32window-dispatcherwindowproc" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana przez <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> w g≈Ç√≥wnym wƒÖtku. T≈Çumaczy komunikaty Windows (<code class="docutils literal notranslate"><span class="pre">WM_KEYDOWN</span></code>, <code class="docutils literal notranslate"><span class="pre">WM_LBUTTONDOWN</span></code>, <code class="docutils literal notranslate"><span class="pre">WM_MOUSEMOVE</span></code> itp.) na wewnƒôtrzne <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code> i przekazuje je do <code class="docutils literal notranslate"><span class="pre">m_onInputEvent</span></code> (czyli do <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>).</p>
</section>
<section id="void-win32window-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::poll()</span></code><a class="headerlink" href="#void-win32window-poll" title="Link to this heading">#</a></h1>
<p>Przetwarza kolejkƒô komunikat√≥w Windows za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">PeekMessage</span></code>, <code class="docutils literal notranslate"><span class="pre">TranslateMessage</span></code> i <code class="docutils literal notranslate"><span class="pre">DispatchMessage</span></code>.</p>
</section>
<section id="void-win32window-swapbuffers">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::swapBuffers()</span></code><a class="headerlink" href="#void-win32window-swapbuffers" title="Link to this heading">#</a></h1>
<p>Zamienia bufory ekranu za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">SwapBuffers</span></code> (dla WGL) lub <code class="docutils literal notranslate"><span class="pre">eglSwapBuffers</span></code> (dla EGL).</p>
</section>
<section id="void-win32window-setverticalsync-bool-enable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::setVerticalSync(bool</span> <span class="pre">enable)</span></code><a class="headerlink" href="#void-win32window-setverticalsync-bool-enable" title="Link to this heading">#</a></h1>
<p>W≈ÇƒÖcza/wy≈ÇƒÖcza synchronizacjƒô pionowƒÖ, u≈ºywajƒÖc rozszerze≈Ñ WGL (<code class="docutils literal notranslate"><span class="pre">WGL_EXT_swap_control</span></code>).</p>
</section>
<section id="id820">
<h1>Inne metody<a class="headerlink" href="#id820" title="Link to this heading">#</a></h1>
<p>ImplementujƒÖ interfejs <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, opakowujƒÖc odpowiednie funkcje WinAPI (np. <code class="docutils literal notranslate"><span class="pre">SetWindowTextW</span></code> dla <code class="docutils literal notranslate"><span class="pre">setTitle</span></code>, <code class="docutils literal notranslate"><span class="pre">ShellExecuteW</span></code> dla <code class="docutils literal notranslate"><span class="pre">openUrl</span></code>).</p>
</section>
<section id="id821">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id821" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Nag≈Ç√≥wki WinAPI.</p></li>
<li><p>Nag≈Ç√≥wki OpenGL/EGL/WGL.</p></li>
<li><p>Wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> i <code class="docutils literal notranslate"><span class="pre">Mouse</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="win32window-h">
<h1>üìÑ win32window.h<a class="headerlink" href="#win32window-h" title="Link to this heading">#</a></h1>
</section>
<section id="id822">
<h1>Opis og√≥lny<a class="headerlink" href="#id822" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">win32window.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code>, kt√≥ra jest implementacjƒÖ <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> dla systemu Windows.</p>
</section>
<section id="id823">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code><a class="headerlink" href="#id823" title="Link to this heading">#</a></h1>
</section>
<section id="id824">
<h1>Opis semantyczny<a class="headerlink" href="#id824" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code> enkapsuluje uchwyty i logikƒô zwiƒÖzanƒÖ z natywnym oknem WinAPI. ZarzƒÖdza jego cyklem ≈ºycia, obs≈ÇugƒÖ komunikat√≥w systemowych i tworzeniem kontekstu graficznego (WGL dla OpenGL lub EGL dla OpenGL ES przez ANGLE).</p>
</section>
<section id="metody-prywatne-i-chronione">
<h1>Metody prywatne i chronione<a class="headerlink" href="#metody-prywatne-i-chronione" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internal...()</span></code>: Grupa metod do wewnƒôtrznego zarzƒÖdzania oknem i kontekstem GL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">windowProc(...)</span></code>: G≈Ç√≥wna funkcja obs≈Çugi komunikat√≥w Windows.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dispatcherWindowProc(...)</span></code>: Handler komunikat√≥w wykonywany w g≈Ç√≥wnym wƒÖtku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">retranslateVirtualKey(...)</span></code>: T≈Çumaczy kody klawiszy WinAPI.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getClientRect()</span></code>, <code class="docutils literal notranslate"><span class="pre">getWindowRect()</span></code>, <code class="docutils literal notranslate"><span class="pre">adjustWindowRect()</span></code>: Metody pomocnicze do geometrii okna.</p></li>
</ul>
</section>
<section id="id825">
<h1>Zmienne prywatne<a class="headerlink" href="#id825" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_window</span></code>: Uchwyt <code class="docutils literal notranslate"><span class="pre">HWND</span></code> do okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_instance</span></code>: Uchwyt <code class="docutils literal notranslate"><span class="pre">HINSTANCE</span></code> do modu≈Çu aplikacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_deviceContext</span></code>: Uchwyt <code class="docutils literal notranslate"><span class="pre">HDC</span></code> do kontekstu urzƒÖdzenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursors</span></code>: Wektor uchwyt√≥w <code class="docutils literal notranslate"><span class="pre">HCURSOR</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursor</span></code>, <code class="docutils literal notranslate"><span class="pre">m_defaultCursor</span></code>: Aktywny i domy≈õlny kursor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_hidden</span></code>: Flaga ukrycia okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_egl...</span></code> / <code class="docutils literal notranslate"><span class="pre">m_wglContext</span></code>: Uchwyty do zasob√≥w EGL lub WGL.</p></li>
</ul>
</section>
<section id="id826">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id826" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code>: Klasa bazowa.</p></li>
<li><p>Nag≈Ç√≥wki WinAPI i OpenGL/EGL.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="x11window-h">
<h1>üìÑ x11window.h<a class="headerlink" href="#x11window-h" title="Link to this heading">#</a></h1>
</section>
<section id="id827">
<h1>Opis og√≥lny<a class="headerlink" href="#id827" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">x11window.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">X11Window</span></code>, kt√≥ra jest implementacjƒÖ <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> dla system√≥w uniksowych u≈ºywajƒÖcych serwera X11 (g≈Ç√≥wnie Linux).</p>
</section>
<section id="klasa-x11window">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">X11Window</span></code><a class="headerlink" href="#klasa-x11window" title="Link to this heading">#</a></h1>
</section>
<section id="id828">
<h1>Opis semantyczny<a class="headerlink" href="#id828" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">X11Window</span></code> zarzƒÖdza natywnym oknem X11, obs≈ÇugƒÖ jego zdarze≈Ñ oraz tworzeniem kontekstu graficznego (GLX dla OpenGL lub EGL dla OpenGL ES).</p>
</section>
<section id="id829">
<h1>Metody prywatne i chronione<a class="headerlink" href="#id829" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internal...()</span></code>: Grupa metod do wewnƒôtrznego zarzƒÖdzania oknem i kontekstem GL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">getExtensionProcAddress(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">isExtensionSupported(...)</span></code>: Do obs≈Çugi rozszerze≈Ñ GLX/EGL.</p></li>
</ul>
</section>
<section id="id830">
<h1>Zmienne prywatne<a class="headerlink" href="#id830" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_display</span></code>: Wska≈∫nik na <code class="docutils literal notranslate"><span class="pre">Display</span></code> (po≈ÇƒÖczenie z serwerem X11).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_visual</span></code>: Informacje o wizualu (g≈Çƒôbia kolor√≥w itp.).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_window</span></code>: ID okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_rootWindow</span></code>: ID okna g≈Ç√≥wnego.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_colormap</span></code>: Mapa kolor√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursors</span></code>: Wektor kursor√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursor</span></code>, <code class="docutils literal notranslate"><span class="pre">m_hiddenCursor</span></code>: Aktywny i ukryty kursor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_xim</span></code>, <code class="docutils literal notranslate"><span class="pre">m_xic</span></code>: Do obs≈Çugi metod wprowadzania tekstu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_wmDelete</span></code>: Atom do obs≈Çugi zdarzenia zamkniƒôcia okna.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glxContext</span></code> / <code class="docutils literal notranslate"><span class="pre">m_egl...</span></code>: Uchwyty do zasob√≥w GLX lub EGL.</p></li>
</ul>
</section>
<section id="id831">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id831" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code>: Klasa bazowa.</p></li>
<li><p>Nag≈Ç√≥wki X11, GLX, EGL.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="x11window-cpp">
<h1>üìÑ x11window.cpp<a class="headerlink" href="#x11window-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id832">
<h1>Opis og√≥lny<a class="headerlink" href="#id832" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">x11window.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">X11Window</span></code> dla system√≥w uniksowych z X11.</p>
</section>
<section id="id833">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">X11Window</span></code><a class="headerlink" href="#id833" title="Link to this heading">#</a></h1>
</section>
<section id="x11window-x11window">
<h1><code class="docutils literal notranslate"><span class="pre">X11Window::X11Window()</span></code><a class="headerlink" href="#x11window-x11window" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje mapƒô klawiszy, t≈ÇumaczƒÖc <code class="docutils literal notranslate"><span class="pre">KeySym</span></code> z X11 na <code class="docutils literal notranslate"><span class="pre">Fw::Key</span></code>.</p>
</section>
<section id="void-x11window-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::init()</span></code><a class="headerlink" href="#void-x11window-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje okno, wywo≈ÇujƒÖc kolejno:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">internalOpenDisplay()</span></code>: Otwiera po≈ÇƒÖczenie z serwerem X11.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalCheckGL()</span></code>: Sprawdza dostƒôpno≈õƒá GLX/EGL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalChooseGLVisual()</span></code>: Wybiera odpowiedni format wizualny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalCreateGLContext()</span></code>: Tworzy kontekst graficzny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internalCreateWindow()</span></code>: Tworzy okno X11.</p></li>
</ol>
</section>
<section id="void-x11window-internalcreatewindow">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::internalCreateWindow()</span></code><a class="headerlink" href="#void-x11window-internalcreatewindow" title="Link to this heading">#</a></h1>
<p>Tworzy okno za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">XCreateWindow</span></code>, ustawia atrybuty, w tym maskƒô zdarze≈Ñ, i przygotowuje obs≈Çugƒô zamkniƒôcia okna przez mened≈ºera okien. Inicjalizuje r√≥wnie≈º XIM/XIC do obs≈Çugi wprowadzania tekstu.</p>
</section>
<section id="void-x11window-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::poll()</span></code><a class="headerlink" href="#void-x11window-poll" title="Link to this heading">#</a></h1>
<p>Przetwarza kolejkƒô zdarze≈Ñ X11 za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">XPending</span></code> i <code class="docutils literal notranslate"><span class="pre">XNextEvent</span></code>. T≈Çumaczy zdarzenia X11 (<code class="docutils literal notranslate"><span class="pre">KeyPress</span></code>, <code class="docutils literal notranslate"><span class="pre">ButtonPress</span></code>, <code class="docutils literal notranslate"><span class="pre">MotionNotify</span></code>, <code class="docutils literal notranslate"><span class="pre">ConfigureNotify</span></code> itp.) na wewnƒôtrzne <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code> i wywo≈Çuje odpowiednie <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> w <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code>. Obs≈Çuguje r√≥wnie≈º logikƒô auto-powtarzania klawiszy i wprowadzania tekstu.</p>
</section>
<section id="void-x11window-swapbuffers">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::swapBuffers()</span></code><a class="headerlink" href="#void-x11window-swapbuffers" title="Link to this heading">#</a></h1>
<p>Zamienia bufory ekranu za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">glXSwapBuffers</span></code> (dla GLX) lub <code class="docutils literal notranslate"><span class="pre">eglSwapBuffers</span></code> (dla EGL).</p>
</section>
<section id="void-x11window-setfullscreen-bool-fullscreen">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::setFullscreen(bool</span> <span class="pre">fullscreen)</span></code><a class="headerlink" href="#void-x11window-setfullscreen-bool-fullscreen" title="Link to this heading">#</a></h1>
<p>Zmienia stan okna na pe≈Çnoekranowy, wysy≈ÇajƒÖc odpowiedni komunikat <code class="docutils literal notranslate"><span class="pre">_NET_WM_STATE</span></code> do mened≈ºera okien.</p>
</section>
<section id="void-x11window-setclipboardtext-i-getclipboardtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::setClipboardText(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">getClipboardText()</span></code><a class="headerlink" href="#void-x11window-setclipboardtext-i-getclipboardtext" title="Link to this heading">#</a></h1>
<p>ImplementujƒÖ obs≈Çugƒô schowka za pomocƒÖ mechanizmu selekcji X11.</p>
</section>
<section id="id834">
<h1>Inne metody<a class="headerlink" href="#id834" title="Link to this heading">#</a></h1>
<p>ImplementujƒÖ interfejs <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>, opakowujƒÖc odpowiednie funkcje X11 (np. <code class="docutils literal notranslate"><span class="pre">XStoreName</span></code> dla <code class="docutils literal notranslate"><span class="pre">setTitle</span></code>, <code class="docutils literal notranslate"><span class="pre">XMoveWindow</span></code> dla <code class="docutils literal notranslate"><span class="pre">move</span></code>).</p>
</section>
<section id="id835">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id835" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Nag≈Ç√≥wki X11, GLX, EGL.</p></li>
<li><p>Wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="proxy-cpp">
<h1>üìÑ proxy.cpp<a class="headerlink" href="#proxy-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id836">
<h1>Opis og√≥lny<a class="headerlink" href="#id836" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">proxy.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>, kt√≥ra zarzƒÖdza systemem proxy do komunikacji z serwerem gry.</p>
</section>
<section id="id837">
<h1>Zmienne globalne<a class="headerlink" href="#id837" title="Link to this heading">#</a></h1>
</section>
<section id="g-proxy">
<h1><code class="docutils literal notranslate"><span class="pre">g_proxy</span></code><a class="headerlink" href="#g-proxy" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p>
</section>
<section id="klasa-proxymanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code><a class="headerlink" href="#klasa-proxymanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-proxymanager-init-i-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">terminate()</span></code><a class="headerlink" href="#void-proxymanager-init-i-terminate" title="Link to this heading">#</a></h1>
<p>UruchamiajƒÖ i zatrzymujƒÖ dedykowany wƒÖtek sieciowy, w kt√≥rym dzia≈Ça <code class="docutils literal notranslate"><span class="pre">io_context</span></code> dla operacji proxy.</p>
</section>
<section id="void-proxymanager-clear">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::clear()</span></code><a class="headerlink" href="#void-proxymanager-clear" title="Link to this heading">#</a></h1>
<p>Zamyka wszystkie aktywne sesje i po≈ÇƒÖczenia z serwerami proxy.</p>
</section>
<section id="bool-proxymanager-isactive">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ProxyManager::isActive()</span></code><a class="headerlink" href="#bool-proxymanager-isactive" title="Link to this heading">#</a></h1>
<p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli skonfigurowano co najmniej jeden serwer proxy.</p>
</section>
<section id="void-proxymanager-addproxy">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::addProxy(...)</span></code><a class="headerlink" href="#void-proxymanager-addproxy" title="Link to this heading">#</a></h1>
<p>Dodaje nowy serwer proxy do puli. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i uruchamia go.</p>
</section>
<section id="void-proxymanager-removeproxy">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::removeProxy(...)</span></code><a class="headerlink" href="#void-proxymanager-removeproxy" title="Link to this heading">#</a></h1>
<p>Usuwa serwer proxy z puli.</p>
</section>
<section id="uint32-t-proxymanager-addsession">
<h1><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">ProxyManager::addSession(...)</span></code><a class="headerlink" href="#uint32-t-proxymanager-addsession" title="Link to this heading">#</a></h1>
<p>Tworzy nowƒÖ sesjƒô proxy dla po≈ÇƒÖczenia z serwerem gry. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">Session</span></code> i zwraca jego unikalne ID.</p>
</section>
<section id="void-proxymanager-removesession">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::removeSession(...)</span></code><a class="headerlink" href="#void-proxymanager-removesession" title="Link to this heading">#</a></h1>
<p>Zamyka sesjƒô o danym ID.</p>
</section>
<section id="void-proxymanager-send">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::send(...)</span></code><a class="headerlink" href="#void-proxymanager-send" title="Link to this heading">#</a></h1>
<p>Wysy≈Ça pakiet w ramach danej sesji. Znajduje odpowiedni obiekt <code class="docutils literal notranslate"><span class="pre">Session</span></code> i przekazuje mu pakiet.</p>
</section>
<section id="int-proxymanager-getping">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ProxyManager::getPing()</span></code><a class="headerlink" href="#int-proxymanager-getping" title="Link to this heading">#</a></h1>
<p>Zwraca najlepszy (najni≈ºszy) ping spo≈õr√≥d wszystkich aktywnych i po≈ÇƒÖczonych serwer√≥w proxy.</p>
</section>
<section id="id838">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id838" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy_client.h</span></code>: Definicje klas <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do tunelowania po≈ÇƒÖczenia przez serwery proxy.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="proxy-h">
<h1>üìÑ proxy.h<a class="headerlink" href="#proxy-h" title="Link to this heading">#</a></h1>
</section>
<section id="id839">
<h1>Opis og√≥lny<a class="headerlink" href="#id839" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">proxy.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_proxy</span></code>) odpowiedzialnym za zarzƒÖdzanie ca≈Çym systemem po≈ÇƒÖcze≈Ñ proxy. Stanowi on g≈Ç√≥wny punkt wej≈õcia do konfiguracji i wykorzystania tunelowania ruchu sieciowego.</p>
</section>
<section id="id840">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code><a class="headerlink" href="#id840" title="Link to this heading">#</a></h1>
</section>
<section id="id841">
<h1>Opis semantyczny<a class="headerlink" href="#id841" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code> zarzƒÖdza pulƒÖ dostƒôpnych serwer√≥w proxy (obiekty <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>) oraz pulƒÖ aktywnych sesji klienta (obiekty <code class="docutils literal notranslate"><span class="pre">Session</span></code>). Jego zadaniem jest koordynacja miƒôdzy sesjami a serwerami proxy, dynamiczne wybieranie najlepszych serwer√≥w do tunelowania ruchu oraz dostarczanie interfejsu do zarzƒÖdzania tym procesem z poziomu aplikacji i skrypt√≥w Lua. Dzia≈Ça w dedykowanym wƒÖtku sieciowym, aby nie blokowaƒá g≈Ç√≥wnego wƒÖtku aplikacji.</p>
</section>
<section id="id842">
<h1>Metody publiczne<a class="headerlink" href="#id842" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Uruchamia i zatrzymuje wƒÖtek sieciowy <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Zamyka wszystkie aktywne sesje i po≈ÇƒÖczenia z serwerami proxy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setMaxActiveProxies(int</span> <span class="pre">value)</span></code></p></td>
<td class="text-left"><p>Ustawia, przez ile najlepszych (pod wzglƒôdem pingu) serwer√≥w proxy ma byƒá jednocze≈õnie tunelowany ruch dla ka≈ºdej sesji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isActive()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli co najmniej jeden serwer proxy jest skonfigurowany.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addProxy(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">removeProxy(...)</span></code></p></td>
<td class="text-left"><p>Dodaje lub usuwa serwer proxy z puli dostƒôpnych serwer√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">addSession(...)</span></code></p></td>
<td class="text-left"><p>Tworzy nowƒÖ sesjƒô proxy dla po≈ÇƒÖczenia z serwerem gry. Zwraca unikalne ID sesji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">removeSession(uint32_t</span> <span class="pre">sessionId)</span></code></p></td>
<td class="text-left"><p>Zamyka i usuwa sesjƒô o podanym ID.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">send(uint32_t</span> <span class="pre">sessionId,</span> <span class="pre">ProxyPacketPtr</span> <span class="pre">packet)</span></code></p></td>
<td class="text-left"><p>Wysy≈Ça pakiet w ramach okre≈õlonej sesji. <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code> przekazuje go do odpowiedniego obiektu <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::map&lt;...&gt;</span> <span class="pre">getProxies()</span></code></p></td>
<td class="text-left"><p>Zwraca mapƒô dostƒôpnych serwer√≥w proxy wraz z ich pingiem.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::map&lt;...&gt;</span> <span class="pre">getProxiesDebugInfo()</span></code></p></td>
<td class="text-left"><p>Zwraca szczeg√≥≈Çowe informacje diagnostyczne o ka≈ºdym proxy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getPing()</span></code></p></td>
<td class="text-left"><p>Zwraca najni≈ºszy ping spo≈õr√≥d wszystkich aktywnych serwer√≥w proxy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id843">
<h1>Zmienne prywatne<a class="headerlink" href="#id843" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_io</span></code>: Kontekst <code class="docutils literal notranslate"><span class="pre">io_context</span></code> z Boost.Asio, na kt√≥rym dzia≈ÇajƒÖ wszystkie operacje sieciowe proxy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_guard</span></code>: Obiekt <code class="docutils literal notranslate"><span class="pre">work_guard</span></code>, kt√≥ry zapobiega zako≈Ñczeniu dzia≈Çania <code class="docutils literal notranslate"><span class="pre">m_io</span></code>, dop√≥ki <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code> jest aktywny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_working</span></code>: Flaga kontrolujƒÖca dzia≈Çanie wƒÖtku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_thread</span></code>: Dedykowany wƒÖtek dla operacji sieciowych proxy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_maxActiveProxies</span></code>: Maksymalna liczba proxy u≈ºywanych przez jednƒÖ sesjƒô.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_proxies</span></code>: Lista wska≈∫nik√≥w na dostƒôpne obiekty <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_sessions</span></code>: Lista wska≈∫nik√≥w na aktywne obiekty <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p></li>
</ul>
</section>
<section id="id844">
<h1>Zmienne globalne<a class="headerlink" href="#id844" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_proxy</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p></li>
</ul>
</section>
<section id="id845">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id845" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/proxy/proxy_client.h</span></code>: Definicje klas <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i <code class="docutils literal notranslate"><span class="pre">Session</span></code>, kt√≥rymi zarzƒÖdza.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> do tworzenia tunelowanych po≈ÇƒÖcze≈Ñ.</p></li>
<li><p>Jej API jest dostƒôpne w Lua (przez <code class="docutils literal notranslate"><span class="pre">luafunctions.cpp</span></code>), co pozwala na dynamicznƒÖ konfiguracjƒô proxy ze skrypt√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="proxy-client-h">
<h1>üìÑ proxy_client.h<a class="headerlink" href="#proxy-client-h" title="Link to this heading">#</a></h1>
</section>
<section id="id846">
<h1>Opis og√≥lny<a class="headerlink" href="#id846" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">proxy_client.h</span></code> deklaruje dwie kluczowe klasy dla systemu proxy: <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i <code class="docutils literal notranslate"><span class="pre">Session</span></code>. Te klasy implementujƒÖ logikƒô klienta, kt√≥ry ≈ÇƒÖczy siƒô z serwerami proxy i tuneluje przez nie ruch sieciowy.</p>
</section>
<section id="id847">
<h1>Definicje typ√≥w<a class="headerlink" href="#id847" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ProxyPacket</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint8_t&gt;</span></code>, reprezentuje pojedynczy pakiet.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ProxyPacketPtr</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::shared_ptr&lt;ProxyPacket&gt;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Session</span></code>, <code class="docutils literal notranslate"><span class="pre">SessionPtr</span></code>: Wczesna deklaracja i alias dla wska≈∫nika na <code class="docutils literal notranslate"><span class="pre">Session</span></code>.</p></li>
</ul>
</section>
<section id="klasa-proxy">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Proxy</span></code><a class="headerlink" href="#klasa-proxy" title="Link to this heading">#</a></h1>
</section>
<section id="id848">
<h1>Opis semantyczny<a class="headerlink" href="#id848" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Proxy</span></code> reprezentuje pojedyncze, trwa≈Çe po≈ÇƒÖczenie z jednym serwerem proxy. Jego zadaniem jest utrzymanie po≈ÇƒÖczenia, monitorowanie jego jako≈õci (ping), przesy≈Çanie pakiet√≥w dla wielu sesji oraz raportowanie swojego stanu do <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p>
</section>
<section id="stale-i-typy-wyliczeniowe">
<h1>Sta≈Çe i typy wyliczeniowe<a class="headerlink" href="#stale-i-typy-wyliczeniowe" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CHECK_INTERVAL</span></code>: Interwa≈Ç (w ms) sprawdzania stanu po≈ÇƒÖczenia i wysy≈Çania ping√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BUFFER_SIZE</span></code>: Rozmiar bufora odczytu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">ProxyState</span></code>: Definiuje stany, w jakich mo≈ºe znajdowaƒá siƒô po≈ÇƒÖczenie z proxy (np. <code class="docutils literal notranslate"><span class="pre">STATE_NOT_CONNECTED</span></code>, <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTING</span></code>, <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTED</span></code>).</p></li>
</ul>
</section>
<section id="id849">
<h1>Metody publiczne<a class="headerlink" href="#id849" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Proxy(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">start()</span></code></p></td>
<td class="text-left"><p>Inicjuje cykl ≈ºycia obiektu, dodajƒÖc go do globalnej puli i uruchamiajƒÖc pƒôtlƒô <code class="docutils literal notranslate"><span class="pre">check</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Zamyka po≈ÇƒÖczenie i usuwa obiekt z globalnej puli.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">getPing()</span></code></p></td>
<td class="text-left"><p>Zwraca op√≥≈∫nienie do serwera proxy, uwzglƒôdniajƒÖc priorytet.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">getRealPing()</span></code></p></td>
<td class="text-left"><p>Zwraca rzeczywiste op√≥≈∫nienie (bez priorytetu).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isConnected()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli po≈ÇƒÖczenie jest w stanie <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTED</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getDebugInfo()</span></code></p></td>
<td class="text-left"><p>Zwraca informacje diagnostyczne.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isActive()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli przez to proxy przechodzi ruch co najmniej jednej sesji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addSession(...)</span></code></p></td>
<td class="text-left"><p>Wysy≈Ça do serwera proxy polecenie utworzenia nowej sesji tunelowania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">removeSession(...)</span></code></p></td>
<td class="text-left"><p>Wysy≈Ça polecenie zamkniƒôcia sesji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">send(...)</span></code></p></td>
<td class="text-left"><p>Dodaje pakiet do kolejki wysy≈Çania do serwera proxy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasa-session">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Session</span></code><a class="headerlink" href="#klasa-session" title="Link to this heading">#</a></h1>
</section>
<section id="id850">
<h1>Opis semantyczny<a class="headerlink" href="#id850" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Session</span></code> reprezentuje pojedynczƒÖ sesjƒô klienta z serwerem gry, kt√≥ra jest tunelowana przez jeden lub wiƒôcej serwer√≥w proxy. Mo≈ºe dzia≈Çaƒá w dw√≥ch trybach: jako serwer (akceptujƒÖc lokalne po≈ÇƒÖczenie od klienta gry) lub jako klient (gdy jest tworzona bezpo≈õrednio przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>). Odpowiada za dynamiczne wybieranie najlepszych <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> do wysy≈Çania pakiet√≥w oraz za re-asemblacjƒô pakiet√≥w przychodzƒÖcych, kt√≥re mogƒÖ docieraƒá z r√≥≈ºnych <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i w r√≥≈ºnej kolejno≈õci.</p>
</section>
<section id="id851">
<h1>Sta≈Çe<a class="headerlink" href="#id851" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CHECK_INTERVAL</span></code>: Interwa≈Ç (w ms) sprawdzania stanu sesji i wyboru proxy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BUFFER_SIZE</span></code>: Rozmiar bufora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIMEOUT</span></code>: Czas (w ms) braku aktywno≈õci, po kt√≥rym sesja jest zamykana.</p></li>
</ul>
</section>
<section id="id852">
<h1>Metody publiczne<a class="headerlink" href="#id852" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">Session(...)</span></code></p></td>
<td class="text-left"><p>Konstruktory dla trybu serwera i klienta.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">getId()</span></code></p></td>
<td class="text-left"><p>Zwraca unikalne ID sesji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">start(...)</span></code></p></td>
<td class="text-left"><p>Uruchamia sesjƒô, rozpoczynajƒÖc pƒôtlƒô <code class="docutils literal notranslate"><span class="pre">check</span></code> i (w trybie serwera) nas≈Çuchiwanie na pakiety od klienta.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">terminate(...)</span></code></p></td>
<td class="text-left"><p>Zamyka sesjƒô, informujƒÖc powiƒÖzane <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i klienta.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">onPacket(...)</span></code></p></td>
<td class="text-left"><p>Handler dla pakiet√≥w przychodzƒÖcych <strong>od klienta gry</strong>. Opakowuje je w protok√≥≈Ç proxy i wysy≈Ça.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">onProxyPacket(...)</span></code></p></td>
<td class="text-left"><p>Handler dla pakiet√≥w przychodzƒÖcych <strong>od serwer√≥w proxy</strong>. Odpakowuje je, sprawdza kolejno≈õƒá i przekazuje do klienta gry.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id853">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id853" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Boost.Asio</strong>: Fundamentalna zale≈ºno≈õƒá do wszystkich operacji sieciowych.</p></li>
<li><p>Klasy <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i <code class="docutils literal notranslate"><span class="pre">Session</span></code> sƒÖ ze sobƒÖ ≈õci≈õle powiƒÖzane. <code class="docutils literal notranslate"><span class="pre">Session</span></code> utrzymuje zbi√≥r <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>, przez kt√≥re wysy≈Ça dane. <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> jest ≈õwiadome sesji, kt√≥re obs≈Çuguje.</p></li>
<li><p>Obie klasy sƒÖ zarzƒÖdzane przez <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p></li>
<li><p>W projekcie istniejƒÖ globalne, dostƒôpne w wƒÖtku <code class="docutils literal notranslate"><span class="pre">io_context</span></code> kontenery <code class="docutils literal notranslate"><span class="pre">g_sessions</span></code> i <code class="docutils literal notranslate"><span class="pre">g_proxies</span></code> do wzajemnej komunikacji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="proxy-client-cpp">
<h1>üìÑ proxy_client.cpp<a class="headerlink" href="#proxy-client-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id854">
<h1>Opis og√≥lny<a class="headerlink" href="#id854" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">proxy_client.cpp</span></code> zawiera implementacjƒô logiki dla klas <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> i <code class="docutils literal notranslate"><span class="pre">Session</span></code>, kt√≥re razem tworzƒÖ system klienta proxy. Kod jest w pe≈Çni asynchroniczny i oparty na Boost.Asio.</p>
</section>
<section id="id855">
<h1>Zmienne globalne<a class="headerlink" href="#id855" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_sessions</span></code>: Globalna mapa (<code class="docutils literal notranslate"><span class="pre">std::map</span></code>) przechowujƒÖca s≈Çabe wska≈∫niki (<code class="docutils literal notranslate"><span class="pre">std::weak_ptr</span></code>) do aktywnych sesji, indeksowane po ich ID.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g_proxies</span></code>: Globalny zbi√≥r (<code class="docutils literal notranslate"><span class="pre">std::set</span></code>) przechowujƒÖcy wska≈∫niki do aktywnych obiekt√≥w <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UID</span></code>: Unikalny identyfikator tej instancji klienta, u≈ºywany w pakietach ping.</p></li>
</ul>
</section>
<section id="klasa-proxy-implementacja">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> (implementacja)<a class="headerlink" href="#klasa-proxy-implementacja" title="Link to this heading">#</a></h1>
</section>
<section id="void-proxy-check">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::check(...)</span></code><a class="headerlink" href="#void-proxy-check" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda cyklu ≈ºycia <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>. Dzia≈Ça jak maszyna stan√≥w, wywo≈Çywana cyklicznie przez <code class="docutils literal notranslate"><span class="pre">m_timer</span></code>.</p>
<ul class="simple">
<li><p>W stanie <code class="docutils literal notranslate"><span class="pre">STATE_NOT_CONNECTED</span></code>, inicjuje <code class="docutils literal notranslate"><span class="pre">connect()</span></code>.</p></li>
<li><p>W stanie <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTING</span></code>, sprawdza timeout dla po≈ÇƒÖczenia.</p></li>
<li><p>W stanie <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTED</span></code>, wysy≈Ça pakiety ping, je≈õli nie oczekuje na odpowied≈∫.</p></li>
<li><p>W stanie <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTING_WAIT_FOR_PING</span></code>, czeka na pierwszƒÖ odpowied≈∫ ping.</p></li>
</ul>
</section>
<section id="void-proxy-connect">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::connect()</span></code><a class="headerlink" href="#void-proxy-connect" title="Link to this heading">#</a></h1>
<p>Asynchronicznie rozwiƒÖzuje nazwƒô hosta, a nastƒôpnie ≈ÇƒÖczy siƒô z serwerem proxy. Po pomy≈õlnym po≈ÇƒÖczeniu, ustawia opcje gniazda (<code class="docutils literal notranslate"><span class="pre">no_delay</span></code>, rozmiary bufor√≥w), rozpoczyna odczyt nag≈Ç√≥wk√≥w i wysy≈Ça pierwszy ping.</p>
</section>
<section id="void-proxy-disconnect">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::disconnect()</span></code><a class="headerlink" href="#void-proxy-disconnect" title="Link to this heading">#</a></h1>
<p>Zamyka gniazdo i resetuje stan do <code class="docutils literal notranslate"><span class="pre">STATE_NOT_CONNECTED</span></code>.</p>
</section>
<section id="void-proxy-ping">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::ping()</span></code><a class="headerlink" href="#void-proxy-ping" title="Link to this heading">#</a></h1>
<p>Wysy≈Ça pakiet kontrolny ‚Äûping‚Äù do serwera proxy. Pakiet zawiera unikalne ID klienta (<code class="docutils literal notranslate"><span class="pre">UID</span></code>) i ostatni zmierzony ping.</p>
</section>
<section id="void-proxy-onping-uint32-t-packetid">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::onPing(uint32_t</span> <span class="pre">packetId)</span></code><a class="headerlink" href="#void-proxy-onping-uint32-t-packetid" title="Link to this heading">#</a></h1>
<p>Handler odpowiedzi na ping. Oblicza nowy ping na podstawie czasu wys≈Çania i odebrania pakietu. Je≈õli to by≈Ç pierwszy ping, zmienia stan na <code class="docutils literal notranslate"><span class="pre">STATE_CONNECTED</span></code>.</p>
</section>
<section id="void-proxy-readheader-i-onheader">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::readHeader()</span></code> i <code class="docutils literal notranslate"><span class="pre">onHeader(...)</span></code><a class="headerlink" href="#void-proxy-readheader-i-onheader" title="Link to this heading">#</a></h1>
<p>ImplementujƒÖ dwuetapowy odczyt pakietu: najpierw odczytywany jest 2-bajtowy nag≈Ç√≥wek z rozmiarem, a nastƒôpnie reszta pakietu.</p>
</section>
<section id="void-proxy-onpacket">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::onPacket(...)</span></code><a class="headerlink" href="#void-proxy-onpacket" title="Link to this heading">#</a></h1>
<p>Przetwarza przychodzƒÖcy pakiet. Na podstawie <code class="docutils literal notranslate"><span class="pre">sessionId</span></code> decyduje, czy jest to pakiet danych dla sesji, czy pakiet kontrolny (ping, zamkniƒôcie sesji). Znajduje odpowiedniƒÖ sesjƒô w <code class="docutils literal notranslate"><span class="pre">g_sessions</span></code> i przekazuje jej dane.</p>
</section>
<section id="void-proxy-send">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::send(...)</span></code><a class="headerlink" href="#void-proxy-send" title="Link to this heading">#</a></h1>
<p>Implementuje kolejkƒô wysy≈Çania. Dodaje pakiet do <code class="docutils literal notranslate"><span class="pre">m_sendQueue</span></code> i rozpoczyna operacjƒô <code class="docutils literal notranslate"><span class="pre">async_write</span></code>, je≈õli kolejka by≈Ça pusta.</p>
</section>
<section id="klasa-session-implementacja">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Session</span></code> (implementacja)<a class="headerlink" href="#klasa-session-implementacja" title="Link to this heading">#</a></h1>
</section>
<section id="void-session-start-int-maxconnections">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::start(int</span> <span class="pre">maxConnections)</span></code><a class="headerlink" href="#void-session-start-int-maxconnections" title="Link to this heading">#</a></h1>
<p>Dodaje sesjƒô do globalnej mapy <code class="docutils literal notranslate"><span class="pre">g_sessions</span></code>, uruchamia pƒôtlƒô <code class="docutils literal notranslate"><span class="pre">check</span></code> i, w trybie serwera, rozpoczyna odczyt danych od klienta gry.</p>
</section>
<section id="void-session-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::terminate(...)</span></code><a class="headerlink" href="#void-session-terminate" title="Link to this heading">#</a></h1>
<p>Zamyka sesjƒô, informuje wszystkie powiƒÖzane <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> o zamkniƒôciu, zamyka gniazdo (je≈õli jest) i wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> roz≈ÇƒÖczenia.</p>
</section>
<section id="void-session-check">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::check(...)</span></code><a class="headerlink" href="#void-session-check" title="Link to this heading">#</a></h1>
<p>Metoda cykliczna. Sprawdza timeout braku aktywno≈õci i wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">selectProxies</span></code> w celu optymalizacji routingu.</p>
</section>
<section id="void-session-selectproxies">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::selectProxies()</span></code><a class="headerlink" href="#void-session-selectproxies" title="Link to this heading">#</a></h1>
<p>Inteligentny algorytm wyboru proxy.</p>
<ol class="arabic simple">
<li><p>Iteruje po wszystkich globalnie dostƒôpnych, po≈ÇƒÖczonych <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
<li><p>Znajduje najlepsze <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>, kt√≥re nie jest jeszcze u≈ºywane przez tƒô sesjƒô.</p></li>
<li><p>Je≈õli liczba aktywnych proxy dla tej sesji jest mniejsza ni≈º <code class="docutils literal notranslate"><span class="pre">m_maxConnections</span></code>, dodaje najlepsze znalezione <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
<li><p>Je≈õli liczba jest r√≥wna <code class="docutils literal notranslate"><span class="pre">m_maxConnections</span></code>, a znalezione <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> jest znacznie lepsze ni≈º najgorsze z aktualnie u≈ºywanych, zastƒôpuje najgorsze nowym.</p></li>
<li><p>Po dodaniu nowego <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>, wysy≈Ça do niego wszystkie pakiety z kolejki <code class="docutils literal notranslate"><span class="pre">m_proxySendQueue</span></code> (pakiety, kt√≥re mog≈Çy zostaƒá utracone przez poprzednie <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>).</p></li>
</ol>
</section>
<section id="void-session-onproxypacket">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::onProxyPacket(...)</span></code><a class="headerlink" href="#void-session-onproxypacket" title="Link to this heading">#</a></h1>
<p>Handler dla pakiet√≥w przychodzƒÖcych od proxy.</p>
<ul class="simple">
<li><p>Sprawdza numer sekwencyjny (<code class="docutils literal notranslate"><span class="pre">packetId</span></code>). Odrzuca stare pakiety.</p></li>
<li><p>Usuwa z <code class="docutils literal notranslate"><span class="pre">m_proxySendQueue</span></code> pakiety wychodzƒÖce, kt√≥rych otrzymanie potwierdzi≈Ç serwer proxy (<code class="docutils literal notranslate"><span class="pre">lastRecivedPacketId</span></code>).</p></li>
<li><p>Dodaje przychodzƒÖcy pakiet do kolejki <code class="docutils literal notranslate"><span class="pre">m_sendQueue</span></code> (kt√≥ra tutaj dzia≈Ça jako bufor odbiorczy do re-asemblacji).</p></li>
<li><p>Je≈õli pakiet jest tym, na kt√≥ry czeka (<code class="docutils literal notranslate"><span class="pre">packetId</span> <span class="pre">==</span> <span class="pre">m_inputPacketId</span></code>), przetwarza go (i wszystkie nastƒôpne w kolejce), wywo≈ÇujƒÖc <code class="docutils literal notranslate"><span class="pre">m_recvCallback</span></code> lub wysy≈ÇajƒÖc do klienta gry.</p></li>
</ul>
</section>
<section id="void-session-onpacket">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::onPacket(...)</span></code><a class="headerlink" href="#void-session-onpacket" title="Link to this heading">#</a></h1>
<p>Handler dla pakiet√≥w przychodzƒÖcych od klienta gry.</p>
<ol class="arabic simple">
<li><p>Generuje nowy numer sekwencyjny (<code class="docutils literal notranslate"><span class="pre">m_outputPacketId</span></code>).</p></li>
<li><p>Opakowuje pakiet w nag≈Ç√≥wek protoko≈Çu proxy.</p></li>
<li><p>Dodaje opakowany pakiet do <code class="docutils literal notranslate"><span class="pre">m_proxySendQueue</span></code> (bufor do retransmisji).</p></li>
<li><p>Wysy≈Ça pakiet do wszystkich aktywnych <code class="docutils literal notranslate"><span class="pre">Proxy</span></code>.</p></li>
</ol>
</section>
<hr class="docutils" />
<section id="combinedsoundsource-cpp">
<h1>üìÑ combinedsoundsource.cpp<a class="headerlink" href="#combinedsoundsource-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id856">
<h1>Opis og√≥lny<a class="headerlink" href="#id856" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">combinedsoundsource.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code>, kt√≥ra jest specjalnym rodzajem ≈∫r√≥d≈Ça d≈∫wiƒôku.</p>
</section>
<section id="klasa-combinedsoundsource">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code><a class="headerlink" href="#klasa-combinedsoundsource" title="Link to this heading">#</a></h1>
</section>
<section id="id857">
<h1>Opis semantyczny<a class="headerlink" href="#id857" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code> dzia≈Ça jak kontener na wiele innych obiekt√≥w <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>. Wszystkie operacje wykonane na <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code> (np. <code class="docutils literal notranslate"><span class="pre">play()</span></code>, <code class="docutils literal notranslate"><span class="pre">stop()</span></code>, <code class="docutils literal notranslate"><span class="pre">setGain()</span></code>) sƒÖ delegowane i wykonywane na ka≈ºdym z podrzƒôdnych ≈∫r√≥de≈Ç d≈∫wiƒôku, kt√≥re przechowuje. Jest to u≈ºyteczne do tworzenia z≈Ço≈ºonych efekt√≥w d≈∫wiƒôkowych lub do implementacji obej≈õƒá (workarounds), jak w przypadku problemu z d≈∫wiƒôkiem stereo na Linuksie (gdzie d≈∫wiƒôk stereo jest symulowany przez dwa ≈∫r√≥d≈Ça mono).</p>
</section>
<section id="combinedsoundsource-combinedsoundsource">
<h1><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource::CombinedSoundSource()</span></code><a class="headerlink" href="#combinedsoundsource-combinedsoundsource" title="Link to this heading">#</a></h1>
<p>Konstruktor. Wywo≈Çuje konstruktor klasy bazowej <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> z ID 0, poniewa≈º sam nie reprezentuje rzeczywistego ≈∫r√≥d≈Ça w OpenAL.</p>
</section>
<section id="void-combinedsoundsource-addsource-const-soundsourceptr-source">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CombinedSoundSource::addSource(const</span> <span class="pre">SoundSourcePtr&amp;</span> <span class="pre">source)</span></code><a class="headerlink" href="#void-combinedsoundsource-addsource-const-soundsourceptr-source" title="Link to this heading">#</a></h1>
<p>Dodaje nowe podrzƒôdne ≈∫r√≥d≈Ço d≈∫wiƒôku do wewnƒôtrznego wektora <code class="docutils literal notranslate"><span class="pre">m_sources</span></code>.</p>
</section>
<section id="metody-operacyjne-play-stop-setlooping-setgain-etc">
<h1>Metody operacyjne (<code class="docutils literal notranslate"><span class="pre">play</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code>, <code class="docutils literal notranslate"><span class="pre">setLooping</span></code>, <code class="docutils literal notranslate"><span class="pre">setGain</span></code>, etc.)<a class="headerlink" href="#metody-operacyjne-play-stop-setlooping-setgain-etc" title="Link to this heading">#</a></h1>
<p>Ka≈ºda z tych metod jest prostƒÖ pƒôtlƒÖ, kt√≥ra iteruje po wektorze <code class="docutils literal notranslate"><span class="pre">m_sources</span></code> i wywo≈Çuje odpowiedniƒÖ metodƒô na ka≈ºdym z podrzƒôdnych obiekt√≥w <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">CombinedSoundSource::play</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">SoundSourcePtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">m_sources</span><span class="p">)</span>
<span class="w">        </span><span class="n">source</span><span class="err">‚Üí</span><span class="n">play</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">CombinedSoundSource::setGain</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">gain</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">SoundSourcePtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">m_sources</span><span class="p">)</span>
<span class="w">        </span><span class="n">source</span><span class="err">‚Üí</span><span class="n">setGain</span><span class="p">(</span><span class="n">gain</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// ... i tak dalej</span>
</pre></div>
</div>
</section>
<section id="metody-sprawdzajace-stan-isbuffering-isplaying">
<h1>Metody sprawdzajƒÖce stan (<code class="docutils literal notranslate"><span class="pre">isBuffering</span></code>, <code class="docutils literal notranslate"><span class="pre">isPlaying</span></code>)<a class="headerlink" href="#metody-sprawdzajace-stan-isbuffering-isplaying" title="Link to this heading">#</a></h1>
<p>ZwracajƒÖ <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli <strong>kt√≥rekolwiek</strong> z podrzƒôdnych ≈∫r√≥de≈Ç spe≈Çnia dany warunek.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="nf">CombinedSoundSource::isPlaying</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">SoundSourcePtr</span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">m_sources</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">source</span><span class="err">‚Üí</span><span class="n">isPlaying</span><span class="p">())</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="void-combinedsoundsource-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CombinedSoundSource::update()</span></code><a class="headerlink" href="#void-combinedsoundsource-update" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana w pƒôtli <code class="docutils literal notranslate"><span class="pre">SoundManager::poll()</span></code>. Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">update()</span></code> na wszystkich podrzƒôdnych ≈∫r√≥d≈Çach, co jest potrzebne np. do obs≈Çugi p≈Çynnego wyciszania/zg≈Ça≈õniania (fading).</p>
</section>
<section id="id858">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id858" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/combinedsoundsource.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p>U≈ºywana w <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code> jako obej≈õcie problemu z d≈∫wiƒôkiem stereo na Linuksie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="combinedsoundsource-h">
<h1>üìÑ combinedsoundsource.h<a class="headerlink" href="#combinedsoundsource-h" title="Link to this heading">#</a></h1>
</section>
<section id="id859">
<h1>Opis og√≥lny<a class="headerlink" href="#id859" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">combinedsoundsource.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code>, kt√≥ra jest kompozytem wielu ≈∫r√≥de≈Ç d≈∫wiƒôku, zachowujƒÖcym siƒô jak jedno.</p>
</section>
<section id="id860">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code><a class="headerlink" href="#id860" title="Link to this heading">#</a></h1>
</section>
<section id="id861">
<h1>Opis semantyczny<a class="headerlink" href="#id861" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code> implementuje wzorzec projektowy ‚ÄûKompozyt‚Äù. Pozwala traktowaƒá grupƒô obiekt√≥w <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> w ten sam spos√≥b, co pojedynczy obiekt. Wszystkie operacje sƒÖ delegowane do wewnƒôtrznej kolekcji ≈∫r√≥de≈Ç. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>, aby zachowaƒá zgodno≈õƒá interfejsu.</p>
</section>
<section id="id862">
<h1>Metody publiczne<a class="headerlink" href="#id862" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource()</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">addSource(...)</span></code></p></td>
<td class="text-left"><p>Dodaje podrzƒôdne ≈∫r√≥d≈Ço d≈∫wiƒôku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;...&gt;</span> <span class="pre">getSources()</span></code></p></td>
<td class="text-left"><p>Zwraca listƒô podrzƒôdnych ≈∫r√≥de≈Ç.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">play()</span></code>, <code class="docutils literal notranslate"><span class="pre">stop()</span></code>, <code class="docutils literal notranslate"><span class="pre">setLooping()</span></code>, <code class="docutils literal notranslate"><span class="pre">setGain()</span></code>, <code class="docutils literal notranslate"><span class="pre">setPosition()</span></code>, etc.</p></td>
<td class="text-left"><p>Metody delegujƒÖce operacje do wszystkich podrzƒôdnych ≈∫r√≥de≈Ç.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isBuffering()</span></code>, <code class="docutils literal notranslate"><span class="pre">isPlaying()</span></code></p></td>
<td class="text-left"><p>SprawdzajƒÖ stan, zwracajƒÖc <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli co najmniej jedno podrzƒôdne ≈∫r√≥d≈Ço jest w danym stanie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id863">
<h1>Metody chronione<a class="headerlink" href="#id863" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">update()</span></code>: Przes≈Çania metodƒô z <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> i wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">update()</span></code> na wszystkich dzieciach.</p></li>
</ul>
</section>
<section id="id864">
<h1>Zmienne prywatne<a class="headerlink" href="#id864" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_sources</span></code>: Wektor (<code class="docutils literal notranslate"><span class="pre">std::vector</span></code>) przechowujƒÖcy wska≈∫niki na podrzƒôdne obiekty <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>.</p></li>
</ul>
</section>
<section id="id865">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id865" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundsource.h</span></code>: Klasa bazowa i typ przechowywanych obiekt√≥w.</p></li>
<li><p>Jest tworzona i u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="oggsoundfile-cpp">
<h1>üìÑ oggsoundfile.cpp<a class="headerlink" href="#oggsoundfile-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id866">
<h1>Opis og√≥lny<a class="headerlink" href="#id866" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">oggsoundfile.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code>, kt√≥ra jest odpowiedzialna za odczytywanie i dekodowanie plik√≥w d≈∫wiƒôkowych w formacie Ogg Vorbis.</p>
</section>
<section id="klasa-oggsoundfile">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code><a class="headerlink" href="#klasa-oggsoundfile" title="Link to this heading">#</a></h1>
</section>
<section id="oggsoundfile-oggsoundfile-const-filestreamptr-filestream">
<h1><code class="docutils literal notranslate"><span class="pre">OggSoundFile::OggSoundFile(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fileStream)</span></code><a class="headerlink" href="#oggsoundfile-oggsoundfile-const-filestreamptr-filestream" title="Link to this heading">#</a></h1>
<p>Konstruktor. Wywo≈Çuje konstruktor klasy bazowej <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code>.</p>
</section>
<section id="oggsoundfile-oggsoundfile">
<h1><code class="docutils literal notranslate"><span class="pre">OggSoundFile::~OggSoundFile()</span></code><a class="headerlink" href="#oggsoundfile-oggsoundfile" title="Link to this heading">#</a></h1>
<p>Destruktor. Zwalnia zasoby zwiƒÖzane z bibliotekƒÖ Vorbis, wywo≈ÇujƒÖc <code class="docutils literal notranslate"><span class="pre">ov_clear()</span></code>.</p>
</section>
<section id="bool-oggsoundfile-prepareogg">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OggSoundFile::prepareOgg()</span></code><a class="headerlink" href="#bool-oggsoundfile-prepareogg" title="Link to this heading">#</a></h1>
</section>
<section id="id867">
<h1>Opis semantyczny<a class="headerlink" href="#id867" title="Link to this heading">#</a></h1>
<p>Inicjalizuje proces dekodowania pliku Ogg Vorbis.</p>
</section>
<section id="id868">
<h1>Dzia≈Çanie<a class="headerlink" href="#id868" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzy strukturƒô <code class="docutils literal notranslate"><span class="pre">ov_callbacks</span></code> z wska≈∫nikami na statyczne metody <code class="docutils literal notranslate"><span class="pre">cb_...</span></code>, kt√≥re bƒôdƒÖ u≈ºywane przez bibliotekƒô Vorbis do odczytu danych ze strumienia <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">ov_open_callbacks</span></code>, przekazujƒÖc <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> jako ≈∫r√≥d≈Ço danych.</p></li>
<li><p>Pobiera informacje o pliku (liczba kana≈Ç√≥w, czƒôstotliwo≈õƒá pr√≥bkowania) za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">ov_info</span></code>.</p></li>
<li><p>Zapisuje te informacje w polach klasy bazowej (<code class="docutils literal notranslate"><span class="pre">m_channels</span></code>, <code class="docutils literal notranslate"><span class="pre">m_rate</span></code>).</p></li>
<li><p>Oblicza ca≈Çkowity rozmiar zdekompresowanych danych za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">ov_pcm_total</span></code>.</p></li>
</ol>
</section>
<section id="int-oggsoundfile-read-void-buffer-int-buffersize">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">OggSoundFile::read(void</span> <span class="pre">*buffer,</span> <span class="pre">int</span> <span class="pre">bufferSize)</span></code><a class="headerlink" href="#int-oggsoundfile-read-void-buffer-int-buffersize" title="Link to this heading">#</a></h1>
<p>Odczytuje i dekoduje fragment pliku d≈∫wiƒôkowego do podanego bufora. Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">ov_read</span></code>, kt√≥ra wykonuje ca≈ÇƒÖ pracƒô zwiƒÖzanƒÖ z dekodowaniem.</p>
</section>
<section id="void-oggsoundfile-reset">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OggSoundFile::reset()</span></code><a class="headerlink" href="#void-oggsoundfile-reset" title="Link to this heading">#</a></h1>
<p>Przewija strumie≈Ñ d≈∫wiƒôkowy na poczƒÖtek za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">ov_pcm_seek()</span></code>.</p>
</section>
<section id="statyczne-metody-cb">
<h1>Statyczne metody <code class="docutils literal notranslate"><span class="pre">cb_...</span></code><a class="headerlink" href="#statyczne-metody-cb" title="Link to this heading">#</a></h1>
<p>SƒÖ to funkcje zwrotne (callbacks) C, kt√≥re opakowujƒÖ metody obiektu <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>, t≈ÇumaczƒÖc interfejs wymagany przez <code class="docutils literal notranslate"><span class="pre">libvorbisfile</span></code> na interfejs <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cb_read</span></code>: opakowuje <code class="docutils literal notranslate"><span class="pre">file‚Üíread()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_seek</span></code>: opakowuje <code class="docutils literal notranslate"><span class="pre">file‚Üíseek()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_close</span></code>: opakowuje <code class="docutils literal notranslate"><span class="pre">file‚Üíclose()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cb_tell</span></code>: opakowuje <code class="docutils literal notranslate"><span class="pre">file‚Üítell()</span></code></p></li>
</ul>
</section>
<section id="id869">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id869" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/oggsoundfile.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><strong>libvorbisfile</strong>: Kluczowa zale≈ºno≈õƒá do dekodowania plik√≥w Ogg Vorbis.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">SoundFile::loadSoundFile</span></code>, gdy wykryty zostanie plik w formacie Ogg.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id870">
<h1>üìÑ declarations.h<a class="headerlink" href="#id870" title="Link to this heading">#</a></h1>
</section>
<section id="id871">
<h1>Opis og√≥lny<a class="headerlink" href="#id871" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">sound</span></code> s≈Çu≈ºy do wczesnych deklaracji klas i definicji typ√≥w wska≈∫nik√≥w zwiƒÖzanych z systemem d≈∫wiƒôku. Jest on kompilowany tylko wtedy, gdy zdefiniowano flagƒô <code class="docutils literal notranslate"><span class="pre">FW_SOUND</span></code>.</p>
</section>
<section id="id872">
<h1>Wczesne deklaracje<a class="headerlink" href="#id872" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SoundManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundSource</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundFile</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code></p></li>
</ul>
</section>
<section id="id873">
<h1>Definicje typ√≥w<a class="headerlink" href="#id873" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundFilePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundBufferPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SoundChannelPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StreamSoundSourcePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CombinedSoundSourcePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OggSoundFilePtr</span></code></p></li>
</ul>
</section>
<section id="dolaczanie-naglowkow-openal">
<h1>Do≈ÇƒÖczanie nag≈Ç√≥wk√≥w OpenAL<a class="headerlink" href="#dolaczanie-naglowkow-openal" title="Link to this heading">#</a></h1>
<p>Plik do≈ÇƒÖcza nag≈Ç√≥wki biblioteki OpenAL (<code class="docutils literal notranslate"><span class="pre">al.h</span></code>, <code class="docutils literal notranslate"><span class="pre">alc.h</span></code>), kt√≥ra jest podstawƒÖ ca≈Çego systemu d≈∫wiƒôku.</p>
</section>
<section id="id874">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id874" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest do≈ÇƒÖczany przez wszystkie pliki nag≈Ç√≥wkowe w module <code class="docutils literal notranslate"><span class="pre">sound</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="oggsoundfile-h">
<h1>üìÑ oggsoundfile.h<a class="headerlink" href="#oggsoundfile-h" title="Link to this heading">#</a></h1>
</section>
<section id="id875">
<h1>Opis og√≥lny<a class="headerlink" href="#id875" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">oggsoundfile.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code>, kt√≥ra jest konkretnƒÖ implementacjƒÖ <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code> do obs≈Çugi plik√≥w w formacie Ogg Vorbis.</p>
</section>
<section id="id876">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code><a class="headerlink" href="#id876" title="Link to this heading">#</a></h1>
</section>
<section id="id877">
<h1>Opis semantyczny<a class="headerlink" href="#id877" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code> i implementuje jej wirtualne metody, u≈ºywajƒÖc biblioteki <code class="docutils literal notranslate"><span class="pre">libvorbisfile</span></code> do dekodowania danych. Enkapsuluje ona strukturƒô <code class="docutils literal notranslate"><span class="pre">OggVorbis_File</span></code> i dostarcza <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> C, kt√≥re pozwalajƒÖ bibliotece Vorbis na odczyt danych ze strumienia <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>.</p>
</section>
<section id="id878">
<h1>Metody publiczne<a class="headerlink" href="#id878" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OggSoundFile(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~OggSoundFile()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">prepareOgg()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje dekoder Vorbis i odczytuje metadane pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">read(...)</span></code></p></td>
<td class="text-left"><p>Odczytuje i dekoduje fragment danych.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">reset()</span></code></p></td>
<td class="text-left"><p>Przewija strumie≈Ñ na poczƒÖtek.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-prywatne-statyczne">
<h1>Metody prywatne (statyczne)<a class="headerlink" href="#metody-prywatne-statyczne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cb_read</span></code>, <code class="docutils literal notranslate"><span class="pre">cb_seek</span></code>, <code class="docutils literal notranslate"><span class="pre">cb_close</span></code>, <code class="docutils literal notranslate"><span class="pre">cb_tell</span></code>: Statyczne funkcje zwrotne dla <code class="docutils literal notranslate"><span class="pre">libvorbisfile</span></code>.</p></li>
</ul>
</section>
<section id="id879">
<h1>Zmienne prywatne<a class="headerlink" href="#id879" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_vorbisFile</span></code>: Uchwyt do struktur <code class="docutils literal notranslate"><span class="pre">libvorbisfile</span></code>.</p></li>
</ul>
</section>
<section id="id880">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id880" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundfile.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vorbis/vorbisfile.h</span></code>: Nag≈Ç√≥wek biblioteki Vorbis.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">SoundFile::loadSoundFile</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="soundbuffer-cpp">
<h1>üìÑ soundbuffer.cpp<a class="headerlink" href="#soundbuffer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id881">
<h1>Opis og√≥lny<a class="headerlink" href="#id881" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundbuffer.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>, kt√≥ra jest opakowaniem na bufor audio w OpenAL.</p>
</section>
<section id="klasa-soundbuffer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code><a class="headerlink" href="#klasa-soundbuffer" title="Link to this heading">#</a></h1>
</section>
<section id="id882">
<h1>Opis semantyczny<a class="headerlink" href="#id882" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> reprezentuje blok danych audio (pr√≥bek d≈∫wiƒôkowych) za≈Çadowany do pamiƒôci, gotowy do odtworzenia przez OpenAL. Ka≈ºdy <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> ma unikalne ID w OpenAL. Jest u≈ºywany do przechowywania kr√≥tkich, czƒôsto odtwarzanych d≈∫wiƒôk√≥w, kt√≥re op≈Çaca siƒô trzymaƒá w pamiƒôci.</p>
</section>
<section id="soundbuffer-soundbuffer">
<h1><code class="docutils literal notranslate"><span class="pre">SoundBuffer::SoundBuffer()</span></code><a class="headerlink" href="#soundbuffer-soundbuffer" title="Link to this heading">#</a></h1>
<p>Konstruktor. Generuje nowy bufor OpenAL za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">alGenBuffers()</span></code> i zapisuje jego ID.</p>
</section>
<section id="id883">
<h1><code class="docutils literal notranslate"><span class="pre">SoundBuffer::~SoundBuffer()</span></code><a class="headerlink" href="#id883" title="Link to this heading">#</a></h1>
<p>Destruktor. Zwalnia bufor OpenAL za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">alDeleteBuffers()</span></code>.</p>
</section>
<section id="bool-soundbuffer-fillbuffer-const-soundfileptr-soundfile">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundBuffer::fillBuffer(const</span> <span class="pre">SoundFilePtr&amp;</span> <span class="pre">soundFile)</span></code><a class="headerlink" href="#bool-soundbuffer-fillbuffer-const-soundfileptr-soundfile" title="Link to this heading">#</a></h1>
<p>Wype≈Çnia bufor danymi z obiektu <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code>.</p>
<ol class="arabic simple">
<li><p>Pobiera format, rozmiar i czƒôstotliwo≈õƒá pr√≥bkowania z <code class="docutils literal notranslate"><span class="pre">soundFile</span></code>.</p></li>
<li><p>Odczytuje ca≈ÇƒÖ zawarto≈õƒá pliku d≈∫wiƒôkowego do tymczasowego bufora w RAM.</p></li>
<li><p>Wywo≈Çuje drugƒÖ wersjƒô <code class="docutils literal notranslate"><span class="pre">fillBuffer</span></code> w celu przes≈Çania danych do OpenAL.</p></li>
</ol>
</section>
<section id="bool-soundbuffer-fillbuffer-alenum-sampleformat-const-databuffer-char-data-int-size-int-rate">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundBuffer::fillBuffer(ALenum</span> <span class="pre">sampleFormat,</span> <span class="pre">const</span> <span class="pre">DataBuffer&lt;char&gt;&amp;</span> <span class="pre">data,</span> <span class="pre">int</span> <span class="pre">size,</span> <span class="pre">int</span> <span class="pre">rate)</span></code><a class="headerlink" href="#bool-soundbuffer-fillbuffer-alenum-sampleformat-const-databuffer-char-data-int-size-int-rate" title="Link to this heading">#</a></h1>
<p>Przesy≈Ça surowe dane pr√≥bek d≈∫wiƒôkowych do bufora OpenAL za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">alBufferData()</span></code>.</p>
</section>
<section id="id884">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id884" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundbuffer.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundfile.h</span></code>: Do pobierania danych z plik√≥w.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>, kt√≥ry przechowuje je w cache.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> jako ≈∫r√≥d≈Ço danych do odtwarzania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="soundbuffer-h">
<h1>üìÑ soundbuffer.h<a class="headerlink" href="#soundbuffer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id885">
<h1>Opis og√≥lny<a class="headerlink" href="#id885" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundbuffer.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>, kt√≥ra jest opakowaniem na bufor audio OpenAL.</p>
</section>
<section id="id886">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code><a class="headerlink" href="#id886" title="Link to this heading">#</a></h1>
</section>
<section id="id887">
<h1>Opis semantyczny<a class="headerlink" href="#id887" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> enkapsuluje ID bufora OpenAL i dostarcza metody do wype≈Çniania go danymi d≈∫wiƒôkowymi. Jest to obiekt przechowujƒÖcy dane audio, kt√≥ry mo≈ºe byƒá nastƒôpnie przypisany do jednego lub wielu <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> w celu odtwarzania.</p>
</section>
<section id="id888">
<h1>Metody publiczne<a class="headerlink" href="#id888" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundBuffer()</span></code> / <code class="docutils literal notranslate"><span class="pre">~SoundBuffer()</span></code></p></td>
<td class="text-left"><p>Konstruktor i destruktor zarzƒÖdzajƒÖce zasobem OpenAL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">fillBuffer(const</span> <span class="pre">SoundFilePtr&amp;</span> <span class="pre">soundFile)</span></code></p></td>
<td class="text-left"><p>Wype≈Çnia bufor danymi z pliku d≈∫wiƒôkowego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">fillBuffer(...)</span></code></p></td>
<td class="text-left"><p>Wype≈Çnia bufor surowymi danymi z pamiƒôci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">getBufferId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID bufora w OpenAL.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id889">
<h1>Zmienne prywatne<a class="headerlink" href="#id889" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_bufferId</span></code>: ID (uchwyt) bufora w OpenAL.</p></li>
</ul>
</section>
<section id="id890">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id890" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/declarations.h</span></code>: Definicje typ√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/databuffer.h</span></code>: Do pracy z buforami danych.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="soundfile-cpp">
<h1>üìÑ soundfile.cpp<a class="headerlink" href="#soundfile-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id891">
<h1>Opis og√≥lny<a class="headerlink" href="#id891" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundfile.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code>, kt√≥ra jest abstrakcyjnƒÖ klasƒÖ bazowƒÖ do odczytu r√≥≈ºnych format√≥w plik√≥w d≈∫wiƒôkowych.</p>
</section>
<section id="klasa-soundfile">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code><a class="headerlink" href="#klasa-soundfile" title="Link to this heading">#</a></h1>
</section>
<section id="soundfile-soundfile-const-filestreamptr-filestream">
<h1><code class="docutils literal notranslate"><span class="pre">SoundFile::SoundFile(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fileStream)</span></code><a class="headerlink" href="#soundfile-soundfile-const-filestreamptr-filestream" title="Link to this heading">#</a></h1>
<p>Konstruktor. Zapisuje wska≈∫nik do strumienia pliku.</p>
</section>
<section id="soundfileptr-soundfile-loadsoundfile-const-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">SoundFilePtr</span> <span class="pre">SoundFile::loadSoundFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">filename)</span></code><a class="headerlink" href="#soundfileptr-soundfile-loadsoundfile-const-std-string-filename" title="Link to this heading">#</a></h1>
</section>
<section id="id892">
<h1>Opis semantyczny<a class="headerlink" href="#id892" title="Link to this heading">#</a></h1>
<p>Statyczna metoda fabryczna, kt√≥ra pr√≥buje za≈Çadowaƒá plik d≈∫wiƒôkowy. Automatycznie wykrywa format pliku i tworzy odpowiedniƒÖ podklasƒô <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code>.</p>
</section>
<section id="id893">
<h1>Dzia≈Çanie<a class="headerlink" href="#id893" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Otwiera plik za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_resources.openFile()</span></code>.</p></li>
<li><p>Odczytuje pierwsze 4 bajty (‚Äûmagiczne bajty‚Äù), aby zidentyfikowaƒá format.</p></li>
<li><p>Je≈õli plik to Ogg Vorbis (zaczyna siƒô od ‚ÄûOggS‚Äù), tworzy instancjƒô <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code> i wywo≈Çuje jej metodƒô <code class="docutils literal notranslate"><span class="pre">prepareOgg()</span></code>.</p></li>
<li><p>W przypadku nieznanego formatu rzuca wyjƒÖtek.</p></li>
</ol>
</section>
<section id="alenum-soundfile-getsampleformat">
<h1><code class="docutils literal notranslate"><span class="pre">ALenum</span> <span class="pre">SoundFile::getSampleFormat()</span></code><a class="headerlink" href="#alenum-soundfile-getsampleformat" title="Link to this heading">#</a></h1>
<p>Konwertuje wewnƒôtrzne informacje o liczbie kana≈Ç√≥w i bitach na sekundƒô na format zrozumia≈Çy dla OpenAL (np. <code class="docutils literal notranslate"><span class="pre">AL_FORMAT_STEREO16</span></code>).</p>
</section>
<section id="id894">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id894" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundfile.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/oggsoundfile.h</span></code>: Implementacja dla formatu Ogg.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code>: Do otwierania plik√≥w.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> i <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> jako ≈∫r√≥d≈Ço danych audio.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="soundchannel-cpp">
<h1>üìÑ soundchannel.cpp<a class="headerlink" href="#soundchannel-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id895">
<h1>Opis og√≥lny<a class="headerlink" href="#id895" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundchannel.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code>, kt√≥ra reprezentuje kana≈Ç d≈∫wiƒôkowy, umo≈ºliwiajƒÖcy odtwarzanie d≈∫wiƒôk√≥w w spos√≥b zorganizowany i kontrolowany.</p>
</section>
<section id="klasa-soundchannel">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code><a class="headerlink" href="#klasa-soundchannel" title="Link to this heading">#</a></h1>
</section>
<section id="soundsourceptr-soundchannel-play">
<h1><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundChannel::play(...)</span></code><a class="headerlink" href="#soundsourceptr-soundchannel-play" title="Link to this heading">#</a></h1>
<p>Odtwarza nowy d≈∫wiƒôk na tym kanale. Je≈õli inny d≈∫wiƒôk jest ju≈º odtwarzany, zostaje on zatrzymany. Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">g_sounds.play</span></code>, aby utworzyƒá i uruchomiƒá nowe ≈∫r√≥d≈Ço d≈∫wiƒôku.</p>
</section>
<section id="void-soundchannel-stop-float-fadetime">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::stop(float</span> <span class="pre">fadetime)</span></code><a class="headerlink" href="#void-soundchannel-stop-float-fadetime" title="Link to this heading">#</a></h1>
<p>Zatrzymuje bie≈ºƒÖcy d≈∫wiƒôk i czy≈õci kolejkƒô. Opcjonalnie mo≈ºe to zrobiƒá z efektem wyciszania (<code class="docutils literal notranslate"><span class="pre">fadetime</span></code>).</p>
</section>
<section id="void-soundchannel-enqueue">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::enqueue(...)</span></code><a class="headerlink" href="#void-soundchannel-enqueue" title="Link to this heading">#</a></h1>
<p>Dodaje plik d≈∫wiƒôkowy do kolejki odtwarzania. Gdy bie≈ºƒÖcy d≈∫wiƒôk siƒô sko≈Ñczy, <code class="docutils literal notranslate"><span class="pre">update()</span></code> automatycznie odtworzy nastƒôpny z kolejki. Kolejka jest tasowana, aby zapewniƒá losowƒÖ kolejno≈õƒá odtwarzania.</p>
</section>
<section id="void-soundchannel-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::update()</span></code><a class="headerlink" href="#void-soundchannel-update" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana cyklicznie przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p>
<ul class="simple">
<li><p>Sprawdza, czy bie≈ºƒÖce ≈∫r√≥d≈Ço d≈∫wiƒôku zako≈Ñczy≈Ço odtwarzanie. Je≈õli tak, zwalnia je.</p></li>
<li><p>Je≈õli nie ma bie≈ºƒÖcego ≈∫r√≥d≈Ça, a kolejka nie jest pusta, pobiera nastƒôpny utw√≥r z kolejki i go odtwarza.</p></li>
</ul>
</section>
<section id="void-soundchannel-setenabled-bool-enable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::setEnabled(bool</span> <span class="pre">enable)</span></code><a class="headerlink" href="#void-soundchannel-setenabled-bool-enable" title="Link to this heading">#</a></h1>
<p>W≈ÇƒÖcza lub wy≈ÇƒÖcza kana≈Ç. Wy≈ÇƒÖczenie kana≈Çu natychmiast zatrzymuje odtwarzany d≈∫wiƒôk i zapobiega odtwarzaniu nowych.</p>
</section>
<section id="void-soundchannel-setgain-float-gain">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::setGain(float</span> <span class="pre">gain)</span></code><a class="headerlink" href="#void-soundchannel-setgain-float-gain" title="Link to this heading">#</a></h1>
<p>Ustawia og√≥lnƒÖ g≈Ço≈õno≈õƒá dla kana≈Çu. G≈Ço≈õno≈õƒá ta jest mno≈ºona przez g≈Ço≈õno≈õƒá poszczeg√≥lnych d≈∫wiƒôk√≥w odtwarzanych na tym kanale.</p>
</section>
<section id="id896">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id896" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundchannel.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/streamsoundsource.h</span></code>: U≈ºywane do efekt√≥w wyciszania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundmanager.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">g_sounds</span></code> do tworzenia ≈∫r√≥de≈Ç d≈∫wiƒôku.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="soundchannel-h">
<h1>üìÑ soundchannel.h<a class="headerlink" href="#soundchannel-h" title="Link to this heading">#</a></h1>
</section>
<section id="id897">
<h1>Opis og√≥lny<a class="headerlink" href="#id897" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundchannel.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code>, kt√≥ra reprezentuje logiczny kana≈Ç audio.</p>
</section>
<section id="id898">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code><a class="headerlink" href="#id898" title="Link to this heading">#</a></h1>
</section>
<section id="id899">
<h1>Opis semantyczny<a class="headerlink" href="#id899" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code> pozwala na grupowanie i zarzƒÖdzanie odtwarzaniem d≈∫wiƒôk√≥w. Ka≈ºdy kana≈Ç mo≈ºe odtwarzaƒá tylko jeden d≈∫wiƒôk naraz, ale posiada kolejkƒô, kt√≥ra pozwala na automatyczne odtwarzanie kolejnych utwor√≥w. Umo≈ºliwia globalnƒÖ kontrolƒô nad grupƒÖ d≈∫wiƒôk√≥w, np. ustawienie g≈Ço≈õno≈õci dla ca≈Çej muzyki w grze.</p>
</section>
<section id="id900">
<h1>Metody publiczne<a class="headerlink" href="#id900" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundChannel(int</span> <span class="pre">id)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">play(...)</span></code></p></td>
<td class="text-left"><p>Odtwarza d≈∫wiƒôk na tym kanale, przerywajƒÖc poprzedni.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">stop(...)</span></code></p></td>
<td class="text-left"><p>Zatrzymuje odtwarzanie i czy≈õci kolejkƒô.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">enqueue(...)</span></code></p></td>
<td class="text-left"><p>Dodaje d≈∫wiƒôk do kolejki odtwarzania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">enable()</span></code> / <code class="docutils literal notranslate"><span class="pre">disable()</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza/wy≈ÇƒÖcza kana≈Ç.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setGain(float</span> <span class="pre">gain)</span></code></p></td>
<td class="text-left"><p>Ustawia g≈Ço≈õno≈õƒá kana≈Çu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">getGain()</span></code></p></td>
<td class="text-left"><p>Zwraca g≈Ço≈õno≈õƒá kana≈Çu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isEnabled()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy kana≈Ç jest w≈ÇƒÖczony.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getId()</span></code></p></td>
<td class="text-left"><p>Zwraca ID kana≈Çu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id901">
<h1>Metody chronione<a class="headerlink" href="#id901" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code>: Metoda cykliczna do zarzƒÖdzania kolejkƒÖ.</p></li>
</ul>
</section>
<section id="id902">
<h1>Zmienne prywatne<a class="headerlink" href="#id902" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_queue</span></code>: Kolejka (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) utwor√≥w do odtworzenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_currentSource</span></code>: Wska≈∫nik na aktualnie odtwarzane ≈∫r√≥d≈Ço d≈∫wiƒôku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_enabled</span></code>: Flaga w≈ÇƒÖczenia kana≈Çu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_id</span></code>: ID kana≈Çu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_gain</span></code>: G≈Ço≈õno≈õƒá kana≈Çu.</p></li>
</ul>
</section>
<section id="id903">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id903" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundsource.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span></code>.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, co udostƒôpnia jej API w Lua.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="soundfile-h">
<h1>üìÑ soundfile.h<a class="headerlink" href="#soundfile-h" title="Link to this heading">#</a></h1>
</section>
<section id="id904">
<h1>Opis og√≥lny<a class="headerlink" href="#id904" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundfile.h</span></code> deklaruje abstrakcyjnƒÖ klasƒô bazowƒÖ <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code>, kt√≥ra definiuje wsp√≥lny interfejs do odczytu danych z r√≥≈ºnych format√≥w plik√≥w d≈∫wiƒôkowych.</p>
</section>
<section id="id905">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code><a class="headerlink" href="#id905" title="Link to this heading">#</a></h1>
</section>
<section id="id906">
<h1>Opis semantyczny<a class="headerlink" href="#id906" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundFile</span></code> jest abstrakcjƒÖ nad plikiem d≈∫wiƒôkowym. Ukrywa szczeg√≥≈Çy konkretnego formatu (np. Ogg, WAV), dostarczajƒÖc ujednolicony spos√≥b na odczytywanie zdekompresowanych pr√≥bek audio.</p>
</section>
<section id="id907">
<h1>Metody publiczne<a class="headerlink" href="#id907" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundFile(...)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">SoundFilePtr</span> <span class="pre">loadSoundFile(...)</span></code></p></td>
<td class="text-left"><p>Statyczna metoda fabryczna, kt√≥ra wykrywa format pliku i tworzy odpowiedniƒÖ podklasƒô.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">int</span> <span class="pre">read(...)</span> <span class="pre">=</span> <span class="pre">0</span></code></p></td>
<td class="text-left"><p>Czysto wirtualna metoda do odczytu zdekompresowanych danych.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">reset()</span> <span class="pre">=</span> <span class="pre">0</span></code></p></td>
<td class="text-left"><p>Czysto wirtualna metoda do przewiniƒôcia strumienia na poczƒÖtek.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">eof()</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy osiƒÖgniƒôto koniec pliku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ALenum</span> <span class="pre">getSampleFormat()</span></code></p></td>
<td class="text-left"><p>Konwertuje format (kana≈Çy, bity) na format OpenAL.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">getChannels()</span></code>, <code class="docutils literal notranslate"><span class="pre">getRate()</span></code>, <code class="docutils literal notranslate"><span class="pre">getBpp()</span></code>, <code class="docutils literal notranslate"><span class="pre">getSize()</span></code>, <code class="docutils literal notranslate"><span class="pre">getName()</span></code></p></td>
<td class="text-left"><p>Gettery dla metadanych pliku.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id908">
<h1>Zmienne chronione<a class="headerlink" href="#id908" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_file</span></code>: Wska≈∫nik na <code class="docutils literal notranslate"><span class="pre">FileStream</span></code>, z kt√≥rego odczytywane sƒÖ dane.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_channels</span></code>, <code class="docutils literal notranslate"><span class="pre">m_rate</span></code>, <code class="docutils literal notranslate"><span class="pre">m_bps</span></code>, <code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Metadane d≈∫wiƒôku.</p></li>
</ul>
</section>
<section id="id909">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id909" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/declarations.h</span></code>: Deklaracje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/filestream.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code> jako ≈∫r√≥d≈Ça danych.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code> i potencjalnie innych klas dla r√≥≈ºnych format√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="soundmanager-cpp">
<h1>üìÑ soundmanager.cpp<a class="headerlink" href="#soundmanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id910">
<h1>Opis og√≥lny<a class="headerlink" href="#id910" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundmanager.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_sounds</span></code>) i centralnym punktem zarzƒÖdzania ca≈Çym podsystemem d≈∫wiƒôku.</p>
</section>
<section id="id911">
<h1>Zmienne globalne<a class="headerlink" href="#id911" title="Link to this heading">#</a></h1>
</section>
<section id="g-sounds">
<h1><code class="docutils literal notranslate"><span class="pre">g_sounds</span></code><a class="headerlink" href="#g-sounds" title="Link to this heading">#</a></h1>
<p>Globalna instancja <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p>
</section>
<section id="klasa-soundmanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code><a class="headerlink" href="#klasa-soundmanager" title="Link to this heading">#</a></h1>
</section>
<section id="void-soundmanager-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::init()</span></code><a class="headerlink" href="#void-soundmanager-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje system d≈∫wiƒôku.</p>
<ol class="arabic simple">
<li><p>Otwiera domy≈õlne urzƒÖdzenie audio za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">alcOpenDevice</span></code>.</p></li>
<li><p>Tworzy kontekst OpenAL za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">alcCreateContext</span></code>.</p></li>
<li><p>Ustawia ten kontekst jako aktywny za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">alcMakeContextCurrent</span></code>.</p></li>
</ol>
</section>
<section id="void-soundmanager-terminate">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::terminate()</span></code><a class="headerlink" href="#void-soundmanager-terminate" title="Link to this heading">#</a></h1>
<p>Zamyka system d≈∫wiƒôku. Zwalnia wszystkie zasoby (≈∫r√≥d≈Ça, bufory, kana≈Çy), niszczy kontekst i zamyka urzƒÖdzenie audio.</p>
</section>
<section id="void-soundmanager-poll">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::poll()</span></code><a class="headerlink" href="#void-soundmanager-poll" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana cyklicznie w g≈Ç√≥wnej pƒôtli aplikacji.</p>
<ul class="simple">
<li><p>Aktualizuje wszystkie aktywne ≈∫r√≥d≈Ça d≈∫wiƒôku (<code class="docutils literal notranslate"><span class="pre">m_sources</span></code>).</p></li>
<li><p>Aktualizuje wszystkie kana≈Çy d≈∫wiƒôkowe (<code class="docutils literal notranslate"><span class="pre">m_channels</span></code>), co pozwala na zarzƒÖdzanie kolejkami odtwarzania.</p></li>
<li><p>Przetwarza asynchronicznie ≈Çadowane pliki d≈∫wiƒôkowe.</p></li>
</ul>
</section>
<section id="void-soundmanager-setaudioenabled-bool-enable">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::setAudioEnabled(bool</span> <span class="pre">enable)</span></code><a class="headerlink" href="#void-soundmanager-setaudioenabled-bool-enable" title="Link to this heading">#</a></h1>
<p>Globalnie w≈ÇƒÖcza lub wy≈ÇƒÖcza d≈∫wiƒôk. Wy≈ÇƒÖczenie powoduje zatrzymanie wszystkich odtwarzanych d≈∫wiƒôk√≥w.</p>
</section>
<section id="void-soundmanager-preload-std-string-filename">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::preload(std::string</span> <span class="pre">filename)</span></code><a class="headerlink" href="#void-soundmanager-preload-std-string-filename" title="Link to this heading">#</a></h1>
<p>≈Åaduje plik d≈∫wiƒôkowy do pamiƒôci i tworzy z niego <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>. Jest to optymalizacja dla kr√≥tkich, czƒôsto u≈ºywanych d≈∫wiƒôk√≥w. Bufor jest przechowywany w cache (<code class="docutils literal notranslate"><span class="pre">m_buffers</span></code>).</p>
</section>
<section id="soundsourceptr-soundmanager-play">
<h1><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundManager::play(...)</span></code><a class="headerlink" href="#soundsourceptr-soundmanager-play" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda do odtwarzania d≈∫wiƒôku.</p>
<ol class="arabic simple">
<li><p>Tworzy odpowiednie ≈∫r√≥d≈Ço d≈∫wiƒôku (<code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> dla skeszowanych plik√≥w lub <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> dla strumieniowanych).</p></li>
<li><p>Ustawia jego parametry (g≈Ço≈õno≈õƒá, fadetime).</p></li>
<li><p>Rozpoczyna odtwarzanie i dodaje ≈∫r√≥d≈Ço do listy aktywnych ≈∫r√≥de≈Ç.</p></li>
</ol>
</section>
<section id="soundchannelptr-soundmanager-getchannel-int-channel">
<h1><code class="docutils literal notranslate"><span class="pre">SoundChannelPtr</span> <span class="pre">SoundManager::getChannel(int</span> <span class="pre">channel)</span></code><a class="headerlink" href="#soundchannelptr-soundmanager-getchannel-int-channel" title="Link to this heading">#</a></h1>
<p>Zwraca obiekt kana≈Çu o danym ID. Je≈õli kana≈Ç nie istnieje, jest tworzony.</p>
</section>
<section id="soundsourceptr-soundmanager-createsoundsource">
<h1><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundManager::createSoundSource(...)</span></code><a class="headerlink" href="#soundsourceptr-soundmanager-createsoundsource" title="Link to this heading">#</a></h1>
<p>Metoda pomocnicza, kt√≥ra decyduje, czy utworzyƒá <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> (z bufora) czy <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> (strumieniowanie z pliku). Dla Linuksa implementuje obej≈õcie problemu z d≈∫wiƒôkiem stereo, tworzƒÖc <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code> z dwoma ≈∫r√≥d≈Çami mono.</p>
</section>
<section id="void-soundmanager-ensurecontext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::ensureContext()</span></code><a class="headerlink" href="#void-soundmanager-ensurecontext" title="Link to this heading">#</a></h1>
<p>Upewnia siƒô, ≈ºe kontekst OpenAL jest aktywny w bie≈ºƒÖcym wƒÖtku.</p>
</section>
<section id="id912">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id912" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>OpenAL</strong>: Podstawowa biblioteka do obs≈Çugi d≈∫wiƒôku.</p></li>
<li><p>Wsp√≥≈Çpracuje ze wszystkimi klasami z modu≈Çu <code class="docutils literal notranslate"><span class="pre">sound</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/asyncdispatcher.h</span></code>: U≈ºywany do asynchronicznego ≈Çadowania plik√≥w d≈∫wiƒôkowych.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="soundmanager-h">
<h1>üìÑ soundmanager.h<a class="headerlink" href="#soundmanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id913">
<h1>Opis og√≥lny<a class="headerlink" href="#id913" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundmanager.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_sounds</span></code>) zarzƒÖdzajƒÖcym ca≈Çym systemem d≈∫wiƒôku w aplikacji.</p>
</section>
<section id="id914">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code><a class="headerlink" href="#id914" title="Link to this heading">#</a></h1>
</section>
<section id="id915">
<h1>Opis semantyczny<a class="headerlink" href="#id915" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundManager</span></code> jest centralnym interfejsem do odtwarzania d≈∫wiƒôk√≥w. Odpowiada za inicjalizacjƒô i zamykanie OpenAL, zarzƒÖdzanie ≈∫r√≥d≈Çami d≈∫wiƒôku (<code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>), buforami (<code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>) i kana≈Çami (<code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code>). Posiada mechanizm cachowania dla ma≈Çych plik√≥w d≈∫wiƒôkowych i strumieniowania dla wiƒôkszych.</p>
</section>
<section id="id916">
<h1>Sta≈Çe<a class="headerlink" href="#id916" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MAX_CACHE_SIZE</span></code>: Maksymalny rozmiar pliku (w bajtach), kt√≥ry bƒôdzie cachowany w pamiƒôci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POLL_DELAY</span></code>: Minimalny interwa≈Ç (w ms) miƒôdzy wywo≈Çaniami <code class="docutils literal notranslate"><span class="pre">poll()</span></code>.</p></li>
</ul>
</section>
<section id="id917">
<h1>Metody publiczne<a class="headerlink" href="#id917" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>InicjalizujƒÖ i zamykajƒÖ system d≈∫wiƒôku.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">poll()</span></code></p></td>
<td class="text-left"><p>Aktualizuje stan wszystkich aktywnych ≈∫r√≥de≈Ç i kana≈Ç√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setAudioEnabled(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">enableAudio()</span></code>, <code class="docutils literal notranslate"><span class="pre">disableAudio()</span></code></p></td>
<td class="text-left"><p>Globalnie w≈ÇƒÖczajƒÖ/wy≈ÇƒÖczajƒÖ d≈∫wiƒôk.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">stopAll()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje wszystkie odtwarzane d≈∫wiƒôki.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">preload(...)</span></code></p></td>
<td class="text-left"><p>≈Åaduje d≈∫wiƒôk do pamiƒôci podrƒôcznej.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">play(...)</span></code></p></td>
<td class="text-left"><p>Odtwarza d≈∫wiƒôk z pliku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundChannelPtr</span> <span class="pre">getChannel(...)</span></code></p></td>
<td class="text-left"><p>Pobiera lub tworzy kana≈Ç d≈∫wiƒôkowy.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">resolveSoundFile(...)</span></code></p></td>
<td class="text-left"><p>RozwiƒÖzuje ≈õcie≈ºkƒô do pliku d≈∫wiƒôkowego.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ensureContext()</span></code></p></td>
<td class="text-left"><p>Upewnia siƒô, ≈ºe kontekst OpenAL jest aktywny.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id918">
<h1>Zmienne prywatne<a class="headerlink" href="#id918" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_device</span></code>, <code class="docutils literal notranslate"><span class="pre">m_context</span></code>: Uchwyty do urzƒÖdzenia i kontekstu OpenAL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_streamFiles</span></code>: Mapa do zarzƒÖdzania asynchronicznym ≈Çadowaniem plik√≥w strumieniowanych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffers</span></code>: Cache dla <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_sources</span></code>: Lista aktywnych ≈∫r√≥de≈Ç d≈∫wiƒôku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_audioEnabled</span></code>: Globalna flaga w≈ÇƒÖczenia d≈∫wiƒôku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_channels</span></code>: Mapa kana≈Ç√≥w d≈∫wiƒôkowych.</p></li>
</ul>
</section>
<section id="id919">
<h1>Zmienne globalne<a class="headerlink" href="#id919" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_sounds</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<section id="id920">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id920" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">soundchannel.h</span></code>.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindsingleton</span> <span class="pre">g_sounds</span></code>, udostƒôpnia swoje API w Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="soundsource-cpp">
<h1>üìÑ soundsource.cpp<a class="headerlink" href="#soundsource-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id921">
<h1>Opis og√≥lny<a class="headerlink" href="#id921" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundsource.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>, kt√≥ra jest opakowaniem na ≈∫r√≥d≈Ço d≈∫wiƒôku w OpenAL.</p>
</section>
<section id="klasa-soundsource">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code><a class="headerlink" href="#klasa-soundsource" title="Link to this heading">#</a></h1>
</section>
<section id="soundsource-soundsource">
<h1><code class="docutils literal notranslate"><span class="pre">SoundSource::SoundSource()</span></code><a class="headerlink" href="#soundsource-soundsource" title="Link to this heading">#</a></h1>
<p>Konstruktor. Generuje nowe ≈∫r√≥d≈Ço w OpenAL za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">alGenSources()</span></code> i ustawia domy≈õlne parametry, takie jak dystans referencyjny.</p>
</section>
<section id="id922">
<h1><code class="docutils literal notranslate"><span class="pre">SoundSource::~SoundSource()</span></code><a class="headerlink" href="#id922" title="Link to this heading">#</a></h1>
<p>Destruktor. Zatrzymuje odtwarzanie i zwalnia zas√≥b ≈∫r√≥d≈Ça w OpenAL za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">alDeleteSources()</span></code>.</p>
</section>
<section id="void-soundsource-play">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::play()</span></code><a class="headerlink" href="#void-soundsource-play" title="Link to this heading">#</a></h1>
<p>Rozpoczyna odtwarzanie d≈∫wiƒôku za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">alSourcePlay()</span></code>.</p>
</section>
<section id="void-soundsource-stop">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::stop()</span></code><a class="headerlink" href="#void-soundsource-stop" title="Link to this heading">#</a></h1>
<p>Zatrzymuje odtwarzanie (<code class="docutils literal notranslate"><span class="pre">alSourceStop()</span></code>) i od≈ÇƒÖcza bufor od ≈∫r√≥d≈Ça.</p>
</section>
<section id="bool-soundsource-isbuffering">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundSource::isBuffering()</span></code><a class="headerlink" href="#bool-soundsource-isbuffering" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy ≈∫r√≥d≈Ço jest w stanie innym ni≈º <code class="docutils literal notranslate"><span class="pre">AL_STOPPED</span></code> (czyli <code class="docutils literal notranslate"><span class="pre">AL_PLAYING</span></code> lub <code class="docutils literal notranslate"><span class="pre">AL_PAUSED</span></code>).</p>
</section>
<section id="id923">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">set...()</span></code><a class="headerlink" href="#id923" title="Link to this heading">#</a></h1>
<p>SƒÖ to opakowania na funkcje <code class="docutils literal notranslate"><span class="pre">alSource...()</span></code>, kt√≥re ustawiajƒÖ r√≥≈ºne w≈Ça≈õciwo≈õci ≈∫r√≥d≈Ça d≈∫wiƒôku:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setBuffer</span></code>: Przypisuje <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> do ≈∫r√≥d≈Ça.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setLooping</span></code>: Ustawia zapƒôtlanie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setRelative</span></code>: Ustawia, czy pozycja ≈∫r√≥d≈Ça jest wzglƒôdna do s≈Çuchacza.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setGain</span></code>: Ustawia g≈Ço≈õno≈õƒá.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setPitch</span></code>: Ustawia wysoko≈õƒá d≈∫wiƒôku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setPosition</span></code>, <code class="docutils literal notranslate"><span class="pre">setVelocity</span></code>: UstawiajƒÖ w≈Ça≈õciwo≈õci 3D d≈∫wiƒôku.</p></li>
</ul>
</section>
<section id="void-soundsource-setfading">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::setFading(...)</span></code><a class="headerlink" href="#void-soundsource-setfading" title="Link to this heading">#</a></h1>
<p>Inicjuje proces p≈Çynnego zg≈Ça≈õniania (<code class="docutils literal notranslate"><span class="pre">FadingOn</span></code>) lub wyciszania (<code class="docutils literal notranslate"><span class="pre">FadingOff</span></code>) d≈∫wiƒôku w okre≈õlonym czasie. Zapisuje stan i czas rozpoczƒôcia.</p>
</section>
<section id="void-soundsource-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::update()</span></code><a class="headerlink" href="#void-soundsource-update" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana cyklicznie przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>. Implementuje logikƒô ‚Äûfadingu‚Äù, aktualizujƒÖc g≈Ço≈õno≈õƒá ≈∫r√≥d≈Ça w ka≈ºdej klatce na podstawie up≈ÇywajƒÖcego czasu.</p>
</section>
<section id="id924">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id924" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundsource.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundbuffer.h</span></code>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> jako ≈∫r√≥d≈Ça danych.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code>: Do obs≈Çugi czasu w mechanizmie ‚Äûfading‚Äù.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="streamsoundsource-cpp">
<h1>üìÑ streamsoundsource.cpp<a class="headerlink" href="#streamsoundsource-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id925">
<h1>Opis og√≥lny<a class="headerlink" href="#id925" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">streamsoundsource.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code>, kt√≥ra jest specjalizacjƒÖ <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> do odtwarzania d≈∫wiƒôk√≥w strumieniowo z plik√≥w.</p>
</section>
<section id="klasa-streamsoundsource">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code><a class="headerlink" href="#klasa-streamsoundsource" title="Link to this heading">#</a></h1>
</section>
<section id="id926">
<h1>Opis semantyczny<a class="headerlink" href="#id926" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> jest przeznaczona do odtwarzania d≈Çugich plik√≥w d≈∫wiƒôkowych (np. muzyki), kt√≥re nie sƒÖ w ca≈Ço≈õci ≈Çadowane do pamiƒôci. Zamiast tego, u≈ºywa mechanizmu kolejkowania ma≈Çych bufor√≥w w OpenAL. Dane sƒÖ odczytywane z pliku i dekodowane w locie, a nastƒôpnie umieszczane w buforach, kt√≥re sƒÖ dodawane do kolejki odtwarzania ≈∫r√≥d≈Ça.</p>
</section>
<section id="streamsoundsource-streamsoundsource">
<h1><code class="docutils literal notranslate"><span class="pre">StreamSoundSource::StreamSoundSource()</span></code><a class="headerlink" href="#streamsoundsource-streamsoundsource" title="Link to this heading">#</a></h1>
<p>Konstruktor. Tworzy <code class="docutils literal notranslate"><span class="pre">STREAM_FRAGMENTS</span></code> (zwykle 4) ma≈Çych obiekt√≥w <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code>, kt√≥re bƒôdƒÖ u≈ºywane do kolejkowania.</p>
</section>
<section id="void-streamsoundsource-setsoundfile">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::setSoundFile(...)</span></code><a class="headerlink" href="#void-streamsoundsource-setsoundfile" title="Link to this heading">#</a></h1>
<p>Ustawia plik d≈∫wiƒôkowy, z kt√≥rego bƒôdƒÖ strumieniowane dane. Je≈õli ≈∫r√≥d≈Ço czeka≈Ço na plik, rozpoczyna odtwarzanie.</p>
</section>
<section id="void-streamsoundsource-play">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::play()</span></code><a class="headerlink" href="#void-streamsoundsource-play" title="Link to this heading">#</a></h1>
<p>Rozpoczyna odtwarzanie. Je≈õli plik d≈∫wiƒôkowy nie zosta≈Ç jeszcze za≈Çadowany (bo ≈Çadowanie odbywa siƒô asynchronicznie), ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_waitingFile</span></code>. W przeciwnym razie, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">queueBuffers()</span></code> i <code class="docutils literal notranslate"><span class="pre">SoundSource::play()</span></code>.</p>
</section>
<section id="void-streamsoundsource-stop">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::stop()</span></code><a class="headerlink" href="#void-streamsoundsource-stop" title="Link to this heading">#</a></h1>
<p>Zatrzymuje odtwarzanie i czy≈õci kolejkƒô bufor√≥w za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">unqueueBuffers()</span></code>.</p>
</section>
<section id="void-streamsoundsource-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::update()</span></code><a class="headerlink" href="#void-streamsoundsource-update" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana cyklicznie.</p>
<ol class="arabic simple">
<li><p>Sprawdza, ile bufor√≥w zosta≈Ço ju≈º przetworzonych (odtworzonych) przez OpenAL.</p></li>
<li><p>Odkolejkowuje przetworzone bufory.</p></li>
<li><p>Wype≈Çnia je nowymi danymi z pliku i ponownie dodaje do kolejki.</p></li>
<li><p>Obs≈Çuguje zapƒôtlanie i sprawdza, czy odtwarzanie nie zosta≈Ço przerwane przez ‚Äûbuffer underrun‚Äù (gdy OpenAL sko≈Ñczy odtwarzaƒá, a nie ma nowych bufor√≥w w kolejce).</p></li>
</ol>
</section>
<section id="bool-streamsoundsource-fillbufferandqueue-uint-buffer">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">StreamSoundSource::fillBufferAndQueue(uint</span> <span class="pre">buffer)</span></code><a class="headerlink" href="#bool-streamsoundsource-fillbufferandqueue-uint-buffer" title="Link to this heading">#</a></h1>
<p>Kluczowa metoda.</p>
<ol class="arabic simple">
<li><p>Odczytuje fragment danych z <code class="docutils literal notranslate"><span class="pre">m_soundFile</span></code>.</p></li>
<li><p>Obs≈Çuguje zapƒôtlanie, resetujƒÖc plik po doj≈õciu do ko≈Ñca.</p></li>
<li><p>Opcjonalnie wykonuje ‚Äûdown-mix‚Äù z stereo do mono, je≈õli <code class="docutils literal notranslate"><span class="pre">m_downMix</span></code> jest ustawione.</p></li>
<li><p>Wype≈Çnia podany bufor OpenAL nowymi danymi.</p></li>
<li><p>Dodaje bufor do kolejki odtwarzania ≈∫r√≥d≈Ça.</p></li>
</ol>
</section>
<section id="id927">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id927" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/streamsoundsource.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundbuffer.h</span></code>, <code class="docutils literal notranslate"><span class="pre">soundfile.h</span></code>: U≈ºywa tych klas do zarzƒÖdzania buforami i odczytu plik√≥w.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code> dla plik√≥w, kt√≥re nie sƒÖ cachowane.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="streamsoundsource-h">
<h1>üìÑ streamsoundsource.h<a class="headerlink" href="#streamsoundsource-h" title="Link to this heading">#</a></h1>
</section>
<section id="id928">
<h1>Opis og√≥lny<a class="headerlink" href="#id928" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">streamsoundsource.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code>, kt√≥ra jest implementacjƒÖ <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> do strumieniowego odtwarzania d≈∫wiƒôku.</p>
</section>
<section id="id929">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code><a class="headerlink" href="#id929" title="Link to this heading">#</a></h1>
</section>
<section id="id930">
<h1>Opis semantyczny<a class="headerlink" href="#id930" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> pozwala na odtwarzanie d≈Çugich plik√≥w d≈∫wiƒôkowych bez potrzeby ≈Çadowania ich w ca≈Ço≈õci do pamiƒôci. Dzia≈Ça poprzez dzielenie d≈∫wiƒôku na ma≈Çe fragmenty, kt√≥re sƒÖ dynamicznie ≈Çadowane do kolejki bufor√≥w OpenAL w trakcie odtwarzania.</p>
</section>
<section id="id931">
<h1>Sta≈Çe<a class="headerlink" href="#id931" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">STREAM_BUFFER_SIZE</span></code>: Ca≈Çkowity rozmiar bufora cyklicznego w pamiƒôci.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STREAM_FRAGMENTS</span></code>: Liczba fragment√≥w (bufor√≥w OpenAL), na kt√≥re jest podzielony bufor cykliczny.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STREAM_FRAGMENT_SIZE</span></code>: Rozmiar pojedynczego fragmentu.</p></li>
</ul>
</section>
<section id="typ-wyliczeniowy-downmix">
<h1>Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">DownMix</span></code><a class="headerlink" href="#typ-wyliczeniowy-downmix" title="Link to this heading">#</a></h1>
<p>Okre≈õla, czy i jak konwertowaƒá d≈∫wiƒôk stereo na mono (tylko lewy kana≈Ç, tylko prawy, lub brak konwersji).</p>
</section>
<section id="id932">
<h1>Metody publiczne<a class="headerlink" href="#id932" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">StreamSoundSource()</span></code></p></td>
<td class="text-left"><p>Konstruktor, tworzy bufory.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~StreamSoundSource()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">play()</span></code></p></td>
<td class="text-left"><p>Rozpoczyna strumieniowanie i odtwarzanie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">stop()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje odtwarzanie i czy≈õci kolejkƒô bufor√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isPlaying()</span></code></p></td>
<td class="text-left"><p>Zwraca, czy ≈∫r√≥d≈Ço jest w stanie odtwarzania.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setSoundFile(...)</span></code></p></td>
<td class="text-left"><p>Ustawia plik d≈∫wiƒôkowy do strumieniowania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">downMix(...)</span></code></p></td>
<td class="text-left"><p>Ustawia tryb konwersji na mono.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code></p></td>
<td class="text-left"><p>Aktualizuje kolejkƒô bufor√≥w (metoda cykliczna).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id933">
<h1>Zmienne prywatne<a class="headerlink" href="#id933" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_soundFile</span></code>: Wska≈∫nik na plik d≈∫wiƒôkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffers</span></code>: Tablica bufor√≥w OpenAL u≈ºywanych w kolejce.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_downMix</span></code>: Tryb konwersji na mono.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_looping</span></code>, <code class="docutils literal notranslate"><span class="pre">m_playing</span></code>, <code class="docutils literal notranslate"><span class="pre">m_eof</span></code>, <code class="docutils literal notranslate"><span class="pre">m_waitingFile</span></code>: Flagi stanu.</p></li>
</ul>
</section>
<section id="id934">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id934" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/soundsource.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest tworzona przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code> do odtwarzania du≈ºych plik√≥w d≈∫wiƒôkowych.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="soundsource-h">
<h1>üìÑ soundsource.h<a class="headerlink" href="#soundsource-h" title="Link to this heading">#</a></h1>
</section>
<section id="id935">
<h1>Opis og√≥lny<a class="headerlink" href="#id935" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">soundsource.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code>, kt√≥ra jest abstrakcyjnym opakowaniem na ≈∫r√≥d≈Ço d≈∫wiƒôku w OpenAL.</p>
</section>
<section id="id936">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code><a class="headerlink" href="#id936" title="Link to this heading">#</a></h1>
</section>
<section id="id937">
<h1>Opis semantyczny<a class="headerlink" href="#id937" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">SoundSource</span></code> reprezentuje punkt w przestrzeni, z kt√≥rego wydobywa siƒô d≈∫wiƒôk. Enkapsuluje ona ID ≈∫r√≥d≈Ça OpenAL i dostarcza interfejs do kontrolowania jego w≈Ça≈õciwo≈õci, takich jak g≈Ço≈õno≈õƒá, wysoko≈õƒá d≈∫wiƒôku, pozycja, zapƒôtlanie i stan odtwarzania. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p>
</section>
<section id="typ-wyliczeniowy-fadestate">
<h1>Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">FadeState</span></code><a class="headerlink" href="#typ-wyliczeniowy-fadestate" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NoFading</span></code>: Brak efektu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FadingOn</span></code>: D≈∫wiƒôk jest w trakcie zg≈Ça≈õniania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FadingOff</span></code>: D≈∫wiƒôk jest w trakcie wyciszania.</p></li>
</ul>
</section>
<section id="id938">
<h1>Metody publiczne<a class="headerlink" href="#id938" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">SoundSource()</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">~SoundSource()</span></code></p></td>
<td class="text-left"><p>Destruktor.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">play()</span></code></p></td>
<td class="text-left"><p>Rozpoczyna odtwarzanie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">stop()</span></code></p></td>
<td class="text-left"><p>Zatrzymuje odtwarzanie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">isBuffering()</span></code></p></td>
<td class="text-left"><p>Sprawdza stan ≈∫r√≥d≈Ça w OpenAL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">bool</span> <span class="pre">isPlaying()</span></code></p></td>
<td class="text-left"><p>Domy≈õlnie to samo co <code class="docutils literal notranslate"><span class="pre">isBuffering</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setName(...)</span></code></p></td>
<td class="text-left"><p>Ustawia nazwƒô (do identyfikacji).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setLooping(...)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza/wy≈ÇƒÖcza zapƒôtlanie.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setRelative(...)</span></code></p></td>
<td class="text-left"><p>Ustawia, czy pozycja jest wzglƒôdna do s≈Çuchacza.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setReferenceDistance(...)</span></code></p></td>
<td class="text-left"><p>Ustawia dystans referencyjny dla t≈Çumienia d≈∫wiƒôku 3D.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setGain(...)</span></code></p></td>
<td class="text-left"><p>Ustawia g≈Ço≈õno≈õƒá.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setPitch(...)</span></code></p></td>
<td class="text-left"><p>Ustawia wysoko≈õƒá d≈∫wiƒôku.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setPosition(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">setVelocity(...)</span></code></p></td>
<td class="text-left"><p>UstawiajƒÖ w≈Ça≈õciwo≈õci 3D.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">setFading(...)</span></code></p></td>
<td class="text-left"><p>Inicjuje efekt p≈Çynnego zg≈Ça≈õniania/wyciszania.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id939">
<h1>Metody chronione<a class="headerlink" href="#id939" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setBuffer(...)</span></code>: Przypisuje <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> do ≈∫r√≥d≈Ça.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">update()</span></code>: Metoda cykliczna do obs≈Çugi np. ‚Äûfadingu‚Äù.</p></li>
</ul>
</section>
<section id="id940">
<h1>Zmienne<a class="headerlink" href="#id940" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_sourceId</span></code>: ID ≈∫r√≥d≈Ça w OpenAL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_name</span></code>: Nazwa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_buffer</span></code>: Wska≈∫nik na <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code> (dla ≈∫r√≥de≈Ç nie-strumieniowych).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_fade...</span></code>: Zmienne do obs≈Çugi ‚Äûfadingu‚Äù.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_gain</span></code>: Aktualna g≈Ço≈õno≈õƒá.</p></li>
</ul>
</section>
<section id="id941">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id941" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/sound/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">soundbuffer.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code> i <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code>.</p></li>
<li><p>Jest tworzona i zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="any-h">
<h1>üìÑ any.h<a class="headerlink" href="#any-h" title="Link to this heading">#</a></h1>
</section>
<section id="id942">
<h1>Opis og√≥lny<a class="headerlink" href="#id942" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">any.h</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>, kt√≥ra jest prostƒÖ, w≈ÇasnƒÖ wersjƒÖ <code class="docutils literal notranslate"><span class="pre">std::any</span></code> (dostƒôpnego od C++17) lub <code class="docutils literal notranslate"><span class="pre">boost::any</span></code>. Pozwala na przechowywanie warto≈õci dowolnego typu w spos√≥b bezpieczny typowo.</p>
</section>
<section id="klasa-any">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">any</span></code><a class="headerlink" href="#klasa-any" title="Link to this heading">#</a></h1>
</section>
<section id="id943">
<h1>Opis semantyczny<a class="headerlink" href="#id943" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">any</span></code> dzia≈Ça jak polimorficzny kontener. WewnƒÖtrz przechowuje wska≈∫nik na obiekt-opakowanie (<code class="docutils literal notranslate"><span class="pre">placeholder</span></code>), kt√≥ry jest tworzony na stercie. Obiekt-opakowanie jest szablonem (<code class="docutils literal notranslate"><span class="pre">holder&lt;T&gt;</span></code>), kt√≥ry przechowuje rzeczywistƒÖ warto≈õƒá i informacje o jej typie (<code class="docutils literal notranslate"><span class="pre">type_info</span></code>).</p>
</section>
<section id="struktury-wewnetrzne">
<h1>Struktury wewnƒôtrzne<a class="headerlink" href="#struktury-wewnetrzne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">placeholder</span></code></strong>: Abstrakcyjna klasa bazowa dla opakowa≈Ñ. Definiuje wirtualny interfejs do pobierania <code class="docutils literal notranslate"><span class="pre">type_info</span></code> i klonowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">holder&lt;T&gt;</span></code></strong>: Szablonowa klasa pochodna, kt√≥ra faktycznie przechowuje warto≈õƒá typu <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p></li>
</ul>
</section>
<section id="id944">
<h1>Metody publiczne<a class="headerlink" href="#id944" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">any()</span></code></p></td>
<td class="text-left"><p>Konstruktor domy≈õlny (pusty).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">any(const</span> <span class="pre">any&amp;</span> <span class="pre">other)</span></code></p></td>
<td class="text-left"><p>Konstruktor kopiujƒÖcy (g≈Çƒôboka kopia).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">any(const</span> <span class="pre">T&amp;</span> <span class="pre">value)</span></code></p></td>
<td class="text-left"><p>Konstruktor szablonowy, tworzy <code class="docutils literal notranslate"><span class="pre">holder&lt;T&gt;</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">~any()</span></code></p></td>
<td class="text-left"><p>Destruktor, zwalnia <code class="docutils literal notranslate"><span class="pre">placeholder</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">any&amp;</span> <span class="pre">swap(any&amp;</span> <span class="pre">rhs)</span></code></p></td>
<td class="text-left"><p>Zamienia zawarto≈õƒá dw√≥ch obiekt√≥w <code class="docutils literal notranslate"><span class="pre">any</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">operator=</span></code></p></td>
<td class="text-left"><p>Operatory przypisania.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">empty()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli <code class="docutils literal notranslate"><span class="pre">any</span></code> nie przechowuje warto≈õci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">const</span> <span class="pre">T&amp;</span> <span class="pre">cast()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Rzutuje i zwraca przechowywanƒÖ warto≈õƒá. Rzuca <code class="docutils literal notranslate"><span class="pre">VALIDATE</span></code> error, je≈õli typ jest nieprawid≈Çowy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::type_info</span> <span class="pre">&amp;</span> <span class="pre">type()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">type_info</span></code> przechowywanej warto≈õci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="funkcja-any-cast">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">any_cast</span></code><a class="headerlink" href="#funkcja-any-cast" title="Link to this heading">#</a></h1>
<p>Funkcja pomocnicza, kt√≥ra wykonuje bezpieczne rzutowanie. Sprawdza, czy typ przechowywany w <code class="docutils literal notranslate"><span class="pre">any</span></code> zgadza siƒô z typem docelowym.</p>
</section>
<section id="id945">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id945" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;algorithm&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;typeinfo&gt;</span></code>: Standardowe nag≈Ç√≥wki C++.</p></li>
<li><p>Jest u≈ºywana w <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code> do przechowywania warto≈õci r√≥≈ºnych typ√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="cast-h">
<h1>üìÑ cast.h<a class="headerlink" href="#cast-h" title="Link to this heading">#</a></h1>
</section>
<section id="id946">
<h1>Opis og√≥lny<a class="headerlink" href="#id946" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">cast.h</span></code> zawiera zestaw szablonowych funkcji i klas do konwersji (rzutowania) miƒôdzy r√≥≈ºnymi typami danych, g≈Ç√≥wnie z i do <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p>
</section>
<section id="funkcje-cast">
<h1>Funkcje <code class="docutils literal notranslate"><span class="pre">cast</span></code><a class="headerlink" href="#funkcje-cast" title="Link to this heading">#</a></h1>
</section>
<section id="template-typename-t-typename-r-bool-cast-const-t-in-r-out">
<h1><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T,</span> <span class="pre">typename</span> <span class="pre">R&gt;</span> <span class="pre">bool</span> <span class="pre">cast(const</span> <span class="pre">T&amp;</span> <span class="pre">in,</span> <span class="pre">R&amp;</span> <span class="pre">out)</span></code><a class="headerlink" href="#template-typename-t-typename-r-bool-cast-const-t-in-r-out" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna, szablonowa funkcja. U≈ºywa <code class="docutils literal notranslate"><span class="pre">std::stringstream</span></code> do konwersji. Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli konwersja siƒô powiod≈Ça.</p>
</section>
<section id="specjalizacje">
<h1>Specjalizacje<a class="headerlink" href="#specjalizacje" title="Link to this heading">#</a></h1>
<p>Plik zawiera specjalizacje dla typowych i problematycznych konwersji, aby by≈Çy one bardziej wydajne i niezawodne:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">string</span></code> do <code class="docutils literal notranslate"><span class="pre">string</span></code>: Proste przypisanie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string</span></code> do <code class="docutils literal notranslate"><span class="pre">bool</span></code>: Obs≈Çuguje tylko ‚Äûtrue‚Äù i ‚Äûfalse‚Äù.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string</span></code> do <code class="docutils literal notranslate"><span class="pre">char</span></code>: Tylko dla string√≥w o d≈Çugo≈õci 1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string</span></code> do <code class="docutils literal notranslate"><span class="pre">long</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">double</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>: U≈ºywajƒÖ <code class="docutils literal notranslate"><span class="pre">atol</span></code> i <code class="docutils literal notranslate"><span class="pre">atof</span></code>, ale z dodatkowƒÖ walidacjƒÖ znak√≥w, aby uniknƒÖƒá nieprawid≈Çowych konwersji (np. ‚Äû123a‚Äù nie zostanie skonwertowane).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code> do <code class="docutils literal notranslate"><span class="pre">string</span></code>: Konwertuje na ‚Äûtrue‚Äù lub ‚Äûfalse‚Äù.</p></li>
</ul>
</section>
<section id="klasa-cast-exception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">cast_exception</span></code><a class="headerlink" href="#klasa-cast-exception" title="Link to this heading">#</a></h1>
<p>WyjƒÖtek rzucany przez <code class="docutils literal notranslate"><span class="pre">safe_cast</span></code>, gdy konwersja siƒô nie powiedzie.</p>
</section>
<section id="funkcje-safe-cast-i-unsafe-cast">
<h1>Funkcje <code class="docutils literal notranslate"><span class="pre">safe_cast</span></code> i <code class="docutils literal notranslate"><span class="pre">unsafe_cast</span></code><a class="headerlink" href="#funkcje-safe-cast-i-unsafe-cast" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">safe_cast&lt;R,</span> <span class="pre">T&gt;(...)</span></code></strong>: Opakowanie na <code class="docutils literal notranslate"><span class="pre">cast</span></code>, kt√≥re rzuca <code class="docutils literal notranslate"><span class="pre">cast_exception</span></code> w przypadku niepowodzenia.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">unsafe_cast&lt;R,</span> <span class="pre">T&gt;(...)</span></code></strong>: Opakowanie na <code class="docutils literal notranslate"><span class="pre">safe_cast</span></code>, kt√≥re ≈Çapie wyjƒÖtek, loguje b≈ÇƒÖd i zwraca warto≈õƒá domy≈õlnƒÖ.</p></li>
</ul>
</section>
<section id="id947">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id947" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/exception.h</span></code>, <code class="docutils literal notranslate"><span class="pre">demangle.h</span></code>: Do obs≈Çugi b≈Çƒôd√≥w i nazw typ√≥w.</p></li>
<li><p>SƒÖ to fundamentalne narzƒôdzia u≈ºywane w ca≈Çym projekcie, szczeg√≥lnie do parsowania warto≈õci z plik√≥w OTML i konwersji typ√≥w dla Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="demangle-cpp">
<h1>üìÑ demangle.cpp<a class="headerlink" href="#demangle-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id948">
<h1>Opis og√≥lny<a class="headerlink" href="#id948" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">demangle.cpp</span></code> zawiera implementacjƒô funkcji <code class="docutils literal notranslate"><span class="pre">demangle_name</span></code>, kt√≥ra konwertuje ‚Äûzniekszta≈Çcone‚Äù (mangled) nazwy typ√≥w C++ na ich czytelnƒÖ formƒô.</p>
</section>
<section id="funkcja-demangle-name">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">demangle_name</span></code><a class="headerlink" href="#funkcja-demangle-name" title="Link to this heading">#</a></h1>
</section>
<section id="const-char-demangle-name-const-char-name">
<h1><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span> <span class="pre">demangle_name(const</span> <span class="pre">char*</span> <span class="pre">name)</span></code><a class="headerlink" href="#const-char-demangle-name-const-char-name" title="Link to this heading">#</a></h1>
</section>
<section id="id949">
<h1>Opis semantyczny<a class="headerlink" href="#id949" title="Link to this heading">#</a></h1>
<p>Nazwy typ√≥w C++ (szczeg√≥lnie w przypadku szablon√≥w i przestrzeni nazw) sƒÖ przez kompilator zamieniane na unikalne, ale nieczytelne identyfikatory (np. <code class="docutils literal notranslate"><span class="pre">N6stdext11cast_exceptionE</span></code>). Funkcja ta odwraca ten proces, u≈ºywajƒÖc narzƒôdzi specyficznych dla danego kompilatora.</p>
</section>
<section id="implementacja">
<h1>Implementacja<a class="headerlink" href="#implementacja" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Dla MSVC (<code class="docutils literal notranslate"><span class="pre">_MSC_VER</span></code>)</strong>: U≈ºywa funkcji <code class="docutils literal notranslate"><span class="pre">UnDecorateSymbolName</span></code> z biblioteki <code class="docutils literal notranslate"><span class="pre">DbgHelp.dll</span></code>.</p></li>
<li><p><strong>Dla GCC/Clang</strong>: U≈ºywa funkcji <code class="docutils literal notranslate"><span class="pre">abi::__cxa_demangle</span></code> z biblioteki <code class="docutils literal notranslate"><span class="pre">cxxabi</span></code>.</p></li>
</ul>
</section>
<section id="id950">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id950" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/demangle.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p>Nag≈Ç√≥wki specyficzne dla platformy (<code class="docutils literal notranslate"><span class="pre">dbghelp.h</span></code> lub <code class="docutils literal notranslate"><span class="pre">cxxabi.h</span></code>).</p></li>
<li><p>Jest u≈ºywana w systemie rzutowania (<code class="docutils literal notranslate"><span class="pre">cast_exception</span></code>) i w logowaniu, aby dostarczaƒá czytelne nazwy typ√≥w w komunikatach o b≈Çƒôdach.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="compiler-h">
<h1>üìÑ compiler.h<a class="headerlink" href="#compiler-h" title="Link to this heading">#</a></h1>
</section>
<section id="id951">
<h1>Opis og√≥lny<a class="headerlink" href="#id951" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">compiler.h</span></code> zawiera makra i dyrektywy preprocesora specyficzne dla kompilatora. Jego celem jest ujednolicenie obs≈Çugi r√≥≈ºnych kompilator√≥w (GCC, Clang, MSVC) i zapewnienie kompatybilno≈õci.</p>
</section>
<section id="id952">
<h1>Zawarto≈õƒá<a class="headerlink" href="#id952" title="Link to this heading">#</a></h1>
</section>
<section id="build-compiler">
<h1><code class="docutils literal notranslate"><span class="pre">BUILD_COMPILER</span></code><a class="headerlink" href="#build-compiler" title="Link to this heading">#</a></h1>
<p>Makro, kt√≥re jest definiowane jako string zawierajƒÖcy nazwƒô i wersjƒô u≈ºywanego kompilatora. Jest to ustalane na podstawie predefiniowanych makr kompilatora (<code class="docutils literal notranslate"><span class="pre">__clang__</span></code>, <code class="docutils literal notranslate"><span class="pre">__GNUC__</span></code>, <code class="docutils literal notranslate"><span class="pre">_MSC_VER</span></code>).</p>
</section>
<section id="sprawdzanie-wersji-kompilatora">
<h1>Sprawdzanie wersji kompilatora<a class="headerlink" href="#sprawdzanie-wersji-kompilatora" title="Link to this heading">#</a></h1>
<p>Plik zawiera dyrektywy <code class="docutils literal notranslate"><span class="pre">#error</span></code>, kt√≥re zatrzymajƒÖ kompilacjƒô, je≈õli wersja kompilatora jest zbyt stara (wymagany GCC &gt;= 4.6, MSVC &gt;= 2013).</p>
</section>
<section id="wylaczanie-ostrzezen-msvc">
<h1>Wy≈ÇƒÖczanie ostrze≈ºe≈Ñ (MSVC)<a class="headerlink" href="#wylaczanie-ostrzezen-msvc" title="Link to this heading">#</a></h1>
<p>Dla kompilatora MSVC, wy≈ÇƒÖcza szereg czƒôsto wystƒôpujƒÖcych, ale zazwyczaj nieszkodliwych ostrze≈ºe≈Ñ (<code class="docutils literal notranslate"><span class="pre">#pragma</span> <span class="pre">warning(disable:</span> <span class="pre">...)</span></code>), aby utrzymaƒá czysty output kompilacji.</p>
</section>
<section id="pretty-function">
<h1><code class="docutils literal notranslate"><span class="pre">__PRETTY_FUNCTION__</span></code><a class="headerlink" href="#pretty-function" title="Link to this heading">#</a></h1>
<p>Dla MSVC, definiuje <code class="docutils literal notranslate"><span class="pre">__PRETTY_FUNCTION__</span></code> jako alias dla <code class="docutils literal notranslate"><span class="pre">__FUNCDNAME__</span></code>, aby ujednoliciƒá spos√≥b uzyskiwania ‚Äûozdobnej‚Äù nazwy funkcji.</p>
</section>
<section id="likely-x-i-unlikely-x">
<h1><code class="docutils literal notranslate"><span class="pre">likely(x)</span></code> i <code class="docutils literal notranslate"><span class="pre">unlikely(x)</span></code><a class="headerlink" href="#likely-x-i-unlikely-x" title="Link to this heading">#</a></h1>
<p>Makra do optymalizacji podpowiedzi dla kompilatora (branch prediction). Dla GCC/Clang u≈ºywajƒÖ <code class="docutils literal notranslate"><span class="pre">__builtin_expect</span></code>. Dla innych kompilator√≥w sƒÖ puste.</p>
</section>
<section id="sprawdzanie-wsparcia-c-0x">
<h1>Sprawdzanie wsparcia C++0x<a class="headerlink" href="#sprawdzanie-wsparcia-c-0x" title="Link to this heading">#</a></h1>
<p>Sprawdza, czy kompilator wspiera wymagany standard C++ (C++11 lub nowszy).</p>
</section>
<section id="id953">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id953" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to jeden z najbardziej fundamentalnych plik√≥w nag≈Ç√≥wkowych, do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">global.h</span></code>, i wp≈Çywa na kompilacjƒô ca≈Çego projektu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="demangle-h">
<h1>üìÑ demangle.h<a class="headerlink" href="#demangle-h" title="Link to this heading">#</a></h1>
</section>
<section id="id954">
<h1>Opis og√≥lny<a class="headerlink" href="#id954" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">demangle.h</span></code> deklaruje funkcje pomocnicze do ‚Äûdemanglowania‚Äù (odkodowywania) nazw typ√≥w C++, kt√≥re sƒÖ zniekszta≈Çcane przez kompilator w procesie kompilacji.</p>
</section>
<section id="namespace-stdext">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#namespace-stdext" title="Link to this heading">#</a></h1>
</section>
<section id="id955">
<h1>Funkcje<a class="headerlink" href="#id955" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span> <span class="pre">demangle_name(const</span> <span class="pre">char*</span> <span class="pre">name)</span></code></p></td>
<td class="text-left"><p>Przyjmuje zniekszta≈ÇconƒÖ nazwƒô i zwraca jej czytelnƒÖ wersjƒô.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">std::string</span> <span class="pre">demangle_class()</span></code></p></td>
<td class="text-left"><p>Szablonowa funkcja, kt√≥ra zwraca czytelnƒÖ nazwƒô klasy dla danego typu <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">std::string</span> <span class="pre">demangle_type()</span></code></p></td>
<td class="text-left"><p>Szablonowa funkcja, kt√≥ra zwraca czytelnƒÖ nazwƒô dowolnego typu <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id956">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id956" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;typeinfo&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>: Standardowe nag≈Ç√≥wki.</p></li>
<li><p>Jest u≈ºywana do generowania czytelnych komunikat√≥w o b≈Çƒôdach, np. w <code class="docutils literal notranslate"><span class="pre">cast_exception</span></code> i <code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="boolean-h">
<h1>üìÑ boolean.h<a class="headerlink" href="#boolean-h" title="Link to this heading">#</a></h1>
</section>
<section id="id957">
<h1>Opis og√≥lny<a class="headerlink" href="#id957" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">boolean.h</span></code> deklaruje prostƒÖ klasƒô szablonowƒÖ <code class="docutils literal notranslate"><span class="pre">stdext::boolean</span></code>, kt√≥ra jest opakowaniem na typ <code class="docutils literal notranslate"><span class="pre">bool</span></code> z mo≈ºliwo≈õciƒÖ zdefiniowania warto≈õci domy≈õlnej.</p>
</section>
<section id="klasa-boolean">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">boolean</span></code><a class="headerlink" href="#klasa-boolean" title="Link to this heading">#</a></h1>
</section>
<section id="template-bool-def">
<h1><code class="docutils literal notranslate"><span class="pre">template&lt;bool</span> <span class="pre">def&gt;</span></code><a class="headerlink" href="#template-bool-def" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Parametr szablonu <code class="docutils literal notranslate"><span class="pre">def</span></code></strong>: Okre≈õla domy≈õlnƒÖ warto≈õƒá (<code class="docutils literal notranslate"><span class="pre">true</span></code> lub <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p></li>
</ul>
</section>
<section id="id958">
<h1>Opis semantyczny<a class="headerlink" href="#id958" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">boolean</span></code> zachowuje siƒô jak standardowy <code class="docutils literal notranslate"><span class="pre">bool</span></code>, ale jego konstruktor domy≈õlny inicjalizuje go warto≈õciƒÖ <code class="docutils literal notranslate"><span class="pre">def</span></code>. Jest to przydatne do inicjalizacji p√≥l w klasach, gdzie domy≈õlna warto≈õƒá <code class="docutils literal notranslate"><span class="pre">bool</span></code> (kt√≥ra jest nieokre≈õlona) mog≈Çaby prowadziƒá do b≈Çƒôd√≥w.</p>
</section>
<section id="przyklad-uzycia">
<h1>Przyk≈Çad u≈ºycia<a class="headerlink" href="#przyklad-uzycia" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">stdext</span><span class="o">::</span><span class="n">boolean</span><span class="o">&lt;</span><span class="nb">true</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_visible</span><span class="p">;</span><span class="w"> </span><span class="c1">// Domy≈õlnie true</span>
<span class="w">    </span><span class="n">stdext</span><span class="o">::</span><span class="n">boolean</span><span class="o">&lt;</span><span class="nb">false</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_enabled</span><span class="p">;</span><span class="w"> </span><span class="c1">// Domy≈õlnie false</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="operatory">
<h1>Operatory<a class="headerlink" href="#operatory" title="Link to this heading">#</a></h1>
<p>Klasa przeciƒÖ≈ºa operatory <code class="docutils literal notranslate"><span class="pre">operator</span> <span class="pre">bool&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">operator</span> <span class="pre">bool</span> <span class="pre">const&amp;</span></code> i <code class="docutils literal notranslate"><span class="pre">operator=</span></code>, co pozwala na u≈ºywanie jej w taki sam spos√≥b, jak standardowego <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</p>
</section>
<section id="id959">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id959" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to prosta klasa narzƒôdziowa, u≈ºywana w wielu miejscach w projekcie (np. w <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>) do definiowania flag stanu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="dumper-h">
<h1>üìÑ dumper.h<a class="headerlink" href="#dumper-h" title="Link to this heading">#</a></h1>
</section>
<section id="id960">
<h1>Opis og√≥lny<a class="headerlink" href="#id960" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">dumper.h</span></code> zawiera proste narzƒôdzie do szybkiego debugowania, kt√≥re pozwala na wypisywanie warto≈õci wielu zmiennych na standardowe wyj≈õcie w jednej linii.</p>
</section>
<section id="id961">
<h1>Zmienne globalne<a class="headerlink" href="#id961" title="Link to this heading">#</a></h1>
</section>
<section id="dump">
<h1><code class="docutils literal notranslate"><span class="pre">dump</span></code><a class="headerlink" href="#dump" title="Link to this heading">#</a></h1>
<p>Globalny obiekt o specjalnej strukturze, kt√≥ry przeciƒÖ≈ºa operator <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>.</p>
</section>
<section id="id962">
<h1>Opis semantyczny<a class="headerlink" href="#id962" title="Link to this heading">#</a></h1>
<p>U≈ºycie <code class="docutils literal notranslate"><span class="pre">dump</span></code> pozwala na tworzenie ≈Ça≈Ñcuchowych wywo≈Ça≈Ñ, kt√≥re wypisujƒÖ warto≈õci oddzielone spacjami, a na ko≈Ñcu automatycznie dodajƒÖ znak nowej linii.</p>
</section>
<section id="id963">
<h1>Przyk≈Çad u≈ºycia<a class="headerlink" href="#id963" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">;</span>
<span class="n">dump</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Warto≈õci:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
</pre></div>
</div>
<p><strong>Wyj≈õcie:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Warto≈õci</span><span class="p">:</span> <span class="mi">10</span> <span class="n">hello</span>
</pre></div>
</div>
</section>
<section id="id964">
<h1>Implementacja<a class="headerlink" href="#id964" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Tworzy globalny obiekt, kt√≥rego <code class="docutils literal notranslate"><span class="pre">operator&lt;&lt;</span></code> zwraca tymczasowy obiekt <code class="docutils literal notranslate"><span class="pre">dumper_dummy</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dumper_dummy</span></code> ma przeciƒÖ≈ºony <code class="docutils literal notranslate"><span class="pre">operator&lt;&lt;</span></code> do wypisywania warto≈õci i destruktor, kt√≥ry wypisuje znak nowej linii.</p></li>
</ul>
</section>
<section id="id965">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id965" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;iostream&gt;</span></code>: Do wypisywania na <code class="docutils literal notranslate"><span class="pre">std::cout</span></code>.</p></li>
<li><p>Jest to narzƒôdzie wy≈ÇƒÖcznie do cel√≥w debugowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="dynamic-storage-h">
<h1>üìÑ dynamic_storage.h<a class="headerlink" href="#dynamic-storage-h" title="Link to this heading">#</a></h1>
</section>
<section id="id966">
<h1>Opis og√≥lny<a class="headerlink" href="#id966" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">dynamic_storage.h</span></code> deklaruje klasƒô szablonowƒÖ <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code>, kt√≥ra implementuje dynamiczny kontener asocjacyjny, gdzie kluczem jest typ ca≈Çkowitoliczbowy, a warto≈õciƒÖ mo≈ºe byƒá dowolny typ (przechowywany za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>).</p>
</section>
<section id="klasa-dynamic-storage">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code><a class="headerlink" href="#klasa-dynamic-storage" title="Link to this heading">#</a></h1>
</section>
<section id="id967">
<h1>Opis semantyczny<a class="headerlink" href="#id967" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code> dzia≈Ça jak mapa, ale jest zaimplementowana w oparciu o <code class="docutils literal notranslate"><span class="pre">std::vector&lt;stdext::any&gt;</span></code>. Klucz (<code class="docutils literal notranslate"><span class="pre">Key</span></code>) jest u≈ºywany jako indeks w wektorze. Jest to wydajne, je≈õli klucze sƒÖ ma≈Çymi, kolejnymi liczbami ca≈Çkowitymi. Pozwala na przechowywanie heterogenicznych danych w jednym kontenerze.</p>
</section>
<section id="id968">
<h1>Metody publiczne<a class="headerlink" href="#id968" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">void</span> <span class="pre">set(...)</span></code></p></td>
<td class="text-left"><p>Ustawia warto≈õƒá dla danego klucza. W razie potrzeby rozszerza wektor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">remove(...)</span></code></p></td>
<td class="text-left"><p>Usuwa warto≈õƒá dla danego klucza (zastƒôpujƒÖc jƒÖ pustym <code class="docutils literal notranslate"><span class="pre">any</span></code>).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">T</span> <span class="pre">get(...)</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Pobiera warto≈õƒá dla danego klucza, rzutujƒÖc jƒÖ na typ <code class="docutils literal notranslate"><span class="pre">T</span></code>. Zwraca warto≈õƒá domy≈õlnƒÖ, je≈õli klucz nie istnieje.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">has(...)</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy klucz istnieje i ma przypisanƒÖ warto≈õƒá.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::size_t</span> <span class="pre">size()</span> <span class="pre">const</span></code></p></td>
<td class="text-left"><p>Zwraca liczbƒô niepustych element√≥w.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clear()</span></code></p></td>
<td class="text-left"><p>Czy≈õci kontener.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id969">
<h1>Zmienne prywatne<a class="headerlink" href="#id969" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_data</span></code>: Wektor <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>, kt√≥ry przechowuje dane.</p></li>
</ul>
</section>
<section id="id970">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id970" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/types.h</span></code>, <code class="docutils literal notranslate"><span class="pre">stdext/any.h</span></code>: Wymagane definicje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;unordered_map&gt;</span></code>: Nag≈Ç√≥wek jest do≈ÇƒÖczony, ale nie jest u≈ºywany.</p></li>
<li><p>Mo≈ºe byƒá u≈ºywana do implementacji niestandardowych system√≥w atrybut√≥w lub w≈Ça≈õciwo≈õci dla obiekt√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="exception-h">
<h1>üìÑ exception.h<a class="headerlink" href="#exception-h" title="Link to this heading">#</a></h1>
</section>
<section id="id971">
<h1>Opis og√≥lny<a class="headerlink" href="#id971" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">exception.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>, kt√≥ra jest bazowƒÖ klasƒÖ dla wszystkich niestandardowych wyjƒÖtk√≥w w projekcie.</p>
</section>
<section id="klasa-exception">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">exception</span></code><a class="headerlink" href="#klasa-exception" title="Link to this heading">#</a></h1>
</section>
<section id="id972">
<h1>Opis semantyczny<a class="headerlink" href="#id972" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">std::exception</span></code> i rozszerza jƒÖ o konstruktor przyjmujƒÖcy <code class="docutils literal notranslate"><span class="pre">std::string</span></code> oraz o przechowywanie komunikatu b≈Çƒôdu w <code class="docutils literal notranslate"><span class="pre">m_what</span></code>. Upraszcza to tworzenie i rzucanie wyjƒÖtk√≥w z niestandardowymi komunikatami.</p>
</section>
<section id="id973">
<h1>Metody<a class="headerlink" href="#id973" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">exception(const</span> <span class="pre">std::string&amp;</span> <span class="pre">what)</span></code>: Konstruktor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">const</span> <span class="pre">char*</span> <span class="pre">what()</span> <span class="pre">const</span> <span class="pre">throw()</span></code>: Zwraca komunikat b≈Çƒôdu.</p></li>
</ul>
</section>
<section id="funkcja-throw-exception">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">throw_exception</span></code><a class="headerlink" href="#funkcja-throw-exception" title="Link to this heading">#</a></h1>
<p>Funkcja pomocnicza, kt√≥ra tworzy i rzuca <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">throw_exception</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">what</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="n">exception</span><span class="p">(</span><span class="n">what</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id974">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id974" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">cast_exception</span></code> i <code class="docutils literal notranslate"><span class="pre">LuaException</span></code>.</p></li>
<li><p>Jest u≈ºywana w ca≈Çym projekcie do sygnalizowania b≈Çƒôd√≥w, kt√≥re mogƒÖ byƒá przechwycone i obs≈Çu≈ºone na wy≈ºszym poziomie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="fastrand-h">
<h1>üìÑ fastrand.h<a class="headerlink" href="#fastrand-h" title="Link to this heading">#</a></h1>
</section>
<section id="id975">
<h1>Opis og√≥lny<a class="headerlink" href="#id975" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">fastrand.h</span></code> zawiera implementacjƒô prostej i szybkiej funkcji do generowania liczb pseudolosowych.</p>
</section>
<section id="funkcja-fastrand">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">fastrand</span></code><a class="headerlink" href="#funkcja-fastrand" title="Link to this heading">#</a></h1>
</section>
<section id="static-int-fastrand">
<h1><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">int</span> <span class="pre">fastrand()</span></code><a class="headerlink" href="#static-int-fastrand" title="Link to this heading">#</a></h1>
</section>
<section id="id976">
<h1>Opis semantyczny<a class="headerlink" href="#id976" title="Link to this heading">#</a></h1>
<p>Implementuje liniowy generator kongruentny (Linear Congruential Generator - LCG). Jest to bardzo prosty i szybki algorytm, ale o niskiej jako≈õci losowo≈õci w por√≥wnaniu do nowocze≈õniejszych generator√≥w (jak Mersenne Twister). Jest odpowiedni do zastosowa≈Ñ, gdzie wydajno≈õƒá jest wa≈ºniejsza ni≈º jako≈õƒá losowo≈õci (np. proste efekty wizualne).</p>
</section>
<section id="id977">
<h1>Dzia≈Çanie<a class="headerlink" href="#id977" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>U≈ºywa statycznej zmiennej <code class="docutils literal notranslate"><span class="pre">g_seed</span></code> jako stanu.</p></li>
<li><p>W ka≈ºdym wywo≈Çaniu, aktualizuje <code class="docutils literal notranslate"><span class="pre">g_seed</span></code> wed≈Çug wzoru: <code class="docutils literal notranslate"><span class="pre">g_seed</span> <span class="pre">=</span> <span class="pre">(a</span> <span class="pre">*</span> <span class="pre">g_seed</span> <span class="pre">+</span> <span class="pre">c)</span></code>.</p></li>
<li><p>Zwraca 15 najbardziej znaczƒÖcych bit√≥w z wy≈ºszych 16 bit√≥w wyniku.</p></li>
</ul>
</section>
<section id="id978">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id978" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to samodzielna funkcja narzƒôdziowa.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="math-cpp">
<h1>üìÑ math.cpp<a class="headerlink" href="#math-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id979">
<h1>Opis og√≥lny<a class="headerlink" href="#id979" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">math.cpp</span></code> zawiera implementacjƒô funkcji matematycznych i losowych zadeklarowanych w <code class="docutils literal notranslate"><span class="pre">math.h</span></code>.</p>
</section>
<section id="id980">
<h1>Funkcje<a class="headerlink" href="#id980" title="Link to this heading">#</a></h1>
</section>
<section id="uint32-t-stdext-adler32">
<h1><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">stdext::adler32(...)</span></code><a class="headerlink" href="#uint32-t-stdext-adler32" title="Link to this heading">#</a></h1>
<p>Implementuje algorytm sumy kontrolnej Adler-32, kt√≥ry jest szybszy, ale mniej niezawodny ni≈º CRC32.</p>
</section>
<section id="long-stdext-random-range-long-min-long-max">
<h1><code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">stdext::random_range(long</span> <span class="pre">min,</span> <span class="pre">long</span> <span class="pre">max)</span></code><a class="headerlink" href="#long-stdext-random-range-long-min-long-max" title="Link to this heading">#</a></h1>
<p>Generuje losowƒÖ liczbƒô ca≈ÇkowitƒÖ z podanego zakresu (w≈ÇƒÖcznie). U≈ºywa generatora Mersenne Twister (<code class="docutils literal notranslate"><span class="pre">std::mt19937</span></code>) zasilanego przez <code class="docutils literal notranslate"><span class="pre">std::random_device</span></code>, co zapewnia wysokƒÖ jako≈õƒá losowo≈õci.</p>
</section>
<section id="float-stdext-random-range-float-min-float-max">
<h1><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">stdext::random_range(float</span> <span class="pre">min,</span> <span class="pre">float</span> <span class="pre">max)</span></code><a class="headerlink" href="#float-stdext-random-range-float-min-float-max" title="Link to this heading">#</a></h1>
<p>Generuje losowƒÖ liczbƒô zmiennoprzecinkowƒÖ z podanego zakresu.</p>
</section>
<section id="double-stdext-round-double-r">
<h1><code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">stdext::round(double</span> <span class="pre">r)</span></code><a class="headerlink" href="#double-stdext-round-double-r" title="Link to this heading">#</a></h1>
<p>Implementuje zaokrƒÖglanie matematyczne (od .5 w g√≥rƒô).</p>
</section>
<section id="id981">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id981" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/math.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;random&gt;</span></code>: Do generowania liczb losowych.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="math-h">
<h1>üìÑ math.h<a class="headerlink" href="#math-h" title="Link to this heading">#</a></h1>
</section>
<section id="id982">
<h1>Opis og√≥lny<a class="headerlink" href="#id982" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">math.h</span></code> deklaruje zestaw funkcji pomocniczych zwiƒÖzanych z matematykƒÖ, operacjami bitowymi i losowo≈õciƒÖ.</p>
</section>
<section id="id983">
<h1>Funkcje<a class="headerlink" href="#id983" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">is_power_of_two(v)</span></code></strong>: Sprawdza, czy liczba jest potƒôgƒÖ dw√≥jki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">to_power_of_two(v)</span></code></strong>: Zwraca najbli≈ºszƒÖ potƒôgƒô dw√≥jki, kt√≥ra jest wiƒôksza lub r√≥wna <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">readULE16</span></code>, <code class="docutils literal notranslate"><span class="pre">readULE32</span></code>, <code class="docutils literal notranslate"><span class="pre">readULE64</span></code></strong>: OdczytujƒÖ liczby ca≈Çkowite bez znaku w porzƒÖdku Little Endian z bufora.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">writeULE16</span></code>, <code class="docutils literal notranslate"><span class="pre">writeULE32</span></code>, <code class="docutils literal notranslate"><span class="pre">writeULE64</span></code></strong>: ZapisujƒÖ liczby do bufora w porzƒÖdku Little Endian.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">readSLE...</span></code>, <code class="docutils literal notranslate"><span class="pre">writeSLE...</span></code></strong>: Analogiczne funkcje dla liczb ze znakiem.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">adler32(...)</span></code></strong>: Deklaracja funkcji sumy kontrolnej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">random_range(...)</span></code></strong>: Deklaracje funkcji do generowania liczb losowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">round(...)</span></code></strong>: Deklaracja funkcji zaokrƒÖglajƒÖcej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">clamp(...)</span></code></strong>: Szablonowa funkcja ograniczajƒÖca warto≈õƒá do podanego zakresu.</p></li>
</ul>
</section>
<section id="id984">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id984" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>SƒÖ to podstawowe funkcje narzƒôdziowe, u≈ºywane w wielu miejscach, szczeg√≥lnie w obs≈Çudze sieci (odczyt/zapis pakiet√≥w) i grafice (operacje na potƒôgach dw√≥jki dla tekstur).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="net-h">
<h1>üìÑ net.h<a class="headerlink" href="#net-h" title="Link to this heading">#</a></h1>
</section>
<section id="id985">
<h1>Opis og√≥lny<a class="headerlink" href="#id985" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">net.h</span></code> deklaruje funkcje pomocnicze zwiƒÖzane z operacjami na adresach IP.</p>
</section>
<section id="id986">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id986" title="Link to this heading">#</a></h1>
</section>
<section id="id987">
<h1>Funkcje<a class="headerlink" href="#id987" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ip_to_string(uint32</span> <span class="pre">ip)</span></code></p></td>
<td class="text-left"><p>Konwertuje 32-bitowy adres IP (w porzƒÖdku sieciowym) na jego reprezentacjƒô tekstowƒÖ (np. ‚Äû127.0.0.1‚Äù).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">uint32</span> <span class="pre">string_to_ip(const</span> <span class="pre">std::string&amp;</span> <span class="pre">string)</span></code></p></td>
<td class="text-left"><p>Konwertuje adres IP w formacie tekstowym na jego 32-bitowƒÖ reprezentacjƒô w porzƒÖdku sieciowym.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint32&gt;</span> <span class="pre">listSubnetAddresses(...)</span></code></p></td>
<td class="text-left"><p>Generuje listƒô wszystkich adres√≥w IP w danej podsieci.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id988">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id988" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/types.h</span></code>.</p></li>
<li><p>Implementacja w <code class="docutils literal notranslate"><span class="pre">net.cpp</span></code> u≈ºywa Boost.Asio do konwersji.</p></li>
<li><p>Funkcje te sƒÖ u≈ºywane w logice sieciowej, np. do logowania adres√≥w IP.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="packed-any-h">
<h1>üìÑ packed_any.h<a class="headerlink" href="#packed-any-h" title="Link to this heading">#</a></h1>
</section>
<section id="id989">
<h1>Opis og√≥lny<a class="headerlink" href="#id989" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packed_any.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">stdext::packed_any</span></code>, kt√≥ra jest zoptymalizowanƒÖ pod kƒÖtem pamiƒôci wersjƒÖ <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>.</p>
</section>
<section id="klasa-packed-any">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">packed_any</span></code><a class="headerlink" href="#klasa-packed-any" title="Link to this heading">#</a></h1>
</section>
<section id="id990">
<h1>Opis semantyczny<a class="headerlink" href="#id990" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">packed_any</span></code> dzia≈Ça podobnie do <code class="docutils literal notranslate"><span class="pre">any</span></code>, ale wprowadza optymalizacjƒô dla ma≈Çych, trywialnych typ√≥w (takich jak <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">enum</span></code>, wska≈∫niki). Zamiast alokowaƒá pamiƒôƒá na stercie dla <code class="docutils literal notranslate"><span class="pre">holdera</span></code>, warto≈õci takich typ√≥w sƒÖ przechowywane bezpo≈õrednio w wska≈∫niku <code class="docutils literal notranslate"><span class="pre">content</span></code> poprzez rzutowanie. Flaga <code class="docutils literal notranslate"><span class="pre">scalar</span></code> odr√≥≈ºnia te dwa tryby przechowywania. Zmniejsza to fragmentacjƒô pamiƒôci i narzut na alokacjƒô dla czƒôsto u≈ºywanych, ma≈Çych typ√≥w.</p>
</section>
<section id="szablon-can-pack-in-any">
<h1>Szablon <code class="docutils literal notranslate"><span class="pre">can_pack_in_any</span></code><a class="headerlink" href="#szablon-can-pack-in-any" title="Link to this heading">#</a></h1>
<p>Szablon pomocniczy, kt√≥ry w czasie kompilacji okre≈õla, czy dany typ <code class="docutils literal notranslate"><span class="pre">T</span></code> mo≈ºe byƒá ‚Äûspakowany‚Äù bezpo≈õrednio we wska≈∫niku. Warunkiem jest, aby <code class="docutils literal notranslate"><span class="pre">sizeof(T)</span></code> by≈Ç mniejszy lub r√≥wny <code class="docutils literal notranslate"><span class="pre">sizeof(void*)</span></code> i aby typ by≈Ç trywialnie kopiowalny.</p>
</section>
<section id="metody-i-pola">
<h1>Metody i pola<a class="headerlink" href="#metody-i-pola" title="Link to this heading">#</a></h1>
<p>SƒÖ analogiczne do <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>, z dodatkowym polem <code class="docutils literal notranslate"><span class="pre">scalar</span></code> do rozr√≥≈ºniania trybu.</p>
</section>
<section id="funkcja-packed-any-cast">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">packed_any_cast</span></code><a class="headerlink" href="#funkcja-packed-any-cast" title="Link to this heading">#</a></h1>
<p>Posiada dwie specjalizacje: jednƒÖ dla typ√≥w ‚Äûpakowalnych‚Äù (kt√≥ra rzutuje wska≈∫nik z powrotem na warto≈õƒá) i drugƒÖ dla typ√≥w nie-pakowalnych (kt√≥ra dzia≈Ça jak <code class="docutils literal notranslate"><span class="pre">any_cast</span></code>).</p>
</section>
<section id="id991">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id991" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest u≈ºywana w <code class="docutils literal notranslate"><span class="pre">packed_storage</span></code> jako mechanizm przechowywania warto≈õci.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="shared-object-h">
<h1>üìÑ shared_object.h<a class="headerlink" href="#shared-object-h" title="Link to this heading">#</a></h1>
</section>
<section id="id992">
<h1>Opis og√≥lny<a class="headerlink" href="#id992" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">shared_object.h</span></code> zawiera implementacjƒô w≈Çasnego, intruzywnego inteligentnego wska≈∫nika (<code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>) i powiƒÖzanej z nim klasy bazowej (<code class="docutils literal notranslate"><span class="pre">shared_object</span></code>).</p>
</section>
<section id="klasa-shared-object">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">shared_object</span></code><a class="headerlink" href="#klasa-shared-object" title="Link to this heading">#</a></h1>
</section>
<section id="id993">
<h1>Opis semantyczny<a class="headerlink" href="#id993" title="Link to this heading">#</a></h1>
<p>Jest to klasa bazowa, po kt√≥rej muszƒÖ dziedziczyƒá wszystkie klasy, kt√≥re chcƒÖ byƒá zarzƒÖdzane przez <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>. Zawiera ona licznik referencji (<code class="docutils literal notranslate"><span class="pre">refs</span></code>) i metody do jego inkrementacji i dekrementacji. Jest to tzw. ‚Äûintruzywny‚Äù wska≈∫nik, poniewa≈º sam obiekt przechowuje sw√≥j licznik referencji.</p>
</section>
<section id="id994">
<h1>Metody<a class="headerlink" href="#id994" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">add_ref()</span></code>: Inkrementuje licznik.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dec_ref()</span></code>: Dekrementuje licznik. Je≈õli osiƒÖgnie 0, obiekt usuwa sam siebie (<code class="docutils literal notranslate"><span class="pre">delete</span> <span class="pre">this</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ref_count()</span></code>: Zwraca liczbƒô referencji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">..._self_cast()</span></code>: Metody pomocnicze do bezpiecznego rzutowania <code class="docutils literal notranslate"><span class="pre">this</span></code> na <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>.</p></li>
</ul>
</section>
<section id="klasa-shared-object-ptr">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code><a class="headerlink" href="#klasa-shared-object-ptr" title="Link to this heading">#</a></h1>
</section>
<section id="id995">
<h1>Opis semantyczny<a class="headerlink" href="#id995" title="Link to this heading">#</a></h1>
<p>Jest to szablonowa klasa inteligentnego wska≈∫nika, kt√≥ra na≈õladuje zachowanie <code class="docutils literal notranslate"><span class="pre">std::shared_ptr</span></code>, ale wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">shared_object</span></code>. ZarzƒÖdza czasem ≈ºycia obiektu, na kt√≥ry wskazuje, automatycznie wywo≈ÇujƒÖc <code class="docutils literal notranslate"><span class="pre">add_ref</span></code> i <code class="docutils literal notranslate"><span class="pre">dec_ref</span></code>.</p>
</section>
<section id="metody-i-operatory">
<h1>Metody i operatory<a class="headerlink" href="#metody-i-operatory" title="Link to this heading">#</a></h1>
<p>Implementuje wszystkie standardowe operacje dla inteligentnych wska≈∫nik√≥w: konstruktory, destruktor, operatory przypisania, dereferencji (<code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">‚Üí</span></code>), por√≥wnania, a tak≈ºe konwersjƒô do <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</p>
</section>
<section id="id996">
<h1>Funkcje pomocnicze<a class="headerlink" href="#id996" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">get_pointer</span></code>, <code class="docutils literal notranslate"><span class="pre">static_pointer_cast</span></code>, <code class="docutils literal notranslate"><span class="pre">const_pointer_cast</span></code>, <code class="docutils literal notranslate"><span class="pre">dynamic_pointer_cast</span></code>, <code class="docutils literal notranslate"><span class="pre">make_shared_object</span></code>: Funkcje globalne na≈õladujƒÖce te znane z <code class="docutils literal notranslate"><span class="pre">&lt;memory&gt;</span></code>.</p></li>
</ul>
</section>
<section id="id997">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id997" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to fundamentalny element frameworka. Prawie wszystkie klasy, kt√≥re sƒÖ dynamicznie alokowane i przekazywane miƒôdzy r√≥≈ºnymi czƒô≈õciami systemu (szczeg√≥lnie do i z Lua), dziedziczƒÖ po <code class="docutils literal notranslate"><span class="pre">shared_object</span></code> i sƒÖ zarzƒÖdzane przez <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="stdext-h">
<h1>üìÑ stdext.h<a class="headerlink" href="#stdext-h" title="Link to this heading">#</a></h1>
</section>
<section id="id998">
<h1>Opis og√≥lny<a class="headerlink" href="#id998" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">stdext.h</span></code> jest g≈Ç√≥wnym plikiem nag≈Ç√≥wkowym dla modu≈Çu <code class="docutils literal notranslate"><span class="pre">stdext</span></code> (standard extensions). Jego jedynym zadaniem jest do≈ÇƒÖczenie wszystkich innych plik√≥w nag≈Ç√≥wkowych z tego modu≈Çu w jednym miejscu.</p>
</section>
<section id="id999">
<h1>Zawarto≈õƒá<a class="headerlink" href="#id999" title="Link to this heading">#</a></h1>
<p>Do≈ÇƒÖcza wszystkie pliki z <code class="docutils literal notranslate"><span class="pre">framework/stdext/</span></code>, w tym:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">compiler.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dumper.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">types.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exception.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">demangle.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cast.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">math.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">string.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boolean.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shared_object.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">any.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">packed_any.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dynamic_storage.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">packed_storage.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format.h</span></code></p></li>
</ul>
</section>
<section id="id1000">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1000" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">global.h</span></code>, co sprawia, ≈ºe wszystkie narzƒôdzia z <code class="docutils literal notranslate"><span class="pre">stdext</span></code> sƒÖ dostƒôpne w ca≈Çym projekcie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="packed-storage-h">
<h1>üìÑ packed_storage.h<a class="headerlink" href="#packed-storage-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1001">
<h1>Opis og√≥lny<a class="headerlink" href="#id1001" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">packed_storage.h</span></code> deklaruje klasƒô szablonowƒÖ <code class="docutils literal notranslate"><span class="pre">packed_storage</span></code>, kt√≥ra jest kontenerem asocjacyjnym zoptymalizowanym pod kƒÖtem minimalnego zu≈ºycia pamiƒôci.</p>
</section>
<section id="klasa-packed-storage">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">packed_storage</span></code><a class="headerlink" href="#klasa-packed-storage" title="Link to this heading">#</a></h1>
</section>
<section id="id1002">
<h1>Opis semantyczny<a class="headerlink" href="#id1002" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">packed_storage</span></code> dzia≈Ça jak mapa, ale zamiast z≈Ço≈ºonych struktur drzewiastych lub tablic hashujƒÖcych, przechowuje swoje elementy w prostej, dynamicznie alokowanej tablicy par <code class="docutils literal notranslate"><span class="pre">(klucz,</span> <span class="pre">warto≈õƒá)</span></code>. Warto≈õci sƒÖ przechowywane w <code class="docutils literal notranslate"><span class="pre">packed_any</span></code>, co dodatkowo minimalizuje zu≈ºycie pamiƒôci. Jest to rozwiƒÖzanie kompromisowe: zu≈ºywa bardzo ma≈Ço pamiƒôci, ale operacje wyszukiwania, dodawania i usuwania majƒÖ z≈Ço≈ºono≈õƒá liniowƒÖ O(n). Jest odpowiednia dla ma≈Çej liczby element√≥w.</p>
</section>
<section id="id1003">
<h1>Metody publiczne<a class="headerlink" href="#id1003" title="Link to this heading">#</a></h1>
<p>SƒÖ analogiczne do <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code>: <code class="docutils literal notranslate"><span class="pre">set</span></code>, <code class="docutils literal notranslate"><span class="pre">remove</span></code>, <code class="docutils literal notranslate"><span class="pre">get</span></code>, <code class="docutils literal notranslate"><span class="pre">has</span></code>, <code class="docutils literal notranslate"><span class="pre">clear</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code>.</p>
</section>
<section id="id1004">
<h1>Zmienne prywatne<a class="headerlink" href="#id1004" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_values</span></code>: Wska≈∫nik na tablicƒô <code class="docutils literal notranslate"><span class="pre">value_pair</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_size</span></code>: Aktualna liczba element√≥w.</p></li>
</ul>
</section>
<section id="id1005">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1005" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/types.h</span></code>, <code class="docutils literal notranslate"><span class="pre">stdext/packed_any.h</span></code>.</p></li>
<li><p>Mo≈ºe byƒá u≈ºywana tam, gdzie liczy siƒô ka≈ºdy bajt pamiƒôci, a liczba przechowywanych element√≥w jest niewielka.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="thread-h">
<h1>üìÑ thread.h<a class="headerlink" href="#thread-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1006">
<h1>Opis og√≥lny<a class="headerlink" href="#id1006" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">thread.h</span></code> jest prostym plikiem nag≈Ç√≥wkowym, kt√≥ry do≈ÇƒÖcza standardowe nag≈Ç√≥wki C++ zwiƒÖzane z wielowƒÖtkowo≈õciƒÖ.</p>
</section>
<section id="id1007">
<h1>Zawarto≈õƒá<a class="headerlink" href="#id1007" title="Link to this heading">#</a></h1>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;thread&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;condition_variable&gt;</span>
<span class="cp">#</span><span class="w"> </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;mutex&gt;</span>
</pre></div>
</div>
</section>
<section id="id1008">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1008" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>S≈Çu≈ºy jako centralny punkt do≈ÇƒÖczania nag≈Ç√≥wk√≥w wielowƒÖtkowo≈õci, co u≈Çatwia zarzƒÖdzanie zale≈ºno≈õciami.</p></li>
<li><p>Jest u≈ºywany przez klasy takie jak <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code>, <code class="docutils literal notranslate"><span class="pre">Logger</span></code>, <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="time-h">
<h1>üìÑ time.h<a class="headerlink" href="#time-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1009">
<h1>Opis og√≥lny<a class="headerlink" href="#id1009" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">time.h</span></code> deklaruje zestaw funkcji i klas do obs≈Çugi czasu, stanowiƒÖc opakowanie na <code class="docutils literal notranslate"><span class="pre">std::chrono</span></code>.</p>
</section>
<section id="id1010">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id1010" title="Link to this heading">#</a></h1>
</section>
<section id="id1011">
<h1>Funkcje<a class="headerlink" href="#id1011" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">time()</span></code></p></td>
<td class="text-left"><p>Zwraca czas w sekundach od epoki (Unix timestamp).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">millis()</span></code></p></td>
<td class="text-left"><p>Zwraca czas w milisekundach od uruchomienia aplikacji.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">micros()</span></code></p></td>
<td class="text-left"><p>Zwraca czas w mikrosekundach od uruchomienia aplikacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">millisleep(size_t</span> <span class="pre">ms)</span></code></p></td>
<td class="text-left"><p>Usypia bie≈ºƒÖcy wƒÖtek na <code class="docutils literal notranslate"><span class="pre">ms</span></code> milisekund.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">microsleep(size_t</span> <span class="pre">us)</span></code></p></td>
<td class="text-left"><p>Usypia bie≈ºƒÖcy wƒÖtek na <code class="docutils literal notranslate"><span class="pre">us</span></code> mikrosekund.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="struktura-timer">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">timer</span></code><a class="headerlink" href="#struktura-timer" title="Link to this heading">#</a></h1>
<p>Prosta klasa-stoper, podobna do <code class="docutils literal notranslate"><span class="pre">Timer</span></code> z modu≈Çu <code class="docutils literal notranslate"><span class="pre">core</span></code>, ale dzia≈ÇajƒÖca na ‚Äûrzeczywistym‚Äù czasie z <code class="docutils literal notranslate"><span class="pre">stdext::micros()</span></code>, a nie na buforowanym czasie z <code class="docutils literal notranslate"><span class="pre">g_clock</span></code>.</p>
</section>
<section id="id1012">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1012" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/types.h</span></code>.</p></li>
<li><p>Implementacja w <code class="docutils literal notranslate"><span class="pre">time.cpp</span></code> u≈ºywa <code class="docutils literal notranslate"><span class="pre">std::chrono</span></code> i <code class="docutils literal notranslate"><span class="pre">std::this_thread</span></code>.</p></li>
<li><p>SƒÖ to niskopoziomowe funkcje czasowe, na kt√≥rych bazuje <code class="docutils literal notranslate"><span class="pre">Clock</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="traits-h">
<h1>üìÑ traits.h<a class="headerlink" href="#traits-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1013">
<h1>Opis og√≥lny<a class="headerlink" href="#id1013" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">traits.h</span></code> zawiera szablony metaprogramowania (type traits), kt√≥re sƒÖ u≈ºywane do manipulacji i analizy typ√≥w w czasie kompilacji.</p>
</section>
<section id="id1014">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id1014" title="Link to this heading">#</a></h1>
</section>
<section id="szablony">
<h1>Szablony<a class="headerlink" href="#szablony" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">replace_extent</span></code></strong>: Usuwa wymiar tablicy z typu i zastƒôpuje go wska≈∫nikiem. Np. <code class="docutils literal notranslate"><span class="pre">int[10]</span></code> staje siƒô <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">int*</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">remove_const_ref</span></code></strong>: Metafunkcja, kt√≥ra z danego typu <code class="docutils literal notranslate"><span class="pre">T</span></code> usuwa kwalifikatory <code class="docutils literal notranslate"><span class="pre">const</span></code> oraz referencjƒô, zwracajƒÖc ‚Äûczysty‚Äù typ. Np. <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::string&amp;</span></code> staje siƒô <code class="docutils literal notranslate"><span class="pre">std::string</span></code>.</p></li>
</ul>
</section>
<section id="id1015">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1015" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;type_traits&gt;</span></code>: Standardowy nag≈Ç√≥wek C++.</p></li>
<li><p>SƒÖ to zaawansowane narzƒôdzia metaprogramowania, u≈ºywane g≈Ç√≥wnie w <code class="docutils literal notranslate"><span class="pre">luabinder.h</span></code> do analizy sygnatur funkcji i w <code class="docutils literal notranslate"><span class="pre">format.h</span></code> do obs≈Çugi argument√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="string-h">
<h1>üìÑ string.h<a class="headerlink" href="#string-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1016">
<h1>Opis og√≥lny<a class="headerlink" href="#id1016" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">string.h</span></code> deklaruje zestaw funkcji pomocniczych do manipulacji i konwersji ciƒÖg√≥w znak√≥w (<code class="docutils literal notranslate"><span class="pre">std::string</span></code>).</p>
</section>
<section id="id1017">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id1017" title="Link to this heading">#</a></h1>
</section>
<section id="id1018">
<h1>Funkcje<a class="headerlink" href="#id1018" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">to_string&lt;T&gt;(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">from_string&lt;T&gt;(...)</span></code></p></td>
<td class="text-left"><p>Skr√≥ty do <code class="docutils literal notranslate"><span class="pre">unsafe_cast</span></code> dla konwersji z/do stringa.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">resolve_path(...)</span></code></p></td>
<td class="text-left"><p>≈ÅƒÖczy ≈õcie≈ºkƒô do pliku ze ≈õcie≈ºkƒÖ ≈∫r√≥d≈ÇowƒÖ.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">date_time_string()</span></code></p></td>
<td class="text-left"><p>Zwraca sformatowanƒÖ datƒô i czas.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">dec_to_hex(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">hex_to_dec(...)</span></code></p></td>
<td class="text-left"><p>Konwersje miƒôdzy systemem dziesiƒôtnym a szesnastkowym.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">tolower(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">toupper(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">trim(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">ucwords(...)</span></code></p></td>
<td class="text-left"><p>Standardowe operacje na stringach.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">ends_with(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">starts_with(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">replace_all(...)</span></code></p></td>
<td class="text-left"><p>Operacje wyszukiwania i zamiany.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">is_valid_utf8(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy string jest poprawnym ciƒÖgiem UTF-8.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">utf8_to_latin1(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">latin1_to_utf8(...)</span></code></p></td>
<td class="text-left"><p>Konwersje kodowania znak√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">utf8_to_utf16(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">utf16_to_utf8(...)</span></code></p></td>
<td class="text-left"><p>(Windows) Konwersje do/z UTF-16 (<code class="docutils literal notranslate"><span class="pre">std::wstring</span></code>).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">split(...)</span></code></p></td>
<td class="text-left"><p>Dzieli string na wektor string√≥w na podstawie separator√≥w.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1019">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1019" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/types.h</span></code>, <code class="docutils literal notranslate"><span class="pre">cast.h</span></code>.</p></li>
<li><p>Implementacja w <code class="docutils literal notranslate"><span class="pre">string.cpp</span></code> u≈ºywa biblioteki Boost.StringAlgo do niekt√≥rych operacji.</p></li>
<li><p>SƒÖ to podstawowe funkcje narzƒôdziowe u≈ºywane w ca≈Çym projekcie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="time-cpp">
<h1>üìÑ time.cpp<a class="headerlink" href="#time-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1020">
<h1>Opis og√≥lny<a class="headerlink" href="#id1020" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">time.cpp</span></code> zawiera implementacjƒô funkcji czasowych zadeklarowanych w <code class="docutils literal notranslate"><span class="pre">time.h</span></code>.</p>
</section>
<section id="id1021">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id1021" title="Link to this heading">#</a></h1>
</section>
<section id="startup-time">
<h1><code class="docutils literal notranslate"><span class="pre">startup_time</span></code><a class="headerlink" href="#startup-time" title="Link to this heading">#</a></h1>
<p>Statyczna zmienna, kt√≥ra przechowuje czas uruchomienia aplikacji. Jest u≈ºywana jako punkt odniesienia dla <code class="docutils literal notranslate"><span class="pre">millis()</span></code> i <code class="docutils literal notranslate"><span class="pre">micros()</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">startup_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="implementacje-funkcji">
<h1>Implementacje funkcji<a class="headerlink" href="#implementacje-funkcji" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">time()</span></code></strong>: U≈ºywa <code class="docutils literal notranslate"><span class="pre">std::time(NULL)</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">millis()</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">micros()</span></code></strong>: ObliczajƒÖ r√≥≈ºnicƒô miƒôdzy bie≈ºƒÖcym czasem a <code class="docutils literal notranslate"><span class="pre">startup_time</span></code> za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">std::chrono</span></code> i konwertujƒÖ wynik na odpowiedniƒÖ jednostkƒô.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">millisleep()</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">microsleep()</span></code></strong>: U≈ºywajƒÖ <code class="docutils literal notranslate"><span class="pre">std::this_thread::sleep_for</span></code>.</p></li>
</ul>
</section>
<section id="id1022">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1022" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/time.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;chrono&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;ctime&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;thread&gt;</span></code>: Standardowe biblioteki C++.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uri-h">
<h1>üìÑ uri.h<a class="headerlink" href="#uri-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1023">
<h1>Opis og√≥lny<a class="headerlink" href="#id1023" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uri.h</span></code> deklaruje strukturƒô <code class="docutils literal notranslate"><span class="pre">ParsedURI</span></code> oraz funkcjƒô do parsowania adres√≥w URL.</p>
</section>
<section id="struktura-parseduri">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">ParsedURI</span></code><a class="headerlink" href="#struktura-parseduri" title="Link to this heading">#</a></h1>
<p>Przechowuje rozbity na czƒô≈õci adres URL.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Pole</p></th>
<th class="head text-left"><p>Typ</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">protocol</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Protok√≥≈Ç (np. ‚Äûhttp‚Äù, ‚Äûwss‚Äù).</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">domain</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Domena (np. ‚Äûexample.com‚Äù).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">port</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>Port.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">query</span></code></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">std::string</span></code></p></td>
<td class="text-left"><p>≈öcie≈ºka i zapytanie (np. ‚Äû/path?a=1‚Äù).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="funkcja-parseuri">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">parseURI</span></code><a class="headerlink" href="#funkcja-parseuri" title="Link to this heading">#</a></h1>
</section>
<section id="parseduri-parseuri-const-std-string-url">
<h1><code class="docutils literal notranslate"><span class="pre">ParsedURI</span> <span class="pre">parseURI(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url)</span></code><a class="headerlink" href="#parseduri-parseuri-const-std-string-url" title="Link to this heading">#</a></h1>
<p>Parsuje podany URL i zwraca strukturƒô <code class="docutils literal notranslate"><span class="pre">ParsedURI</span></code> z jego komponentami.</p>
</section>
<section id="id1024">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1024" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> i <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code> do analizy podanego adresu URL.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="net-cpp">
<h1>üìÑ net.cpp<a class="headerlink" href="#net-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1025">
<h1>Opis og√≥lny<a class="headerlink" href="#id1025" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">net.cpp</span></code> zawiera implementacjƒô funkcji pomocniczych do operacji na adresach IP, zadeklarowanych w <code class="docutils literal notranslate"><span class="pre">net.h</span></code>.</p>
</section>
<section id="id1026">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code><a class="headerlink" href="#id1026" title="Link to this heading">#</a></h1>
</section>
<section id="std-string-ip-to-string-uint32-ip">
<h1><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ip_to_string(uint32</span> <span class="pre">ip)</span></code><a class="headerlink" href="#std-string-ip-to-string-uint32-ip" title="Link to this heading">#</a></h1>
<p>Konwertuje 32-bitowy adres IP z porzƒÖdku sieciowego na porzƒÖdek hosta, a nastƒôpnie na <code class="docutils literal notranslate"><span class="pre">std::string</span></code> za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">boost::asio::ip::address_v4</span></code>.</p>
</section>
<section id="uint32-string-to-ip-const-std-string-string">
<h1><code class="docutils literal notranslate"><span class="pre">uint32</span> <span class="pre">string_to_ip(const</span> <span class="pre">std::string&amp;</span> <span class="pre">string)</span></code><a class="headerlink" href="#uint32-string-to-ip-const-std-string-string" title="Link to this heading">#</a></h1>
<p>Konwertuje <code class="docutils literal notranslate"><span class="pre">std::string</span></code> na obiekt <code class="docutils literal notranslate"><span class="pre">address_v4</span></code>, a nastƒôpnie na 32-bitowƒÖ liczbƒô w porzƒÖdku sieciowym.</p>
</section>
<section id="std-vector-uint32-listsubnetaddresses-uint32-address-uint8-mask">
<h1><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint32&gt;</span> <span class="pre">listSubnetAddresses(uint32</span> <span class="pre">address,</span> <span class="pre">uint8</span> <span class="pre">mask)</span></code><a class="headerlink" href="#std-vector-uint32-listsubnetaddresses-uint32-address-uint8-mask" title="Link to this heading">#</a></h1>
<p>Generuje listƒô wszystkich adres√≥w IP w podanej podsieci. Oblicza maskƒô bitowƒÖ i iteruje po wszystkich mo≈ºliwych adresach w zakresie, dodajƒÖc je do listy.</p>
</section>
<section id="id1027">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1027" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/net.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/asio</span></code>: U≈ºywana do konwersji adres√≥w IP.</p></li>
<li><p>SƒÖ to funkcje narzƒôdziowe u≈ºywane w logice sieciowej.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uri-cpp">
<h1>üìÑ uri.cpp<a class="headerlink" href="#uri-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1028">
<h1>Opis og√≥lny<a class="headerlink" href="#id1028" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uri.cpp</span></code> zawiera implementacjƒô funkcji <code class="docutils literal notranslate"><span class="pre">parseURI</span></code> do parsowania adres√≥w URL.</p>
</section>
<section id="id1029">
<h1>Funkcja <code class="docutils literal notranslate"><span class="pre">parseURI</span></code><a class="headerlink" href="#id1029" title="Link to this heading">#</a></h1>
</section>
<section id="id1030">
<h1><code class="docutils literal notranslate"><span class="pre">ParsedURI</span> <span class="pre">parseURI(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url)</span></code><a class="headerlink" href="#id1030" title="Link to this heading">#</a></h1>
<p>U≈ºywa wyra≈ºenia regularnego (<code class="docutils literal notranslate"><span class="pre">std::regex</span></code>) do rozbicia adresu URL na jego komponenty: protok√≥≈Ç, domenƒô, port i ≈õcie≈ºkƒô/zapytanie. Obs≈Çuguje protoko≈Çy ‚Äûhttp‚Äù, ‚Äûhttps‚Äù, ‚Äûws‚Äù, ‚Äûwss‚Äù i poprawnie ustawia domy≈õlne porty (80 dla http/ws, 443 dla https/wss).</p>
</section>
<section id="id1031">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1031" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/uri.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;regex&gt;</span></code>: Do parsowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/string.hpp</span></code>: Do konwersji na ma≈Çe litery.</p></li>
<li><p>Jest u≈ºywana przez <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code> i <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="types-h">
<h1>üìÑ types.h<a class="headerlink" href="#types-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1032">
<h1>Opis og√≥lny<a class="headerlink" href="#id1032" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">types.h</span></code> definiuje zestaw alias√≥w dla typ√≥w ca≈Çkowitoliczbowych o sta≈Çym rozmiarze oraz inne podstawowe typy u≈ºywane w ca≈Çym frameworku.</p>
</section>
<section id="id1033">
<h1>Definicje typ√≥w<a class="headerlink" href="#id1033" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Skr√≥ty</strong>: <code class="docutils literal notranslate"><span class="pre">uchar</span></code>, <code class="docutils literal notranslate"><span class="pre">ushort</span></code>, <code class="docutils literal notranslate"><span class="pre">uint</span></code>, <code class="docutils literal notranslate"><span class="pre">ulong</span></code>.</p></li>
<li><p><strong>Liczby o sta≈Çym rozmiarze</strong>: <code class="docutils literal notranslate"><span class="pre">uint64</span></code>, <code class="docutils literal notranslate"><span class="pre">uint32</span></code>, <code class="docutils literal notranslate"><span class="pre">uint16</span></code>, <code class="docutils literal notranslate"><span class="pre">uint8</span></code> oraz ich wersje ze znakiem (<code class="docutils literal notranslate"><span class="pre">int...</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ticks_t</span></code></strong>: Alias dla <code class="docutils literal notranslate"><span class="pre">int64</span></code>, u≈ºywany do przechowywania czasu w milisekundach lub mikrosekundach.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">refcount_t</span></code></strong>: Typ dla licznika referencji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">size_t</span></code>, <code class="docutils literal notranslate"><span class="pre">ptrdiff_t</span></code></strong>: Importuje typy ze <code class="docutils literal notranslate"><span class="pre">std</span></code>.</p></li>
</ul>
</section>
<section id="id1034">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1034" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;cstdint&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;cstddef&gt;</span></code>: Standardowe nag≈Ç√≥wki.</p></li>
<li><p>Jest to fundamentalny plik, do≈ÇƒÖczany przez <code class="docutils literal notranslate"><span class="pre">stdext.h</span></code> i <code class="docutils literal notranslate"><span class="pre">global.h</span></code>, zapewniajƒÖcy sp√≥jne i przeno≈õne typy danych w ca≈Çym projekcie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="format-h">
<h1>üìÑ format.h<a class="headerlink" href="#format-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1035">
<h1>Opis og√≥lny<a class="headerlink" href="#id1035" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">format.h</span></code> zawiera implementacjƒô funkcji <code class="docutils literal notranslate"><span class="pre">stdext::format</span></code>, kt√≥ra jest bezpiecznƒÖ typowo alternatywƒÖ dla <code class="docutils literal notranslate"><span class="pre">sprintf</span></code>, podobnƒÖ do <code class="docutils literal notranslate"><span class="pre">boost::format</span></code> lub <code class="docutils literal notranslate"><span class="pre">fmt::format</span></code>.</p>
</section>
<section id="id1036">
<h1>Funkcje<a class="headerlink" href="#id1036" title="Link to this heading">#</a></h1>
</section>
<section id="stdext-print">
<h1><code class="docutils literal notranslate"><span class="pre">stdext::print(...)</span></code><a class="headerlink" href="#stdext-print" title="Link to this heading">#</a></h1>
<p>Funkcja debugujƒÖca, kt√≥ra wypisuje na konsolƒô dowolnƒÖ liczbƒô argument√≥w, oddzielajƒÖc je tabulatorami, podobnie jak <code class="docutils literal notranslate"><span class="pre">print</span></code> w Lua.</p>
</section>
<section id="stdext-snprintf">
<h1><code class="docutils literal notranslate"><span class="pre">stdext::snprintf(...)</span></code><a class="headerlink" href="#stdext-snprintf" title="Link to this heading">#</a></h1>
<p>Opakowanie na <code class="docutils literal notranslate"><span class="pre">snprintf</span></code> / <code class="docutils literal notranslate"><span class="pre">_snprintf</span></code>, kt√≥re potrafi obs≈Çugiwaƒá typy niestandardowe, takie jak <code class="docutils literal notranslate"><span class="pre">std::string</span></code>, poprzez <code class="docutils literal notranslate"><span class="pre">sprintf_cast</span></code>.</p>
</section>
<section id="stdext-format">
<h1><code class="docutils literal notranslate"><span class="pre">stdext::format(...)</span></code><a class="headerlink" href="#stdext-format" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna funkcja.</p>
<ul class="simple">
<li><p><strong>Dzia≈Çanie</strong>:</p>
<ol class="arabic simple">
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">snprintf</span></code> z <code class="docutils literal notranslate"><span class="pre">NULL</span></code> jako buforem, aby obliczyƒá wymaganƒÖ d≈Çugo≈õƒá wynikowego stringa.</p></li>
<li><p>Alokuje <code class="docutils literal notranslate"><span class="pre">std::string</span></code> o odpowiednim rozmiarze.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">snprintf</span></code> ponownie, tym razem zapisujƒÖc wynik do bufora stringa.</p></li>
</ol>
</li>
<li><p><strong>Zalety</strong>: Jest w pe≈Çni bezpieczna (brak przepe≈Çnienia bufora) i obs≈Çuguje r√≥≈ºne typy danych.</p></li>
</ul>
</section>
<section id="id1037">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1037" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdext/traits.h</span></code>: Do analizy typ√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;tuple&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;sstream&gt;</span></code>: Do metaprogramowania i formatowania.</p></li>
<li><p>Jest to kluczowe narzƒôdzie u≈ºywane w ca≈Çym projekcie do formatowania string√≥w, szczeg√≥lnie w logach i komunikatach o b≈Çƒôdach.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="string-cpp">
<h1>üìÑ string.cpp<a class="headerlink" href="#string-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1038">
<h1>Opis og√≥lny<a class="headerlink" href="#id1038" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">string.cpp</span></code> zawiera implementacjƒô funkcji pomocniczych do manipulacji stringami, zadeklarowanych w <code class="docutils literal notranslate"><span class="pre">string.h</span></code>.</p>
</section>
<section id="id1039">
<h1>Funkcje<a class="headerlink" href="#id1039" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">resolve_path(...)</span></code></strong>: Implementuje logikƒô ≈ÇƒÖczenia ≈õcie≈ºek, obs≈ÇugujƒÖc ≈õcie≈ºki absolutne i wzglƒôdne.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">date_time_string()</span></code>, <code class="docutils literal notranslate"><span class="pre">timestamp_to_date(...)</span></code></strong>: U≈ºywajƒÖ <code class="docutils literal notranslate"><span class="pre">std::localtime</span></code> i <code class="docutils literal notranslate"><span class="pre">std::strftime</span></code> do formatowania daty i czasu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">dec_to_hex(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">hex_to_dec(...)</span></code></strong>: U≈ºywajƒÖ <code class="docutils literal notranslate"><span class="pre">std::stringstream</span></code> do konwersji.</p></li>
<li><p><strong>Konwersje kodowania</strong>: <code class="docutils literal notranslate"><span class="pre">is_valid_utf8</span></code> implementuje walidacjƒô bajt po bajcie. <code class="docutils literal notranslate"><span class="pre">utf8_to_latin1</span></code> i <code class="docutils literal notranslate"><span class="pre">latin1_to_utf8</span></code> implementujƒÖ uproszczonƒÖ konwersjƒô. Wersje dla Windows (<code class="docutils literal notranslate"><span class="pre">..._to_utf16</span></code>) u≈ºywajƒÖ funkcji WinAPI <code class="docutils literal notranslate"><span class="pre">MultiByteToWideChar</span></code> i <code class="docutils literal notranslate"><span class="pre">WideCharToMultiByte</span></code>.</p></li>
<li><p><strong>Inne operacje</strong>: <code class="docutils literal notranslate"><span class="pre">tolower</span></code>, <code class="docutils literal notranslate"><span class="pre">toupper</span></code>, <code class="docutils literal notranslate"><span class="pre">trim</span></code>, <code class="docutils literal notranslate"><span class="pre">ends_with</span></code>, <code class="docutils literal notranslate"><span class="pre">starts_with</span></code>, <code class="docutils literal notranslate"><span class="pre">replace_all</span></code>, <code class="docutils literal notranslate"><span class="pre">split</span></code> sƒÖ opakowaniami na odpowiednie funkcje z biblioteki Boost.StringAlgo.</p></li>
</ul>
</section>
<section id="id1040">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1040" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/stdext/string.h</span></code>, <code class="docutils literal notranslate"><span class="pre">format.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/string.hpp</span></code>: Kluczowa zale≈ºno≈õƒá dla wielu operacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">physfs.h</span></code>: Potencjalnie, choƒá nie jest bezpo≈õrednio u≈ºywany.</p></li>
<li><p>Nag≈Ç√≥wki WinAPI (dla konwersji kodowania).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id1041">
<h1>üìÑ declarations.h<a class="headerlink" href="#id1041" title="Link to this heading">#</a></h1>
</section>
<section id="id1042">
<h1>Opis og√≥lny<a class="headerlink" href="#id1042" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">declarations.h</span></code> w module <code class="docutils literal notranslate"><span class="pre">ui</span></code> jest plikiem nag≈Ç√≥wkowym do wczesnych deklaracji (forward declarations) i definicji typ√≥w dla klas interfejsu u≈ºytkownika.</p>
</section>
<section id="id1043">
<h1>Wczesne deklaracje<a class="headerlink" href="#id1043" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UIManager</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIWidget</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UILayout</span></code> i wszystkie jego podklasy (<code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code>, <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code>, <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code></p></li>
</ul>
</section>
<section id="id1044">
<h1>Definicje typ√≥w<a class="headerlink" href="#id1044" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span></code>, <code class="docutils literal notranslate"><span class="pre">UITextEditPtr</span></code>, <code class="docutils literal notranslate"><span class="pre">UILayoutPtr</span></code>, ‚Ä¶: Aliasy dla <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code> do klas UI.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIWidgetList</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::deque&lt;UIWidgetPtr&gt;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIAnchorList</span></code>: Alias dla <code class="docutils literal notranslate"><span class="pre">std::vector&lt;UIAnchorPtr&gt;</span></code>.</p></li>
</ul>
</section>
<section id="id1045">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1045" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/global.h</span></code>: Podstawowe definicje.</p></li>
<li><p>Jest do≈ÇƒÖczany przez wszystkie pliki nag≈Ç√≥wkowe w module <code class="docutils literal notranslate"><span class="pre">ui</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="ui-h">
<h1>üìÑ ui.h<a class="headerlink" href="#ui-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1046">
<h1>Opis og√≥lny<a class="headerlink" href="#id1046" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">ui.h</span></code> jest g≈Ç√≥wnym, zbiorczym plikiem nag≈Ç√≥wkowym dla modu≈Çu UI. Jego zadaniem jest do≈ÇƒÖczenie wszystkich najwa≈ºniejszych nag≈Ç√≥wk√≥w zwiƒÖzanych z interfejsem u≈ºytkownika w jednym miejscu.</p>
</section>
<section id="id1047">
<h1>Zawarto≈õƒá<a class="headerlink" href="#id1047" title="Link to this heading">#</a></h1>
<p>Do≈ÇƒÖcza wszystkie podstawowe komponenty UI:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">uimanager.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uiwidget.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uitextedit.h</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uilayout.h</span></code> i jego pochodne (<code class="docutils literal notranslate"><span class="pre">uihorizontallayout.h</span></code>, <code class="docutils literal notranslate"><span class="pre">uiverticallayout.h</span></code>, <code class="docutils literal notranslate"><span class="pre">uigridlayout.h</span></code>, <code class="docutils literal notranslate"><span class="pre">uianchorlayout.h</span></code>).</p></li>
</ul>
</section>
<section id="id1048">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1048" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>U≈Çatwia do≈ÇƒÖczanie ca≈Çego podsystemu UI w innych czƒô≈õciach projektu, kt√≥re go potrzebujƒÖ (np. w plikach modu≈Ç√≥w gry).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiboxlayout-cpp">
<h1>üìÑ uiboxlayout.cpp<a class="headerlink" href="#uiboxlayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1049">
<h1>Opis og√≥lny<a class="headerlink" href="#id1049" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiboxlayout.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>, kt√≥ra jest abstrakcyjnƒÖ klasƒÖ bazowƒÖ dla layout√≥w uk≈ÇadajƒÖcych widgety w jednej linii (poziomo lub pionowo).</p>
</section>
<section id="klasa-uiboxlayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code><a class="headerlink" href="#klasa-uiboxlayout" title="Link to this heading">#</a></h1>
</section>
<section id="uiboxlayout-uiboxlayout-uiwidgetptr-parentwidget">
<h1><code class="docutils literal notranslate"><span class="pre">UIBoxLayout::UIBoxLayout(UIWidgetPtr</span> <span class="pre">parentWidget)</span></code><a class="headerlink" href="#uiboxlayout-uiboxlayout-uiwidgetptr-parentwidget" title="Link to this heading">#</a></h1>
<p>Konstruktor. Wywo≈Çuje konstruktor <code class="docutils literal notranslate"><span class="pre">UILayout</span></code> i inicjalizuje <code class="docutils literal notranslate"><span class="pre">m_spacing</span></code> na 0.</p>
</section>
<section id="void-uiboxlayout-applystyle-const-otmlnodeptr-stylenode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIBoxLayout::applyStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code><a class="headerlink" href="#void-uiboxlayout-applystyle-const-otmlnodeptr-stylenode" title="Link to this heading">#</a></h1>
<p>Parsuje atrybuty specyficzne dla <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code> z wƒôz≈Ça OTML.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">spacing</span></code>: Odstƒôp miƒôdzy widgetami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fit-children</span></code>: Flaga okre≈õlajƒÖca, czy layout powinien dostosowaƒá rozmiar rodzica do sumarycznego rozmiaru dzieci.</p></li>
</ul>
</section>
<section id="addwidget-i-removewidget">
<h1><code class="docutils literal notranslate"><span class="pre">addWidget</span></code> i <code class="docutils literal notranslate"><span class="pre">removeWidget</span></code><a class="headerlink" href="#addwidget-i-removewidget" title="Link to this heading">#</a></h1>
<p>Te metody po prostu wywo≈ÇujƒÖ <code class="docutils literal notranslate"><span class="pre">update()</span></code>, poniewa≈º ka≈ºda zmiana w liczbie dzieci wymaga ponownego przeliczenia layoutu.</p>
</section>
<section id="id1050">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1050" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiboxlayout.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Operuje na widgetach.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code> i <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiboxlayout-h">
<h1>üìÑ uiboxlayout.h<a class="headerlink" href="#uiboxlayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1051">
<h1>Opis og√≥lny<a class="headerlink" href="#id1051" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiboxlayout.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>, kt√≥ra jest abstrakcyjnƒÖ klasƒÖ bazowƒÖ dla layout√≥w liniowych.</p>
</section>
<section id="id1052">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code><a class="headerlink" href="#id1052" title="Link to this heading">#</a></h1>
</section>
<section id="id1053">
<h1>Opis semantyczny<a class="headerlink" href="#id1053" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">UILayout</span></code> i dodaje wsp√≥lnƒÖ funkcjonalno≈õƒá dla layout√≥w horyzontalnych i wertykalnych, a mianowicie:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">spacing</span></code>: Odstƒôp miƒôdzy kolejnymi elementami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fit-children</span></code>: Mo≈ºliwo≈õƒá automatycznego dostosowania rozmiaru widgetu-rodzica, aby zmie≈õci≈Ç wszystkie swoje dzieci.</p></li>
</ul>
</section>
<section id="id1054">
<h1>Metody publiczne<a class="headerlink" href="#id1054" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setSpacing(int</span> <span class="pre">spacing)</span></code></p></td>
<td class="text-left"><p>Ustawia odstƒôp miƒôdzy widgetami.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setFitChildren(bool</span> <span class="pre">fitParent)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza/wy≈ÇƒÖcza dopasowywanie rozmiaru rodzica.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1055">
<h1>Zmienne chronione<a class="headerlink" href="#id1055" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_fitChildren</span></code>: Flaga <code class="docutils literal notranslate"><span class="pre">fit-children</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_spacing</span></code>: Warto≈õƒá odstƒôpu.</p></li>
</ul>
</section>
<section id="id1056">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1056" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uilayout.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code> i <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, jej metody sƒÖ dostƒôpne w Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uigridlayout-cpp">
<h1>üìÑ uigridlayout.cpp<a class="headerlink" href="#uigridlayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1057">
<h1>Opis og√≥lny<a class="headerlink" href="#id1057" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uigridlayout.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>, kt√≥ra uk≈Çada widgety w siatce o sta≈Çym rozmiarze kom√≥rek.</p>
</section>
<section id="klasa-uigridlayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code><a class="headerlink" href="#klasa-uigridlayout" title="Link to this heading">#</a></h1>
</section>
<section id="uigridlayout-uigridlayout">
<h1><code class="docutils literal notranslate"><span class="pre">UIGridLayout::UIGridLayout(...)</span></code><a class="headerlink" href="#uigridlayout-uigridlayout" title="Link to this heading">#</a></h1>
<p>Konstruktor, ustawia domy≈õlne warto≈õci (rozmiar kom√≥rki 16x16, 1 kolumna).</p>
</section>
<section id="void-uigridlayout-applystyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIGridLayout::applyStyle(...)</span></code><a class="headerlink" href="#void-uigridlayout-applystyle" title="Link to this heading">#</a></h1>
<p>Parsuje atrybuty specyficzne dla siatki z wƒôz≈Ça OTML, takie jak <code class="docutils literal notranslate"><span class="pre">cell-size</span></code>, <code class="docutils literal notranslate"><span class="pre">cell-spacing</span></code>, <code class="docutils literal notranslate"><span class="pre">num-columns</span></code>, <code class="docutils literal notranslate"><span class="pre">flow</span></code>.</p>
</section>
<section id="bool-uigridlayout-internalupdate">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIGridLayout::internalUpdate()</span></code><a class="headerlink" href="#bool-uigridlayout-internalupdate" title="Link to this heading">#</a></h1>
</section>
<section id="id1058">
<h1>Opis semantyczny<a class="headerlink" href="#id1058" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda przeliczajƒÖca pozycje widget√≥w w siatce.</p>
</section>
<section id="id1059">
<h1>Dzia≈Çanie<a class="headerlink" href="#id1059" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera listƒô dzieci od rodzica.</p></li>
<li><p><strong>Tryb <code class="docutils literal notranslate"><span class="pre">flow</span></code></strong>: Je≈õli w≈ÇƒÖczony, dynamicznie oblicza liczbƒô kolumn (<code class="docutils literal notranslate"><span class="pre">numColumns</span></code>), tak aby zmie≈õci≈Çy siƒô w szeroko≈õci rodzica. Na podstawie tego oblicza liczbƒô wierszy.</p></li>
<li><p><strong>Tryb <code class="docutils literal notranslate"><span class="pre">auto-spacing</span></code></strong>: Je≈õli w≈ÇƒÖczony, dynamicznie oblicza odstƒôp miƒôdzy kom√≥rkami (<code class="docutils literal notranslate"><span class="pre">cellSpacing</span></code>), aby r√≥wnomiernie roz≈Ço≈ºyƒá je na ca≈Çej szeroko≈õci rodzica.</p></li>
<li><p>W pƒôtli przechodzi przez wszystkie widoczne widgety:</p>
<ul class="simple">
<li><p>Oblicza wiersz i kolumnƒô dla bie≈ºƒÖcego widgetu.</p></li>
<li><p>Na tej podstawie oblicza jego pozycjƒô.</p></li>
<li><p>Ustawia docelowy prostokƒÖt (<code class="docutils literal notranslate"><span class="pre">Rect</span></code>) widgetu na rozmiar kom√≥rki w obliczonej pozycji.</p></li>
</ul>
</li>
<li><p><strong>Tryb <code class="docutils literal notranslate"><span class="pre">fit-children</span></code></strong>: Je≈õli w≈ÇƒÖczony, oblicza wymaganƒÖ wysoko≈õƒá rodzica, aby zmie≈õciƒá wszystkie wiersze, i planuje jej ustawienie w <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code> (aby uniknƒÖƒá problem√≥w z rekurencyjnymi aktualizacjami).</p></li>
</ol>
</section>
<section id="id1060">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1060" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uigridlayout.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Operuje na widgetach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do asynchronicznego ustawiania wysoko≈õci rodzica.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uigridlayout-h">
<h1>üìÑ uigridlayout.h<a class="headerlink" href="#uigridlayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1061">
<h1>Opis og√≥lny<a class="headerlink" href="#id1061" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uigridlayout.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>, kt√≥ra implementuje layout siatkowy.</p>
</section>
<section id="id1062">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code><a class="headerlink" href="#id1062" title="Link to this heading">#</a></h1>
</section>
<section id="id1063">
<h1>Opis semantyczny<a class="headerlink" href="#id1063" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code> uk≈Çada swoje widgety w regularnej siatce. Mo≈ºe mieƒá sta≈ÇƒÖ liczbƒô kolumn lub dynamicznie dostosowywaƒá jƒÖ do dostƒôpnej przestrzeni (<code class="docutils literal notranslate"><span class="pre">flow</span></code>). Posiada r√≥wnie≈º opcje automatycznego dostosowywania odstƒôp√≥w i rozmiaru rodzica.</p>
</section>
<section id="id1064">
<h1>Metody publiczne<a class="headerlink" href="#id1064" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setCellSize(...)</span></code></p></td>
<td class="text-left"><p>Ustawia rozmiar pojedynczej kom√≥rki siatki.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setCellSpacing(...)</span></code></p></td>
<td class="text-left"><p>Ustawia odstƒôp miƒôdzy kom√≥rkami.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setNumColumns(...)</span></code></p></td>
<td class="text-left"><p>Ustawia sta≈ÇƒÖ liczbƒô kolumn.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setNumLines(...)</span></code></p></td>
<td class="text-left"><p>Ustawia maksymalnƒÖ liczbƒô wierszy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setFlow(bool</span> <span class="pre">enable)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza/wy≈ÇƒÖcza tryb ‚Äûp≈Çynny‚Äù, w kt√≥rym liczba kolumn jest dynamiczna.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setAutoSpacing(bool</span> <span class="pre">enable)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza/wy≈ÇƒÖcza automatyczne obliczanie odstƒôp√≥w.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setFitChildren(bool</span> <span class="pre">enable)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza/wy≈ÇƒÖcza dopasowywanie wysoko≈õci rodzica.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1065">
<h1>Zmienne prywatne<a class="headerlink" href="#id1065" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_cellSize</span></code>: Rozmiar kom√≥rki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_cellSpacing</span></code>: Odstƒôp miƒôdzy kom√≥rkami.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_numColumns</span></code>, <code class="docutils literal notranslate"><span class="pre">m_numLines</span></code>: Liczba kolumn i wierszy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_autoSpacing</span></code>, <code class="docutils literal notranslate"><span class="pre">m_fitChildren</span></code>, <code class="docutils literal notranslate"><span class="pre">m_flow</span></code>: Flagi tryb√≥w.</p></li>
</ul>
</section>
<section id="id1066">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1066" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uilayout.h</span></code>: Klasa bazowa.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uihorizontallayout-cpp">
<h1>üìÑ uihorizontallayout.cpp<a class="headerlink" href="#uihorizontallayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1067">
<h1>Opis og√≥lny<a class="headerlink" href="#id1067" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uihorizontallayout.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code>, kt√≥ra uk≈Çada widgety w jednym rzƒôdzie, od lewej do prawej lub od prawej do lewej.</p>
</section>
<section id="klasa-uihorizontallayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code><a class="headerlink" href="#klasa-uihorizontallayout" title="Link to this heading">#</a></h1>
</section>
<section id="void-uihorizontallayout-applystyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIHorizontalLayout::applyStyle(...)</span></code><a class="headerlink" href="#void-uihorizontallayout-applystyle" title="Link to this heading">#</a></h1>
<p>Parsuje atrybut <code class="docutils literal notranslate"><span class="pre">align-right</span></code> z wƒôz≈Ça OTML.</p>
</section>
<section id="bool-uihorizontallayout-internalupdate">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIHorizontalLayout::internalUpdate()</span></code><a class="headerlink" href="#bool-uihorizontallayout-internalupdate" title="Link to this heading">#</a></h1>
</section>
<section id="id1068">
<h1>Opis semantyczny<a class="headerlink" href="#id1068" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda przeliczajƒÖca pozycje widget√≥w.</p>
</section>
<section id="id1069">
<h1>Dzia≈Çanie<a class="headerlink" href="#id1069" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera listƒô dzieci. Je≈õli <code class="docutils literal notranslate"><span class="pre">m_alignRight</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, odwraca kolejno≈õƒá listy.</p></li>
<li><p>Iteruje po widgetach:</p>
<ul class="simple">
<li><p>Oblicza pozycjƒô <code class="docutils literal notranslate"><span class="pre">x</span></code> na podstawie pozycji i szeroko≈õci poprzedniego widgetu oraz odstƒôp√≥w (<code class="docutils literal notranslate"><span class="pre">spacing</span></code>, <code class="docutils literal notranslate"><span class="pre">margin</span></code>).</p></li>
<li><p>Oblicza pozycjƒô <code class="docutils literal notranslate"><span class="pre">y</span></code> w zale≈ºno≈õci od wyr√≥wnania pionowego widgetu (<code class="docutils literal notranslate"><span class="pre">AlignTop</span></code>, <code class="docutils literal notranslate"><span class="pre">AlignBottom</span></code>, <code class="docutils literal notranslate"><span class="pre">AlignCenter</span></code>) wewnƒÖtrz wysoko≈õci rodzica.</p></li>
<li><p>Je≈õli widget nie ma sta≈Çego rozmiaru, jego wysoko≈õƒá jest rozciƒÖgana do wysoko≈õci rodzica.</p></li>
<li><p>Ustawia nowy <code class="docutils literal notranslate"><span class="pre">Rect</span></code> dla widgetu.</p></li>
</ul>
</li>
<li><p>Oblicza sumarycznƒÖ, preferowanƒÖ szeroko≈õƒá (<code class="docutils literal notranslate"><span class="pre">preferredWidth</span></code>).</p></li>
<li><p>Je≈õli <code class="docutils literal notranslate"><span class="pre">m_fitChildren</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, planuje asynchroniczne ustawienie szeroko≈õci rodzica na <code class="docutils literal notranslate"><span class="pre">preferredWidth</span></code>.</p></li>
</ol>
</section>
<section id="id1070">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1070" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uihorizontallayout.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Operuje na widgetach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do asynchronicznego ustawiania szeroko≈õci rodzica.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uihorizontallayout-h">
<h1>üìÑ uihorizontallayout.h<a class="headerlink" href="#uihorizontallayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1071">
<h1>Opis og√≥lny<a class="headerlink" href="#id1071" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uihorizontallayout.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code>, kt√≥ra implementuje layout horyzontalny.</p>
</section>
<section id="id1072">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code><a class="headerlink" href="#id1072" title="Link to this heading">#</a></h1>
</section>
<section id="id1073">
<h1>Opis semantyczny<a class="headerlink" href="#id1073" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code> i specjalizuje go do uk≈Çadania widget√≥w w pojedynczym rzƒôdzie. Mo≈ºe uk≈Çadaƒá elementy od lewej do prawej (domy≈õlnie) lub od prawej do lewej (<code class="docutils literal notranslate"><span class="pre">align-right</span></code>).</p>
</section>
<section id="id1074">
<h1>Metody publiczne<a class="headerlink" href="#id1074" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setAlignRight(bool</span> <span class="pre">alignRight)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza/wy≈ÇƒÖcza uk≈Çadanie od prawej do lewej.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1075">
<h1>Zmienne chronione<a class="headerlink" href="#id1075" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_alignRight</span></code>: Flaga trybu wyr√≥wnania do prawej.</p></li>
</ul>
</section>
<section id="id1076">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1076" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiboxlayout.h</span></code>: Klasa bazowa.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uilayout-cpp">
<h1>üìÑ uilayout.cpp<a class="headerlink" href="#uilayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1077">
<h1>Opis og√≥lny<a class="headerlink" href="#id1077" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uilayout.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>, kt√≥ra jest abstrakcyjnƒÖ klasƒÖ bazowƒÖ dla wszystkich mened≈ºer√≥w layoutu.</p>
</section>
<section id="klasa-uilayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UILayout</span></code><a class="headerlink" href="#klasa-uilayout" title="Link to this heading">#</a></h1>
</section>
<section id="void-uilayout-update">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UILayout::update()</span></code><a class="headerlink" href="#void-uilayout-update" title="Link to this heading">#</a></h1>
</section>
<section id="id1078">
<h1>Opis semantyczny<a class="headerlink" href="#id1078" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda publiczna inicjujƒÖca aktualizacjƒô layoutu.</p>
</section>
<section id="id1079">
<h1>Dzia≈Çanie<a class="headerlink" href="#id1079" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy aktualizacje nie sƒÖ wy≈ÇƒÖczone (<code class="docutils literal notranslate"><span class="pre">m_updateDisabled</span></code>).</p></li>
<li><p>Sprawdza, czy aktualizacja nie jest ju≈º w toku (<code class="docutils literal notranslate"><span class="pre">m_updating</span></code>), aby zapobiec rekurencji. Je≈õli tak, planuje aktualizacjƒô na p√≥≈∫niej (<code class="docutils literal notranslate"><span class="pre">updateLater()</span></code>).</p></li>
<li><p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_updating</span></code> na <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Wywo≈Çuje wirtualnƒÖ metodƒô <code class="docutils literal notranslate"><span class="pre">internalUpdate()</span></code>, gdzie klasy pochodne implementujƒÖ swojƒÖ logikƒô.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">callback</span></code> <code class="docutils literal notranslate"><span class="pre">onLayoutUpdate</span></code> na wid≈ºecie-rodzicu.</p></li>
<li><p>Resetuje flagƒô <code class="docutils literal notranslate"><span class="pre">m_updating</span></code>.</p></li>
</ol>
</section>
<section id="void-uilayout-updatelater">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UILayout::updateLater()</span></code><a class="headerlink" href="#void-uilayout-updatelater" title="Link to this heading">#</a></h1>
<p>Planuje wykonanie <code class="docutils literal notranslate"><span class="pre">update()</span></code> w nastƒôpnej iteracji pƒôtli <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>. Jest to mechanizm zapobiegajƒÖcy wielokrotnym, zbƒôdnym przeliczeniom layoutu w tej samej klatce.</p>
</section>
<section id="id1080">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1080" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uilayout.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Ka≈ºdy layout jest powiƒÖzany z widgetem-rodzicem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do planowania op√≥≈∫nionych aktualizacji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uilayout-h">
<h1>üìÑ uilayout.h<a class="headerlink" href="#uilayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1081">
<h1>Opis og√≥lny<a class="headerlink" href="#id1081" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uilayout.h</span></code> deklaruje abstrakcyjnƒÖ klasƒô bazowƒÖ <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>, kt√≥ra definiuje wsp√≥lny interfejs dla wszystkich klas zarzƒÖdzajƒÖcych pozycjƒÖ i rozmiarem widget√≥w-dzieci.</p>
</section>
<section id="id1082">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UILayout</span></code><a class="headerlink" href="#id1082" title="Link to this heading">#</a></h1>
</section>
<section id="id1083">
<h1>Opis semantyczny<a class="headerlink" href="#id1083" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UILayout</span></code> jest powiƒÖzany z jednym widgetem-rodzicem (<code class="docutils literal notranslate"><span class="pre">m_parentWidget</span></code>). Jego zadaniem jest automatyczne zarzƒÖdzanie geometriƒÖ dzieci tego widgetu. Ka≈ºda podklasa (<code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code> itd.) implementuje inny algorytm uk≈Çadania element√≥w. Posiada mechanizmy do w≈ÇƒÖczania/wy≈ÇƒÖczania aktualizacji oraz do unikania rekurencyjnych i zbƒôdnych przelicze≈Ñ.</p>
</section>
<section id="id1084">
<h1>Metody publiczne<a class="headerlink" href="#id1084" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">UILayout(UIWidgetPtr</span> <span class="pre">parentWidget)</span></code></p></td>
<td class="text-left"><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code></p></td>
<td class="text-left"><p>Natychmiast ≈ºƒÖda przeliczenia layoutu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">updateLater()</span></code></p></td>
<td class="text-left"><p>Planuje przeliczenie layoutu w najbli≈ºszej przysz≈Ço≈õci.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">applyStyle(...)</span></code></p></td>
<td class="text-left"><p>Stosuje w≈Ça≈õciwo≈õci layoutu z wƒôz≈Ça OTML.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">addWidget(...)</span></code></p></td>
<td class="text-left"><p>Powiadamia layout o dodaniu nowego widgetu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">virtual</span> <span class="pre">void</span> <span class="pre">removeWidget(...)</span></code></p></td>
<td class="text-left"><p>Powiadamia layout o usuniƒôciu widgetu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">disableUpdates()</span></code> / <code class="docutils literal notranslate"><span class="pre">enableUpdates()</span></code></p></td>
<td class="text-left"><p>Tymczasowo wstrzymuje/wznawia aktualizacje layoutu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">setParent(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">getParentWidget()</span></code></p></td>
<td class="text-left"><p>ZarzƒÖdza powiƒÖzaniem z widgetem-rodzicem.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">isUpdating()</span></code></p></td>
<td class="text-left"><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, je≈õli layout jest w trakcie aktualizacji.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isUI...Layout()</span></code></p></td>
<td class="text-left"><p>Metody RTTI (Run-Time Type Information) do identyfikacji typu layoutu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1085">
<h1>Zmienne chronione<a class="headerlink" href="#id1085" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_updateDisabled</span></code>: Licznik blokad aktualizacji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_updating</span></code>, <code class="docutils literal notranslate"><span class="pre">m_updateScheduled</span></code>: Flagi zapobiegajƒÖce rekurencji i wielokrotnym aktualizacjom.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_parentWidget</span></code>: Wska≈∫nik do widgetu, kt√≥rego dzieƒámi zarzƒÖdza layout.</p></li>
</ul>
</section>
<section id="id1086">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1086" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Klasa bazowa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code>: Do parsowania styl√≥w.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla wszystkich konkretnych implementacji layout√≥w.</p></li>
<li><p>Ka≈ºdy <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> mo≈ºe mieƒá jeden <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uimanager-h">
<h1>üìÑ uimanager.h<a class="headerlink" href="#uimanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1087">
<h1>Opis og√≥lny<a class="headerlink" href="#id1087" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uimanager.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, kt√≥ra jest singletonem (<code class="docutils literal notranslate"><span class="pre">g_ui</span></code>) i centralnym punktem zarzƒÖdzania ca≈Çym interfejsem u≈ºytkownika.</p>
</section>
<section id="klasa-uimanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIManager</span></code><a class="headerlink" href="#klasa-uimanager" title="Link to this heading">#</a></h1>
</section>
<section id="id1088">
<h1>Opis semantyczny<a class="headerlink" href="#id1088" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIManager</span></code> zarzƒÖdza hierarchiƒÖ widget√≥w, poczynajƒÖc od korzenia (<code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code>). Odpowiada za propagacjƒô zdarze≈Ñ wej≈õciowych (mysz, klawiatura), renderowanie, zarzƒÖdzanie stylami OTML oraz ≈õledzenie globalnych stan√≥w UI, takich jak aktualnie wci≈õniƒôty, najechany czy przeciƒÖgany widget.</p>
</section>
<section id="id1089">
<h1>Metody publiczne<a class="headerlink" href="#id1089" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td class="text-left"><p>Inicjalizuje i zwalnia mened≈ºera.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">render(Fw::DrawPane)</span></code></p></td>
<td class="text-left"><p>Rozpoczyna proces renderowania UI dla danej warstwy.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">resize(const</span> <span class="pre">Size&amp;)</span></code></p></td>
<td class="text-left"><p>Aktualizuje rozmiar <code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">inputEvent(...)</span></code></p></td>
<td class="text-left"><p>G≈Ç√≥wny punkt wej≈õcia dla wszystkich zdarze≈Ñ wej≈õciowych.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">clearStyles()</span></code></p></td>
<td class="text-left"><p>Czy≈õci za≈Çadowane style.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">importStyle(...)</span></code></p></td>
<td class="text-left"><p>≈Åaduje style z pliku <code class="docutils literal notranslate"><span class="pre">.otui</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">getStyle(...)</span></code></p></td>
<td class="text-left"><p>Zwraca definicjƒô stylu o podanej nazwie.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">loadUI(...)</span></code></p></td>
<td class="text-left"><p>≈Åaduje i tworzy hierarchiƒô widget√≥w z pliku <code class="docutils literal notranslate"><span class="pre">.otui</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">createWidget(...)</span></code></p></td>
<td class="text-left"><p>Tworzy widget na podstawie nazwy stylu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setMouseReceiver(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">setKeyboardReceiver(...)</span></code></p></td>
<td class="text-left"><p>Ustawia widget, kt√≥ry ‚Äûprzechwytuje‚Äù zdarzenia myszy/klawiatury.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">get...Widget()</span></code></p></td>
<td class="text-left"><p>ZwracajƒÖ wska≈∫niki na widgety w okre≈õlonych stanach (przeciƒÖgany, najechany, wci≈õniƒôty).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-chronione-wywolywane-przez-uiwidget">
<h1>Metody chronione (wywo≈Çywane przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>)<a class="headerlink" href="#metody-chronione-wywolywane-przez-uiwidget" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">onWidgetAppear(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">onWidgetDisappear(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">onWidgetDestroy(...)</span></code>: Callbacki informujƒÖce mened≈ºera o zmianach w drzewie widget√≥w, co pozwala na aktualizacjƒô globalnych stan√≥w (np. <code class="docutils literal notranslate"><span class="pre">m_hoveredWidget</span></code>).</p></li>
</ul>
</section>
<section id="id1090">
<h1>Zmienne prywatne<a class="headerlink" href="#id1090" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code>: Korze≈Ñ drzewa widget√≥w, wype≈Çnia ca≈Çe okno.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mouseReceiver</span></code>, <code class="docutils literal notranslate"><span class="pre">m_keyboardReceiver</span></code>: Widgety przechwytujƒÖce zdarzenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_draggingWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">m_hoveredWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">m_pressedWidget</span></code>: ≈öledzƒÖ globalne stany myszy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_styles</span></code>: Mapa przechowujƒÖca wszystkie za≈Çadowane style.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_destroyedWidgets</span></code>: Lista do ≈õledzenia niszczonych widget√≥w w celach debugowania wyciek√≥w pamiƒôci.</p></li>
</ul>
</section>
<section id="id1091">
<h1>Zmienne globalne<a class="headerlink" href="#id1091" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">g_ui</span></code>: Globalna instancja <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
</ul>
</section>
<section id="id1092">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1092" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">uiwidget.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/inputevent.h</span></code>.</p></li>
<li><p>≈öci≈õle wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> (kt√≥ra przekazuje jej zdarzenia) i <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>.</p></li>
<li><p>ZarzƒÖdza cyklem ≈ºycia i interakcjami wszystkich <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uitextedit-cpp">
<h1>üìÑ uitextedit.cpp<a class="headerlink" href="#uitextedit-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1093">
<h1>Opis og√≥lny<a class="headerlink" href="#id1093" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uitextedit.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code>, kt√≥ra jest specjalizowanym widgetem do wprowadzania i edycji tekstu.</p>
</section>
<section id="klasa-uitextedit">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code><a class="headerlink" href="#klasa-uitextedit" title="Link to this heading">#</a></h1>
</section>
<section id="uitextedit-uitextedit">
<h1><code class="docutils literal notranslate"><span class="pre">UITextEdit::UITextEdit()</span></code><a class="headerlink" href="#uitextedit-uitextedit" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje wszystkie pola zwiƒÖzane z edycjƒÖ tekstu do warto≈õci domy≈õlnych (np. kursor na pozycji 0, widoczny, tekst edytowalny).</p>
</section>
<section id="void-uitextedit-drawself">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UITextEdit::drawSelf(...)</span></code><a class="headerlink" href="#void-uitextedit-drawself" title="Link to this heading">#</a></h1>
<p>Przes≈Çoniƒôta metoda rysujƒÖca.</p>
<ol class="arabic simple">
<li><p>Rysuje t≈Ço, ramkƒô, obraz i ikonƒô (dziedziczone z <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>).</p></li>
<li><p>Je≈õli tekst jest pusty, rysuje <code class="docutils literal notranslate"><span class="pre">placeholder</span></code>.</p></li>
<li><p>Rysuje tekst, u≈ºywajƒÖc <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> (<code class="docutils literal notranslate"><span class="pre">m_glyphsTextCoordsBuffer</span></code>) do zbuforowania geometrii.</p></li>
<li><p>Rysuje zaznaczenie, najpierw rysujƒÖc t≈Ço zaznaczenia, a potem tekst w innym kolorze na wierzchu.</p></li>
<li><p>Rysuje migajƒÖcy kursor w odpowiedniej pozycji.</p></li>
</ol>
</section>
<section id="void-uitextedit-update-bool-focuscursor">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UITextEdit::update(bool</span> <span class="pre">focusCursor)</span></code><a class="headerlink" href="#void-uitextedit-update-bool-focuscursor" title="Link to this heading">#</a></h1>
<p>Kluczowa metoda, kt√≥ra przelicza ca≈ÇƒÖ geometriƒô tekstu.</p>
<ol class="arabic simple">
<li><p>Pobiera tekst do wy≈õwietlenia (zwyk≈Çy lub ukryty <code class="docutils literal notranslate"><span class="pre">*</span></code>).</p></li>
<li><p>Zawija tekst, je≈õli <code class="docutils literal notranslate"><span class="pre">m_textWrap</span></code> jest w≈ÇƒÖczone.</p></li>
<li><p>Oblicza pozycje wszystkich glif√≥w za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">m_font‚ÜícalculateGlyphsPositions</span></code>.</p></li>
<li><p>Je≈õli <code class="docutils literal notranslate"><span class="pre">m_autoScroll</span></code> i <code class="docutils literal notranslate"><span class="pre">focusCursor</span></code> sƒÖ <code class="docutils literal notranslate"><span class="pre">true</span></code>, automatycznie przewija widok, tak aby kursor by≈Ç zawsze widoczny.</p></li>
<li><p>Przelicza, kt√≥re glify sƒÖ widoczne w obszarze widgetu, i generuje dla nich wsp√≥≈Çrzƒôdne w <code class="docutils literal notranslate"><span class="pre">m_glyphsCoords</span></code>.</p></li>
</ol>
</section>
<section id="metody-edycji-tekstu">
<h1>Metody edycji tekstu<a class="headerlink" href="#metody-edycji-tekstu" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setCursorPos</span></code>, <code class="docutils literal notranslate"><span class="pre">setSelection</span></code>, <code class="docutils literal notranslate"><span class="pre">clearSelection</span></code>, <code class="docutils literal notranslate"><span class="pre">selectAll</span></code>: ZarzƒÖdzajƒÖ pozycjƒÖ kursora i zaznaczeniem.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">appendText</span></code>, <code class="docutils literal notranslate"><span class="pre">appendCharacter</span></code>, <code class="docutils literal notranslate"><span class="pre">removeCharacter</span></code>: ModyfikujƒÖ tekst.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">del</span></code>, <code class="docutils literal notranslate"><span class="pre">paste</span></code>, <code class="docutils literal notranslate"><span class="pre">copy</span></code>, <code class="docutils literal notranslate"><span class="pre">cut</span></code>: ImplementujƒÖ standardowe operacje edycyjne.</p></li>
</ul>
</section>
<section id="int-uitextedit-gettextpos-point-pos">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">UITextEdit::getTextPos(Point</span> <span class="pre">pos)</span></code><a class="headerlink" href="#int-uitextedit-gettextpos-point-pos" title="Link to this heading">#</a></h1>
<p>Konwertuje pozycjƒô myszy (w pikselach) na indeks znaku w tek≈õcie.</p>
</section>
<section id="obsluga-zdarzen-on">
<h1>Obs≈Çuga zdarze≈Ñ (<code class="docutils literal notranslate"><span class="pre">on...</span></code>)<a class="headerlink" href="#obsluga-zdarzen-on" title="Link to this heading">#</a></h1>
<p>Przes≈Çania metody obs≈Çugi zdarze≈Ñ z <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, aby zaimplementowaƒá logikƒô edycji tekstu:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">onKeyPress</span></code>: Obs≈Çuguje nawigacjƒô (strza≈Çki, Home, End), usuwanie (Delete, Backspace), zaznaczanie (Shift + strza≈Çki), kopiowanie/wklejanie (Ctrl+C/V).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onKeyText</span></code>: Wstawia wprowadzony tekst.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onMousePress</span></code>, <code class="docutils literal notranslate"><span class="pre">onMouseMove</span></code>, <code class="docutils literal notranslate"><span class="pre">onDoubleClick</span></code>: Obs≈ÇugujƒÖ ustawianie kursora i zaznaczanie tekstu myszƒÖ.</p></li>
</ul>
</section>
<section id="id1094">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1094" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uitextedit.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/bitmapfont.h</span></code>: Intensywnie u≈ºywa <code class="docutils literal notranslate"><span class="pre">Bitmapfont</span></code> do oblicze≈Ñ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/platform/platformwindow.h</span></code>: Do interakcji ze schowkiem.</p></li>
<li><p>Na Androidzie, zamiast w≈Çasnego renderowania, wywo≈Çuje natywne pole edycji tekstu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uimanager-cpp">
<h1>üìÑ uimanager.cpp<a class="headerlink" href="#uimanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1095">
<h1>Opis og√≥lny<a class="headerlink" href="#id1095" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uimanager.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, kt√≥ra jest centralnym mened≈ºerem interfejsu u≈ºytkownika.</p>
</section>
<section id="id1096">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIManager</span></code><a class="headerlink" href="#id1096" title="Link to this heading">#</a></h1>
</section>
<section id="void-uimanager-init">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::init()</span></code><a class="headerlink" href="#void-uimanager-init" title="Link to this heading">#</a></h1>
<p>Inicjalizuje mened≈ºera, tworzƒÖc g≈Ç√≥wny, niewidoczny widget (<code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code>), kt√≥ry jest korzeniem ca≈Çego drzewa UI i zajmuje ca≈ÇƒÖ powierzchniƒô okna.</p>
</section>
<section id="void-uimanager-render-fw-drawpane-drawpane">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::render(Fw::DrawPane</span> <span class="pre">drawPane)</span></code><a class="headerlink" href="#void-uimanager-render-fw-drawpane-drawpane" title="Link to this heading">#</a></h1>
<p>Rozpoczyna proces renderowania, wywo≈ÇujƒÖc metodƒô <code class="docutils literal notranslate"><span class="pre">draw()</span></code> na <code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code> dla okre≈õlonej warstwy rysowania.</p>
</section>
<section id="void-uimanager-resize-const-size-size">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code><a class="headerlink" href="#void-uimanager-resize-const-size-size" title="Link to this heading">#</a></h1>
<p>Aktualizuje rozmiar <code class="docutils literal notranslate"><span class="pre">m_rootWidget</span></code>, co powoduje rekurencyjne przeliczenie layoutu dla wszystkich widget√≥w potomnych.</p>
</section>
<section id="void-uimanager-inputevent-const-inputevent-event">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::inputEvent(const</span> <span class="pre">InputEvent&amp;</span> <span class="pre">event)</span></code><a class="headerlink" href="#void-uimanager-inputevent-const-inputevent-event" title="Link to this heading">#</a></h1>
</section>
<section id="id1097">
<h1>Opis semantyczny<a class="headerlink" href="#id1097" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wny punkt wej≈õcia dla wszystkich zdarze≈Ñ wej≈õciowych. T≈Çumaczy surowe zdarzenia na akcje w UI.</p>
</section>
<section id="id1098">
<h1>Dzia≈Çanie<a class="headerlink" href="#id1098" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Dla zdarze≈Ñ klawiatury, przekazuje je do <code class="docutils literal notranslate"><span class="pre">m_keyboardReceiver</span></code>.</p></li>
<li><p>Dla wci≈õniƒôcia przycisku myszy:</p>
<ol class="arabic simple">
<li><p>Identyfikuje widget pod kursorem.</p></li>
<li><p>Aktualizuje <code class="docutils literal notranslate"><span class="pre">m_pressedWidget</span></code>.</p></li>
<li><p>Propaguje zdarzenie <code class="docutils literal notranslate"><span class="pre">onMousePress</span></code> w d√≥≈Ç drzewa.</p></li>
</ol>
</li>
<li><p>Dla zwolnienia przycisku myszy:</p>
<ol class="arabic simple">
<li><p>Je≈õli trwa≈Ço przeciƒÖganie, ko≈Ñczy je i obs≈Çuguje ‚Äûupuszczenie‚Äù.</p></li>
<li><p>Propaguje zdarzenie <code class="docutils literal notranslate"><span class="pre">onMouseRelease</span></code>.</p></li>
<li><p>Je≈õli zwolnienie nastƒÖpi≈Ço nad pierwotnie wci≈õniƒôtym widgetem, generuje zdarzenie <code class="docutils literal notranslate"><span class="pre">onClick</span></code>.</p></li>
</ol>
</li>
<li><p>Dla ruchu myszy:</p>
<ol class="arabic simple">
<li><p>Aktualizuje <code class="docutils literal notranslate"><span class="pre">m_hoveredWidget</span></code>.</p></li>
<li><p>Je≈õli jaki≈õ widget jest wci≈õniƒôty i przeciƒÖgalny, rozpoczyna przeciƒÖganie.</p></li>
<li><p>Propaguje zdarzenie <code class="docutils literal notranslate"><span class="pre">onMouseMove</span></code>.</p></li>
</ol>
</li>
<li><p>Dla k√≥≈Çka myszy, propaguje zdarzenie.</p></li>
</ul>
</section>
<section id="void-uimanager-update-widget">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::update...Widget(...)</span></code><a class="headerlink" href="#void-uimanager-update-widget" title="Link to this heading">#</a></h1>
<p>Metody te zarzƒÖdzajƒÖ globalnym stanem UI:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">updatePressedWidget</span></code>: Zmienia, kt√≥ry widget jest aktualnie wci≈õniƒôty.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">updateDraggingWidget</span></code>: Rozpoczyna lub ko≈Ñczy przeciƒÖganie widgetu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">updateHoveredWidget</span></code>: Aktualizuje, nad kt√≥rym widgetem znajduje siƒô kursor.</p></li>
</ul>
</section>
<section id="bool-uimanager-importstyle">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIManager::importStyle(...)</span></code><a class="headerlink" href="#bool-uimanager-importstyle" title="Link to this heading">#</a></h1>
<p>≈Åaduje i parsuje plik <code class="docutils literal notranslate"><span class="pre">.otui</span></code> ze stylami, dodajƒÖc je do <code class="docutils literal notranslate"><span class="pre">m_styles</span></code>.</p>
</section>
<section id="uiwidgetptr-uimanager-loadui-i-createwidgetfromotml">
<h1><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">UIManager::loadUI(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">createWidgetFromOTML(...)</span></code><a class="headerlink" href="#uiwidgetptr-uimanager-loadui-i-createwidgetfromotml" title="Link to this heading">#</a></h1>
<p>ImplementujƒÖ logikƒô tworzenia widget√≥w na podstawie plik√≥w i wƒôz≈Ç√≥w OTML. <code class="docutils literal notranslate"><span class="pre">createWidgetFromOTML</span></code> jest kluczowƒÖ metodƒÖ, kt√≥ra:</p>
<ol class="arabic simple">
<li><p>Znajduje styl bazowy.</p></li>
<li><p>≈ÅƒÖczy (merge) go ze stylem zdefiniowanym w pliku UI.</p></li>
<li><p>Na podstawie atrybutu <code class="docutils literal notranslate"><span class="pre">__class</span></code>, wywo≈Çuje w Lua funkcjƒô fabrycznƒÖ (<code class="docutils literal notranslate"><span class="pre">create</span></code>) dla danego typu widgetu.</p></li>
<li><p>Stosuje styl i rekurencyjnie tworzy dzieci.</p></li>
</ol>
</section>
<section id="void-uimanager-onwidgetdestroy">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::onWidgetDestroy(...)</span></code><a class="headerlink" href="#void-uimanager-onwidgetdestroy" title="Link to this heading">#</a></h1>
<p>Callback wywo≈Çywany przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Czy≈õci wszystkie globalne referencje do niszczonego widgetu (np. <code class="docutils literal notranslate"><span class="pre">m_hoveredWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">m_pressedWidget</span></code>). W trybie debugowania, planuje sprawdzenie, czy nie pozosta≈Çy ≈ºadne wiszƒÖce referencje do widgetu po jego zniszczeniu.</p>
</section>
<section id="id1099">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1099" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to centralna klasa UI, kt√≥ra ≈ÇƒÖczy <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> (≈∫r√≥d≈Ço zdarze≈Ñ) z <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (odbiorcy zdarze≈Ñ).</p></li>
<li><p>ZarzƒÖdza ca≈Çym drzewem widget√≥w.</p></li>
<li><p>Wsp√≥≈Çpracuje z <code class="docutils literal notranslate"><span class="pre">OTML</span></code> do parsowania styl√≥w i layout√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uitextedit-h">
<h1>üìÑ uitextedit.h<a class="headerlink" href="#uitextedit-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1100">
<h1>Opis og√≥lny<a class="headerlink" href="#id1100" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uitextedit.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code>, kt√≥ra jest widgetem s≈Çu≈ºƒÖcym do wprowadzania i edycji tekstu przez u≈ºytkownika.</p>
</section>
<section id="id1101">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code><a class="headerlink" href="#id1101" title="Link to this heading">#</a></h1>
</section>
<section id="id1102">
<h1>Opis semantyczny<a class="headerlink" href="#id1102" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> i rozszerza jego funkcjonalno≈õƒá o logikƒô obs≈Çugi kursora, zaznaczania tekstu, wprowadzania z klawiatury, kopiowania/wklejania i zawijania wierszy. Jest to jeden z najbardziej z≈Ço≈ºonych widget√≥w w podstawowym zestawie.</p>
</section>
<section id="id1103">
<h1>Metody publiczne<a class="headerlink" href="#id1103" title="Link to this heading">#</a></h1>
</section>
<section id="zarzadzanie-tekstem-i-kursorem">
<h1>ZarzƒÖdzanie tekstem i kursorem<a class="headerlink" href="#zarzadzanie-tekstem-i-kursorem" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setCursorPos(...)</span></code>: Ustawia pozycjƒô kursora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setSelection(...)</span></code>: Ustawia zaznaczenie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setTextHidden(...)</span></code>: W≈ÇƒÖcza tryb ‚Äûhas≈Ça‚Äù (wy≈õwietla <code class="docutils literal notranslate"><span class="pre">*</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setMaxLength(...)</span></code>: Ustawia maksymalnƒÖ d≈Çugo≈õƒá tekstu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">appendText(...)</span></code>: Dodaje tekst w pozycji kursora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">del()</span></code>, <code class="docutils literal notranslate"><span class="pre">paste()</span></code>, <code class="docutils literal notranslate"><span class="pre">copy()</span></code>, <code class="docutils literal notranslate"><span class="pre">cut()</span></code>: Standardowe operacje edycyjne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">selectAll()</span></code>, <code class="docutils literal notranslate"><span class="pre">clearSelection()</span></code>: ZarzƒÖdzanie zaznaczeniem.</p></li>
</ul>
</section>
<section id="konfiguracja">
<h1>Konfiguracja<a class="headerlink" href="#konfiguracja" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setEditable(...)</span></code>: W≈ÇƒÖcza/wy≈ÇƒÖcza mo≈ºliwo≈õƒá edycji.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setMultiline(...)</span></code>: W≈ÇƒÖcza/wy≈ÇƒÖcza tryb wieloliniowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setValidCharacters(...)</span></code>: Ogranicza dozwolone znaki.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setPlaceholder(...)</span></code>: Ustawia tekst wy≈õwietlany, gdy pole jest puste.</p></li>
</ul>
</section>
<section id="gettery">
<h1>Gettery<a class="headerlink" href="#gettery" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">getCursorPos()</span></code>, <code class="docutils literal notranslate"><span class="pre">getSelection()</span></code>, <code class="docutils literal notranslate"><span class="pre">getTextPos(...)</span></code>, ‚Ä¶: ZwracajƒÖ informacje o stanie edytora.</p></li>
</ul>
</section>
<section id="id1104">
<h1>Zmienne prywatne<a class="headerlink" href="#id1104" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_cursorPos</span></code>: Pozycja kursora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_selectionStart</span></code>, <code class="docutils literal notranslate"><span class="pre">m_selectionEnd</span></code>: Granice zaznaczenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_textHidden</span></code>, <code class="docutils literal notranslate"><span class="pre">m_multiline</span></code>, <code class="docutils literal notranslate"><span class="pre">m_editable</span></code>, ‚Ä¶: Flagi konfiguracyjne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphsCoords</span></code>, <code class="docutils literal notranslate"><span class="pre">m_glyphsTexCoords</span></code>: Wektory przechowujƒÖce geometriƒô renderowanego tekstu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_glyphsTextCoordsBuffer</span></code>, <code class="docutils literal notranslate"><span class="pre">m_glyphsSelectCoordsBuffer</span></code>: Bufory <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code> dla tekstu i zaznaczenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_placeholder</span></code>, <code class="docutils literal notranslate"><span class="pre">m_placeholderColor</span></code>, ‚Ä¶: W≈Ça≈õciwo≈õci placeholdera.</p></li>
</ul>
</section>
<section id="id1105">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1105" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>, co udostƒôpnia jej bogate API w Lua.</p></li>
<li><p>Jest jednym z podstawowych, predefiniowanych typ√≥w widget√≥w tworzonych przez <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uitranslator-cpp">
<h1>üìÑ uitranslator.cpp<a class="headerlink" href="#uitranslator-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1106">
<h1>Opis og√≥lny<a class="headerlink" href="#id1106" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uitranslator.cpp</span></code> zawiera implementacje funkcji, kt√≥re t≈ÇumaczƒÖ tekstowe reprezentacje r√≥≈ºnych enum√≥w u≈ºywanych w UI na ich faktyczne warto≈õci liczbowe.</p>
</section>
<section id="id1107">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code><a class="headerlink" href="#id1107" title="Link to this heading">#</a></h1>
</section>
<section id="fw-alignmentflag-fw-translatealignment-std-string-aligment">
<h1><code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span> <span class="pre">Fw::translateAlignment(std::string</span> <span class="pre">aligment)</span></code><a class="headerlink" href="#fw-alignmentflag-fw-translatealignment-std-string-aligment" title="Link to this heading">#</a></h1>
<p>Konwertuje string (np. ‚Äûtop-left‚Äù, ‚Äûcenter‚Äù) na odpowiedniƒÖ flagƒô z <code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span></code>. U≈ºywa <code class="docutils literal notranslate"><span class="pre">boost::to_lower</span></code> i <code class="docutils literal notranslate"><span class="pre">boost::erase_all</span></code> do normalizacji wej≈õcia.</p>
</section>
<section id="fw-anchoredge-fw-translateanchoredge-std-string-anchoredge">
<h1><code class="docutils literal notranslate"><span class="pre">Fw::AnchorEdge</span> <span class="pre">Fw::translateAnchorEdge(std::string</span> <span class="pre">anchorEdge)</span></code><a class="headerlink" href="#fw-anchoredge-fw-translateanchoredge-std-string-anchoredge" title="Link to this heading">#</a></h1>
<p>Konwertuje string (np. ‚Äûleft‚Äù, ‚Äûhorizontal-center‚Äù) na odpowiedniƒÖ warto≈õƒá z <code class="docutils literal notranslate"><span class="pre">Fw::AnchorEdge</span></code>.</p>
</section>
<section id="fw-widgetstate-fw-translatestate-std-string-state">
<h1><code class="docutils literal notranslate"><span class="pre">Fw::WidgetState</span> <span class="pre">Fw::translateState(std::string</span> <span class="pre">state)</span></code><a class="headerlink" href="#fw-widgetstate-fw-translatestate-std-string-state" title="Link to this heading">#</a></h1>
<p>Konwertuje string (np. ‚Äûhover‚Äù, ‚Äûpressed‚Äù) na odpowiedniƒÖ flagƒô z <code class="docutils literal notranslate"><span class="pre">Fw::WidgetState</span></code>.</p>
</section>
<section id="fw-autofocuspolicy-fw-translateautofocuspolicy-std-string-policy">
<h1><code class="docutils literal notranslate"><span class="pre">Fw::AutoFocusPolicy</span> <span class="pre">Fw::translateAutoFocusPolicy(std::string</span> <span class="pre">policy)</span></code><a class="headerlink" href="#fw-autofocuspolicy-fw-translateautofocuspolicy-std-string-policy" title="Link to this heading">#</a></h1>
<p>Konwertuje string (np. ‚Äûfirst‚Äù, ‚Äûlast‚Äù) na odpowiedniƒÖ warto≈õƒá z <code class="docutils literal notranslate"><span class="pre">Fw::AutoFocusPolicy</span></code>.</p>
</section>
<section id="id1108">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1108" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uitranslator.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">boost/algorithm/string.hpp</span></code>: Do normalizacji string√≥w.</p></li>
<li><p>Funkcje te sƒÖ u≈ºywane przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> i jego podklasy podczas parsowania styl√≥w z OTML, aby przekonwertowaƒá warto≈õci tekstowe na enumy.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uitranslator-h">
<h1>üìÑ uitranslator.h<a class="headerlink" href="#uitranslator-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1109">
<h1>Opis og√≥lny<a class="headerlink" href="#id1109" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uitranslator.h</span></code> deklaruje zestaw funkcji pomocniczych do konwersji string√≥w na warto≈õci wyliczeniowe (enum) u≈ºywane w systemie UI.</p>
</section>
<section id="id1110">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code><a class="headerlink" href="#id1110" title="Link to this heading">#</a></h1>
</section>
<section id="deklaracje-funkcji">
<h1>Deklaracje funkcji<a class="headerlink" href="#deklaracje-funkcji" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Funkcja</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AlignmentFlag</span> <span class="pre">translateAlignment(...)</span></code></p></td>
<td class="text-left"><p>Konwertuje string na <code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AnchorEdge</span> <span class="pre">translateAnchorEdge(...)</span></code></p></td>
<td class="text-left"><p>Konwertuje string na <code class="docutils literal notranslate"><span class="pre">Fw::AnchorEdge</span></code>.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">WidgetState</span> <span class="pre">translateState(...)</span></code></p></td>
<td class="text-left"><p>Konwertuje string na <code class="docutils literal notranslate"><span class="pre">Fw::WidgetState</span></code>.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">AutoFocusPolicy</span> <span class="pre">translateAutoFocusPolicy(...)</span></code></p></td>
<td class="text-left"><p>Konwertuje string na <code class="docutils literal notranslate"><span class="pre">Fw::AutoFocusPolicy</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1111">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1111" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/const.h</span></code>: Definicje enum√≥w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>: Do operacji na stringach.</p></li>
<li><p>Te funkcje sƒÖ kluczowe dla parsowania plik√≥w OTML, gdzie w≈Ça≈õciwo≈õci takie jak wyr√≥wnanie sƒÖ zdefiniowane za pomocƒÖ s≈Ç√≥w kluczowych.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiverticallayout-cpp">
<h1>üìÑ uiverticallayout.cpp<a class="headerlink" href="#uiverticallayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1112">
<h1>Opis og√≥lny<a class="headerlink" href="#id1112" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiverticallayout.cpp</span></code> zawiera implementacjƒô klasy <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>, kt√≥ra uk≈Çada widgety w jednej kolumnie, od g√≥ry do do≈Çu lub od do≈Çu do g√≥ry.</p>
</section>
<section id="klasa-uiverticallayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code><a class="headerlink" href="#klasa-uiverticallayout" title="Link to this heading">#</a></h1>
</section>
<section id="void-uiverticallayout-applystyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIVerticalLayout::applyStyle(...)</span></code><a class="headerlink" href="#void-uiverticallayout-applystyle" title="Link to this heading">#</a></h1>
<p>Parsuje atrybut <code class="docutils literal notranslate"><span class="pre">align-bottom</span></code> z wƒôz≈Ça OTML.</p>
</section>
<section id="bool-uiverticallayout-internalupdate">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIVerticalLayout::internalUpdate()</span></code><a class="headerlink" href="#bool-uiverticallayout-internalupdate" title="Link to this heading">#</a></h1>
</section>
<section id="id1113">
<h1>Opis semantyczny<a class="headerlink" href="#id1113" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda przeliczajƒÖca pozycje widget√≥w. Dzia≈Ça analogicznie do <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout::internalUpdate</span></code>, ale operuje na osi Y.</p>
</section>
<section id="id1114">
<h1>Dzia≈Çanie<a class="headerlink" href="#id1114" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Pobiera listƒô dzieci. Je≈õli <code class="docutils literal notranslate"><span class="pre">m_alignBottom</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, odwraca kolejno≈õƒá listy.</p></li>
<li><p>Iteruje po widgetach:</p>
<ul class="simple">
<li><p>Oblicza pozycjƒô <code class="docutils literal notranslate"><span class="pre">y</span></code> na podstawie pozycji i wysoko≈õci poprzedniego widgetu oraz odstƒôp√≥w.</p></li>
<li><p>Oblicza pozycjƒô <code class="docutils literal notranslate"><span class="pre">x</span></code> w zale≈ºno≈õci od wyr√≥wnania poziomego widgetu (<code class="docutils literal notranslate"><span class="pre">AlignLeft</span></code>, <code class="docutils literal notranslate"><span class="pre">AlignRight</span></code>, <code class="docutils literal notranslate"><span class="pre">AlignCenter</span></code>) wewnƒÖtrz szeroko≈õci rodzica.</p></li>
<li><p>Je≈õli widget nie ma sta≈Çego rozmiaru, jego szeroko≈õƒá jest rozciƒÖgana do szeroko≈õci rodzica.</p></li>
<li><p>Ustawia nowy <code class="docutils literal notranslate"><span class="pre">Rect</span></code> dla widgetu.</p></li>
</ul>
</li>
<li><p>Oblicza sumarycznƒÖ, preferowanƒÖ wysoko≈õƒá (<code class="docutils literal notranslate"><span class="pre">preferredHeight</span></code>).</p></li>
<li><p>Je≈õli <code class="docutils literal notranslate"><span class="pre">m_fitChildren</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, planuje asynchroniczne ustawienie wysoko≈õci rodzica na <code class="docutils literal notranslate"><span class="pre">preferredHeight</span></code>.</p></li>
</ol>
</section>
<section id="id1115">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1115" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiverticallayout.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Operuje na widgetach.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code>: Do asynchronicznego ustawiania wysoko≈õci rodzica.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiverticallayout-h">
<h1>üìÑ uiverticallayout.h<a class="headerlink" href="#uiverticallayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1116">
<h1>Opis og√≥lny<a class="headerlink" href="#id1116" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiverticallayout.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>, kt√≥ra implementuje layout wertykalny.</p>
</section>
<section id="id1117">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code><a class="headerlink" href="#id1117" title="Link to this heading">#</a></h1>
</section>
<section id="id1118">
<h1>Opis semantyczny<a class="headerlink" href="#id1118" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code> i specjalizuje go do uk≈Çadania widget√≥w w pojedynczej kolumnie. Mo≈ºe uk≈Çadaƒá elementy od g√≥ry do do≈Çu (domy≈õlnie) lub od do≈Çu do g√≥ry (<code class="docutils literal notranslate"><span class="pre">align-bottom</span></code>).</p>
</section>
<section id="id1119">
<h1>Metody publiczne<a class="headerlink" href="#id1119" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setAlignBottom(bool</span> <span class="pre">alignBottom)</span></code></p></td>
<td class="text-left"><p>W≈ÇƒÖcza/wy≈ÇƒÖcza uk≈Çadanie od do≈Çu do g√≥ry.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">isAlignBottom()</span></code></p></td>
<td class="text-left"><p>Zwraca stan flagi <code class="docutils literal notranslate"><span class="pre">align-bottom</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1120">
<h1>Zmienne chronione<a class="headerlink" href="#id1120" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_alignBottom</span></code>: Flaga trybu wyr√≥wnania do do≈Çu.</p></li>
</ul>
</section>
<section id="id1121">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1121" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiboxlayout.h</span></code>: Klasa bazowa.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiwidget-cpp">
<h1>üìÑ uiwidget.cpp<a class="headerlink" href="#uiwidget-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1122">
<h1>Opis og√≥lny<a class="headerlink" href="#id1122" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiwidget.cpp</span></code> jest g≈Ç√≥wnym plikiem implementacyjnym dla klasy <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Zawiera on logikƒô dla podstawowych operacji na widgetach, takich jak zarzƒÖdzanie dzieƒámi, obs≈Çuga layout√≥w, zdarze≈Ñ, stan√≥w i styl√≥w.</p>
</section>
<section id="klasa-uiwidget">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code><a class="headerlink" href="#klasa-uiwidget" title="Link to this heading">#</a></h1>
</section>
<section id="uiwidget-uiwidget">
<h1><code class="docutils literal notranslate"><span class="pre">UIWidget::UIWidget()</span></code><a class="headerlink" href="#uiwidget-uiwidget" title="Link to this heading">#</a></h1>
<p>Konstruktor. Inicjalizuje wszystkie pola do warto≈õci domy≈õlnych, w tym podstawowy styl, w≈Ça≈õciwo≈õci tekstu i obrazu. Co wa≈ºne, zapisuje ≈õcie≈ºkƒô do skryptu Lua, w kt√≥rym widget zosta≈Ç utworzony (<code class="docutils literal notranslate"><span class="pre">m_source</span></code>), co jest niezwykle przydatne do debugowania.</p>
</section>
<section id="void-uiwidget-draw">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::draw(...)</span></code><a class="headerlink" href="#void-uiwidget-draw" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda renderujƒÖca. Jest rekurencyjna.</p>
<ol class="arabic simple">
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">drawSelf()</span></code> do narysowania samego widgetu.</p></li>
<li><p>Je≈õli w≈ÇƒÖczone jest przycinanie (<code class="docutils literal notranslate"><span class="pre">m_clipping</span></code>), ustawia odpowiedni <code class="docutils literal notranslate"><span class="pre">DrawQueueConditionClip</span></code>.</p></li>
<li><p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">drawChildren()</span></code> do narysowania wszystkich widocznych dzieci.</p></li>
<li><p>Stosuje globalne efekty dla widgetu i jego dzieci, takie jak przezroczysto≈õƒá (<code class="docutils literal notranslate"><span class="pre">setOpacity</span></code>) i rotacja (<code class="docutils literal notranslate"><span class="pre">setRotation</span></code>), dodajƒÖc odpowiednie warunki do <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>.</p></li>
</ol>
</section>
<section id="void-uiwidget-addchild-insertchild-removechild">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::addChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">insertChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeChild(...)</span></code><a class="headerlink" href="#void-uiwidget-addchild-insertchild-removechild" title="Link to this heading">#</a></h1>
<p>Metody do zarzƒÖdzania hierarchiƒÖ widget√≥w. Poza modyfikacjƒÖ <code class="docutils literal notranslate"><span class="pre">m_children</span></code>, dbajƒÖ o:</p>
<ul class="simple">
<li><p>Ustawienie/zresetowanie wska≈∫nika <code class="docutils literal notranslate"><span class="pre">m_parent</span></code> w dziecku.</p></li>
<li><p>Dodanie/usuniƒôcie widgetu z layoutu rodzica.</p></li>
<li><p>Aktualizacjƒô stanu fokusu, je≈õli usuwane jest dziecko z fokusem.</p></li>
<li><p>Aktualizacjƒô stan√≥w indeksowych (<code class="docutils literal notranslate"><span class="pre">FirstState</span></code>, <code class="docutils literal notranslate"><span class="pre">LastState</span></code>) u rodze≈Ñstwa.</p></li>
<li><p>Powiadomienie <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> o pojawieniu siƒô/znikniƒôciu widgetu.</p></li>
</ul>
</section>
<section id="void-uiwidget-focuschild-focusnextchild-focuspreviouschild">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::focusChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">focusNextChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">focusPreviousChild(...)</span></code><a class="headerlink" href="#void-uiwidget-focuschild-focusnextchild-focuspreviouschild" title="Link to this heading">#</a></h1>
<p>ImplementujƒÖ logikƒô zarzƒÖdzania fokusem wewnƒÖtrz widgetu. <code class="docutils literal notranslate"><span class="pre">focusChild</span></code> zmienia <code class="docutils literal notranslate"><span class="pre">m_focusedChild</span></code> i wywo≈Çuje callbacki <code class="docutils literal notranslate"><span class="pre">onFocusChange</span></code>. <code class="docutils literal notranslate"><span class="pre">focusNext/PreviousChild</span></code> implementujƒÖ nawigacjƒô (np. klawiszem Tab).</p>
</section>
<section id="void-uiwidget-applystyle-const-otmlnodeptr-stylenode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::applyStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code><a class="headerlink" href="#void-uiwidget-applystyle-const-otmlnodeptr-stylenode" title="Link to this heading">#</a></h1>
<p>Aplikuje w≈Ça≈õciwo≈õci z wƒôz≈Ça stylu do widgetu. Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">onStyleApply</span></code> oraz <code class="docutils literal notranslate"><span class="pre">onStyleApply</span></code> w Lua.</p>
</section>
<section id="void-uiwidget-updatestate-fw-widgetstate-state">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateState(Fw::WidgetState</span> <span class="pre">state)</span></code><a class="headerlink" href="#void-uiwidget-updatestate-fw-widgetstate-state" title="Link to this heading">#</a></h1>
<p>Kluczowa metoda, kt√≥ra aktualizuje pojedynczƒÖ flagƒô stanu (np. <code class="docutils literal notranslate"><span class="pre">HoverState</span></code>). Oblicza, czy widget powinien mieƒá dany stan (np. dla <code class="docutils literal notranslate"><span class="pre">HoverState</span></code> sprawdza, czy <code class="docutils literal notranslate"><span class="pre">g_ui.getHoveredWidget()</span> <span class="pre">==</span> <span class="pre">this</span></code>), a nastƒôpnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">setState</span></code>.</p>
</section>
<section id="void-uiwidget-updatestates">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateStates()</span></code><a class="headerlink" href="#void-uiwidget-updatestates" title="Link to this heading">#</a></h1>
<p>Wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">updateState</span></code> dla wszystkich mo≈ºliwych stan√≥w, synchronizujƒÖc pe≈Çny stan widgetu.</p>
</section>
<section id="void-uiwidget-updatestyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateStyle()</span></code><a class="headerlink" href="#void-uiwidget-updatestyle" title="Link to this heading">#</a></h1>
<p>Gdy stan widgetu siƒô zmienia, ta metoda jest wywo≈Çywana. Przebudowuje ona tymczasowy wƒôze≈Ç stylu (<code class="docutils literal notranslate"><span class="pre">m_stateStyle</span></code>), ≈ÇƒÖczƒÖc style z warunk√≥w (<code class="docutils literal notranslate"><span class="pre">$!hover</span></code>, <code class="docutils literal notranslate"><span class="pre">$checked</span></code>, itp.), a nastƒôpnie wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">applyStyle</span></code> z tym nowym, po≈ÇƒÖczonym stylem.</p>
</section>
<section id="metody-on-i-propagateon">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">on...</span></code> i <code class="docutils literal notranslate"><span class="pre">propagateOn...</span></code><a class="headerlink" href="#metody-on-i-propagateon" title="Link to this heading">#</a></h1>
<p>ImplementujƒÖ domy≈õlnƒÖ obs≈Çugƒô i propagacjƒô zdarze≈Ñ w drzewie widget√≥w. Metody <code class="docutils literal notranslate"><span class="pre">propagate...</span></code> decydujƒÖ, do kt√≥rych dzieci przekazaƒá zdarzenie, a nastƒôpnie wywo≈ÇujƒÖ metodƒô <code class="docutils literal notranslate"><span class="pre">on...</span></code> na samym widgecie.</p>
</section>
<section id="id1123">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1123" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>Jest to centralna klasa modu≈Çu UI, kt√≥ra zale≈ºy od prawie wszystkich innych jego czƒô≈õci (<code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>, <code class="docutils literal notranslate"><span class="pre">UITranslator</span></code>) oraz wielu modu≈Ç√≥w frameworka (<code class="docutils literal notranslate"><span class="pre">Graphics</span></code>, <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>, <code class="docutils literal notranslate"><span class="pre">OTML</span></code>).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiwidget-h">
<h1>üìÑ uiwidget.h<a class="headerlink" href="#uiwidget-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1124">
<h1>Opis og√≥lny<a class="headerlink" href="#id1124" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiwidget.h</span></code> deklaruje klasƒô <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, kt√≥ra jest fundamentalnƒÖ klasƒÖ bazowƒÖ dla wszystkich element√≥w interfejsu u≈ºytkownika.</p>
</section>
<section id="struktura-edgegroup">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">EdgeGroup</span></code><a class="headerlink" href="#struktura-edgegroup" title="Link to this heading">#</a></h1>
<p>Szablonowa struktura pomocnicza do przechowywania warto≈õci dla czterech krawƒôdzi (g√≥ra, prawo, d√≥≈Ç, lewo), u≈ºywana dla <code class="docutils literal notranslate"><span class="pre">margin</span></code>, <code class="docutils literal notranslate"><span class="pre">padding</span></code>, <code class="docutils literal notranslate"><span class="pre">border-width</span></code> i <code class="docutils literal notranslate"><span class="pre">border-color</span></code>.</p>
</section>
<section id="id1125">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code><a class="headerlink" href="#id1125" title="Link to this heading">#</a></h1>
</section>
<section id="id1126">
<h1>Opis semantyczny<a class="headerlink" href="#id1126" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> jest obiektowym odpowiednikiem elementu DOM. Reprezentuje prostokƒÖtny obszar na ekranie, kt√≥ry mo≈ºe byƒá rysowany, reagowaƒá na zdarzenia i zawieraƒá inne widgety. Implementuje model drzewa (rodzic-dzieci), system zdarze≈Ñ (propagacja i obs≈Çuga), system stan√≥w (aktywny, najechany, etc.), zarzƒÖdzanie layoutem oraz integracjƒô z OTML i Lua.</p>
</section>
<section id="podzial-interfejsu-w-pliku-h">
<h1>Podzia≈Ç interfejsu (w pliku <code class="docutils literal notranslate"><span class="pre">.h</span></code>)<a class="headerlink" href="#podzial-interfejsu-w-pliku-h" title="Link to this heading">#</a></h1>
<p>Interfejs klasy jest podzielony na sekcje tematyczne:</p>
<ul class="simple">
<li><p><strong>Widget Core</strong>: Podstawowe metody do zarzƒÖdzania hierarchiƒÖ, layoutem, stylami i stanami.</p></li>
<li><p><strong>State Management</strong>: Metody do zarzƒÖdzania stanami (<code class="docutils literal notranslate"><span class="pre">setState</span></code>, <code class="docutils literal notranslate"><span class="pre">hasState</span></code>).</p></li>
<li><p><strong>Event Processing</strong>: Wirtualne metody <code class="docutils literal notranslate"><span class="pre">on...</span></code> do obs≈Çugi zdarze≈Ñ.</p></li>
<li><p><strong>Function Shortcuts</strong>: Wygodne metody opakowujƒÖce (<code class="docutils literal notranslate"><span class="pre">hide</span></code>, <code class="docutils literal notranslate"><span class="pre">show</span></code>, <code class="docutils literal notranslate"><span class="pre">enable</span></code>).</p></li>
<li><p><strong>Base Style</strong>: Pola i metody zwiƒÖzane z podstawowymi w≈Ça≈õciwo≈õciami wizualnymi (t≈Ço, ramka, ikona, przezroczysto≈õƒá).</p></li>
<li><p><strong>Image</strong>: Pola i metody zwiƒÖzane z wy≈õwietlaniem obrazu (<code class="docutils literal notranslate"><span class="pre">m_imageTexture</span></code>, <code class="docutils literal notranslate"><span class="pre">setImageSource</span></code>).</p></li>
<li><p><strong>Text</strong>: Pola i metody zwiƒÖzane z wy≈õwietlaniem tekstu (<code class="docutils literal notranslate"><span class="pre">m_text</span></code>, <code class="docutils literal notranslate"><span class="pre">m_font</span></code>, <code class="docutils literal notranslate"><span class="pre">setText</span></code>).</p></li>
</ul>
</section>
<section id="kluczowe-wlasciwosci">
<h1>Kluczowe w≈Ça≈õciwo≈õci<a class="headerlink" href="#kluczowe-wlasciwosci" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Hierarchia</strong>: <code class="docutils literal notranslate"><span class="pre">m_parent</span></code>, <code class="docutils literal notranslate"><span class="pre">m_children</span></code>.</p></li>
<li><p><strong>Geometria</strong>: <code class="docutils literal notranslate"><span class="pre">m_rect</span></code>.</p></li>
<li><p><strong>Styl</strong>: <code class="docutils literal notranslate"><span class="pre">m_style</span></code> (wƒôze≈Ç OTML), <code class="docutils literal notranslate"><span class="pre">m_states</span></code>.</p></li>
<li><p><strong>Layout</strong>: <code class="docutils literal notranslate"><span class="pre">m_layout</span></code>.</p></li>
<li><p><strong>Zdarzenia</strong>: Zestaw wirtualnych metod <code class="docutils literal notranslate"><span class="pre">on...</span></code> (np. <code class="docutils literal notranslate"><span class="pre">onMousePress</span></code>, <code class="docutils literal notranslate"><span class="pre">onKeyPress</span></code>).</p></li>
<li><p><strong>WyglƒÖd</strong>: <code class="docutils literal notranslate"><span class="pre">m_backgroundColor</span></code>, <code class="docutils literal notranslate"><span class="pre">m_borderColor</span></code>, <code class="docutils literal notranslate"><span class="pre">m_imageTexture</span></code>, <code class="docutils literal notranslate"><span class="pre">m_text</span></code>, <code class="docutils literal notranslate"><span class="pre">m_font</span></code>, etc.</p></li>
</ul>
</section>
<section id="id1127">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1127" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/declarations.h</span></code>, <code class="docutils literal notranslate"><span class="pre">uilayout.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code>: Klasa bazowa.</p></li>
<li><p>Jest klasƒÖ bazowƒÖ dla wszystkich innych widget√≥w, np. <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code>.</p></li>
<li><p>Jest zarzƒÖdzana przez <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiwidgetimage-cpp">
<h1>üìÑ uiwidgetimage.cpp<a class="headerlink" href="#uiwidgetimage-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1128">
<h1>Opis og√≥lny<a class="headerlink" href="#id1128" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiwidgetimage.cpp</span></code> zawiera implementacjƒô czƒô≈õci klasy <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> odpowiedzialnej za obs≈Çugƒô i renderowanie obrazu t≈Ça.</p>
<blockquote>
<div><p><strong>NOTE:</strong> To nie jest osobna klasa, lecz czƒô≈õƒá implementacji <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, wydzielona do osobnego pliku dla lepszej organizacji kodu.</p>
</div></blockquote>
</section>
<section id="klasa-uiwidget-czesc-implementacji">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czƒô≈õƒá implementacji)<a class="headerlink" href="#klasa-uiwidget-czesc-implementacji" title="Link to this heading">#</a></h1>
</section>
<section id="void-uiwidget-initimage">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initImage()</span></code><a class="headerlink" href="#void-uiwidget-initimage" title="Link to this heading">#</a></h1>
<p>Inicjalizuje pola zwiƒÖzane z obrazem do warto≈õci domy≈õlnych.</p>
</section>
<section id="void-uiwidget-parseimagestyle-const-otmlnodeptr-stylenode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseImageStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code><a class="headerlink" href="#void-uiwidget-parseimagestyle-const-otmlnodeptr-stylenode" title="Link to this heading">#</a></h1>
<p>Parsuje z wƒôz≈Ça OTML wszystkie atrybuty zwiƒÖzane z obrazem (<code class="docutils literal notranslate"><span class="pre">image-source</span></code>, <code class="docutils literal notranslate"><span class="pre">image-clip</span></code>, <code class="docutils literal notranslate"><span class="pre">image-color</span></code>, <code class="docutils literal notranslate"><span class="pre">image-border</span></code>, <code class="docutils literal notranslate"><span class="pre">image-shader</span></code> itp.) i wywo≈Çuje odpowiednie settery.</p>
</section>
<section id="void-uiwidget-drawimage-const-rect-screencoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawImage(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code><a class="headerlink" href="#void-uiwidget-drawimage-const-rect-screencoords" title="Link to this heading">#</a></h1>
</section>
<section id="id1129">
<h1>Opis semantyczny<a class="headerlink" href="#id1129" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda rysujƒÖca obraz.</p>
</section>
<section id="id1130">
<h1>Dzia≈Çanie<a class="headerlink" href="#id1130" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sprawdza, czy tekstura obrazu istnieje.</p></li>
<li><p>Je≈õli geometria (<code class="docutils literal notranslate"><span class="pre">screenCoords</span></code>) lub w≈Ça≈õciwo≈õci obrazu uleg≈Çy zmianie (<code class="docutils literal notranslate"><span class="pre">m_imageMustRecache</span></code>), przelicza i buforuje wsp√≥≈Çrzƒôdne wierzcho≈Çk√≥w i tekstur w <code class="docutils literal notranslate"><span class="pre">m_imageCoordsBuffer</span></code>.</p>
<ul class="simple">
<li><p>Obs≈Çuguje r√≥≈ºne tryby: proste skalowanie, zachowanie proporcji (<code class="docutils literal notranslate"><span class="pre">m_imageFixedRatio</span></code>), powtarzanie (<code class="docutils literal notranslate"><span class="pre">m_imageRepeated</span></code>) oraz z≈Ço≈ºone rysowanie z ramkƒÖ (<code class="docutils literal notranslate"><span class="pre">m_imageBordered</span></code>), kt√≥re dzieli obraz na 9 czƒô≈õci i odpowiednio je skaluje/powtarza.</p></li>
</ul>
</li>
<li><p>Dodaje zadanie rysowania do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code>. Je≈õli zdefiniowano <code class="docutils literal notranslate"><span class="pre">m_shader</span></code>, u≈ºywa specjalnego <code class="docutils literal notranslate"><span class="pre">DrawQueueItemImageWithShader</span></code>.</p></li>
</ol>
</section>
<section id="void-uiwidget-setqrcode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setQRCode(...)</span></code><a class="headerlink" href="#void-uiwidget-setqrcode" title="Link to this heading">#</a></h1>
<p>Generuje obraz kodu QR, tworzy z niego teksturƒô i ustawia jƒÖ jako <code class="docutils literal notranslate"><span class="pre">m_imageTexture</span></code>.</p>
</section>
<section id="void-uiwidget-setimagesource-const-std-string-source">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setImageSource(const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code><a class="headerlink" href="#void-uiwidget-setimagesource-const-std-string-source" title="Link to this heading">#</a></h1>
<p>≈Åaduje teksturƒô z pliku za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_textures</span></code> i ustawia jƒÖ jako <code class="docutils literal notranslate"><span class="pre">m_imageTexture</span></code>. Je≈õli w≈ÇƒÖczone jest <code class="docutils literal notranslate"><span class="pre">m_imageAutoResize</span></code>, dostosowuje rozmiar widgetu do rozmiaru obrazu.</p>
</section>
<section id="void-uiwidget-setimagesourcebase64">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setImageSourceBase64(...)</span></code><a class="headerlink" href="#void-uiwidget-setimagesourcebase64" title="Link to this heading">#</a></h1>
<p>Dekoduje obraz zakodowany w Base64, tworzy z niego teksturƒô i ustawia jƒÖ.</p>
</section>
<section id="id1131">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1131" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Plik nag≈Ç√≥wkowy klasy, kt√≥rƒÖ implementuje.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>, <code class="docutils literal notranslate"><span class="pre">image.h</span></code>, <code class="docutils literal notranslate"><span class="pre">texture.h</span></code>, <code class="docutils literal notranslate"><span class="pre">texturemanager.h</span></code>: Komponenty graficzne.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/util/crypt.h</span></code>: Do dekodowania Base64.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uianchorlayout-h">
<h1>üìÑ uianchorlayout.h<a class="headerlink" href="#uianchorlayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1132">
<h1>Opis og√≥lny<a class="headerlink" href="#id1132" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uianchorlayout.h</span></code> deklaruje klasy <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code>, <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code> i <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>, kt√≥re razem implementujƒÖ system layoutu oparty na ‚Äûkotwicach‚Äù (anchors).</p>
</section>
<section id="klasa-uianchor">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code><a class="headerlink" href="#klasa-uianchor" title="Link to this heading">#</a></h1>
</section>
<section id="id1133">
<h1>Opis semantyczny<a class="headerlink" href="#id1133" title="Link to this heading">#</a></h1>
<p>Reprezentuje pojedynczƒÖ regu≈Çƒô ‚Äûkotwiczenia‚Äù, kt√≥ra wiƒÖ≈ºe jednƒÖ krawƒôd≈∫ widgetu z krawƒôdziƒÖ innego widgetu (lub rodzica).</p>
<ul class="simple">
<li><p><strong>Pola</strong>: <code class="docutils literal notranslate"><span class="pre">m_anchoredEdge</span></code> (krawƒôd≈∫ tego widgetu), <code class="docutils literal notranslate"><span class="pre">m_hookedWidgetId</span></code> (ID widgetu docelowego), <code class="docutils literal notranslate"><span class="pre">m_hookedEdge</span></code> (krawƒôd≈∫ widgetu docelowego).</p></li>
</ul>
</section>
<section id="klasa-uianchorgroup">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code><a class="headerlink" href="#klasa-uianchorgroup" title="Link to this heading">#</a></h1>
</section>
<section id="id1134">
<h1>Opis semantyczny<a class="headerlink" href="#id1134" title="Link to this heading">#</a></h1>
<p>Kontener na wszystkie kotwice (<code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code>) przypisane do jednego widgetu. Posiada r√≥wnie≈º flagƒô <code class="docutils literal notranslate"><span class="pre">m_updated</span></code> u≈ºywanƒÖ przez algorytm layoutu.</p>
</section>
<section id="klasa-uianchorlayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code><a class="headerlink" href="#klasa-uianchorlayout" title="Link to this heading">#</a></h1>
</section>
<section id="id1135">
<h1>Opis semantyczny<a class="headerlink" href="#id1135" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code> to mened≈ºer layoutu, kt√≥ry pozycjonuje i skaluje swoje widgety-dzieci na podstawie zdefiniowanych dla nich regu≈Ç kotwiczenia. Pozwala to na tworzenie elastycznych i responsywnych interfejs√≥w, kt√≥re dostosowujƒÖ siƒô do zmian rozmiaru okna.</p>
</section>
<section id="id1136">
<h1>Metody publiczne<a class="headerlink" href="#id1136" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Metoda</p></th>
<th class="head text-left"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">addAnchor(...)</span></code></p></td>
<td class="text-left"><p>Dodaje nowƒÖ regu≈Çƒô kotwiczenia dla widgetu.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">removeAnchors(...)</span></code></p></td>
<td class="text-left"><p>Usuwa wszystkie kotwice z widgetu.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">hasAnchors(...)</span></code></p></td>
<td class="text-left"><p>Sprawdza, czy widget ma jakiekolwiek kotwice.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">centerIn(...)</span></code></p></td>
<td class="text-left"><p>Skr√≥t do dodania kotwic centrujƒÖcych widget.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">fill(...)</span></code></p></td>
<td class="text-left"><p>Skr√≥t do dodania kotwic rozciƒÖgajƒÖcych widget na ca≈Çy obszar innego widgetu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1137">
<h1>Zmienne prywatne<a class="headerlink" href="#id1137" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_anchorsGroups</span></code>: Mapa przechowujƒÖca <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code> dla ka≈ºdego zarzƒÖdzanego widgetu.</p></li>
</ul>
</section>
<section id="id1138">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1138" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uilayout.h</span></code>: Klasa bazowa.</p></li>
<li><p>Oznaczona jako <code class="docutils literal notranslate"><span class="pre">&#64;bindclass</span></code>.</p></li>
<li><p>Jest jednym z najczƒô≈õciej u≈ºywanych layout√≥w w projekcie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiwidgettext-cpp">
<h1>üìÑ uiwidgettext.cpp<a class="headerlink" href="#uiwidgettext-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1139">
<h1>Opis og√≥lny<a class="headerlink" href="#id1139" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiwidgettext.cpp</span></code> zawiera implementacjƒô czƒô≈õci klasy <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> odpowiedzialnej za obs≈Çugƒô i renderowanie tekstu.</p>
<blockquote>
<div><p><strong>NOTE:</strong> To nie jest osobna klasa, lecz czƒô≈õƒá implementacji <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>, wydzielona do osobnego pliku.</p>
</div></blockquote>
</section>
<section id="id1140">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czƒô≈õƒá implementacji)<a class="headerlink" href="#id1140" title="Link to this heading">#</a></h1>
</section>
<section id="void-uiwidget-inittext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initText()</span></code><a class="headerlink" href="#void-uiwidget-inittext" title="Link to this heading">#</a></h1>
<p>Inicjalizuje pola zwiƒÖzane z tekstem do warto≈õci domy≈õlnych (np. domy≈õlny font, wyr√≥wnanie do ≈õrodka).</p>
</section>
<section id="void-uiwidget-updatetext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateText()</span></code><a class="headerlink" href="#void-uiwidget-updatetext" title="Link to this heading">#</a></h1>
<p>Metoda wywo≈Çywana po ka≈ºdej zmianie tekstu lub jego w≈Ça≈õciwo≈õci.</p>
<ol class="arabic simple">
<li><p>Je≈õli zawijanie jest w≈ÇƒÖczone, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">m_font‚ÜíwrapText()</span></code>, aby przygotowaƒá tekst do wy≈õwietlenia (<code class="docutils literal notranslate"><span class="pre">m_drawText</span></code>).</p></li>
<li><p>Je≈õli w≈ÇƒÖczone jest <code class="docutils literal notranslate"><span class="pre">m_textAutoResize</span></code>, oblicza nowy, preferowany rozmiar widgetu na podstawie rozmiaru tekstu i go ustawia.</p></li>
<li><p>Ustawia flagƒô <code class="docutils literal notranslate"><span class="pre">m_textMustRecache</span></code>, aby geometria zosta≈Ça przeliczona przy nastƒôpnym rysowaniu.</p></li>
</ol>
</section>
<section id="void-uiwidget-parsetextstyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseTextStyle(...)</span></code><a class="headerlink" href="#void-uiwidget-parsetextstyle" title="Link to this heading">#</a></h1>
<p>Parsuje z wƒôz≈Ça OTML wszystkie atrybuty zwiƒÖzane z tekstem (<code class="docutils literal notranslate"><span class="pre">text</span></code>, <code class="docutils literal notranslate"><span class="pre">font</span></code>, <code class="docutils literal notranslate"><span class="pre">text-align</span></code>, <code class="docutils literal notranslate"><span class="pre">text-wrap</span></code> itp.).</p>
</section>
<section id="void-uiwidget-drawtext-const-rect-screencoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawText(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code><a class="headerlink" href="#void-uiwidget-drawtext-const-rect-screencoords" title="Link to this heading">#</a></h1>
<p>Dodaje zadanie rysowania tekstu do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code>. U≈ºywa <code class="docutils literal notranslate"><span class="pre">m_font</span></code> do wykonania w≈Ça≈õciwej operacji rysowania, przekazujƒÖc mu tekst (<code class="docutils literal notranslate"><span class="pre">m_drawText</span></code>), obszar (<code class="docutils literal notranslate"><span class="pre">m_textCachedScreenCoords</span></code>), wyr√≥wnanie, kolor i ewentualne informacje o wielu kolorach.</p>
</section>
<section id="void-uiwidget-ontextchange-i-onfontchange">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::onTextChange(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">onFontChange(...)</span></code><a class="headerlink" href="#void-uiwidget-ontextchange-i-onfontchange" title="Link to this heading">#</a></h1>
<p>Wirtualne metody, kt√≥re domy≈õlnie wywo≈ÇujƒÖ odpowiednie <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> w Lua.</p>
</section>
<section id="void-uiwidget-settext-std-string-text">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setText(std::string</span> <span class="pre">text,</span> <span class="pre">...)</span></code><a class="headerlink" href="#void-uiwidget-settext-std-string-text" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wny setter dla tekstu. Je≈õli <code class="docutils literal notranslate"><span class="pre">m_textOnlyUpperCase</span></code> jest <code class="docutils literal notranslate"><span class="pre">true</span></code>, konwertuje tekst na wielkie litery. Aktualizuje <code class="docutils literal notranslate"><span class="pre">m_text</span></code>, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">updateText()</span></code> i <code class="docutils literal notranslate"><span class="pre">onTextChange</span></code>.</p>
</section>
<section id="void-uiwidget-setcoloredtext">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setColoredText(...)</span></code><a class="headerlink" href="#void-uiwidget-setcoloredtext" title="Link to this heading">#</a></h1>
<p>Setter dla tekstu wielokolorowego. Parsuje wektor string√≥w, budujƒÖc <code class="docutils literal notranslate"><span class="pre">m_text</span></code> i <code class="docutils literal notranslate"><span class="pre">m_textColors</span></code>.</p>
</section>
<section id="void-uiwidget-setfont">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setFont(...)</span></code><a class="headerlink" href="#void-uiwidget-setfont" title="Link to this heading">#</a></h1>
<p>Ustawia font, pobierajƒÖc go z <code class="docutils literal notranslate"><span class="pre">g_fonts</span></code>.</p>
</section>
<section id="id1141">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1141" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uitranslator.h</span></code>: Do parsowania <code class="docutils literal notranslate"><span class="pre">text-align</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/fontmanager.h</span></code>: Do pobierania font√≥w.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiwidgetbasestyle-cpp">
<h1>üìÑ uiwidgetbasestyle.cpp<a class="headerlink" href="#uiwidgetbasestyle-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1142">
<h1>Opis og√≥lny<a class="headerlink" href="#id1142" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uiwidgetbasestyle.cpp</span></code> zawiera implementacjƒô czƒô≈õci klasy <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> odpowiedzialnej za podstawowy styl, czyli w≈Ça≈õciwo≈õci wsp√≥lne dla wszystkich widget√≥w, takie jak t≈Ço, ramka, ikona i og√≥lne atrybuty.</p>
</section>
<section id="id1143">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czƒô≈õƒá implementacji)<a class="headerlink" href="#id1143" title="Link to this heading">#</a></h1>
</section>
<section id="void-uiwidget-initbasestyle">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initBaseStyle()</span></code><a class="headerlink" href="#void-uiwidget-initbasestyle" title="Link to this heading">#</a></h1>
<p>Inicjalizuje podstawowe w≈Ça≈õciwo≈õci stylu do warto≈õci domy≈õlnych (np. przezroczyste t≈Ço, bia≈Çy kolor, brak ramki).</p>
</section>
<section id="void-uiwidget-parsebasestyle-const-otmlnodeptr-stylenode">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseBaseStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code><a class="headerlink" href="#void-uiwidget-parsebasestyle-const-otmlnodeptr-stylenode" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda parsujƒÖca styl.</p>
<ol class="arabic simple">
<li><p>Najpierw parsuje pola i <code class="docutils literal notranslate"><span class="pre">callbacki</span></code> Lua (<code class="docutils literal notranslate"><span class="pre">&#64;</span></code> i <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>), aby by≈Çy dostƒôpne podczas parsowania innych atrybut√≥w.</p></li>
<li><p>Nastƒôpnie parsuje wszystkie podstawowe atrybuty, takie jak <code class="docutils literal notranslate"><span class="pre">color</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">width</span></code>, <code class="docutils literal notranslate"><span class="pre">height</span></code>, <code class="docutils literal notranslate"><span class="pre">background-color</span></code>, <code class="docutils literal notranslate"><span class="pre">opacity</span></code>, <code class="docutils literal notranslate"><span class="pre">rotation</span></code>, <code class="docutils literal notranslate"><span class="pre">enabled</span></code>, <code class="docutils literal notranslate"><span class="pre">visible</span></code>, <code class="docutils literal notranslate"><span class="pre">margin</span></code>, <code class="docutils literal notranslate"><span class="pre">padding</span></code>, <code class="docutils literal notranslate"><span class="pre">border</span></code>, <code class="docutils literal notranslate"><span class="pre">icon</span></code>, etc.</p></li>
<li><p>Obs≈Çuguje r√≥wnie≈º definicjƒô layoutu (<code class="docutils literal notranslate"><span class="pre">layout:</span> <span class="pre">...</span></code>) oraz deklaracje kotwic (<code class="docutils literal notranslate"><span class="pre">anchors.left:</span> <span class="pre">...</span></code>).</p></li>
</ol>
</section>
<section id="void-uiwidget-drawbackground-const-rect-screencoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawBackground(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code><a class="headerlink" href="#void-uiwidget-drawbackground-const-rect-screencoords" title="Link to this heading">#</a></h1>
<p>Dodaje do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code> zadanie narysowania prostokƒÖta wype≈Çnionego kolorem <code class="docutils literal notranslate"><span class="pre">m_backgroundColor</span></code>.</p>
</section>
<section id="void-uiwidget-drawborder-const-rect-screencoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawBorder(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code><a class="headerlink" href="#void-uiwidget-drawborder-const-rect-screencoords" title="Link to this heading">#</a></h1>
<p>Dodaje do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code> zadania narysowania czterech prostokƒÖt√≥w tworzƒÖcych ramkƒô, ka≈ºdy z odpowiednim kolorem i grubo≈õciƒÖ.</p>
</section>
<section id="void-uiwidget-drawicon-const-rect-screencoords">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawIcon(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code><a class="headerlink" href="#void-uiwidget-drawicon-const-rect-screencoords" title="Link to this heading">#</a></h1>
<p>Je≈õli <code class="docutils literal notranslate"><span class="pre">m_icon</span></code> jest ustawiony, dodaje do <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code> zadanie narysowania tekstury ikony w odpowiednim miejscu, uwzglƒôdniajƒÖc <code class="docutils literal notranslate"><span class="pre">m_iconAlign</span></code>, <code class="docutils literal notranslate"><span class="pre">m_iconOffset</span></code> i <code class="docutils literal notranslate"><span class="pre">m_iconColor</span></code>.</p>
</section>
<section id="void-uiwidget-seticon-const-std-string-iconfile">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setIcon(const</span> <span class="pre">std::string&amp;</span> <span class="pre">iconFile)</span></code><a class="headerlink" href="#void-uiwidget-seticon-const-std-string-iconfile" title="Link to this heading">#</a></h1>
<p>≈Åaduje teksturƒô ikony za pomocƒÖ <code class="docutils literal notranslate"><span class="pre">g_textures</span></code> i ustawia jej domy≈õlny <code class="docutils literal notranslate"><span class="pre">clip-rect</span></code>.</p>
</section>
<section id="id1144">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1144" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uitranslator.h</span></code>: Do parsowania <code class="docutils literal notranslate"><span class="pre">icon-align</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/texturemanager.h</span></code>: Do ≈Çadowania tekstur ikon.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code>: Po≈õrednio, poprzez <code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uianchorlayout-cpp">
<h1>üìÑ uianchorlayout.cpp<a class="headerlink" href="#uianchorlayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id1145">
<h1>Opis og√≥lny<a class="headerlink" href="#id1145" title="Link to this heading">#</a></h1>
<p>Plik <code class="docutils literal notranslate"><span class="pre">uianchorlayout.cpp</span></code> zawiera implementacjƒô klas <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code>, <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code> i <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>, kt√≥re razem tworzƒÖ system layoutu opartego na kotwicach.</p>
</section>
<section id="id1146">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code><a class="headerlink" href="#id1146" title="Link to this heading">#</a></h1>
</section>
<section id="uiwidgetptr-uianchor-gethookedwidget">
<h1><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">UIAnchor::getHookedWidget(...)</span></code><a class="headerlink" href="#uiwidgetptr-uianchor-gethookedwidget" title="Link to this heading">#</a></h1>
<p>Znajduje widget, do kt√≥rego dana kotwica jest ‚Äûprzyczepiona‚Äù. Obs≈Çuguje specjalne identyfikatory:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parent</span></code>: widget-rodzic.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">next</span></code>: nastƒôpne rodze≈Ñstwo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prev</span></code>: poprzednie rodze≈Ñstwo.</p></li>
<li><p>Inne: szuka dziecka o danym ID w rodzicu.</p></li>
</ul>
</section>
<section id="int-uianchor-gethookedpoint">
<h1><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">UIAnchor::getHookedPoint(...)</span></code><a class="headerlink" href="#int-uianchor-gethookedpoint" title="Link to this heading">#</a></h1>
<p>Oblicza wsp√≥≈ÇrzƒôdnƒÖ (X lub Y) krawƒôdzi widgetu, do kt√≥rego kotwica jest przyczepiona.</p>
</section>
<section id="id1147">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code><a class="headerlink" href="#id1147" title="Link to this heading">#</a></h1>
</section>
<section id="void-uianchorgroup-addanchor">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIAnchorGroup::addAnchor(...)</span></code><a class="headerlink" href="#void-uianchorgroup-addanchor" title="Link to this heading">#</a></h1>
<p>Dodaje nowƒÖ kotwicƒô do grupy. Je≈õli kotwica dla tej samej krawƒôdzi ju≈º istnieje, jest ona zastƒôpowana.</p>
</section>
<section id="id1148">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code><a class="headerlink" href="#id1148" title="Link to this heading">#</a></h1>
</section>
<section id="void-uianchorlayout-addanchor">
<h1><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIAnchorLayout::addAnchor(...)</span></code><a class="headerlink" href="#void-uianchorlayout-addanchor" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda do tworzenia i dodawania nowej regu≈Çy kotwiczenia. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code> i dodaje go do odpowiedniej <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code>.</p>
</section>
<section id="bool-uianchorlayout-updatewidget">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIAnchorLayout::updateWidget(...)</span></code><a class="headerlink" href="#bool-uianchorlayout-updatewidget" title="Link to this heading">#</a></h1>
</section>
<section id="id1149">
<h1>Opis semantyczny<a class="headerlink" href="#id1149" title="Link to this heading">#</a></h1>
<p>Rekurencyjna metoda, kt√≥ra oblicza nowy <code class="docutils literal notranslate"><span class="pre">Rect</span></code> dla pojedynczego widgetu na podstawie jego kotwic.</p>
</section>
<section id="id1150">
<h1>Dzia≈Çanie<a class="headerlink" href="#id1150" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Je≈õli widget, do kt√≥rego siƒô kotwiczymy, sam nie zosta≈Ç jeszcze zaktualizowany, wywo≈Çuje <code class="docutils literal notranslate"><span class="pre">updateWidget</span></code> rekurencyjnie dla niego.</p></li>
<li><p>Iteruje po wszystkich kotwicach widgetu.</p></li>
<li><p>Dla ka≈ºdej kotwicy, oblicza docelowy punkt (<code class="docutils literal notranslate"><span class="pre">point</span></code>) na podstawie <code class="docutils literal notranslate"><span class="pre">getHookedPoint</span></code>.</p></li>
<li><p>Modyfikuje <code class="docutils literal notranslate"><span class="pre">newRect</span></code> widgetu, ustawiajƒÖc lub przesuwajƒÖc odpowiedniƒÖ krawƒôd≈∫ (<code class="docutils literal notranslate"><span class="pre">moveLeft</span></code>, <code class="docutils literal notranslate"><span class="pre">setRight</span></code>, <code class="docutils literal notranslate"><span class="pre">moveVerticalCenter</span></code>, itp.).</p></li>
<li><p>Po przetworzeniu wszystkich kotwic, ustawia nowy <code class="docutils literal notranslate"><span class="pre">Rect</span></code> dla widgetu.</p></li>
</ol>
</section>
<section id="bool-uianchorlayout-internalupdate">
<h1><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIAnchorLayout::internalUpdate()</span></code><a class="headerlink" href="#bool-uianchorlayout-internalupdate" title="Link to this heading">#</a></h1>
<p>G≈Ç√≥wna metoda aktualizacji layoutu.</p>
<ol class="arabic simple">
<li><p>Resetuje flagi <code class="docutils literal notranslate"><span class="pre">m_updated</span></code> we wszystkich <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code>.</p></li>
<li><p>W pƒôtli przechodzi przez wszystkie widgety zarzƒÖdzane przez ten layout i, je≈õli nie zosta≈Çy jeszcze zaktualizowane, wywo≈Çuje dla nich <code class="docutils literal notranslate"><span class="pre">updateWidget</span></code>. Pƒôtla zapewnia, ≈ºe wszystkie zale≈ºno≈õci zostanƒÖ rozwiƒÖzane.</p></li>
</ol>
</section>
<section id="id1151">
<h1>Zale≈ºno≈õci i powiƒÖzania<a class="headerlink" href="#id1151" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uianchorlayout.h</span></code>: Plik nag≈Ç√≥wkowy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code>: Operuje na widgetach.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="meta-dokumenty">
<h1>Meta-dokumenty<a class="headerlink" href="#meta-dokumenty" title="Link to this heading">#</a></h1>
</section>
<section id="spis-tresci">
<h1>üìë Spis tre≈õci<a class="headerlink" href="#spis-tresci" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">const.h</span></code></strong>: Definicje globalnych sta≈Çych, makr i typ√≥w wyliczeniowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></strong>: Skrypt konfiguracyjny budowania projektu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">global.h</span></code></strong>: Centralny plik nag≈Ç√≥wkowy, agregujƒÖcy podstawowe zale≈ºno≈õci.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pch.h</span></code></strong>: Prekompilowany nag≈Ç√≥wek ze standardowymi bibliotekami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luafunctions.cpp</span></code></strong>: Implementacja bindowa≈Ñ C++ do Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">resourcemanager.h</span></code></strong>: Deklaracja mened≈ºera zasob√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">adaptiverenderer.cpp</span></code></strong>: Implementacja renderera adaptacyjnego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">adaptiverenderer.h</span></code></strong>: Deklaracja renderera adaptacyjnego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">application.cpp</span></code></strong>: Implementacja bazowej klasy aplikacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">application.h</span></code></strong>: Deklaracja bazowej klasy aplikacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">asyncdispatcher.h</span></code></strong>: Deklaracja dyspozytora zada≈Ñ asynchronicznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">binarytree.cpp</span></code></strong>: Implementacja czytnika/writera formatu binarnego drzewa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">asyncdispatcher.cpp</span></code></strong>: Implementacja dyspozytora zada≈Ñ asynchronicznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">clock.h</span></code></strong>: Deklaracja klasy zegara.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">binarytree.h</span></code></strong>: Deklaracja klas do obs≈Çugi formatu binarnego drzewa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">config.cpp</span></code></strong>: Implementacja klasy do zarzƒÖdzania pojedynczƒÖ konfiguracjƒÖ.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">configmanager.cpp</span></code></strong>: Implementacja mened≈ºera konfiguracji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">configmanager.h</span></code></strong>: Deklaracja mened≈ºera konfiguracji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">config.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Config</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">clock.cpp</span></code></strong>: Implementacja klasy zegara.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">consoleapplication.h</span></code></strong>: Deklaracja aplikacji konsolowej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla modu≈Çu <code class="docutils literal notranslate"><span class="pre">core</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">event.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Event</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">event.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Event</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">eventdispatcher.cpp</span></code></strong>: Implementacja dyspozytora zdarze≈Ñ.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">eventdispatcher.h</span></code></strong>: Deklaracja dyspozytora zdarze≈Ñ.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">filestream.cpp</span></code></strong>: Implementacja strumienia plikowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">filestream.h</span></code></strong>: Deklaracja strumienia plikowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graphicalapplication.cpp</span></code></strong>: Implementacja aplikacji graficznej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">inputevent.h</span></code></strong>: Deklaracja struktury <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graphicalapplication.h</span></code></strong>: Deklaracja aplikacji graficznej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">logger.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Logger</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">module.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">modulemanager.cpp</span></code></strong>: Implementacja mened≈ºera modu≈Ç√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">logger.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Logger</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">module.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Module</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">modulemanager.h</span></code></strong>: Deklaracja mened≈ºera modu≈Ç√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">scheduledevent.cpp</span></code></strong>: Implementacja zdarzenia zaplanowanego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">resourcemanager.cpp</span></code></strong>: Implementacja mened≈ºera zasob√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">scheduledevent.h</span></code></strong>: Deklaracja zdarzenia zaplanowanego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">timer.cpp</span></code></strong>: Implementacja timera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">timer.h</span></code></strong>: Deklaracja timera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">consoleapplication.cpp</span></code></strong>: Implementacja aplikacji konsolowej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shaderprogram.h</span></code></strong>: Deklaracja programu shadera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">animatedtexture.cpp</span></code></strong>: Implementacja tekstury animowanej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">animatedtexture.h</span></code></strong>: Deklaracja tekstury animowanej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">apngloader.cpp</span></code></strong>: Implementacja ≈Çadowarki APNG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">apngloader.h</span></code></strong>: Deklaracja ≈Çadowarki APNG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">atlas.cpp</span></code></strong>: Implementacja atlasu tekstur.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">bitmapfont.cpp</span></code></strong>: Implementacja fontu bitmapowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">atlas.h</span></code></strong>: Deklaracja atlasu tekstur.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">bitmapfont.h</span></code></strong>: Deklaracja fontu bitmapowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">cachedtext.cpp</span></code></strong>: Implementacja keszowanego tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">colorarray.h</span></code></strong>: Deklaracja tablicy kolor√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">cachedtext.h</span></code></strong>: Deklaracja keszowanego tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">coordsbuffer.h</span></code></strong>: Deklaracja bufora wsp√≥≈Çrzƒôdnych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">deptharray.h</span></code></strong>: Deklaracja tablicy g≈Çƒôboko≈õci.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla modu≈Çu <code class="docutils literal notranslate"><span class="pre">graphics</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">coordsbuffer.cpp</span></code></strong>: Implementacja bufora wsp√≥≈Çrzƒôdnych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawcache.cpp</span></code></strong>: Implementacja cache‚Äôa rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawcache.h</span></code></strong>: Deklaracja cache‚Äôa rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawqueue.cpp</span></code></strong>: Implementacja kolejki rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">fontmanager.cpp</span></code></strong>: Implementacja mened≈ºera font√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">fontmanager.h</span></code></strong>: Deklaracja mened≈ºera font√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">drawqueue.h</span></code></strong>: Deklaracja kolejki rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framebuffer.cpp</span></code></strong>: Implementacja bufora ramki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framebuffer.h</span></code></strong>: Deklaracja bufora ramki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framebuffermanager.cpp</span></code></strong>: Implementacja mened≈ºera bufor√≥w ramki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graph.cpp</span></code></strong>: Implementacja wykresu debugujƒÖcego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graph.h</span></code></strong>: Deklaracja wykresu debugujƒÖcego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">glutil.h</span></code></strong>: Narzƒôdzia OpenGL.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graphics.cpp</span></code></strong>: Implementacja mened≈ºera grafiki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">graphics.h</span></code></strong>: Deklaracja mened≈ºera grafiki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">image.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Image</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">hardwarebuffer.h</span></code></strong>: Deklaracja bufora sprzƒôtowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">image.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Image</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framebuffermanager.h</span></code></strong>: Deklaracja mened≈ºera bufor√≥w ramki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">painter.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">painter.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">hardwarebuffer.cpp</span></code></strong>: Implementacja bufora sprzƒôtowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">paintershaderprogram.cpp</span></code></strong>: Implementacja programu shadera dla <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">paintershaderprogram.h</span></code></strong>: Deklaracja programu shadera dla <code class="docutils literal notranslate"><span class="pre">Painter</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shader.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Shader</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shadermanager.h</span></code></strong>: Deklaracja mened≈ºera shader√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shadermanager.cpp</span></code></strong>: Implementacja mened≈ºera shader√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shader.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Shader</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">textrender.cpp</span></code></strong>: Implementacja renderera tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shaderprogram.cpp</span></code></strong>: Implementacja programu shadera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">texture.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">texture.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Texture</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">texturemanager.cpp</span></code></strong>: Implementacja mened≈ºera tekstur.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">vertexarray.h</span></code></strong>: Deklaracja tablicy wierzcho≈Çk√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">texturemanager.h</span></code></strong>: Deklaracja mened≈ºera tekstur.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">textrender.h</span></code></strong>: Deklaracja renderera tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">outfits.h</span></code></strong>: Shadery dla stroj√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">newshader.h</span></code></strong>: Nowe shadery.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shaders.h</span></code></strong>: Agregacja shader√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shadersources.h</span></code></strong>: ≈πr√≥d≈Ça standardowych shader√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">http.cpp</span></code></strong>: Implementacja klienta HTTP/WebSocket.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">websocket.h</span></code></strong>: Deklaracja sesji WebSocket.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">http.h</span></code></strong>: Deklaracja klienta HTTP/WebSocket.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">result.h</span></code></strong>: Deklaracja struktury <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">session.cpp</span></code></strong>: Implementacja sesji HTTP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">session.h</span></code></strong>: Deklaracja sesji HTTP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">websocket.cpp</span></code></strong>: Implementacja sesji WebSocket.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mouse.cpp</span></code></strong>: Implementacja mened≈ºera myszy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mouse.h</span></code></strong>: Deklaracja mened≈ºera myszy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla modu≈Çu <code class="docutils literal notranslate"><span class="pre">luaengine</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lbitlib.cpp</span></code></strong>: Implementacja biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code> dla Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lbitlib.h</span></code></strong>: Deklaracja biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luabinder.h</span></code></strong>: Mechanizm bindowania C++ do Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaexception.h</span></code></strong>: Deklaracja wyjƒÖtk√≥w Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaexception.cpp</span></code></strong>: Implementacja wyjƒÖtk√≥w Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luainterface.cpp</span></code></strong>: Implementacja interfejsu Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luainterface.h</span></code></strong>: Deklaracja interfejsu Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaobject.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luaobject.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luavaluecasts.cpp</span></code></strong>: Implementacja konwersji typ√≥w Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luavaluecasts.h</span></code></strong>: Deklaracja konwersji typ√≥w Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">connection.cpp</span></code></strong>: Implementacja po≈ÇƒÖczenia TCP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">server.h</span></code></strong>: Deklaracja serwera TCP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">connection.h</span></code></strong>: Deklaracja po≈ÇƒÖczenia TCP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla modu≈Çu <code class="docutils literal notranslate"><span class="pre">net</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">inputmessage.h</span></code></strong>: Deklaracja wiadomo≈õci przychodzƒÖcej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">outputmessage.cpp</span></code></strong>: Implementacja wiadomo≈õci wychodzƒÖcej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">outputmessage.h</span></code></strong>: Deklaracja wiadomo≈õci wychodzƒÖcej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packet_player.cpp</span></code></strong>: Implementacja odtwarzacza pakiet√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packet_player.h</span></code></strong>: Deklaracja odtwarzacza pakiet√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">protocol.h</span></code></strong>: Deklaracja protoko≈Çu sieciowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packet_recorder.cpp</span></code></strong>: Implementacja nagrywarki pakiet√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">protocol.cpp</span></code></strong>: Implementacja protoko≈Çu sieciowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">server.cpp</span></code></strong>: Implementacja serwera TCP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">inputmessage.cpp</span></code></strong>: Implementacja wiadomo≈õci przychodzƒÖcej.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packet_recorder.h</span></code></strong>: Deklaracja nagrywarki pakiet√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla modu≈Çu <code class="docutils literal notranslate"><span class="pre">otml</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlparser.h</span></code></strong>: Deklaracja parsera OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otml.h</span></code></strong>: Agregacja nag≈Ç√≥wk√≥w OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmldocument.cpp</span></code></strong>: Implementacja dokumentu OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmldocument.h</span></code></strong>: Deklaracja dokumentu OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlemitter.cpp</span></code></strong>: Implementacja emittera OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlexception.cpp</span></code></strong>: Implementacja wyjƒÖtk√≥w OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlexception.h</span></code></strong>: Deklaracja wyjƒÖtk√≥w OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlemitter.h</span></code></strong>: Deklaracja emittera OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlparser.cpp</span></code></strong>: Implementacja parsera OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlnode.h</span></code></strong>: Deklaracja wƒôz≈Ça OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">otmlnode.cpp</span></code></strong>: Implementacja wƒôz≈Ça OTML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">androidplatform.cpp</span></code></strong>: Implementacja platformy dla Androida.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">androidwindow.cpp</span></code></strong>: Implementacja okna dla Androida.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">androidwindow.h</span></code></strong>: Deklaracja okna dla Androida.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">crashhandler.h</span></code></strong>: Deklaracja obs≈Çugi awarii.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">platform.cpp</span></code></strong>: Implementacja globalnej instancji platformy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">platformwindow.cpp</span></code></strong>: Implementacja bazowej klasy okna.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">platform.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Platform</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">platformwindow.h</span></code></strong>: Deklaracja bazowej klasy okna.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">sdlwindow.cpp</span></code></strong>: Implementacja okna SDL (WASM).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">sdlwindow.h</span></code></strong>: Deklaracja okna SDL.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">unixcrashhandler.cpp</span></code></strong>: Implementacja obs≈Çugi awarii dla Uniksa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">unixplatform.cpp</span></code></strong>: Implementacja platformy dla Uniksa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">win32crashhandler.cpp</span></code></strong>: Implementacja obs≈Çugi awarii dla Windows.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">win32platform.cpp</span></code></strong>: Implementacja platformy dla Windows.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">win32window.cpp</span></code></strong>: Implementacja okna dla Windows.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">win32window.h</span></code></strong>: Deklaracja okna dla Windows.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">x11window.h</span></code></strong>: Deklaracja okna X11.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">x11window.cpp</span></code></strong>: Implementacja okna X11.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">proxy.cpp</span></code></strong>: Implementacja mened≈ºera proxy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">proxy.h</span></code></strong>: Deklaracja mened≈ºera proxy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">proxy_client.h</span></code></strong>: Deklaracja klienta proxy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">proxy_client.cpp</span></code></strong>: Implementacja klienta proxy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">combinedsoundsource.cpp</span></code></strong>: Implementacja z≈Ço≈ºonego ≈∫r√≥d≈Ça d≈∫wiƒôku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">combinedsoundsource.h</span></code></strong>: Deklaracja z≈Ço≈ºonego ≈∫r√≥d≈Ça d≈∫wiƒôku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">oggsoundfile.cpp</span></code></strong>: Implementacja pliku d≈∫wiƒôkowego OGG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla modu≈Çu <code class="docutils literal notranslate"><span class="pre">sound</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">oggsoundfile.h</span></code></strong>: Deklaracja pliku d≈∫wiƒôkowego OGG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundbuffer.cpp</span></code></strong>: Implementacja bufora d≈∫wiƒôku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundbuffer.h</span></code></strong>: Deklaracja bufora d≈∫wiƒôku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundfile.cpp</span></code></strong>: Implementacja pliku d≈∫wiƒôkowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundchannel.cpp</span></code></strong>: Implementacja kana≈Çu d≈∫wiƒôkowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundchannel.h</span></code></strong>: Deklaracja kana≈Çu d≈∫wiƒôkowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundfile.h</span></code></strong>: Deklaracja pliku d≈∫wiƒôkowego.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundmanager.cpp</span></code></strong>: Implementacja mened≈ºera d≈∫wiƒôku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundmanager.h</span></code></strong>: Deklaracja mened≈ºera d≈∫wiƒôku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundsource.cpp</span></code></strong>: Implementacja ≈∫r√≥d≈Ça d≈∫wiƒôku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">streamsoundsource.cpp</span></code></strong>: Implementacja strumieniowego ≈∫r√≥d≈Ça d≈∫wiƒôku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">streamsoundsource.h</span></code></strong>: Deklaracja strumieniowego ≈∫r√≥d≈Ça d≈∫wiƒôku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">soundsource.h</span></code></strong>: Deklaracja ≈∫r√≥d≈Ça d≈∫wiƒôku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">any.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">stdext::any</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">cast.h</span></code></strong>: Funkcje do rzutowania typ√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">demangle.cpp</span></code></strong>: Implementacja demanglowania nazw.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">compiler.h</span></code></strong>: Makra specyficzne dla kompilatora.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">demangle.h</span></code></strong>: Deklaracja demanglowania nazw.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">boolean.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">stdext::boolean</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">dumper.h</span></code></strong>: Narzƒôdzie do debugowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">dynamic_storage.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">exception.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">stdext::exception</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">fastrand.h</span></code></strong>: Szybki generator liczb losowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">math.cpp</span></code></strong>: Implementacja funkcji matematycznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">math.h</span></code></strong>: Deklaracja funkcji matematycznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">net.h</span></code></strong>: Deklaracja narzƒôdzi sieciowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packed_any.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">packed_any</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shared_object.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">shared_object</span></code> i <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stdext.h</span></code></strong>: Agregacja nag≈Ç√≥wk√≥w <code class="docutils literal notranslate"><span class="pre">stdext</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">packed_storage.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">packed_storage</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thread.h</span></code></strong>: Agregacja nag≈Ç√≥wk√≥w wƒÖtk√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">time.h</span></code></strong>: Deklaracja funkcji czasowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">traits.h</span></code></strong>: Narzƒôdzia metaprogramowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">string.h</span></code></strong>: Deklaracja funkcji do string√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">time.cpp</span></code></strong>: Implementacja funkcji czasowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uri.h</span></code></strong>: Deklaracja parsera URI.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">net.cpp</span></code></strong>: Implementacja narzƒôdzi sieciowych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uri.cpp</span></code></strong>: Implementacja parsera URI.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">types.h</span></code></strong>: Definicje typ√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">format.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">stdext::format</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">string.cpp</span></code></strong>: Implementacja funkcji do string√≥w.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Wczesne deklaracje dla modu≈Çu <code class="docutils literal notranslate"><span class="pre">ui</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ui.h</span></code></strong>: Agregacja nag≈Ç√≥wk√≥w UI.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiboxlayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiboxlayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uigridlayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uigridlayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uihorizontallayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uihorizontallayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uilayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uilayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UILayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uimanager.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uitextedit.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uimanager.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uitextedit.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uitranslator.cpp</span></code></strong>: Implementacja translator√≥w UI.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uitranslator.h</span></code></strong>: Deklaracja translator√≥w UI.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiverticallayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiverticallayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiwidget.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiwidget.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiwidgetimage.cpp</span></code></strong>: Implementacja czƒô≈õci <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (obraz).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uianchorlayout.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiwidgettext.cpp</span></code></strong>: Implementacja czƒô≈õci <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (tekst).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiwidgetbasestyle.cpp</span></code></strong>: Implementacja czƒô≈õci <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (styl).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uianchorlayout.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">color.cpp</span></code></strong>: Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Color</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">color.h</span></code></strong>: Deklaracja klasy <code class="docutils literal notranslate"><span class="pre">Color</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">crypt.cpp</span></code></strong>: Implementacja narzƒôdzi kryptograficznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">databuffer.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">DataBuffer</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">crypt.h</span></code></strong>: Deklaracja narzƒôdzi kryptograficznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">extras.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">Extras</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">extras.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">Extras</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framecounter.h</span></code></strong>: Implementacja licznika klatek.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">matrix.h</span></code></strong>: Implementacja macierzy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pngunpacker.cpp</span></code></strong>: Implementacja unpackera PNG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">pngunpacker.h</span></code></strong>: Deklaracja unpackera PNG.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">point.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">qrcodegen.c</span></code></strong>: Implementacja generatora kod√≥w QR.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">qrcodegen.h</span></code></strong>: Deklaracja generatora kod√≥w QR.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">rect.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">Rect</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">size.h</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">Size</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stats.cpp</span></code></strong>: Implementacja systemu statystyk.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stats.h</span></code></strong>: Deklaracja systemu statystyk.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinystr.cpp</span></code></strong>: Implementacja <code class="docutils literal notranslate"><span class="pre">TiXmlString</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinyxmlparser.cpp</span></code></strong>: Implementacja parsera TinyXML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinystr.h</span></code></strong>: Deklaracja <code class="docutils literal notranslate"><span class="pre">TiXmlString</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinyxml.cpp</span></code></strong>: Implementacja TinyXML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinyxmlerror.cpp</span></code></strong>: B≈Çƒôdy TinyXML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tinyxml.h</span></code></strong>: Deklaracja TinyXML.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="indeks-funkcji-metod">
<h1>üîç Indeks funkcji/metod<a class="headerlink" href="#indeks-funkcji-metod" title="Link to this heading">#</a></h1>
<p><em>W przygotowaniu</em></p>
</section>
<hr class="docutils" />
<section id="mapa-zaleznosci">
<h1>üß≠ Mapa zale≈ºno≈õci<a class="headerlink" href="#mapa-zaleznosci" title="Link to this heading">#</a></h1>
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>graph TD
    subgraph Aplikacja
        Application --dziedziczy-‚Üí GraphicalApplication
        Application --dziedziczy-‚Üí ConsoleApplication
        GraphicalApplication -‚Üí PlatformWindow
        GraphicalApplication -‚Üí UIManager
        GraphicalApplication -‚Üí Graphics
        GraphicalApplication -‚Üí SoundManager
    end

    subgraph Framework_Core
        Application -‚Üí EventDispatcher
        Application -‚Üí ModuleManager
        Application -‚Üí ResourceManager
        Application -‚Üí ConfigManager
        Application -‚Üí Logger
        EventDispatcher -‚Üí Event
        Event --dziedziczy-‚Üí ScheduledEvent
        Clock &amp; Timer
    end

    subgraph Framework_UI
        UIManager -‚Üí UIWidget
        UIWidget -‚Üí UILayout
        UILayout --dziedziczy-‚Üí UIAnchorLayout
        UILayout --dziedziczy-‚Üí UIBoxLayout
        UIBoxLayout --dziedziczy-‚Üí UIHorizontalLayout
        UIBoxLayout --dziedziczy-‚Üí UIVerticalLayout
        UIWidget -‚Üí BitmapFont
        UIWidget -‚Üí Painter
    end

    subgraph Framework_Graphics
        Graphics -‚Üí Painter
        Graphics -‚Üí TextureManager
        Graphics -‚Üí FrameBufferManager
        Graphics -‚Üí ShaderManager
        Painter -‚Üí ShaderProgram
        TextureManager -‚Üí Texture
        Texture --dziedziczy-‚Üí AnimatedTexture
        Texture -‚Üí Image
    end

    subgraph Framework_Platform
        PlatformWindow --implementuje-‚Üí WIN32Window
        PlatformWindow --implementuje-‚Üí X11Window
        PlatformWindow --implementuje-‚Üí AndroidWindow
        PlatformWindow --implementuje-‚Üí SDLWindow
        Platform
    end

    subgraph Framework_Lua
        LuaInterface -‚Üí LuaObject
        LuaInterface -‚Üí luabinder
        UIWidget --dziedziczy-‚Üí LuaObject
        Protocol --dziedziczy-‚Üí LuaObject
    end

    subgraph Framework_Net
        Protocol -‚Üí Connection
        Protocol -‚Üí InputMessage &amp; OutputMessage
        ProxyManager -‚Üí Proxy &amp; Session
        Connection &amp; Proxy &amp; Session -‚Üí Boost.Asio
    end

    subgraph Zale≈ºno≈õci_Zewnƒôtrzne
        Boost.Asio
        Boost.Beast
        Boost.Process
        OpenGL/GLES/GLEW
        OpenAL
        Lua/LuaJIT
        PhysFS
        ZLIB
        OpenSSL
        TinyXML
    end

    Application -‚Üí Framework_Core
    GraphicalApplication -‚Üí Framework_Graphics
    GraphicalApplication -‚Üí Framework_UI
    GraphicalApplication -‚Üí Framework_Platform
    Application -‚Üí Framework_Lua
    Application -‚Üí Framework_Net

    Framework_Graphics -‚Üí OpenGL/GLES/GLEW
    Framework_Net -‚Üí Zale≈ºno≈õci_Zewnƒôtrzne
    ResourceManager -‚Üí PhysFS
</pre></div>
</div>
</section>
<section id="architektura-systemu">
<h1>üß± Architektura systemu<a class="headerlink" href="#architektura-systemu" title="Link to this heading">#</a></h1>
<p>System <code class="docutils literal notranslate"><span class="pre">otclient</span></code> jest zbudowany w oparciu o architekturƒô modu≈ÇowƒÖ i warstwowƒÖ, kt√≥ra oddziela rdze≈Ñ frameworka od logiki specyficznej dla klienta gry.</p>
</section>
<section id="warstwy">
<h1>Warstwy<a class="headerlink" href="#warstwy" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p><strong>Warstwa platformy (<code class="docutils literal notranslate"><span class="pre">framework/platform</span></code>)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: Najni≈ºsza warstwa, kt√≥ra abstrakcjonuje interakcje z systemem operacyjnym. Zawiera implementacje dla Windows (WinAPI), Linux/macOS (X11) i Android (NDK/JNI).</p></li>
<li><p><strong>Komponenty</strong>: <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (operacje na plikach, procesach), <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> (zarzƒÖdzanie oknem, wej≈õciem, kontekstem graficznym), <code class="docutils literal notranslate"><span class="pre">CrashHandler</span></code>.</p></li>
<li><p><strong>Cel</strong>: Zapewnienie przeno≈õno≈õci kodu miƒôdzy r√≥≈ºnymi systemami.</p></li>
</ul>
</li>
<li><p><strong>Warstwa rozszerze≈Ñ standardowych (<code class="docutils literal notranslate"><span class="pre">framework/stdext</span></code>)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: Zbi√≥r narzƒôdzi i rozszerze≈Ñ do standardowej biblioteki C++, kt√≥re sƒÖ u≈ºywane w ca≈Çym projekcie.</p></li>
<li><p><strong>Komponenty</strong>: <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code> (inteligentne wska≈∫niki), <code class="docutils literal notranslate"><span class="pre">cast</span></code> (bezpieczne rzutowanie typ√≥w), <code class="docutils literal notranslate"><span class="pre">format</span></code> (formatowanie string√≥w), <code class="docutils literal notranslate"><span class="pre">string</span></code> (narzƒôdzia do string√≥w), <code class="docutils literal notranslate"><span class="pre">time</span></code> (obs≈Çuga czasu).</p></li>
<li><p><strong>Cel</strong>: Dostarczenie sp√≥jnego i rozbudowanego zestawu narzƒôdzi podstawowych.</p></li>
</ul>
</li>
<li><p><strong>Warstwa rdzenia frameworka (<code class="docutils literal notranslate"><span class="pre">framework/core</span></code>)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: Serce aplikacji. Implementuje g≈Ç√≥wne pƒôtle, system zdarze≈Ñ, zarzƒÖdzanie zasobami, modu≈Çami i konfiguracjƒÖ.</p></li>
<li><p><strong>Komponenty</strong>: <code class="docutils literal notranslate"><span class="pre">Application</span></code> (i pochodne), <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>, <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>, <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code>, <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code>, <code class="docutils literal notranslate"><span class="pre">Logger</span></code>.</p></li>
<li><p><strong>Cel</strong>: Zapewnienie solidnej podstawy i infrastruktury dla dzia≈Çania aplikacji.</p></li>
</ul>
</li>
<li><p><strong>Warstwa silnik√≥w (Framework Engines)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: Zbi√≥r wyspecjalizowanych podsystem√≥w (silnik√≥w), kt√≥re realizujƒÖ kluczowe funkcjonalno≈õci.</p></li>
<li><p><strong>Komponenty</strong>:</p>
<ul>
<li><p><strong>Silnik graficzny (<code class="docutils literal notranslate"><span class="pre">framework/graphics</span></code>, <code class="docutils literal notranslate"><span class="pre">framework/ui</span></code>)</strong>: <code class="docutils literal notranslate"><span class="pre">Graphics</span></code>, <code class="docutils literal notranslate"><span class="pre">Painter</span></code>, <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>, <code class="docutils literal notranslate"><span class="pre">UIManager</span></code>, <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Odpowiada za ca≈Çe renderowanie 2D i interfejs u≈ºytkownika.</p></li>
<li><p><strong>Silnik Lua (<code class="docutils literal notranslate"><span class="pre">framework/luaengine</span></code>)</strong>: <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code>, <code class="docutils literal notranslate"><span class="pre">luabinder</span></code>. Most miƒôdzy C++ a Lua, umo≈ºliwiajƒÖcy skryptowanie.</p></li>
<li><p><strong>Silnik sieciowy (<code class="docutils literal notranslate"><span class="pre">framework/net</span></code>, <code class="docutils literal notranslate"><span class="pre">framework/proxy</span></code>)</strong>: <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, <code class="docutils literal notranslate"><span class="pre">Connection</span></code>, <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code>. Obs≈Çuguje komunikacjƒô z serwerem.</p></li>
<li><p><strong>Silnik d≈∫wiƒôku (<code class="docutils literal notranslate"><span class="pre">framework/sound</span></code>)</strong>: <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code>. Obs≈Çuguje odtwarzanie d≈∫wiƒôku.</p></li>
</ul>
</li>
<li><p><strong>Cel</strong>: Enkapsulacja z≈Ço≈ºonych funkcjonalno≈õci w oddzielne, zarzƒÖdzalne modu≈Çy.</p></li>
</ul>
</li>
<li><p><strong>Warstwa logiki klienta (<code class="docutils literal notranslate"><span class="pre">src/client</span></code>)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: Najwy≈ºsza warstwa, kt√≥ra zawiera logikƒô specyficznƒÖ dla klienta gry Tibii. Implementuje ona mechanikƒô gry, renderowanie ≈õwiata, postaci, przedmiot√≥w itp.</p></li>
<li><p><strong>Komponenty</strong>: (Nieza≈ÇƒÖczone w promptcie) <code class="docutils literal notranslate"><span class="pre">Game</span></code>, <code class="docutils literal notranslate"><span class="pre">Map</span></code>, <code class="docutils literal notranslate"><span class="pre">Creature</span></code>, <code class="docutils literal notranslate"><span class="pre">Item</span></code>, <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code>.</p></li>
<li><p><strong>Cel</strong>: Implementacja w≈Ça≈õciwej gry. Ta warstwa intensywnie korzysta z API dostarczanego przez ni≈ºsze warstwy frameworka.</p></li>
</ul>
</li>
<li><p><strong>Warstwa skryptowa (Modu≈Çy Lua)</strong></p>
<ul class="simple">
<li><p><strong>Opis</strong>: Zewnƒôtrzna warstwa, kt√≥ra pozwala na rozszerzanie i modyfikowanie klienta bez potrzeby rekompilacji kodu C++. Skrypty Lua majƒÖ dostƒôp do API frameworka i logiki klienta za po≈õrednictwem bindowa≈Ñ.</p></li>
<li><p><strong>Komponenty</strong>: Pliki <code class="docutils literal notranslate"><span class="pre">.lua</span></code> i <code class="docutils literal notranslate"><span class="pre">.otmod</span></code> w katalogach <code class="docutils literal notranslate"><span class="pre">modules/</span></code> i <code class="docutils literal notranslate"><span class="pre">mods/</span></code>.</p></li>
<li><p><strong>Cel</strong>: Umo≈ºliwienie tworzenia wtyczek, modyfikacji interfejsu i dodawania nowej funkcjonalno≈õci.</p></li>
</ul>
</li>
</ol>
</section>
<section id="przeplyw-danych-i-interakcje">
<h1>Przep≈Çyw danych i interakcje<a class="headerlink" href="#przeplyw-danych-i-interakcje" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Start aplikacji</strong>: <code class="docutils literal notranslate"><span class="pre">main()</span></code> tworzy instancjƒô <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code>, kt√≥ra inicjalizuje warstwy od do≈Çu do g√≥ry (Platforma ‚Üí Rdze≈Ñ ‚Üí Silniki).</p></li>
<li><p><strong>G≈Ç√≥wna pƒôtla</strong>: <code class="docutils literal notranslate"><span class="pre">GraphicalApplication::run()</span></code> uruchamia wielowƒÖtkowƒÖ pƒôtlƒô. WƒÖtek logiki (<code class="docutils literal notranslate"><span class="pre">worker</span></code>) aktualizuje stan gry i przygotowuje dane do rysowania. WƒÖtek renderowania (g≈Ç√≥wny) rysuje te dane na ekranie i odbiera zdarzenia od <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code>.</p></li>
<li><p><strong>Zdarzenia wej≈õciowe</strong>: <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code> ‚Üí <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> ‚Üí <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> ‚Üí <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> ‚Üí Skrypt Lua (callback <code class="docutils literal notranslate"><span class="pre">onClick</span></code> itp.).</p></li>
<li><p><strong>Komunikacja sieciowa</strong>: Skrypt Lua (np. <code class="docutils literal notranslate"><span class="pre">g_game.login(...)</span></code>) ‚Üí <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code> (Lua) ‚Üí <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> (C++) ‚Üí <code class="docutils literal notranslate"><span class="pre">Connection</span></code> (C++) ‚Üí Sieƒá. Pakiety przychodzƒÖce idƒÖ w odwrotnƒÖ stronƒô.</p></li>
<li><p><strong>Renderowanie</strong>: Logika klienta (C++ lub Lua) tworzy widgety i ustawia ich w≈Ça≈õciwo≈õci ‚Üí <code class="docutils literal notranslate"><span class="pre">UIManager</span></code> i <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> przygotowujƒÖ <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> ‚Üí <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code> przekazuje <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do <code class="docutils literal notranslate"><span class="pre">Painter</span></code> ‚Üí <code class="docutils literal notranslate"><span class="pre">Painter</span></code> wykonuje wywo≈Çania OpenGL.</p></li>
</ul>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">src framework</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ponizej-znajduje-sie-kompletna-dokumentacja-techniczna-dla-repozytorium-src-framework">Poni≈ºej znajduje siƒô kompletna dokumentacja techniczna dla repozytorium, src/framework</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#opis-ogolny">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definicje-i-makra">Definicje i Makra</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#makra-matematyczne">Makra matematyczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-deg-to-rad-acos-1-180-0">define DEG_TO_RAD (acos(-1)/180.0)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-rad-to-dec-180-0-acos-1">define RAD_TO_DEC (180.0/acos(-1))</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#makra-budowania-build-macros">Makra budowania (Build Macros)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ifndef-build-commit">ifndef BUILD_COMMIT</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-commit-dev">define BUILD_COMMIT ‚Äûdev‚Äù</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#endif">endif</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ifndef-build-revision">ifndef BUILD_REVISION</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-revision-0">define BUILD_REVISION 0</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">endif</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ifndef-build-type">ifndef BUILD_TYPE</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-type-unknown">define BUILD_TYPE ‚Äûunknown‚Äù</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">endif</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ifndef-build-arch">ifndef BUILD_ARCH</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#if-defined-amd64-defined-m-x64">if defined(__amd64) || defined(_M_X64)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-arch-x64">define BUILD_ARCH ‚Äûx64‚Äù</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#elif-defined-i386-defined-m-ix86-defined-x86">elif defined(__i386) || defined(_M_IX86) || defined(<em>X86</em>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-arch-x86">define BUILD_ARCH ‚Äûx86‚Äù</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#else">else</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#define-build-arch-unknown">define BUILD_ARCH ‚Äûunknown‚Äù</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">endif</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">endif</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-fw">Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne-globalne">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typy-wyliczeniowe-enums">Typy wyliczeniowe (Enums)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-key"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">Key</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-loglevel"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">LogLevel</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-aspectratiomode"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AspectRatioMode</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-alignmentflag"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AlignmentFlag</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-anchoredge"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AnchorEdge</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-focusreason"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">FocusReason</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-autofocuspolicy"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">AutoFocusPolicy</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-inputeventtype"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">InputEventType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-mousebutton"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">MouseButton</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-mousewheeldirection"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">MouseWheelDirection</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-keyboardmodifier"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">KeyboardModifier</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-widgetstate"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">WidgetState</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#enum-drawpane"><code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">DrawPane</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zaleznosci-i-powiazania">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cmakelists-txt">üìÑ CMakeLists.txt</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#opcje-budowania">Opcje budowania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#flagi-frameworka">Flagi frameworka</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-projektu-pliki-zrodlowe">Struktura projektu (pliki ≈∫r√≥d≈Çowe)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#konfiguracja-dla-webassembly-wasm">Konfiguracja dla WebAssembly (WASM)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#flagi-kompilatora">Flagi kompilatora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#global-h">üìÑ global.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Definicje i Makra</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#validate-expression"><code class="docutils literal notranslate"><span class="pre">VALIDATE(expression)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pch-h">üìÑ pch.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zawartosc-pliku">Zawarto≈õƒá pliku</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#standardowe-naglowki-c">Standardowe nag≈Ç√≥wki C</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#standardowe-naglowki-stl-c">Standardowe nag≈Ç√≥wki STL (C++)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#nowoczesne-naglowki-c-c-11-i-nowsze">Nowoczesne nag≈Ç√≥wki C++ (C++11 i nowsze)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#biblioteka-boost">Biblioteka Boost</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luafunctions-cpp">üìÑ luafunctions.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#application-registerluafunctions"><code class="docutils literal notranslate"><span class="pre">Application::registerLuaFunctions()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#opis-semantyczny">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zarejestrowane-elementy">Zarejestrowane elementy</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#konwersje-i-narzedzia-globalne">Konwersje i narzƒôdzia globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#platform-g-platform">Platform (<code class="docutils literal notranslate"><span class="pre">g_platform</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#application-g-app">Application (<code class="docutils literal notranslate"><span class="pre">g_app</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#crypt-g-crypt">Crypt (<code class="docutils literal notranslate"><span class="pre">g_crypt</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#clock-g-clock">Clock (<code class="docutils literal notranslate"><span class="pre">g_clock</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configmanager-g-configs">ConfigManager (<code class="docutils literal notranslate"><span class="pre">g_configs</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logger-g-logger">Logger (<code class="docutils literal notranslate"><span class="pre">g_logger</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#resourcemanager-g-resources">ResourceManager (<code class="docutils literal notranslate"><span class="pre">g_resources</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ui-i-grafika-zalezne-od-fw-graphics">UI i Grafika (zale≈ºne od <code class="docutils literal notranslate"><span class="pre">FW_GRAPHICS</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#siec-zalezne-od-fw-net">Sieƒá (zale≈ºne od <code class="docutils literal notranslate"><span class="pre">FW_NET</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dzwiek-zalezne-od-fw-sound">D≈∫wiƒôk (zale≈ºne od <code class="docutils literal notranslate"><span class="pre">FW_SOUND</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#resourcemanager-h">üìÑ resourcemanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-resourcemanager">Klasa <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-publiczne">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne-prywatne">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptiverenderer-cpp">üìÑ adaptiverenderer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-adaptiverenderer"><code class="docutils literal notranslate"><span class="pre">g_adaptiveRenderer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-adaptiverenderer">Klasa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-newframe"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">newFrame()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dzialanie">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-refresh"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">refresh()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-limitujace">Metody limitujƒÖce</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-getdebuginfo"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">getDebugInfo()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#adaptiverenderer-h">üìÑ adaptiverenderer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">Definicje i Makra</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#constexpr-int-renderspeeds"><code class="docutils literal notranslate"><span class="pre">constexpr</span> <span class="pre">int</span> <span class="pre">RenderSpeeds</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">Klasa <code class="docutils literal notranslate"><span class="pre">AdaptiveRenderer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#application-cpp">üìÑ application.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-globalne">Funkcje globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#exitsignalhandler-int-sig"><code class="docutils literal notranslate"><span class="pre">exitSignalHandler(int</span> <span class="pre">sig)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-application">Klasa <code class="docutils literal notranslate"><span class="pre">Application</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#application-application"><code class="docutils literal notranslate"><span class="pre">Application::Application()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-init-std-vector-std-string-args"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::init(std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-deinit"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::deinit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-exit"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::exit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-quick-exit"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::quick_exit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-close"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-application-restart-i-void-application-restartargs-const-std-vector-std-string-args"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::restart()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Application::restartArgs(const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-application-getos"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Application::getOs()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#application-h">üìÑ application.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">Klasa <code class="docutils literal notranslate"><span class="pre">Application</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id44">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-chronione">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne-chronione">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dolaczanie-implementacji">Do≈ÇƒÖczanie implementacji</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id45">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#asyncdispatcher-h">üìÑ asyncdispatcher.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id46">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-asyncdispatcher">Klasa <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id47">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id48">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklad-uzycia-schedule">Przyk≈Çad u≈ºycia <code class="docutils literal notranslate"><span class="pre">schedule</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklad-uzycia-dispatch">Przyk≈Çad u≈ºycia <code class="docutils literal notranslate"><span class="pre">dispatch</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id49">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id50">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id51">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id52">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#binarytree-cpp">üìÑ binarytree.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id53">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-binarytree">Klasa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#binarytree-binarytree-const-filestreamptr-fin"><code class="docutils literal notranslate"><span class="pre">BinaryTree::BinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-binarytree-skipnodes"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BinaryTree::skipNodes()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-binarytree-unserialize"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BinaryTree::unserialize()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id54">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#binarytreevec-binarytree-getchildren"><code class="docutils literal notranslate"><span class="pre">BinaryTreeVec</span> <span class="pre">BinaryTree::getChildren()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-odczytu-danych-getu8-getu16-getstring-etc">Metody odczytu danych (<code class="docutils literal notranslate"><span class="pre">getU8</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16</span></code>, <code class="docutils literal notranslate"><span class="pre">getString</span></code>, etc.)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-outputbinarytree">Klasa <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outputbinarytree-outputbinarytree-const-filestreamptr-fin"><code class="docutils literal notranslate"><span class="pre">OutputBinaryTree::OutputBinaryTree(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-zapisu-danych-addu8-addu16-addstring-etc">Metody zapisu danych (<code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16</span></code>, <code class="docutils literal notranslate"><span class="pre">addString</span></code>, etc.)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputbinarytree-startnode-uint8-node"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::startNode(uint8</span> <span class="pre">node)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputbinarytree-endnode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::endNode()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputbinarytree-write-const-uint8-data-size-t-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputBinaryTree::write(const</span> <span class="pre">uint8*</span> <span class="pre">data,</span> <span class="pre">size_t</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id55">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#asyncdispatcher-cpp">üìÑ asyncdispatcher.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id56">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id57">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-asyncdispatcher"><code class="docutils literal notranslate"><span class="pre">g_asyncDispatcher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id58">Klasa <code class="docutils literal notranslate"><span class="pre">AsyncDispatcher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-asyncdispatcher-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id59">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-asyncdispatcher-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id60">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-asyncdispatcher-spawn-thread"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::spawn_thread()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id61">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-asyncdispatcher-stop"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::stop()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id62">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-asyncdispatcher-exec-loop"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AsyncDispatcher::exec_loop()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id63">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id64">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id65">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#clock-h">üìÑ clock.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id66">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-clock">Klasa <code class="docutils literal notranslate"><span class="pre">Clock</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id67">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id68">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id69">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id70">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id71">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#binarytree-h">üìÑ binarytree.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id72">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id73">Definicje i Makra</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#znaczniki-binarne">Znaczniki binarne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id74">Klasa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id75">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id76">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id77">Klasa <code class="docutils literal notranslate"><span class="pre">OutputBinaryTree</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id78">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id79">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id80">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#config-cpp">üìÑ config.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id81">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-config">Klasa <code class="docutils literal notranslate"><span class="pre">Config</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#config-config"><code class="docutils literal notranslate"><span class="pre">Config::Config()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-config-load-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id82">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id83">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-config-unload"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::unload()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-config-save"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::save()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-clear"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::clear()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-setvalue-const-std-string-key-const-std-string-value"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setValue(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">value)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-setlist-const-std-string-key-const-std-vector-std-string-list"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setList(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">list)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-config-exists-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::exists(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-config-getvalue-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Config::getValue(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-vector-std-string-config-getlist-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span> <span class="pre">Config::getList(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-remove-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::remove(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-setnode-const-std-string-key-const-otmlnodeptr-node"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::setNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-config-mergenode-const-std-string-key-const-otmlnodeptr-node"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Config::mergeNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key,</span> <span class="pre">const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnodeptr-config-getnode-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">Config::getNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-config-getnodesize-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Config::getNodeSize(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-config-isloaded"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Config::isLoaded()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id84">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configmanager-cpp">üìÑ configmanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id85">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id86">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-configs"><code class="docutils literal notranslate"><span class="pre">g_configs</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-configmanager">Klasa <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-configmanager-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id87">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-configmanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id88">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id89">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configptr-configmanager-getsettings"><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::getSettings()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configptr-configmanager-get-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configptr-configmanager-loadsettings-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::loadSettings(const</span> <span class="pre">std::string</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configptr-configmanager-create-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::create(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id90">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configptr-configmanager-load-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">ConfigPtr</span> <span class="pre">ConfigManager::load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-configmanager-unload-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ConfigManager::unload(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-configmanager-remove-const-configptr-config"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConfigManager::remove(const</span> <span class="pre">ConfigPtr</span> <span class="pre">config)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id91">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#configmanager-h">üìÑ configmanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id92">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id93">Klasa <code class="docutils literal notranslate"><span class="pre">ConfigManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id94">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id95">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id96">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id97">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id98">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id99">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#config-h">üìÑ config.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id100">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id101">Klasa <code class="docutils literal notranslate"><span class="pre">Config</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id102">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id103">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id104">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id105">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#clock-cpp">üìÑ clock.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id106">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id107">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-clock"><code class="docutils literal notranslate"><span class="pre">g_clock</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id108">Klasa <code class="docutils literal notranslate"><span class="pre">Clock</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#clock-clock"><code class="docutils literal notranslate"><span class="pre">Clock::Clock()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-clock-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Clock::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id109">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id110">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ticks-t-clock-realmicros"><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Clock::realMicros()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ticks-t-clock-realmillis"><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Clock::realMillis()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id111">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#consoleapplication-h">üìÑ consoleapplication.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id112">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-consoleapplication">Klasa <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id113">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id114">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id115">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id116">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#declarations-h">üìÑ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id117">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wczesne-deklaracje-forward-declarations">Wczesne deklaracje (Forward Declarations)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definicje-typow-typedefs">Definicje typ√≥w (Typedefs)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id118">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#event-cpp">üìÑ event.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id119">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-event">Klasa <code class="docutils literal notranslate"><span class="pre">Event</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#event-event-const-std-string-function-const-std-function-void-callback-bool-botsafe"><code class="docutils literal notranslate"><span class="pre">Event::Event(const</span> <span class="pre">std::string&amp;</span> <span class="pre">function,</span> <span class="pre">const</span> <span class="pre">std::function&lt;void()&gt;&amp;</span> <span class="pre">callback,</span> <span class="pre">bool</span> <span class="pre">botSafe)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#event-event"><code class="docutils literal notranslate"><span class="pre">Event::~Event()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-event-execute"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Event::execute()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id120">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id121">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-event-cancel"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Event::cancel()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id122">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id123">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id124">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#event-h">üìÑ event.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id125">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id126">Klasa <code class="docutils literal notranslate"><span class="pre">Event</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id127">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id128">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id129">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id130">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#eventdispatcher-cpp">üìÑ eventdispatcher.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id131">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id132">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-eventdispatcher">Klasa <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-eventdispatcher-shutdown"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">EventDispatcher::shutdown()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id133">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id134">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-eventdispatcher-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">EventDispatcher::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id135">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id136">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduledeventptr-eventdispatcher-scheduleeventex"><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">EventDispatcher::scheduleEventEx(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduledeventptr-eventdispatcher-cycleeventex"><code class="docutils literal notranslate"><span class="pre">ScheduledEventPtr</span> <span class="pre">EventDispatcher::cycleEventEx(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#eventptr-eventdispatcher-addeventex"><code class="docutils literal notranslate"><span class="pre">EventPtr</span> <span class="pre">EventDispatcher::addEventEx(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id137">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#eventdispatcher-h">üìÑ eventdispatcher.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id138">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id139">Definicje i Makra</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#makra-pomocnicze-do-dodawania-zdarzen">Makra pomocnicze do dodawania zdarze≈Ñ</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#makra-do-walidacji-watkow">Makra do walidacji wƒÖtk√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id140">Klasa <code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id141">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id142">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id143">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id144">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id145">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#filestream-cpp">üìÑ filestream.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id146">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-filestream">Klasa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#konstruktory">Konstruktory</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-filestream-initfromgzip-const-std-string-buffer"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">FileStream::initFromGzip(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#filestream-filestream-i-void-filestream-close"><code class="docutils literal notranslate"><span class="pre">FileStream::~FileStream()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-filestream-flush"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::flush()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-filestream-read-void-buffer-uint32-size-uint32-nmemb"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">FileStream::read(void*</span> <span class="pre">buffer,</span> <span class="pre">uint32</span> <span class="pre">size,</span> <span class="pre">uint32</span> <span class="pre">nmemb)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-filestream-write-const-void-buffer-uint32-count"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::write(const</span> <span class="pre">void</span> <span class="pre">*buffer,</span> <span class="pre">uint32</span> <span class="pre">count)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#seek-skip-size-tell-eof"><code class="docutils literal notranslate"><span class="pre">seek</span></code>, <code class="docutils literal notranslate"><span class="pre">skip</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code>, <code class="docutils literal notranslate"><span class="pre">tell</span></code>, <code class="docutils literal notranslate"><span class="pre">eof</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-odczytu-typow-getu8-getu16-getstring-etc">Metody odczytu typ√≥w (<code class="docutils literal notranslate"><span class="pre">getU8</span></code>, <code class="docutils literal notranslate"><span class="pre">getU16</span></code>, <code class="docutils literal notranslate"><span class="pre">getString</span></code>, etc.)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#binarytreeptr-filestream-getbinarytree"><code class="docutils literal notranslate"><span class="pre">BinaryTreePtr</span> <span class="pre">FileStream::getBinaryTree()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-zapisu-typow-addu8-addu16-addstring-etc">Metody zapisu typ√≥w (<code class="docutils literal notranslate"><span class="pre">addU8</span></code>, <code class="docutils literal notranslate"><span class="pre">addU16</span></code>, <code class="docutils literal notranslate"><span class="pre">addString</span></code>, etc.)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-filestream-throwerror"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FileStream::throwError(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id147">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#filestream-h">üìÑ filestream.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id148">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id149">Klasa <code class="docutils literal notranslate"><span class="pre">FileStream</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id150">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id151">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id152">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id153">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graphicalapplication-cpp">üìÑ graphicalapplication.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id154">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id155">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-app"><code class="docutils literal notranslate"><span class="pre">g_app</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-graphicalapplication">Klasa <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphicalapplication-init-std-vector-std-string-args"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::init(std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id156">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id157">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphicalapplication-deinit"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::deinit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphicalapplication-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphicalapplication-run"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::run()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id158">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dzialanie-watku-logiki-worker">Dzia≈Çanie wƒÖtku logiki (<code class="docutils literal notranslate"><span class="pre">worker</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dzialanie-watku-renderowania-glownego">Dzia≈Çanie wƒÖtku renderowania (g≈Ç√≥wnego)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphicalapplication-poll-i-void-graphicalapplication-pollgraphics"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::poll()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">GraphicalApplication::pollGraphics()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inne-metody">Inne metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id159">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inputevent-h">üìÑ inputevent.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id160">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-inputevent">Struktura <code class="docutils literal notranslate"><span class="pre">InputEvent</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id161">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pola-struktury">Pola struktury</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id162">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graphicalapplication-h">üìÑ graphicalapplication.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id163">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id164">Klasa <code class="docutils literal notranslate"><span class="pre">GraphicalApplication</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id165">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id166">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id167">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id168">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id169">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id170">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logger-h">üìÑ logger.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id171">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-logmessage">Struktura <code class="docutils literal notranslate"><span class="pre">LogMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-logger">Klasa <code class="docutils literal notranslate"><span class="pre">Logger</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id172">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id173">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id174">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#makra-pomocnicze">Makra pomocnicze</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id175">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id176">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#module-cpp">üìÑ module.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id177">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-module">Klasa <code class="docutils literal notranslate"><span class="pre">Module</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#module-module-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">Module::Module(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-module-load"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::load()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id178">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id179">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-module-unload"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Module::unload()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id180">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id181">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-module-reload"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::reload()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-module-isdependent"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::isDependent()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-module-hasdependency-const-std-string-name-bool-recursive"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Module::hasDependency(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">bool</span> <span class="pre">recursive)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-module-getsandbox-luainterface-lua"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Module::getSandbox(LuaInterface*</span> <span class="pre">lua)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-module-discover-const-otmlnodeptr-modulenode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Module::discover(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">moduleNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id182">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modulemanager-cpp">üìÑ modulemanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id183">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id184">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-modules"><code class="docutils literal notranslate"><span class="pre">g_modules</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-modulemanager">Klasa <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-clear"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::clear()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-discovermodules"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::discoverModules()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id185">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-autoloadmodules-int-maxpriority"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::autoLoadModules(int</span> <span class="pre">maxPriority)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#moduleptr-modulemanager-discovermodule-const-std-string-modulefile"><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">ModuleManager::discoverModule(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleFile)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-ensuremoduleloaded-const-std-string-modulename"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::ensureModuleLoaded(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-unloadmodules"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::unloadModules()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-reloadmodules"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::reloadModules()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id186">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id187">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#moduleptr-modulemanager-getmodule-const-std-string-modulename"><code class="docutils literal notranslate"><span class="pre">ModulePtr</span> <span class="pre">ModuleManager::getModule(const</span> <span class="pre">std::string&amp;</span> <span class="pre">moduleName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-modulemanager-updatemoduleloadorder-moduleptr-module"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ModuleManager::updateModuleLoadOrder(ModulePtr</span> <span class="pre">module)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id188">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logger-cpp">üìÑ logger.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id189">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id190">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-logger"><code class="docutils literal notranslate"><span class="pre">g_logger</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id191">Funkcje globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-fatalerror-const-char-error-const-char-file-int-line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">fatalError(const</span> <span class="pre">char*</span> <span class="pre">error,</span> <span class="pre">const</span> <span class="pre">char*</span> <span class="pre">file,</span> <span class="pre">int</span> <span class="pre">line)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id192">Klasa <code class="docutils literal notranslate"><span class="pre">Logger</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-logger-log-fw-loglevel-level-const-std-string-message"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::log(Fw::LogLevel</span> <span class="pre">level,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">message)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id193">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id194">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-logger-logfunc-fw-loglevel-level-const-std-string-message-std-string-prettyfunction"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::logFunc(Fw::LogLevel</span> <span class="pre">level,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">message,</span> <span class="pre">std::string</span> <span class="pre">prettyFunction)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-logger-fireoldmessages"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::fireOldMessages()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-logger-setlogfile-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Logger::setLogFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id195">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#module-h">üìÑ module.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id196">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id197">Klasa <code class="docutils literal notranslate"><span class="pre">Module</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id198">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id199">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id200">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id201">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id202">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modulemanager-h">üìÑ modulemanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id203">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id204">Klasa <code class="docutils literal notranslate"><span class="pre">ModuleManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id205">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id206">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id207">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id208">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id209">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id210">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduledevent-cpp">üìÑ scheduledevent.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id211">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-scheduledevent">Klasa <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduledevent-scheduledevent"><code class="docutils literal notranslate"><span class="pre">ScheduledEvent::ScheduledEvent(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-scheduledevent-execute"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ScheduledEvent::execute()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id212">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id213">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-scheduledevent-nextcycle"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ScheduledEvent::nextCycle()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id214">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id215">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id216">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#resourcemanager-cpp">üìÑ resourcemanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id217">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id218">Klasa <code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-resourcemanager-init-const-char-argv0"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ResourceManager::init(const</span> <span class="pre">char</span> <span class="pre">*argv0)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-resourcemanager-setupwritedir"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::setupWriteDir(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-resourcemanager-setup"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::setup()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-resourcemanager-getcompactname"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::getCompactName()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-resourcemanager-loaddatafromself"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::loadDataFromSelf(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-resourcemanager-readfilecontents"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::readFileContents(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-resourcemanager-decryptbuffer-std-string-buffer"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::decryptBuffer(std::string&amp;</span> <span class="pre">buffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-resourcemanager-encryptbuffer"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ResourceManager::encryptBuffer(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-resourcemanager-resolvepath-std-string-path"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ResourceManager::resolvePath(std::string</span> <span class="pre">path)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#updatedata-i-updateexecutable"><code class="docutils literal notranslate"><span class="pre">updateData(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">updateExecutable(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#createarchive-i-decompressarchive"><code class="docutils literal notranslate"><span class="pre">createArchive(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">decompressArchive(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id219">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#scheduledevent-h">üìÑ scheduledevent.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id220">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id221">Klasa <code class="docutils literal notranslate"><span class="pre">ScheduledEvent</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id222">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id223">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id224">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-lessscheduledevent">Struktura <code class="docutils literal notranslate"><span class="pre">lessScheduledEvent</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id225">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#timer-cpp">üìÑ timer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id226">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-timer">Klasa <code class="docutils literal notranslate"><span class="pre">Timer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-timer-restart"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Timer::restart()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id227">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id228">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ticks-t-timer-tickselapsed"><code class="docutils literal notranslate"><span class="pre">ticks_t</span> <span class="pre">Timer::ticksElapsed()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id229">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id230">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id231">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#timer-h">üìÑ timer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id232">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id233">Klasa <code class="docutils literal notranslate"><span class="pre">Timer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id234">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id235">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id236">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id237">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#consoleapplication-cpp">üìÑ consoleapplication.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id238">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id239">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id240"><code class="docutils literal notranslate"><span class="pre">g_app</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id241">Klasa <code class="docutils literal notranslate"><span class="pre">ConsoleApplication</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-consoleapplication-run"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ConsoleApplication::run()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id242">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id243">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id244">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shaderprogram-h">üìÑ shaderprogram.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id245">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-shaderprogram">Klasa <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id246">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id247">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id248">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id249">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#animatedtexture-cpp">üìÑ animatedtexture.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id250">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-animatedtexture">Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#animatedtexture-animatedtexture"><code class="docutils literal notranslate"><span class="pre">AnimatedTexture::AnimatedTexture(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-animatedtexture-buildhardwaremipmaps"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">AnimatedTexture::buildHardwareMipmaps()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-animatedtexture-setsmooth-bool-smooth-i-void-animatedtexture-setrepeat-bool-repeat"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::setSmooth(bool</span> <span class="pre">smooth)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::setRepeat(bool</span> <span class="pre">repeat)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-animatedtexture-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AnimatedTexture::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id251">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id252">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id253">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#animatedtexture-h">üìÑ animatedtexture.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id254">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id255">Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedTexture</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id256">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id257">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id258">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id259">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id260">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#apngloader-cpp">üìÑ apngloader.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id261">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#load-apng-std-stringstream-file-struct-apng-data-apng"><code class="docutils literal notranslate"><span class="pre">load_apng(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">struct</span> <span class="pre">apng_data</span> <span class="pre">*apng)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id262">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id263">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#save-png-std-stringstream-f-unsigned-int-width-unsigned-int-height-int-channels-unsigned-char-pixels"><code class="docutils literal notranslate"><span class="pre">save_png(std::stringstream&amp;</span> <span class="pre">f,</span> <span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">width,</span> <span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">height,</span> <span class="pre">int</span> <span class="pre">channels,</span> <span class="pre">unsigned</span> <span class="pre">char</span> <span class="pre">*pixels)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id264">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id265">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-pomocnicze">Funkcje pomocnicze</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id266">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#apngloader-h">üìÑ apngloader.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id267">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-apng-data">Struktura <code class="docutils literal notranslate"><span class="pre">apng_data</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id268">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id269">Pola struktury</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-publiczne">Funkcje publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id270">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#atlas-cpp">üìÑ atlas.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id271">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id272">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-atlas"><code class="docutils literal notranslate"><span class="pre">g_atlas</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-atlas">Klasa <code class="docutils literal notranslate"><span class="pre">Atlas</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-atlas-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id273">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id274">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-atlas-reset-i-void-atlas-resetatlas-int-location"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::reset()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::resetAtlas(int</span> <span class="pre">location)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-atlas-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#point-atlas-cache-uint64-t-hash-const-size-size-bool-draw"><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">Atlas::cache(uint64_t</span> <span class="pre">hash,</span> <span class="pre">const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">bool&amp;</span> <span class="pre">draw)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id275">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id276">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-atlas-bind-i-void-atlas-release"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Atlas::release()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#point-atlas-cachefont-const-textureptr-fonttexture"><code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">Atlas::cacheFont(const</span> <span class="pre">TexturePtr&amp;</span> <span class="pre">fontTexture)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-atlas-calculateindex-const-size-size"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Atlas::calculateIndex(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-atlas-findspace-int-location-int-index"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Atlas::findSpace(int</span> <span class="pre">location,</span> <span class="pre">int</span> <span class="pre">index)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-atlas-getstats"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Atlas::getStats()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id277">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bitmapfont-cpp">üìÑ bitmapfont.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id278">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-bitmapfont">Klasa <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-bitmapfont-load-const-otmlnodeptr-fontnode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::load(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">fontNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id279">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id280">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-bitmapfont-drawtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::drawText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-bitmapfont-calculatedrawtextcoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::calculateDrawTextCoords(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#const-std-vector-point-bitmapfont-calculateglyphspositions"><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">std::vector&lt;Point&gt;&amp;</span> <span class="pre">BitmapFont::calculateGlyphsPositions(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#size-bitmapfont-calculatetextrectsize-const-std-string-text"><code class="docutils literal notranslate"><span class="pre">Size</span> <span class="pre">BitmapFont::calculateTextRectSize(const</span> <span class="pre">std::string&amp;</span> <span class="pre">text)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-bitmapfont-wraptext"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">BitmapFont::wrapText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-bitmapfont-calculateglyphswidthsautomatically"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">BitmapFont::calculateGlyphsWidthsAutomatically(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id281">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#atlas-h">üìÑ atlas.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id282">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id283">Klasa <code class="docutils literal notranslate"><span class="pre">Atlas</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id284">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id285">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id286">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id287">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id288">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bitmapfont-h">üìÑ bitmapfont.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id289">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id290">Klasa <code class="docutils literal notranslate"><span class="pre">BitmapFont</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id291">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id292">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id293">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id294">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cachedtext-cpp">üìÑ cachedtext.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id295">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-cachedtext">Klasa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cachedtext-cachedtext"><code class="docutils literal notranslate"><span class="pre">CachedText::CachedText()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-cachedtext-draw-const-rect-rect-const-color-color"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">rect,</span> <span class="pre">const</span> <span class="pre">Color&amp;</span> <span class="pre">color)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id296">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id297">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-cachedtext-setcoloredtext-const-std-vector-std-string-texts"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::setColoredText(const</span> <span class="pre">std::vector&lt;std::string&gt;&amp;</span> <span class="pre">texts)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-cachedtext-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-cachedtext-wraptext-int-maxwidth"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CachedText::wrapText(int</span> <span class="pre">maxWidth)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id298">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#colorarray-h">üìÑ colorarray.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id299">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-colorarray">Klasa <code class="docutils literal notranslate"><span class="pre">ColorArray</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id300">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id301">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id302">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id303">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cachedtext-h">üìÑ cachedtext.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id304">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id305">Klasa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id306">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id307">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id308">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id309">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#coordsbuffer-h">üìÑ coordsbuffer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id310">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-coordsbuffer">Klasa <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id311">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id312">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id313">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id314">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deptharray-h">üìÑ deptharray.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id315">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-deptharray">Klasa <code class="docutils literal notranslate"><span class="pre">DepthArray</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id316">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id317">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id318">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id319">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id320">üìÑ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id321">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id322">Wczesne deklaracje (Forward Declarations)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id323">Definicje typ√≥w (Typedefs)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id324">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#coordsbuffer-cpp">üìÑ coordsbuffer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id325">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id326">Klasa <code class="docutils literal notranslate"><span class="pre">CoordsBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#coordsbuffer-coordsbuffer"><code class="docutils literal notranslate"><span class="pre">CoordsBuffer::CoordsBuffer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-coordsbuffer-addboudingrect-const-rect-dest-int-innerlinewidth"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::addBoudingRect(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">int</span> <span class="pre">innerLineWidth)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-coordsbuffer-addrepeatedrects-const-rect-dest-const-rect-src"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::addRepeatedRects(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">src)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-coordsbuffer-unlock-bool-clear"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CoordsBuffer::unlock(bool</span> <span class="pre">clear)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rect-coordsbuffer-gettexturerect"><code class="docutils literal notranslate"><span class="pre">Rect</span> <span class="pre">CoordsBuffer::getTextureRect()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id327">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#drawcache-cpp">üìÑ drawcache.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id328">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id329">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-drawcache"><code class="docutils literal notranslate"><span class="pre">g_drawCache</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-drawcache">Klasa <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawcache-draw"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::draw()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id330">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id331">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawcache-bind-i-void-drawcache-release"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawCache::release()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-dodawania-do-bufora">Metody dodawania do bufora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-pomocnicze-addrectraw-addcolorraw">Metody pomocnicze (<code class="docutils literal notranslate"><span class="pre">addRectRaw</span></code>, <code class="docutils literal notranslate"><span class="pre">addColorRaw</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id332">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#drawcache-h">üìÑ drawcache.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id333">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id334">Klasa <code class="docutils literal notranslate"><span class="pre">DrawCache</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id335">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stale">Sta≈Çe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id336">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id337">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id338">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id339">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#drawqueue-cpp">üìÑ drawqueue.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id340">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id341">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-drawqueue"><code class="docutils literal notranslate"><span class="pre">g_drawQueue</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasy-drawqueueitem-implementacje">Klasy <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code> (implementacje)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklady-implementacji">Przyk≈Çady implementacji:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-drawqueue">Klasa <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawqueue-setframebuffer"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::setFrameBuffer(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawqueue-addtext-i-void-drawqueue-addcoloredtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::addText(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::addColoredText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawqueue-correctoutfit"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::correctOutfit(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-drawqueue-draw-drawtype-drawtype"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DrawQueue::draw(DrawType</span> <span class="pre">drawType)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id342">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id343">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id344">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fontmanager-cpp">üìÑ fontmanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id345">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id346">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-fonts"><code class="docutils literal notranslate"><span class="pre">g_fonts</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-fontmanager">Klasa <code class="docutils literal notranslate"><span class="pre">FontManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fontmanager-fontmanager"><code class="docutils literal notranslate"><span class="pre">FontManager::FontManager()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-fontmanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-fontmanager-clearfonts"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::clearFonts()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-fontmanager-importfont-std-string-file"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FontManager::importFont(std::string</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id347">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id348">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-fontmanager-fontexists-const-std-string-fontname"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">FontManager::fontExists(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fontName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bitmapfontptr-fontmanager-getfont-const-std-string-fontname"><code class="docutils literal notranslate"><span class="pre">BitmapFontPtr</span> <span class="pre">FontManager::getFont(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fontName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id349">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#drawqueue-h">üìÑ drawqueue.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id350">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typ-wyliczeniowy-drawtype">Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">DrawType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hierarchia-klas-drawqueueitem">Hierarchia klas <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struct-drawqueueitem-baza"><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">DrawQueueItem</span></code> (baza)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasy-pochodne">Klasy pochodne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hierarchia-klas-drawqueuecondition">Hierarchia klas <code class="docutils literal notranslate"><span class="pre">DrawQueueCondition</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struct-drawqueuecondition-baza"><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">DrawQueueCondition</span></code> (baza)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id351">Klasy pochodne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id352">Klasa <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id353">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id354">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffer-cpp">üìÑ framebuffer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id355">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id356">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint-framebuffer-boundfbo"><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">FrameBuffer::boundFbo</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-framebuffer">Klasa <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffer-framebuffer-bool-withdepth"><code class="docutils literal notranslate"><span class="pre">FrameBuffer::FrameBuffer(bool</span> <span class="pre">withDepth)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffer-framebuffer"><code class="docutils literal notranslate"><span class="pre">FrameBuffer::~FrameBuffer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffer-resize-const-size-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id357">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id358">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffer-bind-const-framebufferptr-depthframebuffer"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::bind(const</span> <span class="pre">FrameBufferPtr&amp;</span> <span class="pre">depthFramebuffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffer-release"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::release()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffer-draw"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::draw(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffer-doscreenshot-std-string-filename"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBuffer::doScreenshot(std::string</span> <span class="pre">fileName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-internal">Metody <code class="docutils literal notranslate"><span class="pre">internal...</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id359">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffer-h">üìÑ framebuffer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id360">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id361">Klasa <code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id362">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id363">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id364">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id365">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffermanager-cpp">üìÑ framebuffermanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id366">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id367">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-framebuffers"><code class="docutils literal notranslate"><span class="pre">g_framebuffers</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-framebuffermanager">Klasa <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffermanager-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBufferManager::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id368">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-framebuffermanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">FrameBufferManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebufferptr-framebuffermanager-createframebuffer-bool-withdepth"><code class="docutils literal notranslate"><span class="pre">FrameBufferPtr</span> <span class="pre">FrameBufferManager::createFrameBuffer(bool</span> <span class="pre">withDepth)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id369">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id370">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id371">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graph-cpp">üìÑ graph.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id372">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id373">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-graphs-graph-last-1"><code class="docutils literal notranslate"><span class="pre">g_graphs[GRAPH_LAST</span> <span class="pre">+</span> <span class="pre">1]</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-graph">Klasa <code class="docutils literal notranslate"><span class="pre">Graph</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graph-graph-const-std-string-name-size-t-capacity"><code class="docutils literal notranslate"><span class="pre">Graph::Graph(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">size_t</span> <span class="pre">capacity)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graph-draw-const-rect-dest"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id374">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id375">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graph-clear"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::clear()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graph-addvalue-int-value-bool-ignoresmallvalues"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graph::addValue(int</span> <span class="pre">value,</span> <span class="pre">bool</span> <span class="pre">ignoreSmallValues)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id376">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id377">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id378">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graph-h">üìÑ graph.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id379">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typ-wyliczeniowy-graphtype">Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">GraphType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id380">Klasa <code class="docutils literal notranslate"><span class="pre">Graph</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id381">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id382">Sta≈Çe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id383">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id384">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id385">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id386">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glutil-h">üìÑ glutil.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id387">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logika-warunkowego-dolaczania">Logika warunkowego do≈ÇƒÖczania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id388">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graphics-cpp">üìÑ graphics.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id389">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id390">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-graphics"><code class="docutils literal notranslate"><span class="pre">g_graphics</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-graphics">Klasa <code class="docutils literal notranslate"><span class="pre">Graphics</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graphics-graphics"><code class="docutils literal notranslate"><span class="pre">Graphics::Graphics()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphics-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id391">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id392">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphics-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphics-resize-const-size-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-graphics-checkforerror"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Graphics::checkForError(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id393">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#graphics-h">üìÑ graphics.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id394">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id395">Klasa <code class="docutils literal notranslate"><span class="pre">Graphics</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id396">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id397">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id398">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id399">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id400">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-cpp">üìÑ image.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id401">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-image">Klasa <code class="docutils literal notranslate"><span class="pre">Image</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-image-const-size-size-int-bpp-uint8-pixels"><code class="docutils literal notranslate"><span class="pre">Image::Image(const</span> <span class="pre">Size&amp;</span> <span class="pre">size,</span> <span class="pre">int</span> <span class="pre">bpp,</span> <span class="pre">uint8</span> <span class="pre">*pixels)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#imageptr-image-load-std-string-file"><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::load(std::string</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#imageptr-image-loadpng"><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::loadPNG(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-image-savepng-const-std-string-filename"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::savePNG(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-image-blit-const-point-dest-const-imageptr-other"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::blit(const</span> <span class="pre">Point&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">other)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-image-paste-const-imageptr-other"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Image::paste(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">other)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#imageptr-image-upscale"><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::upscale()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-image-nextmipmap"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Image::nextMipmap()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#imageptr-image-fromqrcode-const-std-string-code-int-border"><code class="docutils literal notranslate"><span class="pre">ImagePtr</span> <span class="pre">Image::fromQRCode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">code,</span> <span class="pre">int</span> <span class="pre">border)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id402">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hardwarebuffer-h">üìÑ hardwarebuffer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id403">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-hardwarebuffer">Klasa <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id404">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id405">Typy wyliczeniowe (Enums)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id406">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id407">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id408">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#image-h">üìÑ image.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id409">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id410">Klasa <code class="docutils literal notranslate"><span class="pre">Image</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id411">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id412">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id413">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id414">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#framebuffermanager-h">üìÑ framebuffermanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id415">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id416">Klasa <code class="docutils literal notranslate"><span class="pre">FrameBufferManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id417">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id418">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id419">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id420">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id421">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#painter-h">üìÑ painter.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id422">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-painter">Klasa <code class="docutils literal notranslate"><span class="pre">Painter</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id423">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id424">Typy wyliczeniowe (Enums)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-painterstate">Struktura <code class="docutils literal notranslate"><span class="pre">PainterState</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id425">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne-chronione-prywatne">Zmienne chronione/prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id426">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id427">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#painter-cpp">üìÑ painter.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id428">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id429">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-painter"><code class="docutils literal notranslate"><span class="pre">g_painter</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id430">Klasa <code class="docutils literal notranslate"><span class="pre">Painter</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#painter-painter"><code class="docutils literal notranslate"><span class="pre">Painter::Painter()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-bind-i-void-painter-unbind"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::bind()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::unbind()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-resetstate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::resetState()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-savestate-i-void-painter-restoresavedstate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::saveState()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::restoreSavedState()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-updategl">Metody <code class="docutils literal notranslate"><span class="pre">updateGl...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-setresolution-const-size-resolution"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::setResolution(const</span> <span class="pre">Size&amp;</span> <span class="pre">resolution)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-drawcoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::drawCoords(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-draw-rect-i-draw-coords">Metody <code class="docutils literal notranslate"><span class="pre">draw...Rect(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">draw...Coords(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-painter-drawcache"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Painter::drawCache(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id431">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hardwarebuffer-cpp">üìÑ hardwarebuffer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id432">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id433">Klasa <code class="docutils literal notranslate"><span class="pre">HardwareBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hardwarebuffer-hardwarebuffer-type-type"><code class="docutils literal notranslate"><span class="pre">HardwareBuffer::HardwareBuffer(Type</span> <span class="pre">type)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hardwarebuffer-hardwarebuffer"><code class="docutils literal notranslate"><span class="pre">HardwareBuffer::~HardwareBuffer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id434">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#paintershaderprogram-cpp">üìÑ paintershaderprogram.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id435">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-paintershaderprogram">Klasa <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#paintershaderprogram-paintershaderprogram-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">PainterShaderProgram::PainterShaderProgram(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-paintershaderprogram-setupuniforms"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::setupUniforms()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id436">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-paintershaderprogram-link"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">PainterShaderProgram::link()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-set">Metody <code class="docutils literal notranslate"><span class="pre">set...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-paintershaderprogram-updatetime"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::updateTime()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-paintershaderprogram-addmultitexture-i-void-paintershaderprogram-bindmultitextures"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::addMultiTexture(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PainterShaderProgram::bindMultiTextures()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id437">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#paintershaderprogram-h">üìÑ paintershaderprogram.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id438">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id439">Klasa <code class="docutils literal notranslate"><span class="pre">PainterShaderProgram</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id440">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id441">Typy wyliczeniowe (Enums)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id442">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id443">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id444">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-cpp">üìÑ shader.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id445">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-shader">Klasa <code class="docutils literal notranslate"><span class="pre">Shader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-shader-shader-shadertype-shadertype"><code class="docutils literal notranslate"><span class="pre">Shader::Shader(Shader::ShaderType</span> <span class="pre">shaderType)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-shader"><code class="docutils literal notranslate"><span class="pre">Shader::~Shader()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shader-compilesourcecode-const-std-string-sourcecode"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Shader::compileSourceCode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">sourceCode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id446">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id447">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shader-compilesourcefile-const-std-string-sourcefile"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Shader::compileSourceFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">sourceFile)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-shader-log"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">Shader::log()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id448">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shadermanager-h">üìÑ shadermanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id449">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-shadermanager">Klasa <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id450">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id451">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id452">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id453">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id454">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shadermanager-cpp">üìÑ shadermanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id455">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id456">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-shaders"><code class="docutils literal notranslate"><span class="pre">g_shaders</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id457">Klasa <code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-shadermanager-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-shadermanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-shadermanager-createshader-const-std-string-name-std-string-vertex-std-string-fragment-bool-colormatrix"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::createShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">std::string</span> <span class="pre">vertex,</span> <span class="pre">std::string</span> <span class="pre">fragment,</span> <span class="pre">bool</span> <span class="pre">colorMatrix)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id458">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id459">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-shadermanager-addtexture-const-std-string-name-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderManager::addTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#paintershaderprogramptr-shadermanager-getshader-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span> <span class="pre">ShaderManager::getShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id460">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shader-h">üìÑ shader.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id461">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id462">Klasa <code class="docutils literal notranslate"><span class="pre">Shader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id463">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typ-wyliczeniowy-shadertype">Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">ShaderType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id464">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id465">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id466">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#textrender-cpp">üìÑ textrender.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id467">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id468">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-text"><code class="docutils literal notranslate"><span class="pre">g_text</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-textrender">Klasa <code class="docutils literal notranslate"><span class="pre">TextRender</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id469">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-textrender-init-i-void-textrender-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-textrender-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint64-t-textrender-addtext"><code class="docutils literal notranslate"><span class="pre">uint64_t</span> <span class="pre">TextRender::addText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-textrender-drawtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-textrender-drawtext-const-point-pos-uint64-t-hash"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawText(const</span> <span class="pre">Point&amp;</span> <span class="pre">pos,</span> <span class="pre">uint64_t</span> <span class="pre">hash,</span> <span class="pre">...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-textrender-drawcoloredtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextRender::drawColoredText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id470">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shaderprogram-cpp">üìÑ shaderprogram.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id471">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id472">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint-shaderprogram-m-currentprogram"><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">ShaderProgram::m_currentProgram</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id473">Klasa <code class="docutils literal notranslate"><span class="pre">ShaderProgram</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shaderprogram-shaderprogram-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">ShaderProgram::ShaderProgram(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shaderprogram-shaderprogram"><code class="docutils literal notranslate"><span class="pre">ShaderProgram::~ShaderProgram()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#paintershaderprogramptr-shaderprogram-create"><code class="docutils literal notranslate"><span class="pre">PainterShaderProgramPtr</span> <span class="pre">ShaderProgram::create(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id474">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shaderprogram-addshader"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::addShader(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shaderprogram-addshaderfromsourcecode-i-addshaderfromsourcefile"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::addShaderFromSourceCode(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">addShaderFromSourceFile(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shaderprogram-link"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::link()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id475">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id476">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-shaderprogram-bind"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ShaderProgram::bind()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-shaderprogram-release"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ShaderProgram::release()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-location-i-set-value">Metody <code class="docutils literal notranslate"><span class="pre">...Location(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">set...Value(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id477">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texture-cpp">üìÑ texture.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id478">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id479">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint-texture-uniqueid"><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">Texture::uniqueId</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-texture">Klasa <code class="docutils literal notranslate"><span class="pre">Texture</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texture-texture"><code class="docutils literal notranslate"><span class="pre">Texture::Texture(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id480"><code class="docutils literal notranslate"><span class="pre">Texture::~Texture()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texture-replace-const-imageptr-image"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::replace(const</span> <span class="pre">ImagePtr&amp;</span> <span class="pre">image)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texture-resize-const-size-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texture-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id481">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id482">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texture-setsmooth-bool-smooth-i-void-texture-setrepeat-bool-repeat"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::setSmooth(bool</span> <span class="pre">smooth)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Texture::setRepeat(bool</span> <span class="pre">repeat)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-setup">Metody <code class="docutils literal notranslate"><span class="pre">setup...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id483">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texture-h">üìÑ texture.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id484">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id485">Klasa <code class="docutils literal notranslate"><span class="pre">Texture</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id486">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id487">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id488">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id489">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texturemanager-cpp">üìÑ texturemanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id490">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id491">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-textures"><code class="docutils literal notranslate"><span class="pre">g_textures</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-texturemanager">Klasa <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texturemanager-init-i-void-texturemanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texturemanager-clearcache"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::clearCache()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-texturemanager-reload"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">TextureManager::reload()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#textureptr-texturemanager-gettexture-const-std-string-filename"><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">TextureManager::getTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id492">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id493">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#textureptr-texturemanager-loadtexture-std-stringstream-file-const-std-string-source"><code class="docutils literal notranslate"><span class="pre">TexturePtr</span> <span class="pre">TextureManager::loadTexture(std::stringstream&amp;</span> <span class="pre">file,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id494">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#vertexarray-h">üìÑ vertexarray.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id495">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-vertexarray">Klasa <code class="docutils literal notranslate"><span class="pre">VertexArray</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id496">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id497">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id498">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id499">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#texturemanager-h">üìÑ texturemanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id500">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id501">Klasa <code class="docutils literal notranslate"><span class="pre">TextureManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id502">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id503">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id504">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id505">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#textrender-h">üìÑ textrender.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id506">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-textrendercache">Struktura <code class="docutils literal notranslate"><span class="pre">TextRenderCache</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id507">Klasa <code class="docutils literal notranslate"><span class="pre">TextRender</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id508">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id509">Sta≈Çe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id510">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id511">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id512">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id513">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outfits-h">üìÑ outfits.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id514">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shadery">Shadery</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glsladvancedoutfitvertexshader"><code class="docutils literal notranslate"><span class="pre">glslAdvancedOutfitVertexShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#opis">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id515">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glsladvancedoutfitfragmentshader"><code class="docutils literal notranslate"><span class="pre">glslAdvancedOutfitFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id516">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id517">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id518">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#newshader-h">üìÑ newshader.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id519">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id520">Shadery</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#newvertexshader"><code class="docutils literal notranslate"><span class="pre">newVertexShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id521">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id522">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#newfragmentshader"><code class="docutils literal notranslate"><span class="pre">newFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id523">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id524">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#textvertexshader-i-textfragmentshader"><code class="docutils literal notranslate"><span class="pre">textVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">textFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#linevertexshader-i-linefragmentshader"><code class="docutils literal notranslate"><span class="pre">lineVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">lineFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id525">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shaders-h">üìÑ shaders.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id526">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zawartosc">Zawarto≈õƒá</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id527">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shadersources-h">üìÑ shadersources.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id528">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id529">Shadery</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glslmainvertexshader-i-glslmainwithtexcoordsvertexshader"><code class="docutils literal notranslate"><span class="pre">glslMainVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">glslMainWithTexCoordsVertexShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glslpositiononlyvertexshader"><code class="docutils literal notranslate"><span class="pre">glslPositionOnlyVertexShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glslmainfragmentshader"><code class="docutils literal notranslate"><span class="pre">glslMainFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glsltexturesrcfragmentshader"><code class="docutils literal notranslate"><span class="pre">glslTextureSrcFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glslsolidcolorfragmentshader"><code class="docutils literal notranslate"><span class="pre">glslSolidColorFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glslsolidcolorontexturefragmentshader"><code class="docutils literal notranslate"><span class="pre">glslSolidColorOnTextureFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glsloutfitvertexshader-i-glsloutfitfragmentshader"><code class="docutils literal notranslate"><span class="pre">glslOutfitVertexShader</span></code> i <code class="docutils literal notranslate"><span class="pre">glslOutfitFragmentShader</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id530">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#http-cpp">üìÑ http.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id531">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id532">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-http"><code class="docutils literal notranslate"><span class="pre">g_http</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-http">Klasa <code class="docutils literal notranslate"><span class="pre">Http</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-http-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Http::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-http-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Http::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-http-get-const-std-string-url-int-timeout"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url,</span> <span class="pre">int</span> <span class="pre">timeout)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id533">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id534">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-http-post"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::post(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-http-download"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::download(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-http-ws"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">Http::ws(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-http-wssend-int-operationid-std-string-message"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Http::wsSend(int</span> <span class="pre">operationId,</span> <span class="pre">std::string</span> <span class="pre">message)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-http-cancel-int-id"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Http::cancel(int</span> <span class="pre">id)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id535">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#websocket-h">üìÑ websocket.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id536">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typy-wyliczeniowe-i-definicje">Typy wyliczeniowe i definicje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-websocketsession">Klasa <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id537">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id538">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id539">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-prywatne-on">Metody prywatne (<code class="docutils literal notranslate"><span class="pre">on_...</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id540">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#http-h">üìÑ http.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id541">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id542">Klasa <code class="docutils literal notranslate"><span class="pre">Http</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id543">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id544">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id545">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id546">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id547">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#result-h">üìÑ result.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id548">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-httpresult">Struktura <code class="docutils literal notranslate"><span class="pre">HttpResult</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id549">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id550">Pola struktury</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definicje-typow">Definicje typ√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id551">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#session-cpp">üìÑ session.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id552">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-httpsession">Klasa <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-httpsession-start"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">HttpSession::start()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id553">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id554">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-on">Metody <code class="docutils literal notranslate"><span class="pre">on_...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-httpsession-close"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">HttpSession::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id555">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#session-h">üìÑ session.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id556">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id557">Klasa <code class="docutils literal notranslate"><span class="pre">HttpSession</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id558">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id559">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id560">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-prywatne-on-close-onerror">Metody prywatne (<code class="docutils literal notranslate"><span class="pre">on_...</span></code>, <code class="docutils literal notranslate"><span class="pre">close</span></code>, <code class="docutils literal notranslate"><span class="pre">onError</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id561">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#websocket-cpp">üìÑ websocket.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id562">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id563">Klasa <code class="docutils literal notranslate"><span class="pre">WebsocketSession</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-websocketsession-start"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::start()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id564">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id565">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-websocketsession-send-std-string-data"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::send(std::string</span> <span class="pre">data)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id566">Metody <code class="docutils literal notranslate"><span class="pre">on_...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-websocketsession-close"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WebsocketSession::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id567">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mouse-cpp">üìÑ mouse.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id568">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id569">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-mouse"><code class="docutils literal notranslate"><span class="pre">g_mouse</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-mouse">Klasa <code class="docutils literal notranslate"><span class="pre">Mouse</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-mouse-init-i-void-mouse-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-mouse-loadcursors-std-string-filename"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::loadCursors(std::string</span> <span class="pre">filename)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-mouse-addcursor-const-std-string-name-const-std-string-file-const-point-hotspot"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::addCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">file,</span> <span class="pre">const</span> <span class="pre">Point&amp;</span> <span class="pre">hotSpot)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id570">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id571">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-mouse-pushcursor-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::pushCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id572">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id573">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-mouse-popcursor-const-std-string-name"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Mouse::popCursor(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id574">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id575">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-mouse-iscursorchanged"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Mouse::isCursorChanged()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-mouse-ispressed-fw-mousebutton-mousebutton"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Mouse::isPressed(Fw::MouseButton</span> <span class="pre">mouseButton)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id576">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mouse-h">üìÑ mouse.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id577">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id578">Klasa <code class="docutils literal notranslate"><span class="pre">Mouse</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id579">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id580">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id581">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id582">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id583">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id584">üìÑ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id585">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wczesne-deklaracje">Wczesne deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id586">Definicje typ√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id587">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lbitlib-cpp">üìÑ lbitlib.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id588">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id589">Zawarto≈õƒá</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-biblioteki-bit32">Funkcje biblioteki <code class="docutils literal notranslate"><span class="pre">bit32</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-luaopen-bit32-lua-state-l"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">luaopen_bit32</span> <span class="pre">(lua_State</span> <span class="pre">*L)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id590">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lbitlib-h">üìÑ lbitlib.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id591">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deklaracje">Deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id592"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">luaopen_bit32</span> <span class="pre">(lua_State</span> <span class="pre">*L)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id593">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luabinder-h">üìÑ luabinder.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id594">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-luabinder">Namespace <code class="docutils literal notranslate"><span class="pre">luabinder</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id595">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#glowne-szablony">G≈Ç√≥wne szablony</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id596">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaexception-h">üìÑ luaexception.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id597">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-luaexception">Klasa <code class="docutils literal notranslate"><span class="pre">LuaException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id598">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id599">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-luabadnumberofargumentsexception">Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id600">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id601">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-luabadvaluecastexception">Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id602">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id603">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id604">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaexception-cpp">üìÑ luaexception.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id605">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id606">Klasa <code class="docutils literal notranslate"><span class="pre">LuaException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaexception-luaexception-const-std-string-error-int-tracelevel"><code class="docutils literal notranslate"><span class="pre">LuaException::LuaException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">traceLevel)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaexception-generateluaerrormessage-const-std-string-error-int-tracelevel"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaException::generateLuaErrorMessage(const</span> <span class="pre">std::string&amp;</span> <span class="pre">error,</span> <span class="pre">int</span> <span class="pre">traceLevel)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id607">Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luabadnumberofargumentsexception-luabadnumberofargumentsexception-int-expected-int-got"><code class="docutils literal notranslate"><span class="pre">LuaBadNumberOfArgumentsException::LuaBadNumberOfArgumentsException(int</span> <span class="pre">expected,</span> <span class="pre">int</span> <span class="pre">got)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id608">Klasa <code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luabadvaluecastexception-luabadvaluecastexception-const-std-string-luatypename-const-std-string-cpptypename"><code class="docutils literal notranslate"><span class="pre">LuaBadValueCastException::LuaBadValueCastException(const</span> <span class="pre">std::string&amp;</span> <span class="pre">luaTypeName,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">cppTypeName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id609">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luainterface-cpp">üìÑ luainterface.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id610">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id611">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-lua"><code class="docutils literal notranslate"><span class="pre">g_lua</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-luainterface">Klasa <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inicjalizacja-i-zamykanie">Inicjalizacja i zamykanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rejestracja-i-bindowanie">Rejestracja i bindowanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-obslugi-metametod-obiektow">Metody obs≈Çugi metametod obiekt√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wykonywanie-skryptow">Wykonywanie skrypt√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inne">Inne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id612">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luainterface-h">üìÑ luainterface.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id613">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id614">Klasa <code class="docutils literal notranslate"><span class="pre">LuaInterface</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id615">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-publiczne-wybrane">Metody publiczne (wybrane)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inicjalizacja-i-zarzadzanie">Inicjalizacja i zarzƒÖdzanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id616">Rejestracja i bindowanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id617">Wykonywanie skrypt√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulacja-stosem-i-typami">Manipulacja stosem i typami</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id618">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dolaczane-pliki">Do≈ÇƒÖczane pliki</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id619">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaobject-cpp">üìÑ luaobject.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id620">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-luaobject">Klasa <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaobject-luaobject"><code class="docutils literal notranslate"><span class="pre">LuaObject::LuaObject()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id621"><code class="docutils literal notranslate"><span class="pre">LuaObject::~LuaObject()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-luaobject-hasluafield-const-std-string-field"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">LuaObject::hasLuaField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">field)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaobject-releaseluafieldstable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::releaseLuaFieldsTable()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaobject-luasetfield-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaSetField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id622">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id623">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaobject-luagetfield-const-std-string-key"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetField(const</span> <span class="pre">std::string&amp;</span> <span class="pre">key)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaobject-luagetmetatable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetMetatable()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-luaobject-luagetfieldstable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">LuaObject::luaGetFieldsTable()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-luaobject-getusecount"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">LuaObject::getUseCount()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-luaobject-getclassname"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">LuaObject::getClassName()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id624">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luaobject-h">üìÑ luaobject.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id625">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id626">Klasa <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id627">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id628">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id629">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-globalne-connect">Funkcje globalne (<code class="docutils literal notranslate"><span class="pre">connect</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id630">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luavaluecasts-cpp">üìÑ luavaluecasts.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id631">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-push-luavalue">Funkcje <code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id632">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#implementacje">Implementacje:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-luavalue-cast">Funkcje <code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id633">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id634">Implementacje:</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id635">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luavaluecasts-h">üìÑ luavaluecasts.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id636">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#szablony-i-funkcje">Szablony i funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#push-luavalue-t-const-t-v"><code class="docutils literal notranslate"><span class="pre">push_luavalue&lt;T&gt;(const</span> <span class="pre">T&amp;</span> <span class="pre">v)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id637">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luavalue-cast-t-int-index-t-v"><code class="docutils literal notranslate"><span class="pre">luavalue_cast&lt;T&gt;(int</span> <span class="pre">index,</span> <span class="pre">T&amp;</span> <span class="pre">v)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id638">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zadeklarowane-specjalizacje">Zadeklarowane specjalizacje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklad-dzialania">Przyk≈Çad dzia≈Çania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id639">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#connection-cpp">üìÑ connection.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id640">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id641">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-connection">Klasa <code class="docutils literal notranslate"><span class="pre">Connection</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#connection-connection"><code class="docutils literal notranslate"><span class="pre">Connection::Connection()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-connection-poll-i-void-connection-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::poll()</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-connection-close"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-connection-connect"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::connect(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-connection-write-uint8-buffer-size-t-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::write(uint8*</span> <span class="pre">buffer,</span> <span class="pre">size_t</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-read-read-until-read-some">Metody <code class="docutils literal notranslate"><span class="pre">read(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">read_until(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">read_some(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id642">Metody <code class="docutils literal notranslate"><span class="pre">on...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-connection-handleerror"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Connection::handleError(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id643">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#server-h">üìÑ server.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id644">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-server">Klasa <code class="docutils literal notranslate"><span class="pre">Server</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id645">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id646">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id647">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id648">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#connection-h">üìÑ connection.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id649">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id650">Klasa <code class="docutils literal notranslate"><span class="pre">Connection</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id651">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id652">Sta≈Çe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id653">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id654">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id655">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id656">üìÑ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id657">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id658">Deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-asio"><code class="docutils literal notranslate"><span class="pre">namespace</span> <span class="pre">asio</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wczesne-deklaracje-klas">Wczesne deklaracje klas</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id659">Definicje typ√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id660">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inputmessage-h">üìÑ inputmessage.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id661">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-inputmessage">Klasa <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id662">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id663">Sta≈Çe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id664">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-chronione-uzywane-przez-protocol">Metody chronione (u≈ºywane przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id665">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id666">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outputmessage-cpp">üìÑ outputmessage.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id667">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-outputmessage">Klasa <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outputmessage-outputmessage"><code class="docutils literal notranslate"><span class="pre">OutputMessage::OutputMessage()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputmessage-reset"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::reset()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputmessage-setbuffer-const-std-string-buffer"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::setBuffer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-add">Metody <code class="docutils literal notranslate"><span class="pre">add...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputmessage-encryptrsa"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::encryptRsa()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-write">Metody <code class="docutils literal notranslate"><span class="pre">write...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-outputmessage-checkwrite-int-bytes"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OutputMessage::checkWrite(int</span> <span class="pre">bytes)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id668">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outputmessage-h">üìÑ outputmessage.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id669">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id670">Klasa <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id671">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id672">Sta≈Çe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id673">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id674">Metody chronione (u≈ºywane przez <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id675">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id676">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packet-player-cpp">üìÑ packet_player.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id677">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-packetplayer">Klasa <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packetplayer-packetplayer-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">PacketPlayer::PacketPlayer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packetplayer-packetplayer"><code class="docutils literal notranslate"><span class="pre">PacketPlayer::~PacketPlayer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetplayer-start"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::start(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetplayer-stop"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::stop()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetplayer-onoutputpacket-const-outputmessageptr-packet"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::onOutputPacket(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">packet)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetplayer-process"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketPlayer::process()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id678">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id679">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id680">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packet-player-h">üìÑ packet_player.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id681">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id682">Klasa <code class="docutils literal notranslate"><span class="pre">PacketPlayer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id683">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id684">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id685">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id686">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocol-h">üìÑ protocol.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id687">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-protocol">Klasa <code class="docutils literal notranslate"><span class="pre">Protocol</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id688">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id689">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id690">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne">Zmienne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id691">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packet-recorder-cpp">üìÑ packet_recorder.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id692">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-packetrecorder">Klasa <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packetrecorder-packetrecorder-const-std-string-file"><code class="docutils literal notranslate"><span class="pre">PacketRecorder::PacketRecorder(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetrecorder-addinputpacket-const-inputmessageptr-packet"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketRecorder::addInputPacket(const</span> <span class="pre">InputMessagePtr&amp;</span> <span class="pre">packet)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-packetrecorder-addoutputpacket-const-outputmessageptr-packet"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PacketRecorder::addOutputPacket(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">packet)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id693">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocol-cpp">üìÑ protocol.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id694">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id695">Klasa <code class="docutils literal notranslate"><span class="pre">Protocol</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocol-protocol"><code class="docutils literal notranslate"><span class="pre">Protocol::Protocol()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-connect-const-std-string-host-uint16-port"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::connect(const</span> <span class="pre">std::string&amp;</span> <span class="pre">host,</span> <span class="pre">uint16</span> <span class="pre">port)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-disconnect"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::disconnect()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-send-const-outputmessageptr-outputmessage-bool-rawpacket"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::send(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">outputMessage,</span> <span class="pre">bool</span> <span class="pre">rawPacket)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id696">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id697">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-recv"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::recv()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-internalrecvheader-i-internalrecvdata"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::internalRecvHeader(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">internalRecvData(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-generatexteakey-i-setxteakey"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::generateXteaKey()</span></code> i <code class="docutils literal notranslate"><span class="pre">setXteaKey(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-protocol-xteadecrypt-i-void-protocol-xteaencrypt"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">Protocol::xteaDecrypt(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::xteaEncrypt(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-protocol-onconnect-onrecv-onerror"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Protocol::onConnect()</span></code>, <code class="docutils literal notranslate"><span class="pre">onRecv(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">onError(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id698">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#server-cpp">üìÑ server.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id699">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id700">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-ioservice"><code class="docutils literal notranslate"><span class="pre">g_ioService</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id701">Klasa <code class="docutils literal notranslate"><span class="pre">Server</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#server-server-int-port"><code class="docutils literal notranslate"><span class="pre">Server::Server(int</span> <span class="pre">port)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#serverptr-server-create-int-port"><code class="docutils literal notranslate"><span class="pre">ServerPtr</span> <span class="pre">Server::create(int</span> <span class="pre">port)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-server-close"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Server::close()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-server-acceptnext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Server::acceptNext()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id702">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id703">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id704">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inputmessage-cpp">üìÑ inputmessage.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id705">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id706">Klasa <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#inputmessage-inputmessage"><code class="docutils literal notranslate"><span class="pre">InputMessage::InputMessage()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-inputmessage-reset"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::reset()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-inputmessage-setbuffer-const-std-string-buffer"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::setBuffer(const</span> <span class="pre">std::string&amp;</span> <span class="pre">buffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-get">Metody <code class="docutils literal notranslate"><span class="pre">get...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-inputmessage-decryptrsa-int-size"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">InputMessage::decryptRsa(int</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-inputmessage-fillbuffer"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::fillBuffer(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-inputmessage-setheadersize-uint32-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::setHeaderSize(uint32</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-inputmessage-readchecksum"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">InputMessage::readChecksum()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-inputmessage-checkread-int-bytes"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">InputMessage::checkRead(int</span> <span class="pre">bytes)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id707">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packet-recorder-h">üìÑ packet_recorder.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id708">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id709">Klasa <code class="docutils literal notranslate"><span class="pre">PacketRecorder</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id710">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id711">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id712">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id713">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id714">üìÑ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id715">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id716">Wczesne deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id717">Definicje typ√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id718">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlparser-h">üìÑ otmlparser.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id719">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-otmlparser">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id720">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id721">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-prywatne">Metody prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id722">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id723">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otml-h">üìÑ otml.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id724">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id725">Zawarto≈õƒá</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id726">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocument-cpp">üìÑ otmldocument.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id727">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-otmldocument">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocumentptr-otmldocument-create"><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::create()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocumentptr-otmldocument-parse-const-std-string-filename"><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parse(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocumentptr-otmldocument-parsestring-const-std-string-data-const-std-string-source"><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parseString(const</span> <span class="pre">std::string&amp;</span> <span class="pre">data,</span> <span class="pre">const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocumentptr-otmldocument-parse-std-istream-in-const-std-string-source"><code class="docutils literal notranslate"><span class="pre">OTMLDocumentPtr</span> <span class="pre">OTMLDocument::parse(std::istream&amp;</span> <span class="pre">in,</span> <span class="pre">const</span> <span class="pre">std::::string&amp;</span> <span class="pre">source)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-otmldocument-emit"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">OTMLDocument::emit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-otmldocument-save-const-std-string-filename"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLDocument::save(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id728">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmldocument-h">üìÑ otmldocument.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id729">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id730">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLDocument</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id731">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-publiczne-statyczne">Metody publiczne (statyczne)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-publiczne-instancji">Metody publiczne (instancji)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id732">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlemitter-cpp">üìÑ otmlemitter.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id733">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-otmlemitter">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-otmlemitter-emitnode-const-otmlnodeptr-node-int-currentdepth"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">OTMLEmitter::emitNode(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node,</span> <span class="pre">int</span> <span class="pre">currentDepth)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id734">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id735">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id736">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlexception-cpp">üìÑ otmlexception.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id737">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-otmlexception">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id738">Konstruktory</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id739">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id740">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlexception-h">üìÑ otmlexception.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id741">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id742">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLException</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id743">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id744">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id745">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id746">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlemitter-h">üìÑ otmlemitter.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id747">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id748">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLEmitter</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id749">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id750">Metody publiczne (statyczne)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id751">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlparser-cpp">üìÑ otmlparser.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id752">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id753">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLParser</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlparser-otmlparser"><code class="docutils literal notranslate"><span class="pre">OTMLParser::OTMLParser(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlparser-parse"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parse()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-otmlparser-getlinedepth"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">OTMLParser::getLineDepth(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlparser-parseline-std-string-line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parseLine(std::string</span> <span class="pre">line)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlparser-parsenode-const-std-string-data"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLParser::parseNode(const</span> <span class="pre">std::string&amp;</span> <span class="pre">data)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id754">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnode-h">üìÑ otmlnode.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id755">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-otmlnode">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id756">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id757">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id758">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id759">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnode-cpp">üìÑ otmlnode.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id760">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id761">Klasa <code class="docutils literal notranslate"><span class="pre">OTMLNode</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnodeptr-otmlnode-create"><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::create(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-otmlnode-haschildren"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLNode::hasChildren()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnodeptr-otmlnode-get-const-std-string-childtag"><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::get(const</span> <span class="pre">std::string&amp;</span> <span class="pre">childTag)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlnode-addchild-const-otmlnodeptr-newchild"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::addChild(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">newChild)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-otmlnode-removechild"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OTMLNode::removeChild(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlnode-copy-const-otmlnodeptr-node"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::copy(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-otmlnode-merge-const-otmlnodeptr-node"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OTMLNode::merge(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">node)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnodelist-otmlnode-children"><code class="docutils literal notranslate"><span class="pre">OTMLNodeList</span> <span class="pre">OTMLNode::children()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#otmlnodeptr-otmlnode-clone"><code class="docutils literal notranslate"><span class="pre">OTMLNodePtr</span> <span class="pre">OTMLNode::clone()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id762">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#androidplatform-cpp">üìÑ androidplatform.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id763">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-platform-implementacja-dla-androida">Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Androida)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id764">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#androidwindow-cpp">üìÑ androidwindow.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id765">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id766">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-androidwindow"><code class="docutils literal notranslate"><span class="pre">g_androidWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-androidwindow">Klasa <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#androidwindow-androidwindow"><code class="docutils literal notranslate"><span class="pre">AndroidWindow::AndroidWindow()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-internalinitgl-i-internaldestroygl"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::internalInitGL()</span></code> i <code class="docutils literal notranslate"><span class="pre">internalDestroyGL()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-init-struct-android-app-app"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::init(struct</span> <span class="pre">android_app*</span> <span class="pre">app)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-swapbuffers"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::swapBuffers()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-handlecmd-int32-t-cmd"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::handleCmd(int32_t</span> <span class="pre">cmd)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-androidwindow-handleinput-ainputevent-event"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">AndroidWindow::handleInput(AInputEvent*</span> <span class="pre">event)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-showtexteditor"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::showTextEditor(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-androidwindow-openurl-std-string-url"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">AndroidWindow::openUrl(std::string</span> <span class="pre">url)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-jniexport-committext">Funkcja <code class="docutils literal notranslate"><span class="pre">JNIEXPORT</span> <span class="pre">...</span> <span class="pre">commitText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id767">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#androidwindow-h">üìÑ androidwindow.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id768">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id769">Klasa <code class="docutils literal notranslate"><span class="pre">AndroidWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id770">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id771">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id772">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id773">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id774">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#crashhandler-h">üìÑ crashhandler.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id775">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id776">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-installcrashhandler"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uninstallcrashhandler"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dyrektywa-preprocesora">Dyrektywa preprocesora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id777">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#platform-cpp">üìÑ platform.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id778">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id779">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-platform"><code class="docutils literal notranslate"><span class="pre">g_platform</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id780">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#platformwindow-cpp">üìÑ platformwindow.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id781">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id782">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-window"><code class="docutils literal notranslate"><span class="pre">g_window</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-platformwindow">Klasa <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-platformwindow-loadmousecursor"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">PlatformWindow::loadMouseCursor(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-platformwindow-updateunmaximizedcoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::updateUnmaximizedCoords()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-platformwindow-processkeydown-fw-key-keycode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::processKeyDown(Fw::Key</span> <span class="pre">keyCode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-platformwindow-processkeyup-fw-key-keycode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::processKeyUp(Fw::Key</span> <span class="pre">keyCode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-platformwindow-releaseallkeys"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::releaseAllKeys()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-platformwindow-firekeyspress"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">PlatformWindow::fireKeysPress()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id783">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#platform-h">üìÑ platform.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id784">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-platform">Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id785">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id786">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id787">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id788">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#platformwindow-h">üìÑ platformwindow.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id789">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id790">Klasa <code class="docutils literal notranslate"><span class="pre">PlatformWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id791">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-czysto-wirtualne-do-implementacji-przez-klasy-pochodne">Metody czysto wirtualne (do implementacji przez klasy pochodne)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-z-implementacja">Metody z implementacjƒÖ</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id792">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id793">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id794">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sdlwindow-cpp">üìÑ sdlwindow.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id795">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-sdlwindow">Klasa <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sdlwindow-sdlwindow"><code class="docutils literal notranslate"><span class="pre">SDLWindow::SDLWindow()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-sdlwindow-getplatformtype"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">SDLWindow::getPlatformType()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id796">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sdlwindow-h">üìÑ sdlwindow.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id797">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id798">Klasa <code class="docutils literal notranslate"><span class="pre">SDLWindow</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id799">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id800">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id801">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id802">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#unixcrashhandler-cpp">üìÑ unixcrashhandler.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id803">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id804">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-crashhandler-int-signum-siginfo-t-info-void-secret"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">crashHandler(int</span> <span class="pre">signum,</span> <span class="pre">siginfo_t*</span> <span class="pre">info,</span> <span class="pre">void*</span> <span class="pre">secret)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id805">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id806">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id807"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id808"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id809">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#unixplatform-cpp">üìÑ unixplatform.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id810">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-platform-implementacja-dla-uniksa">Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Uniksa)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id811">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#win32crashhandler-cpp">üìÑ win32crashhandler.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id812">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id813">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#const-char-getexceptionname-dword-exceptioncode"><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*getExceptionName(DWORD</span> <span class="pre">exceptionCode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-stacktrace-lpexception-pointers-e-std-stringstream-ss"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Stacktrace(LPEXCEPTION_POINTERS</span> <span class="pre">e,</span> <span class="pre">std::stringstream&amp;</span> <span class="pre">ss)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#long-callback-exceptionhandler-pexception-pointers-e"><code class="docutils literal notranslate"><span class="pre">LONG</span> <span class="pre">CALLBACK</span> <span class="pre">ExceptionHandler(PEXCEPTION_POINTERS</span> <span class="pre">e)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#long-winapi-unhandledexceptionfilter2-pexception-pointers-exception"><code class="docutils literal notranslate"><span class="pre">LONG</span> <span class="pre">WINAPI</span> <span class="pre">UnhandledExceptionFilter2(PEXCEPTION_POINTERS</span> <span class="pre">exception)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id814"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">installCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id815"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">uninstallCrashHandler()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id816">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#win32platform-cpp">üìÑ win32platform.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id817">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-platform-implementacja-dla-windows">Klasa <code class="docutils literal notranslate"><span class="pre">Platform</span></code> (implementacja dla Windows)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id818">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#win32window-cpp">üìÑ win32window.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id819">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-win32window">Klasa <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#win32window-win32window"><code class="docutils literal notranslate"><span class="pre">WIN32Window::WIN32Window()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-win32window-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-win32window-internalcreateglcontext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::internalCreateGLContext()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lresult-win32window-windowproc"><code class="docutils literal notranslate"><span class="pre">LRESULT</span> <span class="pre">WIN32Window::windowProc(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lresult-win32window-dispatcherwindowproc"><code class="docutils literal notranslate"><span class="pre">LRESULT</span> <span class="pre">WIN32Window::dispatcherWindowProc(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-win32window-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-win32window-swapbuffers"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::swapBuffers()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-win32window-setverticalsync-bool-enable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">WIN32Window::setVerticalSync(bool</span> <span class="pre">enable)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id820">Inne metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id821">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#win32window-h">üìÑ win32window.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id822">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id823">Klasa <code class="docutils literal notranslate"><span class="pre">WIN32Window</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id824">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-prywatne-i-chronione">Metody prywatne i chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id825">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id826">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#x11window-h">üìÑ x11window.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id827">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-x11window">Klasa <code class="docutils literal notranslate"><span class="pre">X11Window</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id828">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id829">Metody prywatne i chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id830">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id831">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#x11window-cpp">üìÑ x11window.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id832">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id833">Klasa <code class="docutils literal notranslate"><span class="pre">X11Window</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#x11window-x11window"><code class="docutils literal notranslate"><span class="pre">X11Window::X11Window()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-internalcreatewindow"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::internalCreateWindow()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-swapbuffers"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::swapBuffers()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-setfullscreen-bool-fullscreen"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::setFullscreen(bool</span> <span class="pre">fullscreen)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-x11window-setclipboardtext-i-getclipboardtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">X11Window::setClipboardText(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">getClipboardText()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id834">Inne metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id835">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#proxy-cpp">üìÑ proxy.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id836">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id837">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-proxy"><code class="docutils literal notranslate"><span class="pre">g_proxy</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-proxymanager">Klasa <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-init-i-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::init()</span></code> i <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-clear"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::clear()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-proxymanager-isactive"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">ProxyManager::isActive()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-addproxy"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::addProxy(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-removeproxy"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::removeProxy(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint32-t-proxymanager-addsession"><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">ProxyManager::addSession(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-removesession"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::removeSession(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxymanager-send"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">ProxyManager::send(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-proxymanager-getping"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ProxyManager::getPing()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id838">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#proxy-h">üìÑ proxy.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id839">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id840">Klasa <code class="docutils literal notranslate"><span class="pre">ProxyManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id841">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id842">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id843">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id844">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id845">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#proxy-client-h">üìÑ proxy_client.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id846">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id847">Definicje typ√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-proxy">Klasa <code class="docutils literal notranslate"><span class="pre">Proxy</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id848">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stale-i-typy-wyliczeniowe">Sta≈Çe i typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id849">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-session">Klasa <code class="docutils literal notranslate"><span class="pre">Session</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id850">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id851">Sta≈Çe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id852">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id853">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#proxy-client-cpp">üìÑ proxy_client.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id854">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id855">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-proxy-implementacja">Klasa <code class="docutils literal notranslate"><span class="pre">Proxy</span></code> (implementacja)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-check"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::check(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-connect"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::connect()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-disconnect"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::disconnect()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-ping"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::ping()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-onping-uint32-t-packetid"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::onPing(uint32_t</span> <span class="pre">packetId)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-readheader-i-onheader"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::readHeader()</span></code> i <code class="docutils literal notranslate"><span class="pre">onHeader(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-onpacket"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::onPacket(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-proxy-send"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Proxy::send(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-session-implementacja">Klasa <code class="docutils literal notranslate"><span class="pre">Session</span></code> (implementacja)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-start-int-maxconnections"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::start(int</span> <span class="pre">maxConnections)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::terminate(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-check"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::check(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-selectproxies"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::selectProxies()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-onproxypacket"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::onProxyPacket(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-session-onpacket"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">Session::onPacket(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#combinedsoundsource-cpp">üìÑ combinedsoundsource.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id856">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-combinedsoundsource">Klasa <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id857">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#combinedsoundsource-combinedsoundsource"><code class="docutils literal notranslate"><span class="pre">CombinedSoundSource::CombinedSoundSource()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-combinedsoundsource-addsource-const-soundsourceptr-source"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CombinedSoundSource::addSource(const</span> <span class="pre">SoundSourcePtr&amp;</span> <span class="pre">source)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-operacyjne-play-stop-setlooping-setgain-etc">Metody operacyjne (<code class="docutils literal notranslate"><span class="pre">play</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code>, <code class="docutils literal notranslate"><span class="pre">setLooping</span></code>, <code class="docutils literal notranslate"><span class="pre">setGain</span></code>, etc.)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-sprawdzajace-stan-isbuffering-isplaying">Metody sprawdzajƒÖce stan (<code class="docutils literal notranslate"><span class="pre">isBuffering</span></code>, <code class="docutils literal notranslate"><span class="pre">isPlaying</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-combinedsoundsource-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">CombinedSoundSource::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id858">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#combinedsoundsource-h">üìÑ combinedsoundsource.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id859">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id860">Klasa <code class="docutils literal notranslate"><span class="pre">CombinedSoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id861">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id862">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id863">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id864">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id865">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#oggsoundfile-cpp">üìÑ oggsoundfile.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id866">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-oggsoundfile">Klasa <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#oggsoundfile-oggsoundfile-const-filestreamptr-filestream"><code class="docutils literal notranslate"><span class="pre">OggSoundFile::OggSoundFile(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fileStream)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#oggsoundfile-oggsoundfile"><code class="docutils literal notranslate"><span class="pre">OggSoundFile::~OggSoundFile()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-oggsoundfile-prepareogg"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">OggSoundFile::prepareOgg()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id867">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id868">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-oggsoundfile-read-void-buffer-int-buffersize"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">OggSoundFile::read(void</span> <span class="pre">*buffer,</span> <span class="pre">int</span> <span class="pre">bufferSize)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-oggsoundfile-reset"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">OggSoundFile::reset()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#statyczne-metody-cb">Statyczne metody <code class="docutils literal notranslate"><span class="pre">cb_...</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id869">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id870">üìÑ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id871">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id872">Wczesne deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id873">Definicje typ√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dolaczanie-naglowkow-openal">Do≈ÇƒÖczanie nag≈Ç√≥wk√≥w OpenAL</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id874">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#oggsoundfile-h">üìÑ oggsoundfile.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id875">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id876">Klasa <code class="docutils literal notranslate"><span class="pre">OggSoundFile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id877">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id878">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-prywatne-statyczne">Metody prywatne (statyczne)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id879">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id880">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundbuffer-cpp">üìÑ soundbuffer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id881">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-soundbuffer">Klasa <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id882">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundbuffer-soundbuffer"><code class="docutils literal notranslate"><span class="pre">SoundBuffer::SoundBuffer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id883"><code class="docutils literal notranslate"><span class="pre">SoundBuffer::~SoundBuffer()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-soundbuffer-fillbuffer-const-soundfileptr-soundfile"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundBuffer::fillBuffer(const</span> <span class="pre">SoundFilePtr&amp;</span> <span class="pre">soundFile)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-soundbuffer-fillbuffer-alenum-sampleformat-const-databuffer-char-data-int-size-int-rate"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundBuffer::fillBuffer(ALenum</span> <span class="pre">sampleFormat,</span> <span class="pre">const</span> <span class="pre">DataBuffer&lt;char&gt;&amp;</span> <span class="pre">data,</span> <span class="pre">int</span> <span class="pre">size,</span> <span class="pre">int</span> <span class="pre">rate)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id884">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundbuffer-h">üìÑ soundbuffer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id885">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id886">Klasa <code class="docutils literal notranslate"><span class="pre">SoundBuffer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id887">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id888">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id889">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id890">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundfile-cpp">üìÑ soundfile.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id891">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-soundfile">Klasa <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundfile-soundfile-const-filestreamptr-filestream"><code class="docutils literal notranslate"><span class="pre">SoundFile::SoundFile(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fileStream)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundfileptr-soundfile-loadsoundfile-const-std-string-filename"><code class="docutils literal notranslate"><span class="pre">SoundFilePtr</span> <span class="pre">SoundFile::loadSoundFile(const</span> <span class="pre">std::string&amp;</span> <span class="pre">filename)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id892">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id893">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#alenum-soundfile-getsampleformat"><code class="docutils literal notranslate"><span class="pre">ALenum</span> <span class="pre">SoundFile::getSampleFormat()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id894">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundchannel-cpp">üìÑ soundchannel.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id895">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-soundchannel">Klasa <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsourceptr-soundchannel-play"><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundChannel::play(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundchannel-stop-float-fadetime"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::stop(float</span> <span class="pre">fadetime)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundchannel-enqueue"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::enqueue(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundchannel-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundchannel-setenabled-bool-enable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::setEnabled(bool</span> <span class="pre">enable)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundchannel-setgain-float-gain"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundChannel::setGain(float</span> <span class="pre">gain)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id896">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundchannel-h">üìÑ soundchannel.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id897">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id898">Klasa <code class="docutils literal notranslate"><span class="pre">SoundChannel</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id899">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id900">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id901">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id902">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id903">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundfile-h">üìÑ soundfile.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id904">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id905">Klasa <code class="docutils literal notranslate"><span class="pre">SoundFile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id906">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id907">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id908">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id909">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundmanager-cpp">üìÑ soundmanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id910">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id911">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#g-sounds"><code class="docutils literal notranslate"><span class="pre">g_sounds</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-soundmanager">Klasa <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-terminate"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::terminate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-poll"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::poll()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-setaudioenabled-bool-enable"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::setAudioEnabled(bool</span> <span class="pre">enable)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-preload-std-string-filename"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::preload(std::string</span> <span class="pre">filename)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsourceptr-soundmanager-play"><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundManager::play(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundchannelptr-soundmanager-getchannel-int-channel"><code class="docutils literal notranslate"><span class="pre">SoundChannelPtr</span> <span class="pre">SoundManager::getChannel(int</span> <span class="pre">channel)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsourceptr-soundmanager-createsoundsource"><code class="docutils literal notranslate"><span class="pre">SoundSourcePtr</span> <span class="pre">SoundManager::createSoundSource(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundmanager-ensurecontext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundManager::ensureContext()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id912">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundmanager-h">üìÑ soundmanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id913">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id914">Klasa <code class="docutils literal notranslate"><span class="pre">SoundManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id915">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id916">Sta≈Çe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id917">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id918">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id919">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id920">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsource-cpp">üìÑ soundsource.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id921">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-soundsource">Klasa <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsource-soundsource"><code class="docutils literal notranslate"><span class="pre">SoundSource::SoundSource()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id922"><code class="docutils literal notranslate"><span class="pre">SoundSource::~SoundSource()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundsource-play"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::play()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundsource-stop"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::stop()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-soundsource-isbuffering"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">SoundSource::isBuffering()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id923">Metody <code class="docutils literal notranslate"><span class="pre">set...()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundsource-setfading"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::setFading(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-soundsource-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">SoundSource::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id924">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#streamsoundsource-cpp">üìÑ streamsoundsource.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id925">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-streamsoundsource">Klasa <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id926">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#streamsoundsource-streamsoundsource"><code class="docutils literal notranslate"><span class="pre">StreamSoundSource::StreamSoundSource()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-streamsoundsource-setsoundfile"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::setSoundFile(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-streamsoundsource-play"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::play()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-streamsoundsource-stop"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::stop()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-streamsoundsource-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">StreamSoundSource::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-streamsoundsource-fillbufferandqueue-uint-buffer"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">StreamSoundSource::fillBufferAndQueue(uint</span> <span class="pre">buffer)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id927">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#streamsoundsource-h">üìÑ streamsoundsource.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id928">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id929">Klasa <code class="docutils literal notranslate"><span class="pre">StreamSoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id930">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id931">Sta≈Çe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typ-wyliczeniowy-downmix">Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">DownMix</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id932">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id933">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id934">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#soundsource-h">üìÑ soundsource.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id935">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id936">Klasa <code class="docutils literal notranslate"><span class="pre">SoundSource</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id937">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typ-wyliczeniowy-fadestate">Typ wyliczeniowy <code class="docutils literal notranslate"><span class="pre">FadeState</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id938">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id939">Metody chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id940">Zmienne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id941">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#any-h">üìÑ any.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id942">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-any">Klasa <code class="docutils literal notranslate"><span class="pre">any</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id943">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktury-wewnetrzne">Struktury wewnƒôtrzne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id944">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-any-cast">Funkcja <code class="docutils literal notranslate"><span class="pre">any_cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id945">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cast-h">üìÑ cast.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id946">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-cast">Funkcje <code class="docutils literal notranslate"><span class="pre">cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#template-typename-t-typename-r-bool-cast-const-t-in-r-out"><code class="docutils literal notranslate"><span class="pre">template&lt;typename</span> <span class="pre">T,</span> <span class="pre">typename</span> <span class="pre">R&gt;</span> <span class="pre">bool</span> <span class="pre">cast(const</span> <span class="pre">T&amp;</span> <span class="pre">in,</span> <span class="pre">R&amp;</span> <span class="pre">out)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#specjalizacje">Specjalizacje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-cast-exception">Klasa <code class="docutils literal notranslate"><span class="pre">cast_exception</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-safe-cast-i-unsafe-cast">Funkcje <code class="docutils literal notranslate"><span class="pre">safe_cast</span></code> i <code class="docutils literal notranslate"><span class="pre">unsafe_cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id947">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#demangle-cpp">üìÑ demangle.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id948">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-demangle-name">Funkcja <code class="docutils literal notranslate"><span class="pre">demangle_name</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#const-char-demangle-name-const-char-name"><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char*</span> <span class="pre">demangle_name(const</span> <span class="pre">char*</span> <span class="pre">name)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id949">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#implementacja">Implementacja</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id950">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#compiler-h">üìÑ compiler.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id951">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id952">Zawarto≈õƒá</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#build-compiler"><code class="docutils literal notranslate"><span class="pre">BUILD_COMPILER</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sprawdzanie-wersji-kompilatora">Sprawdzanie wersji kompilatora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wylaczanie-ostrzezen-msvc">Wy≈ÇƒÖczanie ostrze≈ºe≈Ñ (MSVC)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pretty-function"><code class="docutils literal notranslate"><span class="pre">__PRETTY_FUNCTION__</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#likely-x-i-unlikely-x"><code class="docutils literal notranslate"><span class="pre">likely(x)</span></code> i <code class="docutils literal notranslate"><span class="pre">unlikely(x)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sprawdzanie-wsparcia-c-0x">Sprawdzanie wsparcia C++0x</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id953">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#demangle-h">üìÑ demangle.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id954">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-stdext">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id955">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id956">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#boolean-h">üìÑ boolean.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id957">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-boolean">Klasa <code class="docutils literal notranslate"><span class="pre">boolean</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#template-bool-def"><code class="docutils literal notranslate"><span class="pre">template&lt;bool</span> <span class="pre">def&gt;</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id958">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklad-uzycia">Przyk≈Çad u≈ºycia</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#operatory">Operatory</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id959">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dumper-h">üìÑ dumper.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id960">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id961">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dump"><code class="docutils literal notranslate"><span class="pre">dump</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id962">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id963">Przyk≈Çad u≈ºycia</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id964">Implementacja</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id965">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dynamic-storage-h">üìÑ dynamic_storage.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id966">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-dynamic-storage">Klasa <code class="docutils literal notranslate"><span class="pre">dynamic_storage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id967">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id968">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id969">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id970">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#exception-h">üìÑ exception.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id971">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-exception">Klasa <code class="docutils literal notranslate"><span class="pre">exception</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id972">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id973">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-throw-exception">Funkcja <code class="docutils literal notranslate"><span class="pre">throw_exception</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id974">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fastrand-h">üìÑ fastrand.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id975">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-fastrand">Funkcja <code class="docutils literal notranslate"><span class="pre">fastrand</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#static-int-fastrand"><code class="docutils literal notranslate"><span class="pre">static</span> <span class="pre">int</span> <span class="pre">fastrand()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id976">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id977">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id978">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#math-cpp">üìÑ math.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id979">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id980">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint32-t-stdext-adler32"><code class="docutils literal notranslate"><span class="pre">uint32_t</span> <span class="pre">stdext::adler32(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#long-stdext-random-range-long-min-long-max"><code class="docutils literal notranslate"><span class="pre">long</span> <span class="pre">stdext::random_range(long</span> <span class="pre">min,</span> <span class="pre">long</span> <span class="pre">max)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#float-stdext-random-range-float-min-float-max"><code class="docutils literal notranslate"><span class="pre">float</span> <span class="pre">stdext::random_range(float</span> <span class="pre">min,</span> <span class="pre">float</span> <span class="pre">max)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#double-stdext-round-double-r"><code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">stdext::round(double</span> <span class="pre">r)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id981">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#math-h">üìÑ math.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id982">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id983">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id984">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#net-h">üìÑ net.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id985">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id986">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id987">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id988">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packed-any-h">üìÑ packed_any.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id989">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-packed-any">Klasa <code class="docutils literal notranslate"><span class="pre">packed_any</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id990">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#szablon-can-pack-in-any">Szablon <code class="docutils literal notranslate"><span class="pre">can_pack_in_any</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-i-pola">Metody i pola</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-packed-any-cast">Funkcja <code class="docutils literal notranslate"><span class="pre">packed_any_cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id991">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#shared-object-h">üìÑ shared_object.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id992">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-shared-object">Klasa <code class="docutils literal notranslate"><span class="pre">shared_object</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id993">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id994">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-shared-object-ptr">Klasa <code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id995">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-i-operatory">Metody i operatory</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id996">Funkcje pomocnicze</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id997">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stdext-h">üìÑ stdext.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id998">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id999">Zawarto≈õƒá</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1000">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#packed-storage-h">üìÑ packed_storage.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1001">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-packed-storage">Klasa <code class="docutils literal notranslate"><span class="pre">packed_storage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1002">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1003">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1004">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1005">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#thread-h">üìÑ thread.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1006">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1007">Zawarto≈õƒá</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1008">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#time-h">üìÑ time.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1009">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1010">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1011">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-timer">Struktura <code class="docutils literal notranslate"><span class="pre">timer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1012">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#traits-h">üìÑ traits.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1013">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1014">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#szablony">Szablony</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1015">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#string-h">üìÑ string.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1016">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1017">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1018">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1019">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#time-cpp">üìÑ time.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1020">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1021">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#startup-time"><code class="docutils literal notranslate"><span class="pre">startup_time</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#implementacje-funkcji">Implementacje funkcji</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1022">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uri-h">üìÑ uri.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1023">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-parseduri">Struktura <code class="docutils literal notranslate"><span class="pre">ParsedURI</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcja-parseuri">Funkcja <code class="docutils literal notranslate"><span class="pre">parseURI</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#parseduri-parseuri-const-std-string-url"><code class="docutils literal notranslate"><span class="pre">ParsedURI</span> <span class="pre">parseURI(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1024">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#net-cpp">üìÑ net.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1025">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1026">Namespace <code class="docutils literal notranslate"><span class="pre">stdext</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-string-ip-to-string-uint32-ip"><code class="docutils literal notranslate"><span class="pre">std::string</span> <span class="pre">ip_to_string(uint32</span> <span class="pre">ip)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uint32-string-to-ip-const-std-string-string"><code class="docutils literal notranslate"><span class="pre">uint32</span> <span class="pre">string_to_ip(const</span> <span class="pre">std::string&amp;</span> <span class="pre">string)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#std-vector-uint32-listsubnetaddresses-uint32-address-uint8-mask"><code class="docutils literal notranslate"><span class="pre">std::vector&lt;uint32&gt;</span> <span class="pre">listSubnetAddresses(uint32</span> <span class="pre">address,</span> <span class="pre">uint8</span> <span class="pre">mask)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1027">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uri-cpp">üìÑ uri.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1028">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1029">Funkcja <code class="docutils literal notranslate"><span class="pre">parseURI</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1030"><code class="docutils literal notranslate"><span class="pre">ParsedURI</span> <span class="pre">parseURI(const</span> <span class="pre">std::string&amp;</span> <span class="pre">url)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1031">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#types-h">üìÑ types.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1032">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1033">Definicje typ√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1034">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#format-h">üìÑ format.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1035">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1036">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stdext-print"><code class="docutils literal notranslate"><span class="pre">stdext::print(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stdext-snprintf"><code class="docutils literal notranslate"><span class="pre">stdext::snprintf(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stdext-format"><code class="docutils literal notranslate"><span class="pre">stdext::format(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1037">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#string-cpp">üìÑ string.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1038">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1039">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1040">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1041">üìÑ declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1042">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1043">Wczesne deklaracje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1044">Definicje typ√≥w</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1045">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ui-h">üìÑ ui.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1046">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1047">Zawarto≈õƒá</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1048">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiboxlayout-cpp">üìÑ uiboxlayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1049">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiboxlayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiboxlayout-uiboxlayout-uiwidgetptr-parentwidget"><code class="docutils literal notranslate"><span class="pre">UIBoxLayout::UIBoxLayout(UIWidgetPtr</span> <span class="pre">parentWidget)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiboxlayout-applystyle-const-otmlnodeptr-stylenode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIBoxLayout::applyStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#addwidget-i-removewidget"><code class="docutils literal notranslate"><span class="pre">addWidget</span></code> i <code class="docutils literal notranslate"><span class="pre">removeWidget</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1050">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiboxlayout-h">üìÑ uiboxlayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1051">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1052">Klasa <code class="docutils literal notranslate"><span class="pre">UIBoxLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1053">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1054">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1055">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1056">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uigridlayout-cpp">üìÑ uigridlayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1057">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uigridlayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uigridlayout-uigridlayout"><code class="docutils literal notranslate"><span class="pre">UIGridLayout::UIGridLayout(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uigridlayout-applystyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIGridLayout::applyStyle(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uigridlayout-internalupdate"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIGridLayout::internalUpdate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1058">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1059">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1060">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uigridlayout-h">üìÑ uigridlayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1061">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1062">Klasa <code class="docutils literal notranslate"><span class="pre">UIGridLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1063">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1064">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1065">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1066">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uihorizontallayout-cpp">üìÑ uihorizontallayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1067">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uihorizontallayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uihorizontallayout-applystyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIHorizontalLayout::applyStyle(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uihorizontallayout-internalupdate"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIHorizontalLayout::internalUpdate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1068">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1069">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1070">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uihorizontallayout-h">üìÑ uihorizontallayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1071">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1072">Klasa <code class="docutils literal notranslate"><span class="pre">UIHorizontalLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1073">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1074">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1075">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1076">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uilayout-cpp">üìÑ uilayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1077">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uilayout">Klasa <code class="docutils literal notranslate"><span class="pre">UILayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uilayout-update"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UILayout::update()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1078">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1079">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uilayout-updatelater"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UILayout::updateLater()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1080">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uilayout-h">üìÑ uilayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1081">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1082">Klasa <code class="docutils literal notranslate"><span class="pre">UILayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1083">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1084">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1085">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1086">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uimanager-h">üìÑ uimanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1087">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uimanager">Klasa <code class="docutils literal notranslate"><span class="pre">UIManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1088">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1089">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-chronione-wywolywane-przez-uiwidget">Metody chronione (wywo≈Çywane przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1090">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1091">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1092">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uitextedit-cpp">üìÑ uitextedit.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1093">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uitextedit">Klasa <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uitextedit-uitextedit"><code class="docutils literal notranslate"><span class="pre">UITextEdit::UITextEdit()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uitextedit-drawself"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UITextEdit::drawSelf(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uitextedit-update-bool-focuscursor"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UITextEdit::update(bool</span> <span class="pre">focusCursor)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-edycji-tekstu">Metody edycji tekstu</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-uitextedit-gettextpos-point-pos"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">UITextEdit::getTextPos(Point</span> <span class="pre">pos)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#obsluga-zdarzen-on">Obs≈Çuga zdarze≈Ñ (<code class="docutils literal notranslate"><span class="pre">on...</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1094">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uimanager-cpp">üìÑ uimanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1095">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1096">Klasa <code class="docutils literal notranslate"><span class="pre">UIManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-init"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::init()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-render-fw-drawpane-drawpane"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::render(Fw::DrawPane</span> <span class="pre">drawPane)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-resize-const-size-size"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::resize(const</span> <span class="pre">Size&amp;</span> <span class="pre">size)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-inputevent-const-inputevent-event"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::inputEvent(const</span> <span class="pre">InputEvent&amp;</span> <span class="pre">event)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1097">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1098">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-update-widget"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::update...Widget(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uimanager-importstyle"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIManager::importStyle(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidgetptr-uimanager-loadui-i-createwidgetfromotml"><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">UIManager::loadUI(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">createWidgetFromOTML(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uimanager-onwidgetdestroy"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIManager::onWidgetDestroy(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1099">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uitextedit-h">üìÑ uitextedit.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1100">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1101">Klasa <code class="docutils literal notranslate"><span class="pre">UITextEdit</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1102">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1103">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zarzadzanie-tekstem-i-kursorem">ZarzƒÖdzanie tekstem i kursorem</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#konfiguracja">Konfiguracja</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#gettery">Gettery</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1104">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1105">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uitranslator-cpp">üìÑ uitranslator.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1106">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1107">Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fw-alignmentflag-fw-translatealignment-std-string-aligment"><code class="docutils literal notranslate"><span class="pre">Fw::AlignmentFlag</span> <span class="pre">Fw::translateAlignment(std::string</span> <span class="pre">aligment)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fw-anchoredge-fw-translateanchoredge-std-string-anchoredge"><code class="docutils literal notranslate"><span class="pre">Fw::AnchorEdge</span> <span class="pre">Fw::translateAnchorEdge(std::string</span> <span class="pre">anchorEdge)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fw-widgetstate-fw-translatestate-std-string-state"><code class="docutils literal notranslate"><span class="pre">Fw::WidgetState</span> <span class="pre">Fw::translateState(std::string</span> <span class="pre">state)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#fw-autofocuspolicy-fw-translateautofocuspolicy-std-string-policy"><code class="docutils literal notranslate"><span class="pre">Fw::AutoFocusPolicy</span> <span class="pre">Fw::translateAutoFocusPolicy(std::string</span> <span class="pre">policy)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1108">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uitranslator-h">üìÑ uitranslator.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1109">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1110">Namespace <code class="docutils literal notranslate"><span class="pre">Fw</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deklaracje-funkcji">Deklaracje funkcji</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1111">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiverticallayout-cpp">üìÑ uiverticallayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1112">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiverticallayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiverticallayout-applystyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIVerticalLayout::applyStyle(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uiverticallayout-internalupdate"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIVerticalLayout::internalUpdate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1113">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1114">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1115">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiverticallayout-h">üìÑ uiverticallayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1116">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1117">Klasa <code class="docutils literal notranslate"><span class="pre">UIVerticalLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1118">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1119">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1120">Zmienne chronione</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1121">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidget-cpp">üìÑ uiwidget.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1122">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiwidget">Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidget-uiwidget"><code class="docutils literal notranslate"><span class="pre">UIWidget::UIWidget()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-draw"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::draw(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-addchild-insertchild-removechild"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::addChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">insertChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">removeChild(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-focuschild-focusnextchild-focuspreviouschild"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::focusChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">focusNextChild(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">focusPreviousChild(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-applystyle-const-otmlnodeptr-stylenode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::applyStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-updatestate-fw-widgetstate-state"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateState(Fw::WidgetState</span> <span class="pre">state)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-updatestates"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateStates()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-updatestyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateStyle()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-on-i-propagateon">Metody <code class="docutils literal notranslate"><span class="pre">on...</span></code> i <code class="docutils literal notranslate"><span class="pre">propagateOn...</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1123">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidget-h">üìÑ uiwidget.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1124">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-edgegroup">Struktura <code class="docutils literal notranslate"><span class="pre">EdgeGroup</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1125">Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1126">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#podzial-interfejsu-w-pliku-h">Podzia≈Ç interfejsu (w pliku <code class="docutils literal notranslate"><span class="pre">.h</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kluczowe-wlasciwosci">Kluczowe w≈Ça≈õciwo≈õci</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1127">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidgetimage-cpp">üìÑ uiwidgetimage.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1128">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiwidget-czesc-implementacji">Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czƒô≈õƒá implementacji)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-initimage"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initImage()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-parseimagestyle-const-otmlnodeptr-stylenode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseImageStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-drawimage-const-rect-screencoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawImage(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1129">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1130">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-setqrcode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setQRCode(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-setimagesource-const-std-string-source"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setImageSource(const</span> <span class="pre">std::string&amp;</span> <span class="pre">source)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-setimagesourcebase64"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setImageSourceBase64(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1131">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uianchorlayout-h">üìÑ uianchorlayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1132">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uianchor">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1133">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uianchorgroup">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1134">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uianchorlayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1135">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1136">Metody publiczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1137">Zmienne prywatne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1138">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidgettext-cpp">üìÑ uiwidgettext.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1139">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1140">Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czƒô≈õƒá implementacji)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-inittext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initText()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-updatetext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::updateText()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-parsetextstyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseTextStyle(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-drawtext-const-rect-screencoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawText(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-ontextchange-i-onfontchange"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::onTextChange(...)</span></code> i <code class="docutils literal notranslate"><span class="pre">onFontChange(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-settext-std-string-text"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setText(std::string</span> <span class="pre">text,</span> <span class="pre">...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-setcoloredtext"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setColoredText(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-setfont"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setFont(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1141">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidgetbasestyle-cpp">üìÑ uiwidgetbasestyle.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1142">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1143">Klasa <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code> (czƒô≈õƒá implementacji)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-initbasestyle"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::initBaseStyle()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-parsebasestyle-const-otmlnodeptr-stylenode"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::parseBaseStyle(const</span> <span class="pre">OTMLNodePtr&amp;</span> <span class="pre">styleNode)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-drawbackground-const-rect-screencoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawBackground(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-drawborder-const-rect-screencoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawBorder(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-drawicon-const-rect-screencoords"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::drawIcon(const</span> <span class="pre">Rect&amp;</span> <span class="pre">screenCoords)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uiwidget-seticon-const-std-string-iconfile"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIWidget::setIcon(const</span> <span class="pre">std::string&amp;</span> <span class="pre">iconFile)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1144">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uianchorlayout-cpp">üìÑ uianchorlayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1145">Opis og√≥lny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1146">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiwidgetptr-uianchor-gethookedwidget"><code class="docutils literal notranslate"><span class="pre">UIWidgetPtr</span> <span class="pre">UIAnchor::getHookedWidget(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#int-uianchor-gethookedpoint"><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">UIAnchor::getHookedPoint(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1147">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorGroup</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uianchorgroup-addanchor"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIAnchorGroup::addAnchor(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1148">Klasa <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#void-uianchorlayout-addanchor"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">UIAnchorLayout::addAnchor(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uianchorlayout-updatewidget"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIAnchorLayout::updateWidget(...)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1149">Opis semantyczny</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1150">Dzia≈Çanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#bool-uianchorlayout-internalupdate"><code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">UIAnchorLayout::internalUpdate()</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1151">Zale≈ºno≈õci i powiƒÖzania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#meta-dokumenty">Meta-dokumenty</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#spis-tresci">üìë Spis tre≈õci</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#indeks-funkcji-metod">üîç Indeks funkcji/metod</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mapa-zaleznosci">üß≠ Mapa zale≈ºno≈õci</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#architektura-systemu">üß± Architektura systemu</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#warstwy">Warstwy</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przeplyw-danych-i-interakcje">Przep≈Çyw danych i interakcje</a></li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>Ta strona</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/architektura/src_framework.md.txt"
            rel="nofollow">Poka≈º ≈∫r√≥d≈Ço</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>