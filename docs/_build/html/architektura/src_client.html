
<!DOCTYPE html>


<html lang="pl" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>otclientv8-dev/src/client &#8212; OTClientV8 Dev Docs 0.1.0 - dokumentacja</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=8aaba760" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=8aaba760" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=c0495948"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/translations.js?v=da4973ce"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'architektura/src_client';</script>
    <link rel="icon" href="../_static/logo-light.svg"/>
    <link rel="index" title="Indeks" href="../genindex.html" />
    <link rel="search" title="Szukaj" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="pl"/>
  <meta name="docsearch:version" content="0.1" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo-light.svg" class="logo__image only-light" alt="OTClientV8 Dev Docs 0.1.0 - dokumentacja - Home"/>
    <img src="../_static/logo-light.svg" class="logo__image only-dark pst-js-only" alt="OTClientV8 Dev Docs 0.1.0 - dokumentacja - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Szukaj" aria-label="Szukaj" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Szukaj</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/lukaszj321/otcv8-dev" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Szukaj" aria-label="Szukaj" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Szukaj</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/lukaszj321/otcv8-dev" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">otclientv8-dev/src/client</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="otclientv8-dev-src-client">
<h1>otclientv8-dev/src/client<a class="headerlink" href="#otclientv8-dev-src-client" title="Link to this heading">#</a></h1>
<blockquote>
<div><p>NOTE: Wszystkie pliki w repozytorium są objęte licencją MIT (2010–2017 OTClient, autor Edubart).</p>
</div></blockquote>
</section>
<section id="ogolny-opis">
<h1>Ogólny opis<a class="headerlink" href="#ogolny-opis" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code>, która odpowiada za renderowanie animowanego tekstu na mapie, takiego jak komunikaty o zadanych obrażeniach, leczeniu czy zdobytych punktach doświadczenia. Plik zawiera logikę animacji, rysowania oraz łączenia podobnych tekstów w jeden.</p>
</section>
<section id="klasa-animatedtext">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code><a class="headerlink" href="#klasa-animatedtext" title="Link to this heading">#</a></h1>
</section>
<section id="opis">
<h1>Opis<a class="headerlink" href="#opis" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">Thing</span></code> i reprezentuje tekst, który pojawia się w określonym miejscu na mapie, a następnie animuje swoje położenie i przezroczystość, by ostatecznie zniknąć.</p>
</section>
<section id="metody">
<h1>Metody<a class="headerlink" href="#metody" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AnimatedText()</span></code></p></td>
<td><p>Konstruktor. Inicjalizuje domyślne właściwości tekstu, takie jak czcionka i wyrównanie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawText(const</span> <span class="pre">Point&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">visibleRect)</span></code></p></td>
<td><p>Rysuje tekst w określonym miejscu, uwzględniając postęp animacji. Animacja obejmuje ruch w górę (i opcjonalnie po przekątnej) oraz stopniowe zanikanie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onAppear()</span></code></p></td>
<td><p>Metoda wywoływana, gdy tekst pojawia się na mapie. Resetuje timer animacji i planuje usunięcie obiektu po zakończeniu animacji.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setColor(int</span> <span class="pre">color)</span></code></p></td>
<td><p>Ustawia kolor tekstu na podstawie 8-bitowej wartości.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setText(const</span> <span class="pre">std::string&amp;</span> <span class="pre">text)</span></code></p></td>
<td><p>Ustawia treść tekstu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setFont(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fontName)</span></code></p></td>
<td><p>Ustawia czcionkę tekstu na podstawie nazwy.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">merge(const</span> <span class="pre">AnimatedTextPtr&amp;</span> <span class="pre">other)</span></code></p></td>
<td><p>Próbuje połączyć tekst z innym obiektem <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code>. Łączenie jest możliwe, jeśli oba teksty mają ten sam kolor, czcionkę, a animacja obecnego tekstu nie jest zbyt zaawansowana. Teksty liczbowe są sumowane.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zaleznosci-i-powiazania">
<h1>Zależności i powiązania<a class="headerlink" href="#zaleznosci-i-powiazania" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_map</span></code> do usuwania obiektu <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code> po zakończeniu animacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_game</span></code> do sprawdzania, czy funkcja <code class="docutils literal notranslate"><span class="pre">GameDiagonalAnimatedText</span></code> jest włączona.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> do pomiaru czasu animacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> do planowania usunięcia obiektu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_fonts</span></code> do zarządzania czcionkami.</p></li>
</ul>
</section>
<section id="przyklad-uzycia">
<h1>Przykład użycia<a class="headerlink" href="#przyklad-uzycia" title="Link to this heading">#</a></h1>
<p>Obiekty <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code> są tworzone przez <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code> w odpowiedzi na komunikaty serwera (np. o obrażeniach) i dodawane do <code class="docutils literal notranslate"><span class="pre">g_map</span></code>, która zarządza ich cyklem życia i rysowaniem.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Przykład tworzenia (logika w ProtocolGame::parseAnimatedText)</span>
<span class="n">AnimatedTextPtr</span><span class="w"> </span><span class="n">animatedText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnimatedTextPtr</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">AnimatedText</span><span class="p">);</span>
<span class="n">animatedText</span><span class="err">→</span><span class="n">setColor</span><span class="p">(</span><span class="n">color</span><span class="p">);</span>
<span class="n">animatedText</span><span class="err">→</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
<span class="n">g_map</span><span class="p">.</span><span class="n">addThing</span><span class="p">(</span><span class="n">animatedText</span><span class="p">,</span><span class="w"> </span><span class="n">position</span><span class="p">);</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="houses-h">
<h1>📄 houses.h<a class="headerlink" href="#houses-h" title="Link to this heading">#</a></h1>
</section>
<section id="id1">
<h1>Ogólny opis<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<p>Plik ten definiuje klasy <code class="docutils literal notranslate"><span class="pre">House</span></code> i <code class="docutils literal notranslate"><span class="pre">HouseManager</span></code>, które służą do zarządzania informacjami o domach w grze. Zawiera definicje struktur przechowujących atrybuty domów, takie jak nazwa, ID, wejście, oraz metody do zarządzania nimi.</p>
</section>
<section id="klasa-house">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">House</span></code><a class="headerlink" href="#klasa-house" title="Link to this heading">#</a></h1>
</section>
<section id="id2">
<h1>Opis<a class="headerlink" href="#id2" title="Link to this heading">#</a></h1>
<p>Reprezentuje pojedynczy dom w świecie gry. Przechowuje jego atrybuty, listę przynależnych do niego pól (tiles) oraz drzwi.</p>
</section>
<section id="id3">
<h1>Metody<a class="headerlink" href="#id3" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">House(uint32</span> <span class="pre">hId,</span> <span class="pre">...)</span></code></p></td>
<td><p>Konstruktor tworzący dom o zadanym ID, nazwie i pozycji wejściowej.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setTile(const</span> <span class="pre">TilePtr&amp;</span> <span class="pre">tile)</span></code></p></td>
<td><p>Dodaje pole (tile) do domu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTile(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Zwraca wskaźnik do pola na podanej pozycji, jeśli należy ono do domu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setName(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></p></td>
<td><p>Ustawia nazwę domu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getName()</span></code></p></td>
<td><p>Zwraca nazwę domu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setId(uint32</span> <span class="pre">hId)</span></code></p></td>
<td><p>Ustawia unikalne ID domu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getId()</span></code></p></td>
<td><p>Zwraca ID domu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setTownId(uint32</span> <span class="pre">tid)</span></code></p></td>
<td><p>Ustawia ID miasta, w którym znajduje się dom.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTownId()</span></code></p></td>
<td><p>Zwraca ID miasta.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setSize(uint32</span> <span class="pre">s)</span></code></p></td>
<td><p>Ustawia rozmiar domu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getSize()</span></code></p></td>
<td><p>Zwraca rozmiar domu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setRent(uint32</span> <span class="pre">r)</span></code></p></td>
<td><p>Ustawia cenę wynajmu domu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getRent()</span></code></p></td>
<td><p>Zwraca cenę wynajmu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setEntry(const</span> <span class="pre">Position&amp;</span> <span class="pre">p)</span></code></p></td>
<td><p>Ustawia pozycję wejścia do domu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getEntry()</span></code></p></td>
<td><p>Zwraca pozycję wejścia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">addDoor(const</span> <span class="pre">ItemPtr&amp;</span> <span class="pre">door)</span></code></p></td>
<td><p>Dodaje drzwi do domu i przypisuje im unikalne ID.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">removeDoor(const</span> <span class="pre">ItemPtr&amp;</span> <span class="pre">door)</span></code></p></td>
<td><p>Usuwa drzwi z domu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">removeDoorById(uint32</span> <span class="pre">doorId)</span></code></p></td>
<td><p>Usuwa drzwi na podstawie ich ID.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasa-housemanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HouseManager</span></code><a class="headerlink" href="#klasa-housemanager" title="Link to this heading">#</a></h1>
</section>
<section id="id4">
<h1>Opis<a class="headerlink" href="#id4" title="Link to this heading">#</a></h1>
<p>Singleton (<code class="docutils literal notranslate"><span class="pre">g_houses</span></code>) zarządzający wszystkimi domami w grze. Odpowiada za ich dodawanie, usuwanie, wczytywanie i zapisywanie z plików XML.</p>
</section>
<section id="id5">
<h1>Metody<a class="headerlink" href="#id5" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addHouse(const</span> <span class="pre">HousePtr&amp;</span> <span class="pre">house)</span></code></p></td>
<td><p>Dodaje nowy dom do listy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">removeHouse(uint32</span> <span class="pre">houseId)</span></code></p></td>
<td><p>Usuwa dom o podanym ID.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getHouse(uint32</span> <span class="pre">houseId)</span></code></p></td>
<td><p>Zwraca dom o podanym ID.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getHouseByName(std::string</span> <span class="pre">name)</span></code></p></td>
<td><p>Zwraca dom o podanej nazwie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Wczytuje dane o domach z pliku XML.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">save(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Zapisuje dane o domach do pliku XML.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sort()</span></code></p></td>
<td><p>Sortuje listę domów alfabetycznie według nazwy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code></p></td>
<td><p>Czyści listę domów.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getHouseList()</span></code></p></td>
<td><p>Zwraca listę wszystkich domów.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">filterHouses(uint32</span> <span class="pre">townId)</span></code></p></td>
<td><p>Zwraca listę domów należących do określonego miasta.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zmienne-globalne">
<h1>Zmienne globalne<a class="headerlink" href="#zmienne-globalne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HouseManager</span> <span class="pre">g_houses</span></code>: Globalna instancja managera domów.</p></li>
</ul>
</section>
<section id="id6">
<h1>Zależności i powiązania<a class="headerlink" href="#id6" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów wskaźników, takich jak <code class="docutils literal notranslate"><span class="pre">HousePtr</span></code> i <code class="docutils literal notranslate"><span class="pre">TilePtr</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>: Używa obiektów <code class="docutils literal notranslate"><span class="pre">Tile</span></code> do określenia obszaru domu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">item.h</span></code></strong>: Zarządza drzwiami, które są obiektami typu <code class="docutils literal notranslate"><span class="pre">Item</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code></strong>: Klasy są eksponowane do Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="animatedtext-h">
<h1>📄 animatedtext.h<a class="headerlink" href="#animatedtext-h" title="Link to this heading">#</a></h1>
</section>
<section id="id7">
<h1>Ogólny opis<a class="headerlink" href="#id7" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code>. Definiuje interfejs klasy, która zarządza animowanym tekstem na mapie.</p>
</section>
<section id="id8">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code><a class="headerlink" href="#id8" title="Link to this heading">#</a></h1>
</section>
<section id="id9">
<h1>Opis<a class="headerlink" href="#id9" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">Thing</span></code>. Służy do wyświetlania tekstu, który porusza się i zanika. Jest to obiekt „efemeryczny”, który istnieje na mapie tylko przez czas trwania animacji.</p>
</section>
<section id="id10">
<h1>Metody<a class="headerlink" href="#id10" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AnimatedText()</span></code></p></td>
<td><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawText(const</span> <span class="pre">Point&amp;</span> <span class="pre">dest,</span> <span class="pre">const</span> <span class="pre">Rect&amp;</span> <span class="pre">visibleRect)</span></code></p></td>
<td><p>Rysuje tekst na ekranie z uwzględnieniem animacji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setColor(int</span> <span class="pre">color)</span></code></p></td>
<td><p>Ustawia kolor tekstu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setText(const</span> <span class="pre">std::string&amp;</span> <span class="pre">text)</span></code></p></td>
<td><p>Ustawia treść tekstu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setOffset(const</span> <span class="pre">Point&amp;</span> <span class="pre">offset)</span></code></p></td>
<td><p>Ustawia przesunięcie (offset) rysowania tekstu, używane do unikania nakładania się tekstów.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setFont(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fontName)</span></code></p></td>
<td><p>Ustawia czcionkę tekstu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getColor()</span></code></p></td>
<td><p>Zwraca kolor tekstu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getCachedText()</span></code></p></td>
<td><p>Zwraca obiekt <code class="docutils literal notranslate"><span class="pre">CachedText</span></code> przechowujący tekst i informacje o renderowaniu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getOffset()</span></code></p></td>
<td><p>Zwraca aktualne przesunięcie tekstu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTimer()</span></code></p></td>
<td><p>Zwraca timer używany do animacji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">merge(const</span> <span class="pre">AnimatedTextPtr&amp;</span> <span class="pre">other)</span></code></p></td>
<td><p>Funkcja do łączenia z innym <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">asAnimatedText()</span></code></p></td>
<td><p>Rzutuje wskaźnik na <code class="docutils literal notranslate"><span class="pre">AnimatedTextPtr</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isAnimatedText()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getText()</span></code></p></td>
<td><p>Zwraca treść tekstu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id11">
<h1>Zależności i powiązania<a class="headerlink" href="#id11" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thing.h</span></code></strong>: Klasa bazowa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/fontmanager.h</span></code></strong>: Zarządzanie czcionkami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code></strong>: Pomiar czasu animacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/cachedtext.h</span></code></strong>: Efektywne renderowanie tekstu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="animator-h">
<h1>📄 animator.h<a class="headerlink" href="#animator-h" title="Link to this heading">#</a></h1>
</section>
<section id="id12">
<h1>Ogólny opis<a class="headerlink" href="#id12" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">Animator</span></code>, która zarządza animacjami klatek dla obiektów w grze, takich jak przedmioty czy efekty.</p>
</section>
<section id="klasa-animator">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Animator</span></code><a class="headerlink" href="#klasa-animator" title="Link to this heading">#</a></h1>
</section>
<section id="id13">
<h1>Opis<a class="headerlink" href="#id13" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">Animator</span></code> kontroluje, która klatka animacji powinna być wyświetlona w danym momencie. Obsługuje różne tryby animacji, takie jak pętle, ping-pong, animacje asynchroniczne i losowe.</p>
</section>
<section id="typy-wyliczeniowe">
<h1>Typy wyliczeniowe<a class="headerlink" href="#typy-wyliczeniowe" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">AnimationPhase</span></code></strong>: Określa fazę animacji (np. automatyczna, losowa, asynchroniczna).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">AnimationDirection</span></code></strong>: Określa kierunek animacji (do przodu, do tyłu).</p></li>
</ul>
</section>
<section id="id14">
<h1>Metody<a class="headerlink" href="#id14" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Animator()</span></code></p></td>
<td><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unserialize(int</span> <span class="pre">animationPhases,</span> <span class="pre">const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code></p></td>
<td><p>Wczytuje dane animatora ze strumienia.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">serialize(const</span> <span class="pre">FileStreamPtr&amp;</span> <span class="pre">fin)</span></code></p></td>
<td><p>Zapisuje dane animatora do strumienia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setPhase(int</span> <span class="pre">phase)</span></code></p></td>
<td><p>Ustawia bieżącą fazę animacji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getPhase()</span></code></p></td>
<td><p>Oblicza i zwraca bieżącą fazę animacji na podstawie czasu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getPhaseAt(Timer&amp;</span> <span class="pre">timer,</span> <span class="pre">int</span> <span class="pre">lastPhase)</span></code></p></td>
<td><p>Oblicza fazę animacji w danym momencie czasu (używane przez <code class="docutils literal notranslate"><span class="pre">Effect</span></code> dla niezależnych animacji).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getStartPhase()</span></code></p></td>
<td><p>Zwraca początkową fazę animacji.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getAnimationPhases()</span></code></p></td>
<td><p>Zwraca całkowitą liczbę faz animacji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isAsync()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli animacja jest asynchroniczna.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isComplete()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli animacja została zakończona.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTotalDuration()</span></code></p></td>
<td><p>Zwraca całkowity czas trwania animacji.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resetAnimation()</span></code></p></td>
<td><p>Resetuje stan animacji do początkowego.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id15">
<h1>Zależności i powiązania<a class="headerlink" href="#id15" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code></strong>: Używane do pomiaru czasu i synchronizacji animacji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="animator-cpp">
<h1>📄 animator.cpp<a class="headerlink" href="#animator-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id16">
<h1>Ogólny opis<a class="headerlink" href="#id16" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Animator</span></code>. Zawiera logikę obliczania faz animacji w zależności od czasu i trybu pracy.</p>
</section>
<section id="id17">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Animator</span></code><a class="headerlink" href="#id17" title="Link to this heading">#</a></h1>
</section>
<section id="id18">
<h1>Opis<a class="headerlink" href="#id18" title="Link to this heading">#</a></h1>
<p>Plik implementuje logikę działania animatora. Obliczenia fazy zależą od tego, czy animacja jest synchroniczna (wszystkie obiekty tego samego typu animują się tak samo) czy asynchroniczna (każdy obiekt animuje się niezależnie).</p>
</section>
<section id="id19">
<h1>Metody<a class="headerlink" href="#id19" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unserialize(...)</span></code></p></td>
<td><p>Wczytuje z pliku binarnego liczbę faz, tryb <code class="docutils literal notranslate"><span class="pre">async</span></code>, liczbę pętli, fazę startową oraz czas trwania każdej klatki (min/max).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">serialize(...)</span></code></p></td>
<td><p>Zapisuje dane animatora do pliku binarnego.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setPhase(int</span> <span class="pre">phase)</span></code></p></td>
<td><p>Ustawia aktualną fazę animacji. Dla animacji asynchronicznych resetuje timer i ustawia czas trwania klatki. Dla synchronicznych przelicza fazę na podstawie globalnego zegara.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getPhase()</span></code></p></td>
<td><p>Główna metoda aktualizująca. Na podstawie czasu, jaki upłynął od ostatniego wywołania, decyduje, czy należy przejść do następnej klatki animacji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getPhaseAt(...)</span></code></p></td>
<td><p>Metoda używana przez efekty (<code class="docutils literal notranslate"><span class="pre">Effect</span></code>) do uzyskania fazy animacji niezależnie od innych obiektów tego samego typu. Używa własnego timera i pseudolosowego generatora do określenia czasu trwania klatek.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getStartPhase()</span></code></p></td>
<td><p>Zwraca fazę startową; jeśli ustawiono na losową, losuje ją z dostępnego zakresu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">resetAnimation()</span></code></p></td>
<td><p>Przywraca animator do stanu początkowego.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getPingPongPhase()</span></code></p></td>
<td><p>Oblicza następną fazę dla animacji typu „ping-pong” (do przodu i do tyłu).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getLoopPhase()</span></code></p></td>
<td><p>Oblicza następną fazę dla animacji w pętli.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getPhaseDuration(int</span> <span class="pre">phase)</span></code></p></td>
<td><p>Zwraca czas trwania danej klatki animacji (losowy w zakresie min-max).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">calculateSynchronous()</span></code></p></td>
<td><p>Oblicza bieżącą fazę dla animacji synchronicznej, bazując na globalnym czasie i sumarycznym czasie trwania wszystkich klatek.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTotalDuration()</span></code></p></td>
<td><p>Zwraca sumaryczny czas trwania wszystkich klatek animacji.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id20">
<h1>Zależności i powiązania<a class="headerlink" href="#id20" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/clock.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_clock</span></code> do synchronizacji animacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/filestream.h</span></code></strong>: Do operacji serializacji/deserializacji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="client-cpp">
<h1>📄 client.cpp<a class="headerlink" href="#client-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id21">
<h1>Ogólny opis<a class="headerlink" href="#id21" title="Link to this heading">#</a></h1>
<p>Plik implementuje klasę <code class="docutils literal notranslate"><span class="pre">Client</span></code>, która jest głównym punktem wejścia i zarządzania dla aplikacji klienckiej. Odpowiada za inicjalizację i zamykanie kluczowych modułów gry.</p>
</section>
<section id="klasa-client">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Client</span></code><a class="headerlink" href="#klasa-client" title="Link to this heading">#</a></h1>
</section>
<section id="id22">
<h1>Metody<a class="headerlink" href="#id22" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">init(std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code></p></td>
<td><p>Inicjalizuje wszystkie główne moduły klienta w odpowiedniej kolejności: rejestruje funkcje Lua, a następnie inicjalizuje <code class="docutils literal notranslate"><span class="pre">g_map</span></code>, <code class="docutils literal notranslate"><span class="pre">g_minimap</span></code>, <code class="docutils literal notranslate"><span class="pre">g_game</span></code>, <code class="docutils literal notranslate"><span class="pre">g_shaders</span></code>, <code class="docutils literal notranslate"><span class="pre">g_things</span></code>, <code class="docutils literal notranslate"><span class="pre">g_healthBars</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td><p>Zamyka wszystkie moduły w odwrotnej kolejności do inicjalizacji, zwalniając zasoby.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id23">
<h1>Zmienne globalne<a class="headerlink" href="#id23" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">g_client</span></code>: Globalna instancja klasy <code class="docutils literal notranslate"><span class="pre">Client</span></code>.</p></li>
</ul>
</section>
<section id="id24">
<h1>Zależności i powiązania<a class="headerlink" href="#id24" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Inicjalizuje i zamyka <code class="docutils literal notranslate"><span class="pre">g_game</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>: Inicjalizuje i zamyka <code class="docutils literal notranslate"><span class="pre">g_map</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">minimap.h</span></code></strong>: Inicjalizuje i zamyka <code class="docutils literal notranslate"><span class="pre">g_minimap</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>: Pośrednio zarządza <code class="docutils literal notranslate"><span class="pre">g_sprites</span></code> poprzez <code class="docutils literal notranslate"><span class="pre">g_things</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">healthbars.h</span></code></strong>: Inicjalizuje i zamyka <code class="docutils literal notranslate"><span class="pre">g_healthBars</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/modulemanager.h</span></code></strong>: Używane do zarządzania modułami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/shadermanager.h</span></code></strong>: Inicjalizuje i zamyka <code class="docutils literal notranslate"><span class="pre">g_shaders</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="client-h">
<h1>📄 client.h<a class="headerlink" href="#client-h" title="Link to this heading">#</a></h1>
</section>
<section id="id25">
<h1>Ogólny opis<a class="headerlink" href="#id25" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">Client</span></code>. Deklaruje interfejs głównej klasy aplikacji klienckiej.</p>
</section>
<section id="id26">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Client</span></code><a class="headerlink" href="#id26" title="Link to this heading">#</a></h1>
</section>
<section id="id27">
<h1>Opis<a class="headerlink" href="#id27" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">Client</span></code> jest odpowiedzialna za zarządzanie cyklem życia aplikacji klienckiej.</p>
</section>
<section id="id28">
<h1>Metody<a class="headerlink" href="#id28" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">init(std::vector&lt;std::string&gt;&amp;</span> <span class="pre">args)</span></code></p></td>
<td><p>Inicjalizuje aplikację.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td><p>Kończy działanie aplikacji, zwalniając zasoby.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">registerLuaFunctions()</span></code></p></td>
<td><p>Rejestruje funkcje C++ dostępne w środowisku Lua.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id29">
<h1>Zmienne globalne<a class="headerlink" href="#id29" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">g_client</span></code>: Deklaracja zewnętrznej globalnej instancji klienta.</p></li>
</ul>
</section>
<section id="id30">
<h1>Zależności i powiązania<a class="headerlink" href="#id30" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">global.h</span></code></strong>: Zawiera podstawowe definicje i stałe używane w kliencie.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="cmakelists-txt">
<h1>📄 CMakeLists.txt<a class="headerlink" href="#cmakelists-txt" title="Link to this heading">#</a></h1>
</section>
<section id="id31">
<h1>Ogólny opis<a class="headerlink" href="#id31" title="Link to this heading">#</a></h1>
<p>Plik konfiguracyjny systemu budowania CMake dla modułu klienta. Definiuje on, które pliki źródłowe (<code class="docutils literal notranslate"><span class="pre">.cpp</span></code>, <code class="docutils literal notranslate"><span class="pre">.h</span></code>) zostaną skompilowane i włączone do finalnej aplikacji klienckiej.</p>
</section>
<section id="struktura-pliku">
<h1>Struktura pliku<a class="headerlink" href="#struktura-pliku" title="Link to this heading">#</a></h1>
</section>
<section id="definicje-preprocesora">
<h1>Definicje preprocesora<a class="headerlink" href="#definicje-preprocesora" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">add_definitions(-DCLIENT)</span></code>: Dodaje makro <code class="docutils literal notranslate"><span class="pre">CLIENT</span></code> do wszystkich kompilowanych plików, co pozwala na warunkową kompilację kodu specyficznego dla klienta.</p></li>
</ul>
</section>
<section id="lista-plikow-zrodlowych-client-sources">
<h1>Lista plików źródłowych (<code class="docutils literal notranslate"><span class="pre">client_SOURCES</span></code>)<a class="headerlink" href="#lista-plikow-zrodlowych-client-sources" title="Link to this heading">#</a></h1>
<p>Plik zawiera jedną długą listę wszystkich plików źródłowych i nagłówkowych, które składają się na moduł klienta. Pliki są pogrupowane w logiczne kategorie za pomocą komentarzy:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">client</span></code></strong>: Główne pliki klienta.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">core</span></code></strong>: Rdzeń logiki gry (mapa, przedmioty, postacie, etc.).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">lua</span></code></strong>: Pliki związane z integracją z silnikiem Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">net</span></code></strong>: Logika sieciowa i protokoły.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">ui</span></code></strong>: Niestandardowe widżety interfejsu użytkownika.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">util</span></code></strong>: Pomocnicze klasy i struktury, jak <code class="docutils literal notranslate"><span class="pre">Position</span></code>.</p></li>
</ul>
</section>
<section id="id32">
<h1>Zależności i powiązania<a class="headerlink" href="#id32" title="Link to this heading">#</a></h1>
<p>Ten plik jest kluczowy dla procesu budowania i definiuje, które części kodu źródłowego są ze sobą powiązane i tworzą aplikację kliencką. Każdy plik dodany do tej listy staje się częścią projektu.</p>
</section>
<hr class="docutils" />
<section id="const-h">
<h1>📄 const.h<a class="headerlink" href="#const-h" title="Link to this heading">#</a></h1>
</section>
<section id="id33">
<h1>Ogólny opis<a class="headerlink" href="#id33" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy zawierający globalne stałe i typy wyliczeniowe używane w całej aplikacji klienckiej. Definiuje kluczowe wartości, takie jak flagi rysowania, atrybuty przedmiotów, tryby gry, a także identyfikatory funkcji serwera (<code class="docutils literal notranslate"><span class="pre">GameFeature</span></code>).</p>
</section>
<section id="namespace-otc">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">Otc</span></code><a class="headerlink" href="#namespace-otc" title="Link to this heading">#</a></h1>
</section>
<section id="id34">
<h1>Typy wyliczeniowe<a class="headerlink" href="#id34" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">enum</span></code> (anonimowy)</strong>: Zawiera ogólne stałe, takie jak <code class="docutils literal notranslate"><span class="pre">MAX_ELEVATION</span></code>, <code class="docutils literal notranslate"><span class="pre">SEA_FLOOR</span></code>, <code class="docutils literal notranslate"><span class="pre">MAX_Z</span></code>, czasy trwania animacji (<code class="docutils literal notranslate"><span class="pre">ANIMATED_TEXT_DURATION</span></code>) i inne.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DepthConst</span></code></strong>: Stałe związane z głębokością renderowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawFlags</span></code></strong>: Flagi określające, które elementy sceny mają być rysowane (np. podłoże, postacie, efekty).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DatOpts</span></code></strong>: Atrybuty przedmiotów wczytywane z plików <code class="docutils literal notranslate"><span class="pre">.dat</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">InventorySlot</span></code></strong>: Identyfikatory slotów ekwipunku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Statistic</span></code></strong>: Identyfikatory statystyk gracza (życie, mana, doświadczenie).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Skill</span></code></strong>: Identyfikatory umiejętności gracza.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Direction</span></code></strong>: Kierunki (północ, południe, etc.).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">FluidsColor</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">FluidsType</span></code></strong>: Kolory i typy płynów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">FightModes</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">ChaseModes</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">PVPModes</span></code></strong>: Tryby walki, ścigania i PvP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">PlayerSkulls</span></code></strong>: Typy czaszek nad głową gracza.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">PlayerShields</span></code></strong>: Typy tarcz imprezowych (party shields).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">PlayerEmblems</span></code></strong>: Emblematy gildii.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">CreatureIcons</span></code></strong>: Ikony nad postaciami NPC.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">PlayerStates</span></code></strong>: Stany gracza (zatrucie, podpalenie, etc.).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">MessageMode</span></code></strong>: Tryby wiadomości w grze (say, whisper, yell, etc.).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">GameFeature</span></code></strong>: Flagi określające, które funkcje są obsługiwane przez serwer. Jest to kluczowy enum dla zapewnienia kompatybilności z różnymi wersjami serwerów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">PathFindResult</span></code></strong>: Wyniki algorytmu wyszukiwania ścieżki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">PathFindFlags</span></code></strong>: Flagi modyfikujące działanie algorytmu wyszukiwania ścieżki.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">AutomapFlags</span></code></strong>: Ikony znaczników na minimapie.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">VipState</span></code></strong>: Stany graczy na liście VIP.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SpeedFormula</span></code></strong>: Różne formuły obliczania prędkości postaci.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Blessings</span></code></strong>: Błogosławieństwa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DeathType</span></code></strong>: Typ śmierci (zwykła, z błogosławieństwem).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">StoreProductTypes</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">StoreErrorTypes</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">StoreStates</span></code></strong>: Typy związane ze sklepem w grze (Store).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Prey...</span></code></strong>: Enumeracje związane z systemem Prey.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">MagicEffectsType_t</span></code></strong>: Typy operacji w zaawansowanych efektach magicznych.</p></li>
</ul>
</section>
<section id="id35">
<h1>Zależności i powiązania<a class="headerlink" href="#id35" title="Link to this heading">#</a></h1>
<p>Ten plik jest fundamentalny i jest dołączany w większości plików projektu, ponieważ definiuje podstawowe „słownictwo” używane w logice gry.</p>
</section>
<hr class="docutils" />
<section id="container-cpp">
<h1>📄 container.cpp<a class="headerlink" href="#container-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id36">
<h1>Ogólny opis<a class="headerlink" href="#id36" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Container</span></code>, która reprezentuje pojemniki w grze, takie jak plecaki. Plik zawiera logikę zarządzania przedmiotami wewnątrz kontenera oraz obsługę zdarzeń z nim związanych.</p>
</section>
<section id="klasa-container">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Container</span></code><a class="headerlink" href="#klasa-container" title="Link to this heading">#</a></h1>
</section>
<section id="id37">
<h1>Metody<a class="headerlink" href="#id37" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Container(...)</span></code></p></td>
<td><p>Konstruktor. Inicjalizuje kontener na podstawie danych otrzymanych z serwera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getItem(int</span> <span class="pre">slot)</span></code></p></td>
<td><p>Zwraca przedmiot znajdujący się w danym slocie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onOpen(const</span> <span class="pre">ContainerPtr&amp;</span> <span class="pre">previousContainer)</span></code></p></td>
<td><p>Wywołuje callback Lua <code class="docutils literal notranslate"><span class="pre">onOpen</span></code>, gdy kontener jest otwierany.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onClose()</span></code></p></td>
<td><p>Oznacza kontener jako zamknięty i wywołuje callback Lua <code class="docutils literal notranslate"><span class="pre">onClose</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onAddItem(const</span> <span class="pre">ItemPtr&amp;</span> <span class="pre">item,</span> <span class="pre">int</span> <span class="pre">slot)</span></code></p></td>
<td><p>Dodaje przedmiot do kontenera. Jeśli kontener ma strony (<code class="docutils literal notranslate"><span class="pre">hasPages</span></code>), a slot jest poza widocznym zakresem, jedynie aktualizuje rozmiar. W przeciwnym razie dodaje przedmiot do listy i wywołuje callbacki Lua <code class="docutils literal notranslate"><span class="pre">onSizeChange</span></code> i <code class="docutils literal notranslate"><span class="pre">onAddItem</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">findItemById(uint</span> <span class="pre">itemId,</span> <span class="pre">int</span> <span class="pre">subType)</span></code></p></td>
<td><p>Wyszukuje przedmiot w kontenerze po jego ID i opcjonalnie podtypie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onAddItems(const</span> <span class="pre">std::vector&lt;ItemPtr&gt;&amp;</span> <span class="pre">items)</span></code></p></td>
<td><p>Dodaje wiele przedmiotów naraz (np. przy otwarciu kontenera).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onUpdateItem(int</span> <span class="pre">slot,</span> <span class="pre">const</span> <span class="pre">ItemPtr&amp;</span> <span class="pre">item)</span></code></p></td>
<td><p>Aktualizuje przedmiot w danym slocie, zastępując stary nowym.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onRemoveItem(int</span> <span class="pre">slot,</span> <span class="pre">const</span> <span class="pre">ItemPtr&amp;</span> <span class="pre">lastItem)</span></code></p></td>
<td><p>Usuwa przedmiot z danego slota. Jeśli <code class="docutils literal notranslate"><span class="pre">lastItem</span></code> jest podany (dla kontenerów ze stronami), jest on dodawany na końcu widocznej części kontenera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">updateItemsPositions()</span></code></p></td>
<td><p>Aktualizuje pozycje wszystkich przedmiotów w kontenerze, aby odzwierciedlały ich sloty.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id38">
<h1>Zależności i powiązania<a class="headerlink" href="#id38" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">item.h</span></code></strong>: Zarządza obiektami typu <code class="docutils literal notranslate"><span class="pre">Item</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code></strong>: Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, aby umożliwić interakcję z Lua.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="creature-cpp">
<h1>📄 creature.cpp<a class="headerlink" href="#creature-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id39">
<h1>Ogólny opis<a class="headerlink" href="#id39" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Creature</span></code>, która jest podstawową klasą dla wszystkich żywych istot w grze (graczy, potworów, NPC). Plik ten zawiera złożoną logikę rysowania, animacji, poruszania się, skakania oraz wyświetlania informacji o postaci.</p>
</section>
<section id="klasa-creature">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Creature</span></code><a class="headerlink" href="#klasa-creature" title="Link to this heading">#</a></h1>
</section>
<section id="id40">
<h1>Metody<a class="headerlink" href="#id40" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Główna funkcja rysująca. Renderuje postać, jej ubiór, kwadraty oznaczające (np. cel ataku), a także dodaje światło do <code class="docutils literal notranslate"><span class="pre">LightView</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawOutfit(...)</span></code></p></td>
<td><p>Rysuje sam ubiór postaci w zadanym prostokącie, używane głównie w interfejsie użytkownika.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawInformation(...)</span></code></p></td>
<td><p>Rysuje pasek życia, many, nazwę, ikony (czaszka, tarcza) nad postacią.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">turn(Otc::Direction</span> <span class="pre">direction)</span></code></p></td>
<td><p>Zmienia kierunek, w którym zwrócona jest postać.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">walk(const</span> <span class="pre">Position&amp;</span> <span class="pre">oldPos,</span> <span class="pre">const</span> <span class="pre">Position&amp;</span> <span class="pre">newPos)</span></code></p></td>
<td><p>Inicjuje proces chodzenia z <code class="docutils literal notranslate"><span class="pre">oldPos</span></code> do <code class="docutils literal notranslate"><span class="pre">newPos</span></code>, ustawiając kierunek, timery i rozpoczynając aktualizację animacji.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">stopWalk()</span></code></p></td>
<td><p>Natychmiastowo przerywa proces chodzenia.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">jump(int</span> <span class="pre">height,</span> <span class="pre">int</span> <span class="pre">duration)</span></code></p></td>
<td><p>Rozpoczyna animację skoku postaci.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">updateJump()</span></code></p></td>
<td><p>Aktualizuje wysokość skoku w każdej klatce animacji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onAppear()</span></code></p></td>
<td><p>Obsługuje pojawienie się postaci na ekranie. Decyduje, czy postać przyszła, teleportowała się, czy tylko się obróciła.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onDisappear()</span></code></p></td>
<td><p>Obsługuje zniknięcie postaci z ekranu, planując jej ostateczne usunięcie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onDeath()</span></code></p></td>
<td><p>Wywołuje callback Lua <code class="docutils literal notranslate"><span class="pre">onDeath</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">updateWalkAnimation(...)</span></code></p></td>
<td><p>Aktualizuje fazę animacji chodzenia na podstawie czasu i przebytych pikseli.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">updateWalkOffset(...)</span></code></p></td>
<td><p>Oblicza przesunięcie postaci podczas chodzenia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">updateWalkingTile()</span></code></p></td>
<td><p>Aktualizuje, na którym polu (<code class="docutils literal notranslate"><span class="pre">Tile</span></code>) postać jest obecnie rysowana podczas animacji chodzenia.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">nextWalkUpdate()</span></code></p></td>
<td><p>Planuje następną aktualizację stanu chodzenia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">updateWalk()</span></code></p></td>
<td><p>Główna funkcja aktualizująca stan chodzenia, wywoływana cyklicznie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">terminateWalk()</span></code></p></td>
<td><p>Kończy proces chodzenia, resetując wszystkie związane z nim zmienne.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setHealthPercent(uint8</span> <span class="pre">healthPercent)</span></code></p></td>
<td><p>Ustawia procent życia i aktualizuje kolor paska życia.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setOutfit(const</span> <span class="pre">Outfit&amp;</span> <span class="pre">outfit)</span></code></p></td>
<td><p>Zmienia ubiór postaci.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setSpeed(uint16</span> <span class="pre">speed)</span></code></p></td>
<td><p>Ustawia prędkość poruszania się postaci.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getStepDuration(...)</span></code></p></td>
<td><p>Oblicza czas trwania jednego kroku w milisekundach na podstawie prędkości postaci, prędkości podłoża i formuł prędkości serwera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getDisplacement()</span></code></p></td>
<td><p>Zwraca przesunięcie rysowania postaci, które centruje ją na polu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addTopWidget(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">addBottomWidget(...)</span></code></p></td>
<td><p>Dodaje widżety, które będą rysowane nad lub pod postacią.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zmienne-statyczne">
<h1>Zmienne statyczne<a class="headerlink" href="#zmienne-statyczne" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_speedFormula</span></code>: Tablica przechowująca współczynniki do zaawansowanego obliczania prędkości.</p></li>
</ul>
</section>
<section id="id41">
<h1>Zależności i powiązania<a class="headerlink" href="#id41" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">localplayer.h</span></code></strong>: Logika rysowania informacji o pasku many jest specyficzna dla lokalnego gracza.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>: Interakcje ze światem gry (pobieranie pól, prędkości podłoża).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Dostęp do globalnych ustawień gry i funkcji serwera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lightview.h</span></code></strong>: Dodawanie dynamicznego światła emitowanego przez postać.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">healthbars.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_healthBars</span></code> do pobierania niestandardowych teł dla pasków życia/many.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_sprites</span></code> do pobierania rozmiaru sprite’ów.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="container-h">
<h1>📄 container.h<a class="headerlink" href="#container-h" title="Link to this heading">#</a></h1>
</section>
<section id="id42">
<h1>Ogólny opis<a class="headerlink" href="#id42" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">Container</span></code>. Definiuje interfejs do zarządzania pojemnikami w grze.</p>
</section>
<section id="id43">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Container</span></code><a class="headerlink" href="#id43" title="Link to this heading">#</a></h1>
</section>
<section id="id44">
<h1>Opis<a class="headerlink" href="#id44" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">Container</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, co pozwala na jej użycie w skryptach Lua. Reprezentuje obiekt w grze, który może przechowywać inne przedmioty, jak plecak czy skrzynka.</p>
</section>
<section id="id45">
<h1>Metody<a class="headerlink" href="#id45" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getItem(int</span> <span class="pre">slot)</span></code></p></td>
<td><p>Zwraca wskaźnik do przedmiotu w danym slocie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getItems()</span></code></p></td>
<td><p>Zwraca kolekcję (<code class="docutils literal notranslate"><span class="pre">std::deque</span></code>) wszystkich przedmiotów w kontenerze.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getItemsCount()</span></code></p></td>
<td><p>Zwraca liczbę przedmiotów w kontenerze.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSlotPosition(int</span> <span class="pre">slot)</span></code></p></td>
<td><p>Zwraca specjalnie zakodowaną pozycję, która identyfikuje slot w tym kontenerze.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getId()</span></code></p></td>
<td><p>Zwraca ID kontenera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getCapacity()</span></code></p></td>
<td><p>Zwraca pojemność kontenera.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getContainerItem()</span></code></p></td>
<td><p>Zwraca przedmiot, który reprezentuje ten kontener.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getName()</span></code></p></td>
<td><p>Zwraca nazwę kontenera.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hasParent()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli kontener znajduje się w innym kontenerze.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isClosed()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli kontener został zamknięty.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isUnlocked()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli można przesuwać w nim przedmioty.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">hasPages()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli kontener obsługuje paginację.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getSize()</span></code></p></td>
<td><p>Zwraca całkowitą liczbę przedmiotów w kontenerze (może być większa niż pojemność, jeśli ma strony).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getFirstIndex()</span></code></p></td>
<td><p>Zwraca indeks pierwszego przedmiotu na bieżącej stronie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">findItemById(uint</span> <span class="pre">itemId,</span> <span class="pre">int</span> <span class="pre">subType)</span></code></p></td>
<td><p>Wyszukuje przedmiot po ID i opcjonalnym podtypie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id46">
<h1>Zależności i powiązania<a class="headerlink" href="#id46" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów, np. <code class="docutils literal notranslate"><span class="pre">ItemPtr</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">item.h</span></code></strong>: Przechowuje obiekty <code class="docutils literal notranslate"><span class="pre">Item</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Klasa <code class="docutils literal notranslate"><span class="pre">Game</span></code> jest przyjacielem, co pozwala jej wywoływać chronione metody <code class="docutils literal notranslate"><span class="pre">onOpen</span></code>, <code class="docutils literal notranslate"><span class="pre">onClose</span></code>, etc.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="creature-h">
<h1>📄 creature.h<a class="headerlink" href="#creature-h" title="Link to this heading">#</a></h1>
</section>
<section id="id47">
<h1>Ogólny opis<a class="headerlink" href="#id47" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">Creature</span></code> oraz jej specjalizacji: <code class="docutils literal notranslate"><span class="pre">Npc</span></code> i <code class="docutils literal notranslate"><span class="pre">Monster</span></code>. Definiuje interfejs dla wszystkich istot w grze.</p>
</section>
<section id="id48">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Creature</span></code><a class="headerlink" href="#id48" title="Link to this heading">#</a></h1>
</section>
<section id="id49">
<h1>Opis<a class="headerlink" href="#id49" title="Link to this heading">#</a></h1>
<p>Klasa bazowa dla wszystkich postaci w grze. Dziedziczy po <code class="docutils literal notranslate"><span class="pre">Thing</span></code>. Zawiera logikę związaną z wyglądem, ruchem, stanami i interakcjami.</p>
</section>
<section id="id50">
<h1>Typy wyliczeniowe<a class="headerlink" href="#id50" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">enum</span></code> (anonimowy)</strong>: Definiuje stałe <code class="docutils literal notranslate"><span class="pre">SHIELD_BLINK_TICKS</span></code> i <code class="docutils literal notranslate"><span class="pre">VOLATILE_SQUARE_DURATION</span></code>.</p></li>
</ul>
</section>
<section id="id51">
<h1>Metody<a class="headerlink" href="#id51" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Rysuje postać w danym miejscu na mapie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawOutfit(...)</span></code></p></td>
<td><p>Rysuje sam ubiór postaci, używane w UI.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawInformation(...)</span></code></p></td>
<td><p>Rysuje informacje nad postacią (nazwa, paski życia/many, ikony).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setId(uint32</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID postaci.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setName(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></p></td>
<td><p>Ustawia nazwę postaci.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setHealthPercent(uint8</span> <span class="pre">healthPercent)</span></code></p></td>
<td><p>Ustawia procent życia.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setDirection(Otc::Direction</span> <span class="pre">direction)</span></code></p></td>
<td><p>Ustawia kierunek, w którym postać jest zwrócona.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setOutfit(const</span> <span class="pre">Outfit&amp;</span> <span class="pre">outfit)</span></code></p></td>
<td><p>Ustawia ubiór postaci.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setSpeed(uint16</span> <span class="pre">speed)</span></code></p></td>
<td><p>Ustawia prędkość poruszania się.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">addTimedSquare(uint8</span> <span class="pre">color)</span></code></p></td>
<td><p>Wyświetla tymczasowy kolorowy kwadrat pod postacią.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getStepDuration(...)</span></code></p></td>
<td><p>Zwraca czas trwania jednego kroku.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">walk(const</span> <span class="pre">Position&amp;</span> <span class="pre">oldPos,</span> <span class="pre">const</span> <span class="pre">Position&amp;</span> <span class="pre">newPos)</span></code></p></td>
<td><p>Inicjuje ruch postaci.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">stopWalk()</span></code></p></td>
<td><p>Przerywa ruch postaci.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isWalking()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli postać jest w trakcie chodu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isDead()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli postać ma 0% życia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getThingType()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> dla aktualnego ubioru postaci.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addTopWidget(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">addBottomWidget(...)</span></code></p></td>
<td><p>Dodaje widżety do rysowania nad/pod postacią.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasa-npc">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Npc</span></code><a class="headerlink" href="#klasa-npc" title="Link to this heading">#</a></h1>
</section>
<section id="id52">
<h1>Opis<a class="headerlink" href="#id52" title="Link to this heading">#</a></h1>
<p>Specjalizacja <code class="docutils literal notranslate"><span class="pre">Creature</span></code> dla postaci niezależnych (NPC).</p>
</section>
<section id="klasa-monster">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Monster</span></code><a class="headerlink" href="#klasa-monster" title="Link to this heading">#</a></h1>
</section>
<section id="id53">
<h1>Opis<a class="headerlink" href="#id53" title="Link to this heading">#</a></h1>
<p>Specjalizacja <code class="docutils literal notranslate"><span class="pre">Creature</span></code> dla potworów.</p>
</section>
<section id="id54">
<h1>Zależności i powiązania<a class="headerlink" href="#id54" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thing.h</span></code></strong>: Klasa bazowa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">outfit.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">Outfit</span></code> do zarządzania wyglądem.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>: Interakcje z polami mapy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mapview.h</span></code></strong>: Używana do rysowania w kontekście widoku mapy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code></strong>: Dołączanie widżetów do postaci.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="creatures-h">
<h1>📄 creatures.h<a class="headerlink" href="#creatures-h" title="Link to this heading">#</a></h1>
</section>
<section id="id55">
<h1>Ogólny opis<a class="headerlink" href="#id55" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy definiujący klasy do zarządzania typami stworzeń (<code class="docutils literal notranslate"><span class="pre">CreatureType</span></code>) oraz ich miejscami odradzania (<code class="docutils literal notranslate"><span class="pre">Spawn</span></code>). Jest to część systemu, który prawdopodobnie służy do edycji map lub działania jako serwer, a nie tylko do gry.</p>
</section>
<section id="id56">
<h1>Typy wyliczeniowe<a class="headerlink" href="#id56" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">CreatureAttr</span></code></strong>: Atrybuty typu stworzenia (pozycja, nazwa, ubiór, etc.).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">CreatureRace</span></code></strong>: Rasa stworzenia (NPC, potwór).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SpawnAttr</span></code></strong>: Atrybuty spawnu (promień, środek).</p></li>
</ul>
</section>
<section id="klasa-spawn">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Spawn</span></code><a class="headerlink" href="#klasa-spawn" title="Link to this heading">#</a></h1>
</section>
<section id="id57">
<h1>Opis<a class="headerlink" href="#id57" title="Link to this heading">#</a></h1>
<p>Reprezentuje obszar odradzania się stworzeń (spawn). Przechowuje informacje o środku, promieniu oraz listę potworów/NPC, które się w nim pojawiają.</p>
</section>
<section id="id58">
<h1>Metody<a class="headerlink" href="#id58" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setRadius(int32</span> <span class="pre">r)</span></code></p></td>
<td><p>Ustawia promień spawnu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getRadius()</span></code></p></td>
<td><p>Zwraca promień spawnu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setCenterPos(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Ustawia centralną pozycję spawnu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getCenterPos()</span></code></p></td>
<td><p>Zwraca centralną pozycję spawnu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getCreatures()</span></code></p></td>
<td><p>Zwraca listę typów stworzeń w tym spawnie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">addCreature(const</span> <span class="pre">Position&amp;</span> <span class="pre">placePos,</span> <span class="pre">const</span> <span class="pre">CreatureTypePtr&amp;</span> <span class="pre">cType)</span></code></p></td>
<td><p>Dodaje stworzenie do spawnu w określonym miejscu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">removeCreature(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Usuwa stworzenie z danej pozycji.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code></p></td>
<td><p>Czyści listę stworzeń.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasa-creaturetype">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CreatureType</span></code><a class="headerlink" href="#klasa-creaturetype" title="Link to this heading">#</a></h1>
</section>
<section id="id59">
<h1>Opis<a class="headerlink" href="#id59" title="Link to this heading">#</a></h1>
<p>Reprezentuje szablon (typ) stworzenia. Przechowuje domyślne właściwości, takie jak nazwa, ubiór czy kierunek, które są używane do tworzenia instancji <code class="docutils literal notranslate"><span class="pre">Creature</span></code>.</p>
</section>
<section id="id60">
<h1>Metody<a class="headerlink" href="#id60" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setSpawnTime(int32</span> <span class="pre">spawnTime)</span></code></p></td>
<td><p>Ustawia czas odradzania.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSpawnTime()</span></code></p></td>
<td><p>Zwraca czas odradzania.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setName(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></p></td>
<td><p>Ustawia nazwę typu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getName()</span></code></p></td>
<td><p>Zwraca nazwę.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setOutfit(const</span> <span class="pre">Outfit&amp;</span> <span class="pre">o)</span></code></p></td>
<td><p>Ustawia domyślny ubiór.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getOutfit()</span></code></p></td>
<td><p>Zwraca domyślny ubiór.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cast()</span></code></p></td>
<td><p>Tworzy i zwraca instancję <code class="docutils literal notranslate"><span class="pre">Creature</span></code> na podstawie tego typu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasa-creaturemanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CreatureManager</span></code><a class="headerlink" href="#klasa-creaturemanager" title="Link to this heading">#</a></h1>
</section>
<section id="id61">
<h1>Opis<a class="headerlink" href="#id61" title="Link to this heading">#</a></h1>
<p>Singleton (<code class="docutils literal notranslate"><span class="pre">g_creatures</span></code>) zarządzający wszystkimi typami stworzeń i spawnami. Wczytuje te dane z plików XML.</p>
</section>
<section id="id62">
<h1>Metody<a class="headerlink" href="#id62" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadMonsters(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td><p>Wczytuje dane o potworach z pliku.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">loadNpcs(const</span> <span class="pre">std::string&amp;</span> <span class="pre">folder)</span></code></p></td>
<td><p>Wczytuje dane o NPC z folderu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadSpawns(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Wczytuje dane o spawnach.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">saveSpawns(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Zapisuje dane o spawnach.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getCreatureByName(std::string</span> <span class="pre">name)</span></code></p></td>
<td><p>Zwraca typ stworzenia po nazwie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSpawn(const</span> <span class="pre">Position&amp;</span> <span class="pre">centerPos)</span></code></p></td>
<td><p>Zwraca spawn na podstawie jego centralnej pozycji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addSpawn(...)</span></code></p></td>
<td><p>Dodaje nowy spawn.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id63">
<h1>Zmienne globalne<a class="headerlink" href="#id63" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager</span> <span class="pre">g_creatures</span></code>: Globalna instancja managera stworzeń.</p></li>
</ul>
</section>
<section id="id64">
<h1>Zależności i powiązania<a class="headerlink" href="#id64" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">outfit.h</span></code></strong>: Definicje typów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">creature.h</span></code></strong>: <code class="docutils literal notranslate"><span class="pre">CreatureType::cast()</span></code> tworzy obiekty <code class="docutils literal notranslate"><span class="pre">Creature</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="declarations-h">
<h1>📄 declarations.h<a class="headerlink" href="#declarations-h" title="Link to this heading">#</a></h1>
</section>
<section id="id65">
<h1>Ogólny opis<a class="headerlink" href="#id65" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy zawierający deklaracje wyprzedzające (forward declarations) oraz definicje typów wskaźników i kolekcji używanych w całym module klienta. Jego głównym celem jest przełamanie cyklicznych zależności między plikami nagłówkowymi.</p>
</section>
<section id="zawartosc">
<h1>Zawartość<a class="headerlink" href="#zawartosc" title="Link to this heading">#</a></h1>
</section>
<section id="deklaracje-wyprzedzajace">
<h1>Deklaracje wyprzedzające<a class="headerlink" href="#deklaracje-wyprzedzajace" title="Link to this heading">#</a></h1>
<p>Plik deklaruje istnienie klas bez konieczności dołączania ich pełnych definicji. Obejmuje to klasy z różnych modułów:</p>
<ul class="simple">
<li><p><strong>Core</strong>: <code class="docutils literal notranslate"><span class="pre">Map</span></code>, <code class="docutils literal notranslate"><span class="pre">Game</span></code>, <code class="docutils literal notranslate"><span class="pre">Tile</span></code>, <code class="docutils literal notranslate"><span class="pre">Thing</span></code>, <code class="docutils literal notranslate"><span class="pre">Item</span></code>, <code class="docutils literal notranslate"><span class="pre">Creature</span></code>, <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code>, <code class="docutils literal notranslate"><span class="pre">Effect</span></code>, <code class="docutils literal notranslate"><span class="pre">House</span></code>, <code class="docutils literal notranslate"><span class="pre">Town</span></code> itp.</p></li>
<li><p><strong>Net</strong>: <code class="docutils literal notranslate"><span class="pre">ProtocolLogin</span></code>, <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code>.</p></li>
<li><p><strong>UI</strong>: <code class="docutils literal notranslate"><span class="pre">UIItem</span></code>, <code class="docutils literal notranslate"><span class="pre">UICreature</span></code>, <code class="docutils literal notranslate"><span class="pre">UIMap</span></code>, <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code> itp.</p></li>
<li><p><strong>Custom</strong>: <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code>.</p></li>
</ul>
</section>
<section id="definicje-typow-typedef">
<h1>Definicje typów (<code class="docutils literal notranslate"><span class="pre">typedef</span></code>)<a class="headerlink" href="#definicje-typow-typedef" title="Link to this heading">#</a></h1>
<p>Definiuje inteligentne wskaźniki (<code class="docutils literal notranslate"><span class="pre">shared_object_ptr</span></code>) dla większości zadeklarowanych klas, np.:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MapViewPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TilePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ItemPtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreaturePtr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayerPtr</span></code></p></li>
</ul>
</section>
<section id="definicje-kolekcji-typedef">
<h1>Definicje kolekcji (<code class="docutils literal notranslate"><span class="pre">typedef</span></code>)<a class="headerlink" href="#definicje-kolekcji-typedef" title="Link to this heading">#</a></h1>
<p>Definiuje standardowe typy kolekcji dla zadeklarowanych obiektów, ułatwiając ich użycie w kodzie:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ThingList</span></code> (<code class="docutils literal notranslate"><span class="pre">std::vector&lt;ThingPtr&gt;</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HouseList</span></code> (<code class="docutils literal notranslate"><span class="pre">std::list&lt;HousePtr&gt;</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TileMap</span></code> (<code class="docutils literal notranslate"><span class="pre">std::unordered_map&lt;Position,</span> <span class="pre">TilePtr,</span> <span class="pre">PositionHasher&gt;</span></code>)</p></li>
</ul>
</section>
<section id="id66">
<h1>Zależności i powiązania<a class="headerlink" href="#id66" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">global.h</span></code></strong>: Dołącza podstawowe definicje.</p></li>
<li><p>Plik ten jest dołączany przez niemal wszystkie inne pliki nagłówkowe w module, aby zapewnić dostęp do definicji typów wskaźników i uniknąć problemów z zależnościami.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="creatures-cpp">
<h1>📄 creatures.cpp<a class="headerlink" href="#creatures-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id67">
<h1>Ogólny opis<a class="headerlink" href="#id67" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">CreatureManager</span></code> i <code class="docutils literal notranslate"><span class="pre">Spawn</span></code>, odpowiedzialnych za zarządzanie typami stworzeń i ich miejscami odradzania. Plik zawiera logikę wczytywania i zapisywania danych z plików XML oraz zarządzania stworzeniami na mapie.</p>
</section>
<section id="funkcje-pomocnicze">
<h1>Funkcje pomocnicze<a class="headerlink" href="#funkcje-pomocnicze" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">isInZone(...)</span></code></strong>: Sprawdza, czy dana pozycja znajduje się w promieniu spawnu.</p></li>
</ul>
</section>
<section id="id68">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Spawn</span></code><a class="headerlink" href="#id68" title="Link to this heading">#</a></h1>
</section>
<section id="id69">
<h1>Metody<a class="headerlink" href="#id69" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">load(TiXmlElement*</span> <span class="pre">node)</span></code></p></td>
<td><p>Wczytuje dane spawnu z węzła XML, w tym pozycję centralną, promień oraz listę stworzeń z ich atrybutami.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">save(TiXmlElement*</span> <span class="pre">node)</span></code></p></td>
<td><p>Zapisuje dane spawnu do węzła XML.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addCreature(...)</span></code></p></td>
<td><p>Dodaje stworzenie do spawnu. Najpierw tworzy instancję <code class="docutils literal notranslate"><span class="pre">Creature</span></code> na podstawie <code class="docutils literal notranslate"><span class="pre">CreatureType</span></code> za pomocą <code class="docutils literal notranslate"><span class="pre">cast()</span></code>, a następnie dodaje ją na mapę (<code class="docutils literal notranslate"><span class="pre">g_map.addThing</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">removeCreature(...)</span></code></p></td>
<td><p>Usuwa stworzenie ze spawnu i z mapy.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getCreatures()</span></code></p></td>
<td><p>Zwraca listę wszystkich typów stworzeń w tym spawnie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id70">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CreatureType</span></code><a class="headerlink" href="#id70" title="Link to this heading">#</a></h1>
</section>
<section id="id71">
<h1>Metody<a class="headerlink" href="#id71" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cast()</span></code></p></td>
<td><p>Tworzy nową instancję <code class="docutils literal notranslate"><span class="pre">Creature</span></code>, ustawia jej nazwę, kierunek i ubiór na podstawie danych z <code class="docutils literal notranslate"><span class="pre">CreatureType</span></code>, a następnie zwraca ją jako <code class="docutils literal notranslate"><span class="pre">CreaturePtr</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id72">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">CreatureManager</span></code><a class="headerlink" href="#id72" title="Link to this heading">#</a></h1>
</section>
<section id="id73">
<h1>Metody<a class="headerlink" href="#id73" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td><p>Czyści wszystkie dane managera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">loadMonsters(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td><p>Wczytuje główny plik XML z potworami, który zawiera odnośniki do pojedynczych plików XML dla każdego potwora.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadSingleCreature(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td><p>Wczytuje dane pojedynczego stworzenia z pliku XML.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">loadNpcs(const</span> <span class="pre">std::string&amp;</span> <span class="pre">folder)</span></code></p></td>
<td><p>Wczytuje wszystkie pliki XML z danego folderu jako definicje NPC.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadSpawns(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Wczytuje plik XML ze spawnami i umieszcza stworzenia na mapie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">saveSpawns(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Zapisuje aktualny stan spawnów do pliku XML.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">internalLoadCreatureBuffer(...)</span></code></p></td>
<td><p>Parsuje bufor XML z definicją stworzenia, tworzy obiekt <code class="docutils literal notranslate"><span class="pre">CreatureType</span></code> i dodaje go do listy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getCreatureByName(std::string</span> <span class="pre">name)</span></code></p></td>
<td><p>Wyszukuje typ stworzenia po nazwie (z normalizacją wielkości liter).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getCreatureByLook(int</span> <span class="pre">look)</span></code></p></td>
<td><p>Wyszukuje typ stworzenia po jego ID wyglądu (outfit ID lub item ID).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSpawn(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">getSpawnForPlacePos(...)</span></code></p></td>
<td><p>Wyszukuje spawn na podstawie pozycji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addSpawn(...)</span></code></p></td>
<td><p>Dodaje nowy spawn lub aktualizuje istniejący.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">deleteSpawn(...)</span></code></p></td>
<td><p>Usuwa spawn z managera.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id74">
<h1>Zależności i powiązania<a class="headerlink" href="#id74" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>: Dodaje i usuwa stworzenia z mapy (<code class="docutils literal notranslate"><span class="pre">g_map</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">creature.h</span></code></strong>: Tworzy instancje <code class="docutils literal notranslate"><span class="pre">Creature</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/xml/tinyxml.h</span></code></strong>: Używane do parsowania plików XML.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code></strong>: Do odczytu plików z danymi.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="effect-cpp">
<h1>📄 effect.cpp<a class="headerlink" href="#effect-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id75">
<h1>Ogólny opis<a class="headerlink" href="#id75" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Effect</span></code>, która odpowiada za renderowanie efektów wizualnych na mapie, takich jak eksplozje, efekty magiczne itp.</p>
</section>
<section id="klasa-effect">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Effect</span></code><a class="headerlink" href="#klasa-effect" title="Link to this heading">#</a></h1>
</section>
<section id="id76">
<h1>Metody<a class="headerlink" href="#id76" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Rysuje efekt na ekranie. Oblicza aktualną fazę animacji na podstawie czasu, który upłynął od pojawienia się efektu. Jeśli włączona jest funkcja <code class="docutils literal notranslate"><span class="pre">GameEnhancedAnimations</span></code>, używa <code class="docutils literal notranslate"><span class="pre">Animator::getPhaseAt</span></code> dla płynniejszej, niezależnej animacji.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onAppear()</span></code></p></td>
<td><p>Metoda wywoływana, gdy efekt pojawia się na mapie. Resetuje timer animacji i planuje automatyczne usunięcie efektu po zakończeniu jego całkowitego czasu trwania.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setId(uint32</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID efektu, sprawdzając jego poprawność w <code class="docutils literal notranslate"><span class="pre">g_things</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getThingType()</span></code> / <code class="docutils literal notranslate"><span class="pre">rawGetThingType()</span></code></p></td>
<td><p>Zwracają <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> dla danego efektu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id77">
<h1>Zależności i powiązania<a class="headerlink" href="#id77" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_map</span></code> do usunięcia efektu po zakończeniu animacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Sprawdza, czy włączona jest funkcja <code class="docutils literal notranslate"><span class="pre">GameEnhancedAnimations</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> do planowania usunięcia.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="global-h">
<h1>📄 global.h<a class="headerlink" href="#global-h" title="Link to this heading">#</a></h1>
</section>
<section id="id78">
<h1>Ogólny opis<a class="headerlink" href="#id78" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy, który pełni rolę centralnego punktu dołączania najważniejszych plików nagłówkowych używanych w całym projekcie klienta.</p>
</section>
<section id="id79">
<h1>Zawartość<a class="headerlink" href="#id79" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&lt;framework/global.h&gt;</span></code></strong>: Dołącza globalne definicje z warstwy frameworka.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&quot;const.h&quot;</span></code></strong>: Dołącza stałe i typy wyliczeniowe specyficzne dla klienta gry.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&quot;position.h&quot;</span></code></strong>: Dołącza definicję klasy <code class="docutils literal notranslate"><span class="pre">Position</span></code>.</p></li>
</ul>
</section>
<section id="cel">
<h1>Cel<a class="headerlink" href="#cel" title="Link to this heading">#</a></h1>
<p>Celem tego pliku jest uproszczenie dołączania nagłówków w innych plikach. Zamiast dołączać wiele podstawowych plików, wystarczy dołączyć <code class="docutils literal notranslate"><span class="pre">global.h</span></code>.</p>
</section>
<hr class="docutils" />
<section id="effect-h">
<h1>📄 effect.h<a class="headerlink" href="#effect-h" title="Link to this heading">#</a></h1>
</section>
<section id="id80">
<h1>Ogólny opis<a class="headerlink" href="#id80" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">Effect</span></code>, definiujący jej interfejs.</p>
</section>
<section id="id81">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Effect</span></code><a class="headerlink" href="#id81" title="Link to this heading">#</a></h1>
</section>
<section id="id82">
<h1>Opis<a class="headerlink" href="#id82" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">Effect</span></code> dziedziczy po <code class="docutils literal notranslate"><span class="pre">Thing</span></code> i reprezentuje krótkotrwały efekt wizualny na mapie.</p>
</section>
<section id="stale">
<h1>Stałe<a class="headerlink" href="#stale" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">EFFECT_TICKS_PER_FRAME</span></code></strong>: Domyślny czas trwania jednej klatki animacji efektu (75 ms).</p></li>
</ul>
</section>
<section id="id83">
<h1>Metody<a class="headerlink" href="#id83" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Rysuje efekt w danym miejscu na mapie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setId(uint32</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID (typ) efektu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getId()</span></code></p></td>
<td><p>Zwraca ID efektu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">asEffect()</span></code></p></td>
<td><p>Rzutuje wskaźnik na <code class="docutils literal notranslate"><span class="pre">EffectPtr</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isEffect()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getThingType()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> dla tego efektu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id84">
<h1>Zależności i powiązania<a class="headerlink" href="#id84" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thing.h</span></code></strong>: Klasa bazowa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">Timer</span></code> do śledzenia postępu animacji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="healthbars-cpp">
<h1>📄 healthbars.cpp<a class="headerlink" href="#healthbars-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id85">
<h1>Ogólny opis<a class="headerlink" href="#id85" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">HealthBars</span></code>, globalnego managera niestandardowych teł dla pasków życia i many. Umożliwia ładowanie i przypisywanie różnych grafik do pasków zdrowia w zależności od ID ubioru postaci.</p>
</section>
<section id="klasa-healthbars">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HealthBars</span></code><a class="headerlink" href="#klasa-healthbars" title="Link to this heading">#</a></h1>
</section>
<section id="id86">
<h1>Metody<a class="headerlink" href="#id86" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">init()</span></code></p></td>
<td><p>Inicjalizuje wektory na paski życia i many, rezerwując miejsce i dodając <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> jako domyślny pasek (ID 0).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td><p>Czyści wszystkie załadowane tła pasków.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addHealthBackground(...)</span></code></p></td>
<td><p>Dodaje nowe tło dla paska życia. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code>, ustawia jego właściwości (ścieżka, tekstura, offsety, wysokość) i dodaje go do wektora <code class="docutils literal notranslate"><span class="pre">m_healthBars</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">addManaBackground(...)</span></code></p></td>
<td><p>Działa analogicznie do <code class="docutils literal notranslate"><span class="pre">addHealthBackground</span></code>, ale dla pasków many.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getHealthBarPath(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca ścieżkę do pliku graficznego dla paska życia o danym ID.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getManaBarPath(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca ścieżkę do pliku graficznego dla paska many o danym ID.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getHealthBarOffset(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca przesunięcie tła dla paska życia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getManaBarOffset(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca przesunięcie tła dla paska many.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getHealthBarOffsetBar(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca przesunięcie samego paska (wypełnienia) wewnątrz tła.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getManaBarOffsetBar(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Działa analogicznie dla paska many.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getHealthBarHeight(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca wysokość paska życia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getManaBarHeight(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca wysokość paska many.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasa-healthbar">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code><a class="headerlink" href="#klasa-healthbar" title="Link to this heading">#</a></h1>
</section>
<section id="id87">
<h1>Metody<a class="headerlink" href="#id87" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">path)</span></code></p></td>
<td><p>Wczytuje teksturę tła paska z podanej ścieżki za pomocą <code class="docutils literal notranslate"><span class="pre">g_textures</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id88">
<h1>Zmienne globalne<a class="headerlink" href="#id88" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HealthBars</span> <span class="pre">g_healthBars</span></code>: Globalna instancja managera.</p></li>
</ul>
</section>
<section id="id89">
<h1>Zależności i powiązania<a class="headerlink" href="#id89" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/texturemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_textures</span></code> do ładowania grafik.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">creature.cpp</span></code></strong>: Logika rysowania informacji o postaci (<code class="docutils literal notranslate"><span class="pre">drawInformation</span></code>) używa <code class="docutils literal notranslate"><span class="pre">g_healthBars</span></code> do pobierania niestandardowych teł pasków.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="game-h">
<h1>📄 game.h<a class="headerlink" href="#game-h" title="Link to this heading">#</a></h1>
</section>
<section id="id90">
<h1>Ogólny opis<a class="headerlink" href="#id90" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">Game</span></code>, która jest centralnym punktem zarządzania stanem gry. Definiuje interfejs do obsługi logowania, akcji gracza, komunikacji z serwerem oraz przechowywania stanu gry.</p>
</section>
<section id="klasa-game">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Game</span></code><a class="headerlink" href="#klasa-game" title="Link to this heading">#</a></h1>
</section>
<section id="id91">
<h1>Opis<a class="headerlink" href="#id91" title="Link to this heading">#</a></h1>
<p>Singleton (<code class="docutils literal notranslate"><span class="pre">g_game</span></code>) pełniący rolę fasady dla całej logiki gry. Zarządza sesją gracza, protokołem sieciowym, stanem lokalnego gracza i interakcjami ze światem gry.</p>
</section>
<section id="struktury">
<h1>Struktury<a class="headerlink" href="#struktury" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">UnjustifiedPoints</span></code></strong>: Przechowuje informacje o punktach za nieuzasadnione zabójstwa w systemie PvP.</p></li>
</ul>
</section>
<section id="metody-publiczne">
<h1>Metody (Publiczne)<a class="headerlink" href="#metody-publiczne" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Grupa</p></th>
<th class="head"><p>Metody</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Zarządzanie sesją</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">loginWorld</span></code>, <code class="docutils literal notranslate"><span class="pre">playRecord</span></code>, <code class="docutils literal notranslate"><span class="pre">cancelLogin</span></code>, <code class="docutils literal notranslate"><span class="pre">forceLogout</span></code>, <code class="docutils literal notranslate"><span class="pre">safeLogout</span></code></p></td>
<td><p>Logowanie do świata gry, odtwarzanie nagrań, wylogowywanie.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Akcje gracza</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">walk</span></code>, <code class="docutils literal notranslate"><span class="pre">autoWalk</span></code>, <code class="docutils literal notranslate"><span class="pre">turn</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code>, <code class="docutils literal notranslate"><span class="pre">look</span></code>, <code class="docutils literal notranslate"><span class="pre">move</span></code>, <code class="docutils literal notranslate"><span class="pre">use</span></code>, <code class="docutils literal notranslate"><span class="pre">useWith</span></code></p></td>
<td><p>Wysyłanie żądań akcji gracza do serwera.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Kontenery</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">open</span></code>, <code class="docutils literal notranslate"><span class="pre">close</span></code>, <code class="docutils literal notranslate"><span class="pre">refreshContainer</span></code></p></td>
<td><p>Zarządzanie kontenerami.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Walka</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">attack</span></code>, <code class="docutils literal notranslate"><span class="pre">follow</span></code>, <code class="docutils literal notranslate"><span class="pre">cancelAttackAndFollow</span></code></p></td>
<td><p>Zarządzanie atakiem i śledzeniem.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Komunikacja</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">talk</span></code>, <code class="docutils literal notranslate"><span class="pre">talkChannel</span></code>, <code class="docutils literal notranslate"><span class="pre">talkPrivate</span></code></p></td>
<td><p>Wysyłanie wiadomości.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Zarządzanie stanem</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">setProtocolVersion</span></code>, <code class="docutils literal notranslate"><span class="pre">setClientVersion</span></code>, <code class="docutils literal notranslate"><span class="pre">enableFeature</span></code>, <code class="docutils literal notranslate"><span class="pre">getFeature</span></code></p></td>
<td><p>Konfiguracja klienta i obsługa funkcji serwera.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Gettery</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">isOnline</span></code>, <code class="docutils literal notranslate"><span class="pre">isDead</span></code>, <code class="docutils literal notranslate"><span class="pre">getLocalPlayer</span></code>, <code class="docutils literal notranslate"><span class="pre">getProtocolGame</span></code>, <code class="docutils literal notranslate"><span class="pre">getPing</span></code></p></td>
<td><p>Dostęp do aktualnego stanu gry.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="metody-chronione-handlery-protokolu">
<h1>Metody (Chronione - Handlery Protokołu)<a class="headerlink" href="#metody-chronione-handlery-protokolu" title="Link to this heading">#</a></h1>
<p>Plik definiuje również liczne metody <code class="docutils literal notranslate"><span class="pre">process...</span></code>, które są wywoływane przez <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code> w odpowiedzi na otrzymane pakiety z serwera. Przykłady:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">processLoginError</span></code>, <code class="docutils literal notranslate"><span class="pre">processEnterGame</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">processTextMessage</span></code>, <code class="docutils literal notranslate"><span class="pre">processTalk</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">processOpenContainer</span></code>, <code class="docutils literal notranslate"><span class="pre">processContainerAddItem</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">processInventoryChange</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">processWalkCancel</span></code></p></li>
</ul>
</section>
<section id="id92">
<h1>Zależności i powiązania<a class="headerlink" href="#id92" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Używa wielu zadeklarowanych typów (<code class="docutils literal notranslate"><span class="pre">ItemPtr</span></code>, <code class="docutils literal notranslate"><span class="pre">CreaturePtr</span></code>, etc.).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">protocolgame.h</span></code></strong>: Ściśle powiązana z protokołem sieciowym.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">localplayer.h</span></code></strong>: Zarządza instancją <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">container.h</span></code></strong>: Zarządza kolekcją otwartych kontenerów.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="healthbars-h">
<h1>📄 healthbars.h<a class="headerlink" href="#healthbars-h" title="Link to this heading">#</a></h1>
</section>
<section id="id93">
<h1>Ogólny opis<a class="headerlink" href="#id93" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy definiujący klasy <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code> i <code class="docutils literal notranslate"><span class="pre">HealthBars</span></code> do zarządzania niestandardowymi tłami pasków życia i many.</p>
</section>
<section id="id94">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code><a class="headerlink" href="#id94" title="Link to this heading">#</a></h1>
</section>
<section id="id95">
<h1>Opis<a class="headerlink" href="#id95" title="Link to this heading">#</a></h1>
<p>Prosta klasa przechowująca informacje o pojedynczym niestandardowym tle paska zdrowia lub many.</p>
</section>
<section id="id96">
<h1>Metody<a class="headerlink" href="#id96" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setPath(const</span> <span class="pre">std::string&amp;</span> <span class="pre">path)</span></code></p></td>
<td><p>Ustawia ścieżkę do pliku graficznego.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getPath()</span></code></p></td>
<td><p>Zwraca ścieżkę.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setTexture(const</span> <span class="pre">std::string&amp;</span> <span class="pre">path)</span></code></p></td>
<td><p>Ładuje teksturę.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTexture()</span></code></p></td>
<td><p>Zwraca wskaźnik do tekstury.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setOffset(int</span> <span class="pre">x,</span> <span class="pre">int</span> <span class="pre">y)</span></code></p></td>
<td><p>Ustawia przesunięcie (offset) całego tła względem punktu zaczepienia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getOffset()</span></code></p></td>
<td><p>Zwraca przesunięcie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setBarOffset(int</span> <span class="pre">x,</span> <span class="pre">int</span> <span class="pre">y)</span></code></p></td>
<td><p>Ustawia przesunięcie samego paska (wypełnienia) wewnątrz tła.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getBarOffset()</span></code></p></td>
<td><p>Zwraca przesunięcie paska.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setHeight(int</span> <span class="pre">height)</span></code></p></td>
<td><p>Ustawia wysokość paska.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getHeight()</span></code></p></td>
<td><p>Zwraca wysokość.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id97">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HealthBars</span></code><a class="headerlink" href="#id97" title="Link to this heading">#</a></h1>
</section>
<section id="id98">
<h1>Opis<a class="headerlink" href="#id98" title="Link to this heading">#</a></h1>
<p>Singleton (<code class="docutils literal notranslate"><span class="pre">g_healthBars</span></code>) zarządzający kolekcją obiektów <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code>. Działa jako repozytorium dla wszystkich niestandardowych teł pasków.</p>
</section>
<section id="id99">
<h1>Metody<a class="headerlink" href="#id99" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">init()</span></code></p></td>
<td><p>Inicjalizuje managera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td><p>Zwalnia zasoby.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addHealthBackground(...)</span></code></p></td>
<td><p>Dodaje nowe tło dla paska życia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">addManaBackground(...)</span></code></p></td>
<td><p>Dodaje nowe tło dla paska many.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getHealthBar(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca obiekt <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code> dla paska życia o danym ID.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getManaBar(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca obiekt <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code> dla paska many o danym ID.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getHealthBarPath(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca ścieżkę do grafiki paska życia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getManaBarPath(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Zwraca ścieżkę do grafiki paska many.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">...</span></code></p></td>
<td><p>Gettery dla pozostałych właściwości paska.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id100">
<h1>Zmienne globalne<a class="headerlink" href="#id100" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HealthBars</span> <span class="pre">g_healthBars</span></code>: Deklaracja zewnętrznej instancji managera.</p></li>
</ul>
</section>
<section id="id101">
<h1>Zależności i powiązania<a class="headerlink" href="#id101" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Podstawowe definicje.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code></strong>: Deklaracje typów graficznych, np. <code class="docutils literal notranslate"><span class="pre">TexturePtr</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="houses-cpp">
<h1>📄 houses.cpp<a class="headerlink" href="#houses-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id102">
<h1>Ogólny opis<a class="headerlink" href="#id102" title="Link to this heading">#</a></h1>
<p>Implementacja klas <code class="docutils literal notranslate"><span class="pre">House</span></code> i <code class="docutils literal notranslate"><span class="pre">HouseManager</span></code>, które zarządzają danymi o domach w grze. Plik zawiera logikę wczytywania i zapisywania danych o domach z/do plików XML oraz zarządzania ich stanem.</p>
</section>
<section id="id103">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">House</span></code><a class="headerlink" href="#id103" title="Link to this heading">#</a></h1>
</section>
<section id="id104">
<h1>Metody<a class="headerlink" href="#id104" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setTile(const</span> <span class="pre">TilePtr&amp;</span> <span class="pre">tile)</span></code></p></td>
<td><p>Dodaje pole do domu, ustawiając na nim flagę <code class="docutils literal notranslate"><span class="pre">TILESTATE_HOUSE</span></code> i ID domu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTile(const</span> <span class="pre">Position&amp;</span> <span class="pre">position)</span></code></p></td>
<td><p>Zwraca pole na podanej pozycji, jeśli należy ono do domu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addDoor(const</span> <span class="pre">ItemPtr&amp;</span> <span class="pre">door)</span></code></p></td>
<td><p>Dodaje drzwi do domu, przypisując im unikalne, inkrementowane ID.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">removeDoorById(uint32</span> <span class="pre">doorId)</span></code></p></td>
<td><p>Usuwa drzwi o podanym ID (ustawia wskaźnik na <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> w wektorze).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">load(const</span> <span class="pre">TiXmlElement</span> <span class="pre">*elem)</span></code></p></td>
<td><p>Wczytuje atrybuty domu (nazwa, czynsz, rozmiar, ID miasta, pozycja wejścia) z węzła XML.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">save(TiXmlElement*</span> <span class="pre">elem)</span></code></p></td>
<td><p>Zapisuje atrybuty domu do węzła XML.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id105">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">HouseManager</span></code><a class="headerlink" href="#id105" title="Link to this heading">#</a></h1>
</section>
<section id="id106">
<h1>Metody<a class="headerlink" href="#id106" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addHouse(const</span> <span class="pre">HousePtr&amp;</span> <span class="pre">house)</span></code></p></td>
<td><p>Dodaje dom do listy, jeśli jeszcze nie istnieje.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">removeHouse(uint32</span> <span class="pre">houseId)</span></code></p></td>
<td><p>Usuwa dom o podanym ID.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getHouse(uint32</span> <span class="pre">houseId)</span></code></p></td>
<td><p>Wyszukuje i zwraca dom po jego ID.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getHouseByName(std::string</span> <span class="pre">name)</span></code></p></td>
<td><p>Wyszukuje i zwraca dom po jego nazwie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Wczytuje listę domów z pliku XML. Dla każdego domu w pliku, jeśli już istnieje w menedżerze, aktualizuje jego dane; w przeciwnym razie tworzy nowy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">save(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Zapisuje listę wszystkich domów do pliku XML.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">filterHouses(uint32</span> <span class="pre">townId)</span></code></p></td>
<td><p>Zwraca listę domów należących do miasta o podanym ID.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">findHouse(uint32</span> <span class="pre">houseId)</span></code></p></td>
<td><p>Wewnętrzna metoda do wyszukiwania iteratora do domu na liście.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sort()</span></code></p></td>
<td><p>Sortuje listę domów alfabetycznie według nazwy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id107">
<h1>Zmienne globalne<a class="headerlink" href="#id107" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HouseManager</span> <span class="pre">g_houses</span></code>: Globalna instancja managera domów.</p></li>
</ul>
</section>
<section id="id108">
<h1>Zależności i powiązania<a class="headerlink" href="#id108" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>: Interakcje z obiektami <code class="docutils literal notranslate"><span class="pre">Tile</span></code> (<code class="docutils literal notranslate"><span class="pre">tile→setFlag(...)</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code></strong>: Do odczytu plików XML z danymi domów.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="item-cpp">
<h1>📄 item.cpp<a class="headerlink" href="#item-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id109">
<h1>Ogólny opis<a class="headerlink" href="#id109" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Item</span></code>, która reprezentuje przedmioty w grze. Plik zawiera logikę rysowania przedmiotów, obsługę ich atrybutów oraz serializację/deserializację do formatu binarnego (OTBM).</p>
</section>
<section id="klasa-item">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Item</span></code><a class="headerlink" href="#klasa-item" title="Link to this heading">#</a></h1>
</section>
<section id="id110">
<h1>Metody<a class="headerlink" href="#id110" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">create(int</span> <span class="pre">id,</span> <span class="pre">int</span> <span class="pre">countOrSubtype)</span></code></p></td>
<td><p>Statyczna metoda fabryczna do tworzenia przedmiotu na podstawie jego ID klienta.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">createFromOtb(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Statyczna metoda fabryczna do tworzenia przedmiotu na podstawie jego ID serwera (z plików OTB).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getName()</span></code></p></td>
<td><p>Zwraca nazwę przedmiotu na podstawie jego typu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Rysuje przedmiot na ekranie. Oblicza fazę animacji oraz wzór (pattern) na podstawie jego właściwości (np. liczba przedmiotów w stosie, typ płynu).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setId(uint32</span> <span class="pre">id)</span></code> / <code class="docutils literal notranslate"><span class="pre">setOtbId(uint16</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID przedmiotu, odpowiednio konwertując między ID klienta a serwera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unserializeItem(const</span> <span class="pre">BinaryTreePtr</span> <span class="pre">&amp;in)</span></code></p></td>
<td><p>Wczytuje atrybuty przedmiotu z binarnego drzewa (format OTBM).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">serializeItem(const</span> <span class="pre">OutputBinaryTreePtr&amp;</span> <span class="pre">out)</span></code></p></td>
<td><p>Zapisuje atrybuty przedmiotu do binarnego drzewa.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSubType()</span></code></p></td>
<td><p>Zwraca podtyp przedmiotu (np. typ płynu).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getCount()</span></code></p></td>
<td><p>Zwraca liczbę przedmiotów w stosie (jeśli jest stackable).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">clone()</span></code></p></td>
<td><p>Tworzy i zwraca głęboką kopię przedmiotu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">calculatePatterns(...)</span></code></p></td>
<td><p>Oblicza, który wzór (pattern) sprite’a powinien być użyty, w zależności od typu przedmiotu (stackable, hangable, fluid container).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">calculateAnimationPhase(bool</span> <span class="pre">animate)</span></code></p></td>
<td><p>Oblicza bieżącą klatkę animacji. Obsługuje animacje synchroniczne i asynchroniczne.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getThingType()</span></code> / <code class="docutils literal notranslate"><span class="pre">rawGetThingType()</span></code></p></td>
<td><p>Zwracają <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> dla tego przedmiotu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id111">
<h1>Zależności i powiązania<a class="headerlink" href="#id111" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thingtypemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_things</span></code> do uzyskiwania informacji o typach przedmiotów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_sprites</span></code> do pobierania danych o sprite’ach.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_game</span></code> do sprawdzania funkcji serwera (np. <code class="docutils literal notranslate"><span class="pre">GameNewFluids</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>: Interakcje z polem, na którym leży przedmiot (np. do określenia, jak zawiesić przedmiot).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="itemtype-cpp">
<h1>📄 itemtype.cpp<a class="headerlink" href="#itemtype-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id112">
<h1>Ogólny opis<a class="headerlink" href="#id112" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">ItemType</span></code>, która reprezentuje szablon (typ) przedmiotu. Plik zawiera logikę wczytywania definicji typów przedmiotów z binarnego formatu OTB.</p>
</section>
<section id="klasa-itemtype">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ItemType</span></code><a class="headerlink" href="#klasa-itemtype" title="Link to this heading">#</a></h1>
</section>
<section id="id113">
<h1>Metody<a class="headerlink" href="#id113" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unserialize(const</span> <span class="pre">BinaryTreePtr&amp;</span> <span class="pre">node)</span></code></p></td>
<td><p>Deserializuje dane typu przedmiotu z węzła binarnego drzewa. Odczytuje kategorię przedmiotu oraz listę jego atrybutów, takich jak ID serwera, ID klienta, nazwa, czy jest zapisywalny itp. Obsługuje różnice w formacie w zależności od wersji klienta.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="logika-serializacji">
<h1>Logika serializacji<a class="headerlink" href="#logika-serializacji" title="Link to this heading">#</a></h1>
<p>Metoda <code class="docutils literal notranslate"><span class="pre">unserialize</span></code> zawiera logikę dostosowującą wczytywanie atrybutów do różnych wersji klienta Tibii. Na przykład, dla starszych wersji klienta, ID serwera musi być dostosowane, aby poprawnie mapować przedmioty.</p>
<blockquote>
<div><p>NOTE: Statyczna zmienna <code class="docutils literal notranslate"><span class="pre">lastId</span></code> jest używana do tworzenia „pustych” typów przedmiotów, jeśli w pliku OTB występują luki w numeracji ID serwera. Jest to mechanizm zapewniający spójność indeksowania.</p>
</div></blockquote>
</section>
<section id="id114">
<h1>Zależności i powiązania<a class="headerlink" href="#id114" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thingtypemanager.h</span></code></strong>: Jest ściśle powiązana z <code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code>, który zarządza wszystkimi typami przedmiotów i wywołuje <code class="docutils literal notranslate"><span class="pre">unserialize</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_game</span></code> do sprawdzania wersji klienta, co wpływa na logikę parsowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/binarytree.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">BinaryTree</span></code> do odczytu danych z formatu OTB.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="item-h">
<h1>📄 item.h<a class="headerlink" href="#item-h" title="Link to this heading">#</a></h1>
</section>
<section id="id115">
<h1>Ogólny opis<a class="headerlink" href="#id115" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">Item</span></code>, która reprezentuje konkretny przedmiot w grze.</p>
</section>
<section id="id116">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Item</span></code><a class="headerlink" href="#id116" title="Link to this heading">#</a></h1>
</section>
<section id="id117">
<h1>Opis<a class="headerlink" href="#id117" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">Thing</span></code>. Reprezentuje instancję przedmiotu, która może znajdować się na mapie, w kontenerze lub w ekwipunku gracza. Posiada właściwości takie jak ID, liczba/podtyp, kolor, a także może zawierać inne przedmioty, jeśli jest kontenerem.</p>
</section>
<section id="id118">
<h1>Typy wyliczeniowe<a class="headerlink" href="#id118" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ItemAttr</span></code></strong>: Definiuje klucze atrybutów, które mogą być przypisane do przedmiotu (np. <code class="docutils literal notranslate"><span class="pre">ATTR_COUNT</span></code>, <code class="docutils literal notranslate"><span class="pre">ATTR_ACTION_ID</span></code>, <code class="docutils literal notranslate"><span class="pre">ATTR_TEXT</span></code>).</p></li>
</ul>
</section>
<section id="id119">
<h1>Metody<a class="headerlink" href="#id119" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">create(int</span> <span class="pre">id,</span> <span class="pre">...)</span></code></p></td>
<td><p>Statyczna metoda fabryczna do tworzenia przedmiotu po ID klienta.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">createFromOtb(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Statyczna metoda fabryczna do tworzenia przedmiotu po ID serwera (OTB).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Rysuje przedmiot na ekranie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setId(uint32</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID klienta przedmiotu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setOtbId(uint16</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID serwera (OTB) przedmiotu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setCountOrSubType(int</span> <span class="pre">value)</span></code></p></td>
<td><p>Ustawia liczbę (dla przedmiotów stackowalnych) lub podtyp (dla płynów, etc.).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getCount()</span></code></p></td>
<td><p>Zwraca liczbę przedmiotów.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSubType()</span></code></p></td>
<td><p>Zwraca podtyp przedmiotu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getServerId()</span></code></p></td>
<td><p>Zwraca ID serwera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unserializeItem(...)</span></code></p></td>
<td><p>Wczytuje atrybuty przedmiotu z formatu binarnego.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">serializeItem(...)</span></code></p></td>
<td><p>Zapisuje atrybuty przedmiotu do formatu binarnego.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isContainer()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli przedmiot jest kontenerem.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">clone()</span></code></p></td>
<td><p>Tworzy głęboką kopię przedmiotu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getContainerItems()</span></code></p></td>
<td><p>Zwraca listę przedmiotów wewnątrz, jeśli jest kontenerem.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setCustomAttribute(...)</span></code></p></td>
<td><p>Ustawia niestandardowy atrybut przedmiotu (funkcja dla serwerów niestandardowych).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id120">
<h1>Zależności i powiązania<a class="headerlink" href="#id120" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thing.h</span></code></strong>: Klasa bazowa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">itemtype.h</span></code></strong>: Każdy <code class="docutils literal notranslate"><span class="pre">Item</span></code> jest instancją jakiegoś <code class="docutils literal notranslate"><span class="pre">ItemType</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="itemtype-h">
<h1>📄 itemtype.h<a class="headerlink" href="#itemtype-h" title="Link to this heading">#</a></h1>
</section>
<section id="id121">
<h1>Ogólny opis<a class="headerlink" href="#id121" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">ItemType</span></code>, która reprezentuje szablon (typ) przedmiotu.</p>
</section>
<section id="id122">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ItemType</span></code><a class="headerlink" href="#id122" title="Link to this heading">#</a></h1>
</section>
<section id="id123">
<h1>Opis<a class="headerlink" href="#id123" title="Link to this heading">#</a></h1>
<p>Przechowuje niezmienne właściwości dla danego typu przedmiotu, wczytywane z plików OTB. Wszystkie instancje <code class="docutils literal notranslate"><span class="pre">Item</span></code> o tym samym ID dzielą jeden obiekt <code class="docutils literal notranslate"><span class="pre">ItemType</span></code>.</p>
</section>
<section id="id124">
<h1>Typy wyliczeniowe<a class="headerlink" href="#id124" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ItemCategory</span></code></strong>: Kategorie przedmiotów (broń, zbroja, pojemnik itp.).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ItemTypeAttr</span></code></strong>: Atrybuty typu przedmiotu wczytywane z OTB.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ClientVersion</span></code></strong>: Wersje klienta, używane do obsługi różnic w formatach plików.</p></li>
</ul>
</section>
<section id="id125">
<h1>Metody<a class="headerlink" href="#id125" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unserialize(const</span> <span class="pre">BinaryTreePtr&amp;</span> <span class="pre">node)</span></code></p></td>
<td><p>Wczytuje dane typu przedmiotu z binarnego formatu OTB.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setServerId(uint16</span> <span class="pre">serverId)</span></code></p></td>
<td><p>Ustawia ID serwera.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getServerId()</span></code></p></td>
<td><p>Zwraca ID serwera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setClientId(uint16</span> <span class="pre">clientId)</span></code></p></td>
<td><p>Ustawia ID klienta.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getClientId()</span></code></p></td>
<td><p>Zwraca ID klienta.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getCategory()</span></code></p></td>
<td><p>Zwraca kategorię przedmiotu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getName()</span></code></p></td>
<td><p>Zwraca nazwę przedmiotu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isWritable()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli na przedmiocie można pisać.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id126">
<h1>Zależności i powiązania<a class="headerlink" href="#id126" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code></strong>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>, aby być dostępnym z Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/xml/tinyxml.h</span></code></strong>: Używane do parsowania dodatkowych danych z <code class="docutils literal notranslate"><span class="pre">items.xml</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="lightview-cpp">
<h1>📄 lightview.cpp<a class="headerlink" href="#lightview-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id127">
<h1>Ogólny opis<a class="headerlink" href="#id127" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">LightView</span></code>, która zarządza i renderuje dynamiczne oświetlenie na mapie.</p>
</section>
<section id="klasa-lightview">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LightView</span></code><a class="headerlink" href="#klasa-lightview" title="Link to this heading">#</a></h1>
</section>
<section id="id128">
<h1>Metody<a class="headerlink" href="#id128" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addLight(const</span> <span class="pre">Point&amp;</span> <span class="pre">pos,</span> <span class="pre">uint8_t</span> <span class="pre">color,</span> <span class="pre">uint8_t</span> <span class="pre">intensity)</span></code></p></td>
<td><p>Dodaje nowe źródło światła do sceny. Jeśli w tym samym miejscu istnieje już światło o tym samym kolorze, wybierana jest większa intensywność.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setFieldBrightness(...)</span></code></p></td>
<td><p>Ustawia jasność dla danego pola na mapie. Ta metoda nie jest w pełni zaimplementowana i jej rola wydaje się ograniczona.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw()</span></code></p></td>
<td><p>Główna funkcja renderująca. Przebiega przez wszystkie pola widoczne na ekranie i dla każdego piksela oblicza finalny kolor światła, sumując wpływ globalnego oświetlenia i wszystkich pobliskich źródeł światła. Wynik jest zapisywany do bufora, a następnie przesyłany do tekstury (<code class="docutils literal notranslate"><span class="pre">m_lightTexture</span></code>), która jest rysowana na ekranie z trybem mieszania <code class="docutils literal notranslate"><span class="pre">CompositionMode_Multiply</span></code>, aby przyciemnić scenę.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="logika-renderowania">
<h1>Logika renderowania<a class="headerlink" href="#logika-renderowania" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Tworzony jest bufor pikseli o rozmiarze widocznego obszaru mapy.</p></li>
<li><p>Każdy piksel w buforze jest inicjalizowany globalnym światłem otoczenia.</p></li>
<li><p>Dla każdego piksela iteruje się przez wszystkie źródła światła.</p></li>
<li><p>Obliczana jest odległość piksela od źródła światła, a na jej podstawie intensywność światła w tym punkcie.</p></li>
<li><p>Kolor światła jest mieszany z kolorem piksela w buforze (wybierany jest najjaśniejszy kanał R, G, B).</p></li>
<li><p>Po przetworzeniu wszystkich pikseli, bufor jest ładowany do tekstury.</p></li>
<li><p>Tekstura światła jest rysowana na wierzchu sceny, przyciemniając ją.</p></li>
</ol>
</section>
<section id="id129">
<h1>Zależności i powiązania<a class="headerlink" href="#id129" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_sprites.spriteSize()</span></code> do obliczeń związanych z rozmiarami pól.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/painter.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_painter</span></code> do rysowania finalnej tekstury światła.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="lightview-h">
<h1>📄 lightview.h<a class="headerlink" href="#lightview-h" title="Link to this heading">#</a></h1>
</section>
<section id="id130">
<h1>Ogólny opis<a class="headerlink" href="#id130" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">LightView</span></code>, która jest odpowiedzialna za system dynamicznego oświetlenia w grze.</p>
</section>
<section id="struktura-tilelight">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">TileLight</span></code><a class="headerlink" href="#struktura-tilelight" title="Link to this heading">#</a></h1>
</section>
<section id="id131">
<h1>Opis<a class="headerlink" href="#id131" title="Link to this heading">#</a></h1>
<p>Prosta struktura przechowująca informacje o świetle dla pojedynczego pola mapy.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code>: Indeks początkowy w liście świateł, od którego należy zacząć obliczenia dla tego pola.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color</span></code>: Kolor światła.</p></li>
</ul>
</section>
<section id="id132">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LightView</span></code><a class="headerlink" href="#id132" title="Link to this heading">#</a></h1>
</section>
<section id="id133">
<h1>Opis<a class="headerlink" href="#id133" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">DrawQueueItem</span></code>, co oznacza, że obiekty tej klasy mogą być dodawane do kolejki rysowania. <code class="docutils literal notranslate"><span class="pre">LightView</span></code> agreguje wszystkie źródła światła w widocznym obszarze i renderuje je do jednej tekstury, która następnie jest nakładana na scenę.</p>
</section>
<section id="id134">
<h1>Metody<a class="headerlink" href="#id134" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LightView(...)</span></code></p></td>
<td><p>Konstruktor. Inicjalizuje widok światła z podanym rozmiarem, teksturą docelową, globalnym kolorem i intensywnością światła.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">addLight(...)</span></code></p></td>
<td><p>Dodaje źródło światła w danej pozycji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setFieldBrightness(...)</span></code></p></td>
<td><p>Ustawia jasność dla danego pola (obecnie nie w pełni wykorzystywane).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">size()</span></code></p></td>
<td><p>Zwraca liczbę źródeł światła.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw()</span></code></p></td>
<td><p>Metoda renderująca, która wykonuje obliczenia oświetlenia i rysuje finalną teksturę.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id135">
<h1>Zależności i powiązania<a class="headerlink" href="#id135" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thingtype.h</span></code></strong>: Używa struktury <code class="docutils literal notranslate"><span class="pre">Light</span></code> zdefiniowanej w <code class="docutils literal notranslate"><span class="pre">thingtype.h</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code></strong>: Jest elementem kolejki rysowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="localplayer-cpp">
<h1>📄 localplayer.cpp<a class="headerlink" href="#localplayer-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id136">
<h1>Ogólny opis<a class="headerlink" href="#id136" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code>, która reprezentuje postać sterowaną przez gracza. Rozszerza klasę <code class="docutils literal notranslate"><span class="pre">Player</span></code> o logikę specyficzną dla lokalnego gracza, taką jak obsługa ruchu inicjowanego przez klienta (pre-walking), blokady chodzenia, auto-walking oraz zarządzanie statystykami.</p>
</section>
<section id="klasa-localplayer">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code><a class="headerlink" href="#klasa-localplayer" title="Link to this heading">#</a></h1>
</section>
<section id="id137">
<h1>Metody<a class="headerlink" href="#id137" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lockWalk(int</span> <span class="pre">millis)</span></code></p></td>
<td><p>Blokuje możliwość chodzenia na określony czas, np. po użyciu przedmiotu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">canWalk(Otc::Direction</span> <span class="pre">direction,</span> <span class="pre">...)</span></code></p></td>
<td><p>Sprawdza, czy gracz może wykonać krok w danym kierunku. Uwzględnia blokady, paraliż, trwający ruch oraz limity „pre-walkingu”.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">walk(const</span> <span class="pre">Position&amp;</span> <span class="pre">oldPos,</span> <span class="pre">const</span> <span class="pre">Position&amp;</span> <span class="pre">newPos)</span></code></p></td>
<td><p>Obsługuje ruch potwierdzony przez serwer. Jeśli ruch odpowiada wykonanemu „pre-walk”, usuwa go z kolejki. Jeśli nie, traktuje to jako ruch wymuszony przez serwer (np. odepchnięcie).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">preWalk(Otc::Direction</span> <span class="pre">direction)</span></code></p></td>
<td><p>Inicjuje „pre-walking” – ruch wykonywany przez klienta przed potwierdzeniem z serwera, aby zniwelować opóźnienie sieciowe. Dodaje nową pozycję do kolejki <code class="docutils literal notranslate"><span class="pre">m_preWalking</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cancelNewWalk(Otc::Direction</span> <span class="pre">dir)</span></code></p></td>
<td><p>Anuluje wszystkie ruchy „pre-walk” w odpowiedzi na pakiet „cancel walk” z serwera. Może próbować ponowić auto-walking.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">predictiveCancelWalk(...)</span></code></p></td>
<td><p>Anuluje ruchy „pre-walk” na podstawie predykcji, jeśli serwer odrzuci krok w połowie ścieżki.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">autoWalk(Position</span> <span class="pre">destination,</span> <span class="pre">...)</span></code></p></td>
<td><p>Inicjuje automatyczne poruszanie się do celu. Asynchronicznie wyszukuje ścieżkę i wysyła ją do serwera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">stopAutoWalk()</span></code></p></td>
<td><p>Przerywa auto-walking.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">stopWalk()</span></code></p></td>
<td><p>Natychmiastowo zatrzymuje wszelki ruch, czyszcząc kolejkę „pre-walk”.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">updateWalkOffset(...)</span></code></p></td>
<td><p>Specjalna implementacja dla „pre-walk”, gdzie offset jest liczony w przeciwnym kierunku niż normalny ruch.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">updateWalk()</span></code></p></td>
<td><p>Aktualizuje stan chodzenia; kończy krok, gdy upłynie jego czas trwania.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">terminateWalk()</span></code></p></td>
<td><p>Finalizuje krok, resetuje stan chodzenia i wywołuje callback <code class="docutils literal notranslate"><span class="pre">onWalkFinish</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onPositionChange(...)</span></code></p></td>
<td><p>Obsługuje zmianę pozycji; jeśli osiągnięto cel auto-walk, zatrzymuje go.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">set...(...)</span></code></p></td>
<td><p>Szereg metod <code class="docutils literal notranslate"><span class="pre">set</span></code> (np. <code class="docutils literal notranslate"><span class="pre">setHealth</span></code>, <code class="docutils literal notranslate"><span class="pre">setSkill</span></code>, <code class="docutils literal notranslate"><span class="pre">setExperience</span></code>), które aktualizują stan lokalnego gracza i wywołują odpowiednie callbacki Lua, informując o zmianach.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hasSight(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Sprawdza, czy dana pozycja jest w zasięgu wzroku gracza.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id138">
<h1>Zależności i powiązania<a class="headerlink" href="#id138" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>: Do sprawdzania, czy pola są możliwe do przejścia.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Do komunikacji z serwerem i zatrzymywania akcji gry.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code></strong>: Do planowania ponownych prób auto-walkingu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="map-cpp">
<h1>📄 map.cpp<a class="headerlink" href="#map-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id139">
<h1>Ogólny opis<a class="headerlink" href="#id139" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Map</span></code>, która jest centralnym repozytorium dla wszystkich danych o świecie gry. Plik zawiera logikę zarządzania polami (<code class="docutils literal notranslate"><span class="pre">Tile</span></code>), umieszczania na nich obiektów (<code class="docutils literal notranslate"><span class="pre">Thing</span></code>), wyszukiwania ścieżek oraz zarządzania widocznym obszarem mapy.</p>
</section>
<section id="klasa-map">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Map</span></code><a class="headerlink" href="#klasa-map" title="Link to this heading">#</a></h1>
</section>
<section id="id140">
<h1>Metody<a class="headerlink" href="#id140" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td><p>Inicjalizuje i zwalnia zasoby mapy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">addMapView(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">removeMapView(...)</span></code></p></td>
<td><p>Dodaje i usuwa widoki mapy (<code class="docutils literal notranslate"><span class="pre">MapView</span></code>), które będą renderować dane.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">notificateTileUpdate(...)</span></code></p></td>
<td><p>Powiadamia wszystkie <code class="docutils literal notranslate"><span class="pre">MapView</span></code> o aktualizacji danego pola, co powoduje jego przerysowanie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">clean()</span></code> / <code class="docutils literal notranslate"><span class="pre">cleanDynamicThings()</span></code></p></td>
<td><p>Czyści mapę ze wszystkich pól lub tylko z obiektów dynamicznych (stworzenia, efekty).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addThing(...)</span></code></p></td>
<td><p>Dodaje obiekt (<code class="docutils literal notranslate"><span class="pre">Thing</span></code>) na mapę w danej pozycji. Obsługuje specjalne przypadki dla pocisków, animowanych i statycznych tekstów (np. łączenie tekstów o obrażeniach).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getThing(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">removeThing(...)</span></code></p></td>
<td><p>Pobiera lub usuwa obiekt z mapy.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getOrCreateTile(...)</span></code></p></td>
<td><p>Zwraca istniejące pole lub tworzy nowe, jeśli nie istnieje.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTiles(...)</span></code></p></td>
<td><p>Zwraca listę wszystkich pól na danym piętrze lub na całej mapie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cleanTile(...)</span></code></p></td>
<td><p>Usuwa wszystkie obiekty z danego pola.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setCentralPosition(...)</span></code></p></td>
<td><p>Ustawia pozycję kamery, co powoduje usunięcie obiektów spoza nowego zasięgu widzenia.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getSpectators(...)</span></code></p></td>
<td><p>Zwraca listę stworzeń w zasięgu widzenia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isAwareOfPosition(...)</span></code></p></td>
<td><p>Sprawdza, czy dana pozycja jest w zasięgu widzenia kamery.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">findPath(...)</span></code></p></td>
<td><p>Implementacja algorytmu wyszukiwania ścieżki A*.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">newFindPath(...)</span></code></p></td>
<td><p>Nowsza, asynchroniczna implementacja wyszukiwania ścieżki.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">findPathAsync(...)</span></code></p></td>
<td><p>Uruchamia <code class="docutils literal notranslate"><span class="pre">newFindPath</span></code> w osobnym wątku.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">findEveryPath(...)</span></code></p></td>
<td><p>Implementacja algorytmu Dijkstry do znalezienia wszystkich możliwych ścieżek w danym zasięgu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="struktura-danych">
<h1>Struktura danych<a class="headerlink" href="#struktura-danych" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">m_tileBlocks</span></code></strong>: Pola mapy są przechowywane w blokach 32x32, co optymalizuje zużycie pamięci. <code class="docutils literal notranslate"><span class="pre">std::map&lt;uint,</span> <span class="pre">TileBlock&gt;</span> <span class="pre">m_tileBlocks[Otc::MAX_Z+1]</span></code> przechowuje te bloki dla każdego piętra.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">m_knownCreatures</span></code></strong>: Mapa znanych stworzeń, indeksowana po ich ID.</p></li>
</ul>
</section>
<section id="id141">
<h1>Zależności i powiązania<a class="headerlink" href="#id141" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Dostęp do stanu gry, np. funkcji serwera (<code class="docutils literal notranslate"><span class="pre">GameFeature</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">localplayer.h</span></code></strong>: Do centrowania kamery i aktualizacji pozycji gracza.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>: Zarządza obiektami <code class="docutils literal notranslate"><span class="pre">Tile</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mapview.h</span></code></strong>: Powiadamia <code class="docutils literal notranslate"><span class="pre">MapView</span></code> o zmianach.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">minimap.h</span></code></strong>: Aktualizuje minimapę przy zmianach na polach.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luavaluecasts-client-h">
<h1>📄 luavaluecasts_client.h<a class="headerlink" href="#luavaluecasts-client-h" title="Link to this heading">#</a></h1>
</section>
<section id="id142">
<h1>Ogólny opis<a class="headerlink" href="#id142" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy definiujący funkcje do konwersji (rzutowania) niestandardowych typów danych C++ na wartości Lua i z powrotem. Jest to kluczowy element integracji logiki gry z silnikiem skryptowym Lua.</p>
</section>
<section id="funkcje">
<h1>Funkcje<a class="headerlink" href="#funkcje" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">Outfit&amp;</span> <span class="pre">outfit)</span></code></p></td>
<td><p>Konwertuje obiekt <code class="docutils literal notranslate"><span class="pre">Outfit</span></code> na tabelę Lua i umieszcza ją na stosie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(int</span> <span class="pre">index,</span> <span class="pre">Outfit&amp;</span> <span class="pre">outfit)</span></code></p></td>
<td><p>Odczytuje tabelę Lua ze stosu i konwertuje ją na obiekt <code class="docutils literal notranslate"><span class="pre">Outfit</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Konwertuje obiekt <code class="docutils literal notranslate"><span class="pre">Position</span></code> na tabelę Lua (<code class="docutils literal notranslate"><span class="pre">{x=,</span> <span class="pre">y=,</span> <span class="pre">z=}</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(int</span> <span class="pre">index,</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Odczytuje tabelę Lua i konwertuje ją na obiekt <code class="docutils literal notranslate"><span class="pre">Position</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">MarketData&amp;</span> <span class="pre">data)</span></code></p></td>
<td><p>Konwertuje strukturę <code class="docutils literal notranslate"><span class="pre">MarketData</span></code> na tabelę Lua.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(int</span> <span class="pre">index,</span> <span class="pre">MarketData&amp;</span> <span class="pre">data)</span></code></p></td>
<td><p>Odczytuje tabelę Lua i konwertuje ją na <code class="docutils literal notranslate"><span class="pre">MarketData</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">StoreCategory&amp;</span> <span class="pre">category)</span></code></p></td>
<td><p>Konwertuje <code class="docutils literal notranslate"><span class="pre">StoreCategory</span></code> na tabelę Lua.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(int</span> <span class="pre">index,</span> <span class="pre">StoreCategory&amp;</span> <span class="pre">data)</span></code></p></td>
<td><p>Konwertuje tabelę Lua na <code class="docutils literal notranslate"><span class="pre">StoreCategory</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">StoreOffer&amp;</span> <span class="pre">offer)</span></code></p></td>
<td><p>Konwertuje <code class="docutils literal notranslate"><span class="pre">StoreOffer</span></code> na tabelę Lua.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(int</span> <span class="pre">index,</span> <span class="pre">StoreOffer&amp;</span> <span class="pre">offer)</span></code></p></td>
<td><p>Konwertuje tabelę Lua na <code class="docutils literal notranslate"><span class="pre">StoreOffer</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">Imbuement&amp;</span> <span class="pre">offer)</span></code></p></td>
<td><p>Konwertuje <code class="docutils literal notranslate"><span class="pre">Imbuement</span></code> na tabelę Lua.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">Light&amp;</span> <span class="pre">light)</span></code></p></td>
<td><p>Konwertuje <code class="docutils literal notranslate"><span class="pre">Light</span></code> na tabelę Lua.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(int</span> <span class="pre">index,</span> <span class="pre">Light&amp;</span> <span class="pre">light)</span></code></p></td>
<td><p>Konwertuje tabelę Lua na <code class="docutils literal notranslate"><span class="pre">Light</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">UnjustifiedPoints&amp;</span> <span class="pre">unjustifiedPoints)</span></code></p></td>
<td><p>Konwertuje <code class="docutils literal notranslate"><span class="pre">UnjustifiedPoints</span></code> na tabelę Lua.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">luavalue_cast(int</span> <span class="pre">index,</span> <span class="pre">UnjustifiedPoints&amp;</span> <span class="pre">unjustifiedPoints)</span></code></p></td>
<td><p>Konwertuje tabelę Lua na <code class="docutils literal notranslate"><span class="pre">UnjustifiedPoints</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id143">
<h1>Zależności i powiązania<a class="headerlink" href="#id143" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">global.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">outfit.h</span></code></strong>: Zawierają definicje typów, które są konwertowane.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/luaengine/declarations.h</span></code></strong>: Deklaracje funkcji z silnika Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luavaluecasts_client.cpp</span></code></strong>: Zawiera implementacje tych funkcji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="mapio-cpp">
<h1>📄 mapio.cpp<a class="headerlink" href="#mapio-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id144">
<h1>Ogólny opis<a class="headerlink" href="#id144" title="Link to this heading">#</a></h1>
<p>Plik ten zawiera implementację metod klasy <code class="docutils literal notranslate"><span class="pre">Map</span></code> odpowiedzialnych za operacje wejścia/wyjścia, czyli wczytywanie i zapisywanie danych mapy w formatach OTBM (OpenTibia Binary Map) i OTCM (OTClient Map).</p>
</section>
<section id="id145">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Map</span></code><a class="headerlink" href="#id145" title="Link to this heading">#</a></h1>
</section>
<section id="id146">
<h1>Metody<a class="headerlink" href="#id146" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadOtbm(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Wczytuje mapę z pliku binarnego <code class="docutils literal notranslate"><span class="pre">.otbm</span></code>. Parsuje nagłówek, sprawdza wersję i sygnaturę, a następnie iteruje przez węzły binarnego drzewa, tworząc pola (<code class="docutils literal notranslate"><span class="pre">Tile</span></code>), przedmioty (<code class="docutils literal notranslate"><span class="pre">Item</span></code>) oraz wczytując informacje o miastach, domach i punktach nawigacyjnych (waypoints).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">saveOtbm(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Zapisuje aktualny stan mapy do pliku <code class="docutils literal notranslate"><span class="pre">.otbm</span></code>. Tworzy strukturę binarnego drzewa, zapisuje nagłówek, a następnie serializuje wszystkie pola, przedmioty na nich, a także informacje o miastach, domach i waypointach.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadOtcm(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Wczytuje mapę z własnego, prostszego formatu klienta (<code class="docutils literal notranslate"><span class="pre">.otcm</span></code>). Format ten jest mniej rozbudowany niż OTBM i przechowuje głównie informacje o polach i przedmiotach.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">saveOtcm(const</span> <span class="pre">std::string&amp;</span> <span class="pre">fileName)</span></code></p></td>
<td><p>Zapisuje mapę do formatu <code class="docutils literal notranslate"><span class="pre">.otcm</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="logika-wczytywania-otbm">
<h1>Logika wczytywania OTBM<a class="headerlink" href="#logika-wczytywania-otbm" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Otwiera plik i weryfikuje jego sygnaturę (<code class="docutils literal notranslate"><span class="pre">OTBM</span></code>).</p></li>
<li><p>Odczytuje nagłówek, zawierający wymiary mapy i wersje OTB.</p></li>
<li><p>Parsuje główny węzeł danych, odczytując atrybuty takie jak opis mapy oraz ścieżki do plików z danymi o spawnach i domach.</p></li>
<li><p>Iteruje przez węzły <code class="docutils literal notranslate"><span class="pre">OTBM_TILE_AREA</span></code>, które grupują pola w blokach.</p></li>
<li><p>Dla każdego pola (<code class="docutils literal notranslate"><span class="pre">OTBM_TILE</span></code>) odczytuje jego atrybuty (flagi, przedmioty). Przedmioty, które są kontenerami, są parsowane rekurencyjnie.</p></li>
<li><p>Wczytuje definicje miast (<code class="docutils literal notranslate"><span class="pre">OTBM_TOWNS</span></code>) i waypointów (<code class="docutils literal notranslate"><span class="pre">OTBM_WAYPOINTS</span></code>).</p></li>
</ol>
</section>
<section id="id147">
<h1>Zależności i powiązania<a class="headerlink" href="#id147" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">item.h</span></code></strong>: Tworzy obiekty <code class="docutils literal notranslate"><span class="pre">Tile</span></code> i <code class="docutils literal notranslate"><span class="pre">Item</span></code> na podstawie wczytanych danych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_game</span></code> do sprawdzania funkcji serwera, które mogą wpływać na sposób parsowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">houses.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">towns.h</span></code></strong>: Wypełnia menedżery <code class="docutils literal notranslate"><span class="pre">g_houses</span></code> i <code class="docutils literal notranslate"><span class="pre">g_towns</span></code> danymi z mapy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/filestream.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">framework/core/binarytree.h</span></code></strong>: Narzędzia do obsługi plików binarnych i struktury drzewa binarnego.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="luavaluecasts-client-cpp">
<h1>📄 luavaluecasts_client.cpp<a class="headerlink" href="#luavaluecasts-client-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id148">
<h1>Ogólny opis<a class="headerlink" href="#id148" title="Link to this heading">#</a></h1>
<p>Implementacja funkcji do konwersji (rzutowania) niestandardowych typów danych C++ na wartości Lua i z powrotem. Ten plik zawiera logikę „tłumaczenia” złożonych obiektów C++ na tabele Lua i odwrotnie.</p>
</section>
<section id="id149">
<h1>Funkcje<a class="headerlink" href="#id149" title="Link to this heading">#</a></h1>
</section>
<section id="push-luavalue">
<h1><code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code><a class="headerlink" href="#push-luavalue" title="Link to this heading">#</a></h1>
<p>Te funkcje przyjmują jako argument obiekt C++ i umieszczają jego reprezentację w Lua na stosie. Złożone obiekty są zazwyczaj konwertowane na tabele Lua.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">Outfit&amp;</span> <span class="pre">outfit)</span></code></strong>: Tworzy tabelę Lua z polami <code class="docutils literal notranslate"><span class="pre">type</span></code>, <code class="docutils literal notranslate"><span class="pre">auxType</span></code>, <code class="docutils literal notranslate"><span class="pre">head</span></code>, <code class="docutils literal notranslate"><span class="pre">body</span></code>, <code class="docutils literal notranslate"><span class="pre">legs</span></code>, <code class="docutils literal notranslate"><span class="pre">feet</span></code>, <code class="docutils literal notranslate"><span class="pre">addons</span></code>, <code class="docutils literal notranslate"><span class="pre">mount</span></code> etc. i wypełnia ją danymi z obiektu <code class="docutils literal notranslate"><span class="pre">Outfit</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></strong>: Tworzy tabelę <code class="docutils literal notranslate"><span class="pre">{x,</span> <span class="pre">y,</span> <span class="pre">z}</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">MarketData&amp;</span> <span class="pre">data)</span></code></strong>: Tworzy tabelę z danymi rynkowymi.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">push_luavalue(const</span> <span class="pre">Imbuement&amp;</span> <span class="pre">i)</span></code></strong>: Tworzy złożoną, zagnieżdżoną tabelę reprezentującą imbuement, włączając w to listę materiałów.</p></li>
</ul>
</section>
<section id="luavalue-cast">
<h1><code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code><a class="headerlink" href="#luavalue-cast" title="Link to this heading">#</a></h1>
<p>Te funkcje przyjmują jako argument indeks na stosie Lua i referencję do obiektu C++. Odczytują wartość ze stosu (zwykle tabelę) i wypełniają obiekt C++ odpowiednimi danymi.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luavalue_cast(int</span> <span class="pre">index,</span> <span class="pre">Outfit&amp;</span> <span class="pre">outfit)</span></code></strong>: Odczytuje pola z tabeli Lua i ustawia odpowiednie właściwości w obiekcie <code class="docutils literal notranslate"><span class="pre">Outfit</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luavalue_cast(int</span> <span class="pre">index,</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></strong>: Odczytuje pola <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">z</span></code> z tabeli.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luavalue_cast(int</span> <span class="pre">index,</span> <span class="pre">MarketData&amp;</span> <span class="pre">data)</span></code></strong>: Wypełnia strukturę <code class="docutils literal notranslate"><span class="pre">MarketData</span></code>.</p></li>
</ul>
</section>
<section id="id150">
<h1>Zależności i powiązania<a class="headerlink" href="#id150" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luainterface.h</span></code></strong>: Dostęp do funkcji <code class="docutils literal notranslate"><span class="pre">g_lua</span></code> do manipulacji stosem Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_game</span></code> do sprawdzania, które <code class="docutils literal notranslate"><span class="pre">GameFeature</span></code> są aktywne, co wpływa na to, które pola obiektu <code class="docutils literal notranslate"><span class="pre">Outfit</span></code> są serializowane/deserializowane (np. <code class="docutils literal notranslate"><span class="pre">GamePlayerMounts</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luavaluecasts_client.h</span></code></strong>: Deklaracje tych funkcji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="mapview-cpp">
<h1>📄 mapview.cpp<a class="headerlink" href="#mapview-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id151">
<h1>Ogólny opis<a class="headerlink" href="#id151" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">MapView</span></code>, która jest odpowiedzialna za renderowanie widoku mapy. Plik zawiera skomplikowaną logikę określania, które pola są widoczne, jak je rysować w odpowiedniej kolejności (z uwzględnieniem pięter i efektu paralaksy) oraz jak zarządzać oświetleniem i tekstami na mapie.</p>
</section>
<section id="klasa-mapview">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">MapView</span></code><a class="headerlink" href="#klasa-mapview" title="Link to this heading">#</a></h1>
</section>
<section id="id152">
<h1>Metody<a class="headerlink" href="#id152" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawMapBackground(...)</span></code></p></td>
<td><p>Główna funkcja rysująca tło mapy. Przygotowuje bufor ramki (<code class="docutils literal notranslate"><span class="pre">FrameBuffer</span></code>), inicjalizuje <code class="docutils literal notranslate"><span class="pre">LightView</span></code> (jeśli oświetlenie jest włączone) i rysuje wszystkie widoczne piętra, zaczynając od najniższego.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawFloor(...)</span></code></p></td>
<td><p>Rysuje pojedyncze piętro. Iteruje po <code class="docutils literal notranslate"><span class="pre">m_cachedVisibleTiles</span></code> i wywołuje metody <code class="docutils literal notranslate"><span class="pre">drawGround</span></code>, <code class="docutils literal notranslate"><span class="pre">drawBottom</span></code>, <code class="docutils literal notranslate"><span class="pre">drawCreatures</span></code> i <code class="docutils literal notranslate"><span class="pre">drawTop</span></code> dla każdego pola (<code class="docutils literal notranslate"><span class="pre">Tile</span></code>).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawMapForeground(...)</span></code></p></td>
<td><p>Rysuje elementy pierwszego planu, takie jak paski zdrowia, nazwy postaci, teksty (statyczne i animowane) oraz ostatecznie nakłada warstwę oświetlenia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">updateVisibleTilesCache()</span></code></p></td>
<td><p>Kluczowa metoda optymalizacyjna. Oblicza, które pola są widoczne dla kamery, i zapisuje je w pamięci podręcznej (<code class="docutils literal notranslate"><span class="pre">m_cachedVisibleTiles</span></code>). Sortuje je w kolejności rysowania (diagonalnie), aby zachować poprawną perspektywę 2.5D.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">updateGeometry(...)</span></code></p></td>
<td><p>Aktualizuje geometrię widoku, w tym wymiary widoczne i wymiary bufora ramki.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onTileUpdate(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">onMapCenterChange(...)</span></code></p></td>
<td><p>Metody wywoływane przez <code class="docutils literal notranslate"><span class="pre">g_map</span></code>, które oznaczają, że pamięć podręczna widocznych pól musi zostać zaktualizowana.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">calcFirstVisibleFloor(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">calcLastVisibleFloor(...)</span></code></p></td>
<td><p>Oblicza, które piętra są widoczne dla gracza na podstawie jego pozycji i otoczenia (np. dziury w podłodze, okna).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">transformPositionTo2D(...)</span></code></p></td>
<td><p>Konwertuje pozycję 3D (x, y, z) na współrzędne 2D na ekranie, uwzględniając perspektywę izometryczną.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getCameraPosition()</span></code></p></td>
<td><p>Zwraca aktualną pozycję kamery, która albo podąża za stworzeniem (<code class="docutils literal notranslate"><span class="pre">m_followingCreature</span></code>), albo jest ustawiona ręcznie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id153">
<h1>Zależności i powiązania<a class="headerlink" href="#id153" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>: Intensywnie korzysta z <code class="docutils literal notranslate"><span class="pre">g_map</span></code> do pobierania danych o polach i obiektach.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Dostęp do <code class="docutils literal notranslate"><span class="pre">g_game</span></code> w celu pobrania lokalnego gracza i sprawdzenia funkcji serwera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lightview.h</span></code></strong>: Tworzy i zarządza obiektem <code class="docutils literal notranslate"><span class="pre">LightView</span></code> do renderowania oświetlenia.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/framebuffermanager.h</span></code></strong>: Używa buforów ramki do optymalizacji renderowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="mapview-h">
<h1>📄 mapview.h<a class="headerlink" href="#mapview-h" title="Link to this heading">#</a></h1>
</section>
<section id="id154">
<h1>Ogólny opis<a class="headerlink" href="#id154" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">MapView</span></code>. Definiuje interfejs widoku mapy, który jest głównym komponentem renderującym świat gry.</p>
</section>
<section id="id155">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">MapView</span></code><a class="headerlink" href="#id155" title="Link to this heading">#</a></h1>
</section>
<section id="id156">
<h1>Opis<a class="headerlink" href="#id156" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">MapView</span></code> zarządza kamerą, widocznym obszarem mapy, a także koordynuje proces rysowania wszystkich elementów świata gry. Może istnieć wiele instancji <code class="docutils literal notranslate"><span class="pre">MapView</span></code>, co pozwala na renderowanie mapy w różnych miejscach interfejsu.</p>
</section>
<section id="id157">
<h1>Metody<a class="headerlink" href="#id157" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawMapBackground(...)</span></code></p></td>
<td><p>Rysuje tło mapy (pola, obiekty na ziemi).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawMapForeground(...)</span></code></p></td>
<td><p>Rysuje pierwszy plan (postacie, teksty, oświetlenie).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lockFirstVisibleFloor(int</span> <span class="pre">floor)</span></code></p></td>
<td><p>Wymusza, aby najniższym widocznym piętrem było podane piętro.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unlockFirstVisibleFloor()</span></code></p></td>
<td><p>Wyłącza wymuszone piętro.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setVisibleDimension(const</span> <span class="pre">Size&amp;</span> <span class="pre">dim)</span></code></p></td>
<td><p>Ustawia wymiary widocznego obszaru w jednostkach pól (np. 15x11).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">followCreature(const</span> <span class="pre">CreaturePtr&amp;</span> <span class="pre">creature)</span></code></p></td>
<td><p>Ustawia kamerę, aby podążała za danym stworzeniem.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setCameraPosition(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Ustawia kamerę na stałą pozycję.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getCameraPosition()</span></code></p></td>
<td><p>Zwraca aktualną pozycję kamery.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getPosition(const</span> <span class="pre">Point&amp;</span> <span class="pre">point,</span> <span class="pre">...)</span></code></p></td>
<td><p>Konwertuje współrzędne ekranu na pozycję na mapie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setDrawFlags(Otc::DrawFlags</span> <span class="pre">flags)</span></code></p></td>
<td><p>Ustawia flagi rysowania, określające, co ma być renderowane.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setAnimated(bool</span> <span class="pre">animated)</span></code></p></td>
<td><p>Włącza/wyłącza animacje.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setFloorFading(int</span> <span class="pre">value)</span></code></p></td>
<td><p>Ustawia czas zanikania/pojawiania się pięter.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id158">
<h1>Zależności i powiązania<a class="headerlink" href="#id158" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów (<code class="docutils literal notranslate"><span class="pre">Position</span></code>, <code class="docutils literal notranslate"><span class="pre">CreaturePtr</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lightview.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">LightView</span></code> do rysowania świateł.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code></strong>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="minimap-h">
<h1>📄 minimap.h<a class="headerlink" href="#minimap-h" title="Link to this heading">#</a></h1>
</section>
<section id="id159">
<h1>Ogólny opis<a class="headerlink" href="#id159" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">Minimap</span></code> i powiązanych struktur. Definiuje interfejs do zarządzania danymi minimapy i jej renderowania.</p>
</section>
<section id="struktury-i-stale">
<h1>Struktury i stałe<a class="headerlink" href="#struktury-i-stale" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">MMBLOCK_SIZE</span></code></strong>: Rozmiar bloku minimapy (64x64 piksele).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">MinimapTileFlags</span></code></strong>: Flagi dla kafelka minimapy (np. <code class="docutils literal notranslate"><span class="pre">MinimapTileWasSeen</span></code>, <code class="docutils literal notranslate"><span class="pre">MinimapTileNotPathable</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">MinimapTile</span></code></strong>: Struktura przechowująca dane pojedynczego piksela minimapy (kolor, flagi, prędkość).</p></li>
</ul>
</section>
<section id="klasa-minimapblock">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">MinimapBlock</span></code><a class="headerlink" href="#klasa-minimapblock" title="Link to this heading">#</a></h1>
</section>
<section id="id160">
<h1>Opis<a class="headerlink" href="#id160" title="Link to this heading">#</a></h1>
<p>Reprezentuje pojedynczy blok (chunk) minimapy o rozmiarze <code class="docutils literal notranslate"><span class="pre">MMBLOCK_SIZE</span></code> x <code class="docutils literal notranslate"><span class="pre">MMBLOCK_SIZE</span></code>. Każdy blok ma własną teksturę, co optymalizuje renderowanie.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_texture</span></code>: Tekstura generowana na podstawie danych z <code class="docutils literal notranslate"><span class="pre">m_tiles</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_tiles</span></code>: Tablica <code class="docutils literal notranslate"><span class="pre">MinimapTile</span></code> przechowująca dane dla każdego piksela w bloku.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_mustUpdate</span></code>: Flaga informująca, czy tekstura wymaga ponownego wygenerowania.</p></li>
</ul>
</section>
<section id="klasa-minimap">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Minimap</span></code><a class="headerlink" href="#klasa-minimap" title="Link to this heading">#</a></h1>
</section>
<section id="id161">
<h1>Opis<a class="headerlink" href="#id161" title="Link to this heading">#</a></h1>
<p>Singleton (<code class="docutils literal notranslate"><span class="pre">g_minimap</span></code>) zarządzający wszystkimi danymi minimapy. Przechowuje <code class="docutils literal notranslate"><span class="pre">MinimapBlock</span></code> dla każdego piętra i koordynuje ich rysowanie.</p>
</section>
<section id="id162">
<h1>Metody<a class="headerlink" href="#id162" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td><p>Inicjalizacja i zamykanie managera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">clean()</span></code></p></td>
<td><p>Czyści wszystkie dane minimapy.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Rysuje minimapę na ekranie w danym prostokącie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTilePoint(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos,</span> <span class="pre">...)</span></code></p></td>
<td><p>Konwertuje pozycję na mapie na współrzędne na widżecie minimapy.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTilePosition(const</span> <span class="pre">Point&amp;</span> <span class="pre">point,</span> <span class="pre">...)</span></code></p></td>
<td><p>Konwertuje współrzędne na widżecie minimapy na pozycję na mapie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">updateTile(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos,</span> <span class="pre">const</span> <span class="pre">TilePtr&amp;</span> <span class="pre">tile)</span></code></p></td>
<td><p>Aktualizuje dane piksela minimapy na podstawie danych z <code class="docutils literal notranslate"><span class="pre">Tile</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTile(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Zwraca dane <code class="docutils literal notranslate"><span class="pre">MinimapTile</span></code> dla danej pozycji.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">loadImage(...)</span></code></p></td>
<td><p>Wczytuje dane minimapy z pliku graficznego (np. PNG).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">saveImage(...)</span></code></p></td>
<td><p>Zapisuje widoczny obszar minimapy do pliku graficznego.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">loadOtmm(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">saveOtmm(...)</span></code></p></td>
<td><p>Wczytuje/zapisuje dane minimapy w formacie <code class="docutils literal notranslate"><span class="pre">.otmm</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id163">
<h1>Zależności i powiązania<a class="headerlink" href="#id163" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>: <code class="docutils literal notranslate"><span class="pre">updateTile</span></code> pobiera dane z obiektu <code class="docutils literal notranslate"><span class="pre">Tile</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="missile-cpp">
<h1>📄 missile.cpp<a class="headerlink" href="#missile-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id164">
<h1>Ogólny opis<a class="headerlink" href="#id164" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Missile</span></code>, która odpowiada za renderowanie pocisków w grze.</p>
</section>
<section id="klasa-missile">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Missile</span></code><a class="headerlink" href="#klasa-missile" title="Link to this heading">#</a></h1>
</section>
<section id="id165">
<h1>Metody<a class="headerlink" href="#id165" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Rysuje pocisk na ekranie. Oblicza jego pozycję na ścieżce lotu na podstawie czasu, który upłynął (<code class="docutils literal notranslate"><span class="pre">m_animationTimer.ticksElapsed()</span> <span class="pre">/</span> <span class="pre">m_duration</span></code>). Wybiera odpowiedni wzór (pattern) sprite’a na podstawie kierunku lotu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setPath(const</span> <span class="pre">Position&amp;</span> <span class="pre">fromPosition,</span> <span class="pre">const</span> <span class="pre">Position&amp;</span> <span class="pre">toPosition)</span></code></p></td>
<td><p>Ustawia ścieżkę lotu pocisku od pozycji początkowej do końcowej. Oblicza kierunek, czas trwania lotu i planuje automatyczne usunięcie pocisku po dotarciu do celu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setId(uint32</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID (typ) pocisku, weryfikując jego poprawność.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getThingType()</span></code> / <code class="docutils literal notranslate"><span class="pre">rawGetThingType()</span></code></p></td>
<td><p>Zwracają <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> dla danego pocisku.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="logika-animacji">
<h1>Logika animacji<a class="headerlink" href="#logika-animacji" title="Link to this heading">#</a></h1>
<p>Pozycja pocisku jest interpolowana liniowo między punktem startowym a końcowym. Frakcja postępu <code class="docutils literal notranslate"><span class="pre">fraction</span></code> jest obliczana jako stosunek czasu, który upłynął, do całkowitego czasu trwania lotu. Przesunięcie rysowania <code class="docutils literal notranslate"><span class="pre">m_delta</span> <span class="pre">*</span> <span class="pre">fraction</span></code> jest dodawane do pozycji początkowej.</p>
</section>
<section id="id166">
<h1>Zależności i powiązania<a class="headerlink" href="#id166" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_map</span></code> do usunięcia pocisku po zakończeniu lotu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_sprites.spriteSize()</span></code> do skalowania przesunięcia.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> do planowania usunięcia.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="missile-h">
<h1>📄 missile.h<a class="headerlink" href="#missile-h" title="Link to this heading">#</a></h1>
</section>
<section id="id167">
<h1>Ogólny opis<a class="headerlink" href="#id167" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">Missile</span></code>, która reprezentuje pociski i inne efekty dystansowe.</p>
</section>
<section id="id168">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Missile</span></code><a class="headerlink" href="#id168" title="Link to this heading">#</a></h1>
</section>
<section id="id169">
<h1>Opis<a class="headerlink" href="#id169" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">Thing</span></code>. Reprezentuje obiekt, który przemieszcza się od jednej pozycji do drugiej w określonym czasie.</p>
</section>
<section id="id170">
<h1>Metody<a class="headerlink" href="#id170" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Rysuje pocisk w jego aktualnej pozycji na ścieżce.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setId(uint32</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID (typ) pocisku.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setPath(const</span> <span class="pre">Position&amp;</span> <span class="pre">from,</span> <span class="pre">const</span> <span class="pre">Position&amp;</span> <span class="pre">to)</span></code></p></td>
<td><p>Ustawia początek i koniec ścieżki pocisku.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getId()</span></code></p></td>
<td><p>Zwraca ID pocisku.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">asMissile()</span></code></p></td>
<td><p>Rzutuje wskaźnik na <code class="docutils literal notranslate"><span class="pre">MissilePtr</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isMissile()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getThingType()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> dla pocisku.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSource()</span></code></p></td>
<td><p>Zwraca pozycję początkową.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getDestination()</span></code></p></td>
<td><p>Zwraca pozycję końcową.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id171">
<h1>Zależności i powiązania<a class="headerlink" href="#id171" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thing.h</span></code></strong>: Klasa bazowa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">Timer</span></code> do animacji ruchu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="outfit-cpp">
<h1>📄 outfit.cpp<a class="headerlink" href="#outfit-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id172">
<h1>Ogólny opis<a class="headerlink" href="#id172" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Outfit</span></code> oraz niestandardowych elementów kolejki rysowania <code class="docutils literal notranslate"><span class="pre">DrawQueueItemOutfit</span></code> i <code class="docutils literal notranslate"><span class="pre">DrawQueueItemOutfitWithShader</span></code>. Plik zawiera złożoną logikę rysowania ubioru postaci, w tym warstw, kolorów, dodatków, wierzchowców, skrzydeł, aury i shaderów.</p>
</section>
<section id="klasa-outfit">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Outfit</span></code><a class="headerlink" href="#klasa-outfit" title="Link to this heading">#</a></h1>
</section>
<section id="id173">
<h1>Metody<a class="headerlink" href="#id173" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(Point</span> <span class="pre">dest,</span> <span class="pre">...)</span></code></p></td>
<td><p>Główna funkcja rysująca ubiór. Wykonuje następujące kroki: <br> 1. Koryguje kierunek. <br> 2. Oblicza fazę animacji (chodzenia, bezczynności, UI). <br> 3. Rysuje aurę (tylną warstwę, jeśli dotyczy). <br> 4. Rysuje wierzchowca. <br> 5. Rysuje skrzydła (w zależności od kierunku, przed lub za postacią). <br> 6. Rysuje poszczególne warstwy ubioru (podstawę i dodatki), kolorując je za pomocą specjalnego shadera (<code class="docutils literal notranslate"><span class="pre">DrawQueueItemOutfit</span></code>). <br> 7. Rysuje aurę (przednią warstwę).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">draw(const</span> <span class="pre">Rect&amp;</span> <span class="pre">dest,</span> <span class="pre">...)</span></code></p></td>
<td><p>Wersja rysująca ubiór przeskalowany do danego prostokąta, używana w UI.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">resetClothes()</span></code></p></td>
<td><p>Resetuje wszystkie elementy ubioru (głowa, ciało, etc.) do wartości domyślnych (0).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasy-drawqueueitem">
<h1>Klasy <code class="docutils literal notranslate"><span class="pre">DrawQueueItem...</span></code><a class="headerlink" href="#klasy-drawqueueitem" title="Link to this heading">#</a></h1>
</section>
<section id="id174">
<h1>Opis<a class="headerlink" href="#id174" title="Link to this heading">#</a></h1>
<p>Niestandardowe elementy kolejki rysowania, które pozwalają na zaawansowane renderowanie ubiorów.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueItemOutfit</span></code></strong>: Używa specjalnego shadera (<code class="docutils literal notranslate"><span class="pre">outfit.frag</span></code>), który na podstawie 32-bitowej liczby <code class="docutils literal notranslate"><span class="pre">m_colors</span></code> i tekstury z warstwami, koloruje każdą z czterech części ubioru (głowa, ciało, nogi, stopy) na odpowiedni kolor.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueItemOutfitWithShader</span></code></strong>: Rozszerza powyższą logikę o dodatkowy, niestandardowy shader (np. efekt „ghost”), który jest nakładany na finalny obraz ubioru.</p></li>
</ul>
</section>
<section id="id175">
<h1>Zależności i powiązania<a class="headerlink" href="#id175" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Sprawdza, które <code class="docutils literal notranslate"><span class="pre">GameFeature</span></code> są aktywne, aby decydować, które elementy ubioru rysować (np. wierzchowce, skrzydła).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thingtypemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_things</span></code> do pobierania <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> dla ubioru, wierzchowca, skrzydeł, aury.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_sprites</span></code> do skalowania i pozycjonowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code></strong>: Dodaje niestandardowe elementy do kolejki rysowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/shadermanager.h</span></code></strong>: Zarządza i używa shaderów do kolorowania i efektów.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="outfit-h">
<h1>📄 outfit.h<a class="headerlink" href="#outfit-h" title="Link to this heading">#</a></h1>
</section>
<section id="id176">
<h1>Ogólny opis<a class="headerlink" href="#id176" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">Outfit</span></code> oraz powiązanych struktur do rysowania.</p>
</section>
<section id="id177">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Outfit</span></code><a class="headerlink" href="#id177" title="Link to this heading">#</a></h1>
</section>
<section id="id178">
<h1>Opis<a class="headerlink" href="#id178" title="Link to this heading">#</a></h1>
<p>Reprezentuje wygląd (ubiór) postaci. Przechowuje informacje o ID wyglądu, kolorach poszczególnych części ciała, dodatkach, wierzchowcu, skrzydłach, aurze i niestandardowym shaderze.</p>
</section>
<section id="id179">
<h1>Metody<a class="headerlink" href="#id179" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Dwie przeciążone wersje funkcji rysującej ubiór: jedna w punkcie (na mapie), druga w prostokącie (w UI).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setId(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID ubioru (dla potworów) lub przedmiotu (dla niewidzialności).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setHead(int</span> <span class="pre">head)</span></code></p></td>
<td><p>Ustawia kolor głowy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setBody(int</span> <span class="pre">body)</span></code></p></td>
<td><p>Ustawia kolor torsu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setLegs(int</span> <span class="pre">legs)</span></code></p></td>
<td><p>Ustawia kolor nóg.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setFeet(int</span> <span class="pre">feet)</span></code></p></td>
<td><p>Ustawia kolor stóp.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setAddons(int</span> <span class="pre">addons)</span></code></p></td>
<td><p>Ustawia dodatki (bitmaska).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setMount(int</span> <span class="pre">mount)</span></code></p></td>
<td><p>Ustawia ID wierzchowca.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setWings(int</span> <span class="pre">wings)</span></code></p></td>
<td><p>Ustawia ID skrzydeł.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setAura(int</span> <span class="pre">aura)</span></code></p></td>
<td><p>Ustawia ID aury.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">shader)</span></code></p></td>
<td><p>Ustawia nazwę niestandardowego shadera.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="struktury-drawqueueitem">
<h1>Struktury <code class="docutils literal notranslate"><span class="pre">DrawQueueItem...</span></code><a class="headerlink" href="#struktury-drawqueueitem" title="Link to this heading">#</a></h1>
</section>
<section id="id180">
<h1>Opis<a class="headerlink" href="#id180" title="Link to this heading">#</a></h1>
<p>Definicje niestandardowych elementów kolejki rysowania, które obsługują zaawansowane renderowanie ubiorów.</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueItemOutfit</span></code></strong>: Renderuje ubiór z dynamicznym kolorowaniem poszczególnych części.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawQueueItemOutfitWithShader</span></code></strong>: Dodaje obsługę niestandardowego shadera efektów specjalnych.</p></li>
</ul>
</section>
<section id="id181">
<h1>Zależności i powiązania<a class="headerlink" href="#id181" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thingtypemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">ThingCategory</span></code> i <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code></strong>: Dziedziczą z <code class="docutils literal notranslate"><span class="pre">DrawQueueItemTexturedRect</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="player-cpp">
<h1>📄 player.cpp<a class="headerlink" href="#player-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id182">
<h1>Ogólny opis<a class="headerlink" href="#id182" title="Link to this heading">#</a></h1>
<p>Ten plik jest obecnie pusty, co oznacza, że klasa <code class="docutils literal notranslate"><span class="pre">Player</span></code> nie posiada żadnej dodatkowej implementacji poza tym, co dziedziczy z klasy <code class="docutils literal notranslate"><span class="pre">Creature</span></code>.</p>
</section>
<section id="klasa-player">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Player</span></code><a class="headerlink" href="#klasa-player" title="Link to this heading">#</a></h1>
</section>
<section id="id183">
<h1>Opis<a class="headerlink" href="#id183" title="Link to this heading">#</a></h1>
<p>Klasa <code class="docutils literal notranslate"><span class="pre">Player</span></code> jest specjalizacją <code class="docutils literal notranslate"><span class="pre">Creature</span></code>. Służy do reprezentowania postaci graczy w grze. W przyszłości może zawierać logikę specyficzną tylko dla graczy, która nie dotyczy potworów czy NPC.</p>
</section>
<section id="id184">
<h1>Zależności i powiązania<a class="headerlink" href="#id184" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">player.h</span></code></strong>: Plik nagłówkowy dla tej implementacji.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="player-h">
<h1>📄 player.h<a class="headerlink" href="#player-h" title="Link to this heading">#</a></h1>
</section>
<section id="id185">
<h1>Ogólny opis<a class="headerlink" href="#id185" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">Player</span></code>, która jest specjalizacją klasy <code class="docutils literal notranslate"><span class="pre">Creature</span></code>.</p>
</section>
<section id="id186">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Player</span></code><a class="headerlink" href="#id186" title="Link to this heading">#</a></h1>
</section>
<section id="id187">
<h1>Opis<a class="headerlink" href="#id187" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">Creature</span></code>. Reprezentuje postać gracza (niekoniecznie lokalnego). Nie dodaje żadnych nowych pól ani metod, ale służy do rozróżnienia typów stworzeń w systemie typów C++.</p>
</section>
<section id="id188">
<h1>Metody<a class="headerlink" href="#id188" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">asPlayer()</span></code></p></td>
<td><p>Rzutuje wskaźnik na <code class="docutils literal notranslate"><span class="pre">PlayerPtr</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isPlayer()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id189">
<h1>Zależności i powiązania<a class="headerlink" href="#id189" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">creature.h</span></code></strong>: Klasa bazowa.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="protocolcodes-cpp">
<h1>📄 protocolcodes.cpp<a class="headerlink" href="#protocolcodes-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id190">
<h1>Ogólny opis<a class="headerlink" href="#id190" title="Link to this heading">#</a></h1>
<p>Implementacja funkcji pomocniczych zadeklarowanych w <code class="docutils literal notranslate"><span class="pre">protocolcodes.h</span></code>. Głównym zadaniem tego pliku jest zarządzanie mapowaniem trybów wiadomości (<code class="docutils literal notranslate"><span class="pre">Otc::MessageMode</span></code>) na ich liczbowe odpowiedniki używane w protokole sieciowym, które mogą się różnić w zależności od wersji klienta.</p>
</section>
<section id="namespace-proto">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">Proto</span></code><a class="headerlink" href="#namespace-proto" title="Link to this heading">#</a></h1>
</section>
<section id="id191">
<h1>Zmienne globalne<a class="headerlink" href="#id191" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">std::map&lt;uint8,</span> <span class="pre">uint8&gt;</span> <span class="pre">messageModesMap</span></code></strong>: Mapa przechowująca powiązanie między wewnętrznym enumem <code class="docutils literal notranslate"><span class="pre">Otc::MessageMode</span></code> a wartością liczbową wysyłaną/odbieraną z serwera.</p></li>
</ul>
</section>
<section id="id192">
<h1>Funkcje<a class="headerlink" href="#id192" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">buildMessageModesMap(int</span> <span class="pre">version)</span></code></p></td>
<td><p>Wypełnia <code class="docutils literal notranslate"><span class="pre">messageModesMap</span></code> na podstawie podanej wersji protokołu. Zawiera bloki <code class="docutils literal notranslate"><span class="pre">if/else</span> <span class="pre">if</span></code> dla różnych zakresów wersji, definiując odpowiednie mapowania. Jest to kluczowe dla zachowania kompatybilności wstecznej.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">translateMessageModeFromServer(uint8</span> <span class="pre">mode)</span></code></p></td>
<td><p>Tłumaczy liczbowy tryb wiadomości otrzymany z serwera na wewnętrzny enum <code class="docutils literal notranslate"><span class="pre">Otc::MessageMode</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">translateMessageModeToServer(Otc::MessageMode</span> <span class="pre">mode)</span></code></p></td>
<td><p>Tłumaczy wewnętrzny enum <code class="docutils literal notranslate"><span class="pre">Otc::MessageMode</span></code> na jego liczbowy odpowiednik, który zostanie wysłany do serwera.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id193">
<h1>Zależności i powiązania<a class="headerlink" href="#id193" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">protocolcodes.h</span></code></strong>: Deklaracje funkcji i enumów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.cpp</span></code></strong>: <code class="docutils literal notranslate"><span class="pre">Game::setProtocolVersion</span></code> wywołuje <code class="docutils literal notranslate"><span class="pre">buildMessageModesMap</span></code>, aby zaktualizować mapowania po zmianie wersji protokołu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="minimap-cpp">
<h1>📄 minimap.cpp<a class="headerlink" href="#minimap-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id194">
<h1>Ogólny opis<a class="headerlink" href="#id194" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">Minimap</span></code> i <code class="docutils literal notranslate"><span class="pre">MinimapBlock</span></code>, które razem tworzą system minimapy w grze. Plik zawiera logikę renderowania, aktualizacji danych, a także wczytywania i zapisywania minimapy w formatach <code class="docutils literal notranslate"><span class="pre">.otmm</span></code> i graficznych.</p>
</section>
<section id="id195">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">MinimapBlock</span></code><a class="headerlink" href="#id195" title="Link to this heading">#</a></h1>
</section>
<section id="id196">
<h1>Metody<a class="headerlink" href="#id196" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">clean()</span></code></p></td>
<td><p>Resetuje wszystkie dane w bloku do stanu początkowego.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">update()</span></code></p></td>
<td><p>Jeśli blok został zmodyfikowany (<code class="docutils literal notranslate"><span class="pre">m_mustUpdate</span></code>), generuje nową teksturę na podstawie danych z <code class="docutils literal notranslate"><span class="pre">m_tiles</span></code>. Tworzy obiekt <code class="docutils literal notranslate"><span class="pre">Image</span></code>, wypełnia go kolorami pikseli, a następnie tworzy z niego teksturę.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">updateTile(...)</span></code></p></td>
<td><p>Aktualizuje dane pojedynczego piksela w bloku i ustawia flagę <code class="docutils literal notranslate"><span class="pre">m_mustUpdate</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id197">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Minimap</span></code><a class="headerlink" href="#id197" title="Link to this heading">#</a></h1>
</section>
<section id="id198">
<h1>Metody<a class="headerlink" href="#id198" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Rysuje minimapę na ekranie. Oblicza, które bloki (<code class="docutils literal notranslate"><span class="pre">MinimapBlock</span></code>) są widoczne, aktualizuje ich tekstury (jeśli to konieczne), a następnie rysuje je w odpowiednich pozycjach.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTilePoint(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">getTilePosition(...)</span></code></p></td>
<td><p>Funkcje pomocnicze do konwersji między pozycją na mapie a współrzędnymi na widżecie minimapy.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">updateTile(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos,</span> <span class="pre">const</span> <span class="pre">TilePtr&amp;</span> <span class="pre">tile)</span></code></p></td>
<td><p>Pobiera kolor i flagi z <code class="docutils literal notranslate"><span class="pre">Tile</span></code> i aktualizuje odpowiadający mu piksel w <code class="docutils literal notranslate"><span class="pre">MinimapBlock</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTile(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Zwraca dane <code class="docutils literal notranslate"><span class="pre">MinimapTile</span></code> dla danej pozycji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">threadGetTile(...)</span></code></p></td>
<td><p>Wersja <code class="docutils literal notranslate"><span class="pre">getTile</span></code> bezpieczna dla wątków, używana przez asynchroniczne wyszukiwanie ścieżki.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">loadImage(...)</span></code></p></td>
<td><p>Wczytuje dane minimapy z pliku graficznego, analizując kolory pikseli w celu określenia właściwości (np. czy pole jest możliwe do przejścia).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">saveOtmm(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">loadOtmm(...)</span></code></p></td>
<td><p>Obsługuje serializację/deserializację danych minimapy do/z formatu <code class="docutils literal notranslate"><span class="pre">.otmm</span></code>, który używa kompresji zlib dla każdego bloku.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id199">
<h1>Struktura danych<a class="headerlink" href="#id199" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_tileBlocks</span></code>: Tablica map <code class="docutils literal notranslate"><span class="pre">std::unordered_map&lt;uint,</span> <span class="pre">MinimapBlock_ptr&gt;</span></code>, gdzie każdy element tablicy odpowiada jednemu piętru (<code class="docutils literal notranslate"><span class="pre">z</span></code>). Mapa przechowuje bloki minimapy, indeksowane przez skrót ich pozycji.</p></li>
</ul>
</section>
<section id="id200">
<h1>Zależności i powiązania<a class="headerlink" href="#id200" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>: Pobiera dane do aktualizacji minimapy z obiektów <code class="docutils literal notranslate"><span class="pre">Tile</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_game</span></code> do sprawdzania funkcji, np. <code class="docutils literal notranslate"><span class="pre">GameDontCacheFiles</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/...</span></code></strong>: Używa klas <code class="docutils literal notranslate"><span class="pre">Image</span></code>, <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, <code class="docutils literal notranslate"><span class="pre">Painter</span></code> do operacji graficznych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code></strong>: Do operacji na plikach.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">zlib.h</span></code></strong>: Do kompresji/dekompresji danych w formacie <code class="docutils literal notranslate"><span class="pre">.otmm</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="position-h">
<h1>📄 position.h<a class="headerlink" href="#position-h" title="Link to this heading">#</a></h1>
</section>
<section id="id201">
<h1>Ogólny opis<a class="headerlink" href="#id201" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy definiujący strukturę <code class="docutils literal notranslate"><span class="pre">Position</span></code> oraz powiązane z nią funkcje pomocnicze. Jest to fundamentalna struktura używana w całym projekcie do reprezentowania współrzędnych w trójwymiarowym świecie gry.</p>
</section>
<section id="struktura-position">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">Position</span></code><a class="headerlink" href="#struktura-position" title="Link to this heading">#</a></h1>
</section>
<section id="pola">
<h1>Pola<a class="headerlink" href="#pola" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">y</span></code>: Współrzędne na płaszczyźnie poziomej.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">short</span> <span class="pre">z</span></code>: Współrzędna piętra.</p></li>
</ul>
</section>
<section id="id202">
<h1>Metody<a class="headerlink" href="#id202" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Position(uint16</span> <span class="pre">x,</span> <span class="pre">uint16</span> <span class="pre">y,</span> <span class="pre">uint8</span> <span class="pre">z)</span></code></p></td>
<td><p>Konstruktor.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">translatedToDirection(Otc::Direction</span> <span class="pre">direction)</span></code></p></td>
<td><p>Zwraca nową pozycję przesuniętą o jedno pole w danym kierunku.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">translatedToReverseDirection(...)</span></code></p></td>
<td><p>Zwraca nową pozycję przesuniętą w kierunku przeciwnym.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">translatedToDirections(...)</span></code></p></td>
<td><p>Przetwarza listę kierunków i zwraca listę kolejnych pozycji na ścieżce.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getAngleFromPositions(from,</span> <span class="pre">to)</span></code></p></td>
<td><p>Statyczna metoda obliczająca kąt (w radianach) między dwiema pozycjami.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getDirectionFromPositions(from,</span> <span class="pre">to)</span></code></p></td>
<td><p>Statyczna metoda zwracająca kierunek (<code class="docutils literal notranslate"><span class="pre">Otc::Direction</span></code>) z jednej pozycji do drugiej.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isMapPosition()</span></code></p></td>
<td><p>Sprawdza, czy pozycja jest poprawną pozycją na mapie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isValid()</span></code></p></td>
<td><p>Sprawdza, czy pozycja jest „ważna” (różna od pozycji specjalnej 65535, 65535, 255).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">distance(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Oblicza dystans euklidesowy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">manhattanDistance(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Oblicza odległość w metryce taksówkowej.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">up()</span></code>, <code class="docutils literal notranslate"><span class="pre">down()</span></code>, <code class="docutils literal notranslate"><span class="pre">coveredUp()</span></code>, <code class="docutils literal notranslate"><span class="pre">coveredDown()</span></code></p></td>
<td><p>Metody do przemieszczania się między piętrami z uwzględnieniem perspektywy izometrycznej.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">toString()</span></code></p></td>
<td><p>Zwraca pozycję w formacie „x,y,z”.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">operator==</span></code>, <code class="docutils literal notranslate"><span class="pre">operator!=</span></code>, <code class="docutils literal notranslate"><span class="pre">operator&lt;</span></code></p></td>
<td><p>Operatory porównania.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">operator+</span></code>, <code class="docutils literal notranslate"><span class="pre">operator-</span></code></p></td>
<td><p>Operatory arytmetyczne.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="struktura-positionhasher">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">PositionHasher</span></code><a class="headerlink" href="#struktura-positionhasher" title="Link to this heading">#</a></h1>
</section>
<section id="id203">
<h1>Opis<a class="headerlink" href="#id203" title="Link to this heading">#</a></h1>
<p>Funktor używany do haszowania obiektów <code class="docutils literal notranslate"><span class="pre">Position</span></code>, co pozwala na używanie ich jako kluczy w kontenerach <code class="docutils literal notranslate"><span class="pre">std::unordered_map</span></code>.</p>
</section>
<section id="id204">
<h1>Zależności i powiązania<a class="headerlink" href="#id204" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">const.h</span></code></strong>: Definicje <code class="docutils literal notranslate"><span class="pre">Otc::Direction</span></code> i <code class="docutils literal notranslate"><span class="pre">Otc::MAX_Z</span></code>.</p></li>
<li><p>Plik ten jest dołączany w niemal każdym pliku, który operuje na logice świata gry.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="protocolcodes-h">
<h1>📄 protocolcodes.h<a class="headerlink" href="#protocolcodes-h" title="Link to this heading">#</a></h1>
</section>
<section id="id205">
<h1>Ogólny opis<a class="headerlink" href="#id205" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy definiujący kody operacyjne (opcodes) używane w protokole sieciowym między klientem a serwerem gry. Zawiera również definicje typów stworzeń i mapowanie trybów wiadomości.</p>
</section>
<section id="id206">
<h1>Namespace <code class="docutils literal notranslate"><span class="pre">Proto</span></code><a class="headerlink" href="#id206" title="Link to this heading">#</a></h1>
</section>
<section id="id207">
<h1>Typy wyliczeniowe<a class="headerlink" href="#id207" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">LoginServerOpts</span></code></strong>: Kody operacyjne używane podczas komunikacji z serwerem logowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ItemOpcode</span></code></strong>: Specjalne ID używane do identyfikacji stworzeń i tekstów w strumieniu danych o polach mapy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">GameServerOpcodes</span></code></strong>: Kody operacyjne dla pakietów wysyłanych z serwera do klienta. Lista jest długa i zawiera kody dla wszystkich akcji w grze, takich jak logowanie, ruch postaci, aktualizacje mapy, wiadomości, handel itp.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ClientOpcodes</span></code></strong>: Kody operacyjne dla pakietów wysyłanych z klienta do serwera.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">CreatureType</span></code></strong>: Typy stworzeń (gracz, potwór, NPC).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">CreaturesIdRange</span></code></strong>: Zakresy ID dla różnych typów stworzeń.</p></li>
</ul>
</section>
<section id="id208">
<h1>Funkcje<a class="headerlink" href="#id208" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">buildMessageModesMap(int</span> <span class="pre">version)</span></code></strong>: Buduje mapę tłumaczącą wewnętrzne tryby wiadomości na kody protokołu dla danej wersji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">translateMessageModeFromServer(uint8</span> <span class="pre">mode)</span></code></strong>: Konwertuje kod z serwera na <code class="docutils literal notranslate"><span class="pre">Otc::MessageMode</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">translateMessageModeToServer(Otc::MessageMode</span> <span class="pre">mode)</span></code></strong>: Konwertuje <code class="docutils literal notranslate"><span class="pre">Otc::MessageMode</span></code> na kod dla serwera.</p></li>
</ul>
<blockquote>
<div><p>NOTE: Lista opkodów zawiera zarówno standardowe kody z protokołu Tibii, jak i niestandardowe kody specyficzne dla OTClient (<code class="docutils literal notranslate"><span class="pre">OTClientV8</span> <span class="pre">64-79</span></code>) i rozszerzone opkody (<code class="docutils literal notranslate"><span class="pre">GameServerExtendedOpcode</span></code>).</p>
</div></blockquote>
</section>
<section id="id209">
<h1>Zależności i powiązania<a class="headerlink" href="#id209" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">global.h</span></code></strong>: Podstawowe definicje.</p></li>
<li><p>Ten plik jest kluczowy dla <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code>, który używa tych kodów do identyfikacji i parsowania pakietów sieciowych.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="protocolgame-cpp">
<h1>📄 protocolgame.cpp<a class="headerlink" href="#protocolgame-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id210">
<h1>Ogólny opis<a class="headerlink" href="#id210" title="Link to this heading">#</a></h1>
<p>Implementacja części klasy <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code> odpowiedzialnej za zarządzanie połączeniem i podstawową obsługę zdarzeń sieciowych.</p>
</section>
<section id="klasa-protocolgame">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code><a class="headerlink" href="#klasa-protocolgame" title="Link to this heading">#</a></h1>
</section>
<section id="id211">
<h1>Metody<a class="headerlink" href="#id211" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">login(...)</span></code></p></td>
<td><p>Inicjuje proces logowania, zapisując dane uwierzytelniające i dane świata, a następnie nawiązuje połączenie z serwerem.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onConnect()</span></code></p></td>
<td><p>Metoda wywoływana po pomyślnym nawiązaniu połączenia. Włącza odpowiednie funkcje protokołu (np. sumy kontrolne, szyfrowanie, duże pakiety) w zależności od <code class="docutils literal notranslate"><span class="pre">GameFeature</span></code> i wysyła pierwszy pakiet logowania.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onRecv(const</span> <span class="pre">InputMessagePtr&amp;</span> <span class="pre">inputMessage)</span></code></p></td>
<td><p>Główna pętla odbioru danych. Wywoływana za każdym razem, gdy nadejdzie nowy pakiet. Weryfikuje rozmiar wiadomości (jeśli <code class="docutils literal notranslate"><span class="pre">GameMessageSizeCheck</span></code> jest aktywne), a następnie przekazuje pakiet do <code class="docutils literal notranslate"><span class="pre">parseMessage</span></code> w celu przetworzenia. Po przetworzeniu planuje odbiór kolejnego pakietu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onError(const</span> <span class="pre">boost::system::error_code&amp;</span> <span class="pre">error)</span></code></p></td>
<td><p>Obsługuje błędy połączenia. Powiadamia <code class="docutils literal notranslate"><span class="pre">g_game</span></code> o błędzie i rozłącza klienta.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id212">
<h1>Zależności i powiązania<a class="headerlink" href="#id212" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Ściśle współpracuje z <code class="docutils literal notranslate"><span class="pre">g_game</span></code>, informując go o stanie połączenia i przekazując przetworzone dane.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">player.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">localplayer.h</span></code></strong>: Ustawia instancję <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code> na początku połączenia.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/net/protocol.h</span></code></strong>: Dziedziczy z <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> i wykorzystuje jego mechanizmy do obsługi połączenia TCP.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="protocolgame-h">
<h1>📄 protocolgame.h<a class="headerlink" href="#protocolgame-h" title="Link to this heading">#</a></h1>
</section>
<section id="id213">
<h1>Ogólny opis<a class="headerlink" href="#id213" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code>. Definiuje interfejs protokołu sieciowego używanego do komunikacji z serwerem gry. Zawiera deklaracje funkcji do wysyłania pakietów oraz parsowania odpowiedzi z serwera.</p>
</section>
<section id="id214">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code><a class="headerlink" href="#id214" title="Link to this heading">#</a></h1>
</section>
<section id="id215">
<h1>Opis<a class="headerlink" href="#id215" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">Protocol</span></code>. Jest to centralny punkt obsługi komunikacji sieciowej w grze.</p>
</section>
<section id="metody-wysylanie">
<h1>Metody (Wysyłanie)<a class="headerlink" href="#metody-wysylanie" title="Link to this heading">#</a></h1>
<p>Plik deklaruje dużą liczbę metod <code class="docutils literal notranslate"><span class="pre">send...</span></code>, z których każda odpowiada za wysłanie konkretnego pakietu do serwera. Przykłady:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sendLoginPacket(...)</span></code>: Wysyła pakiet logowania.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sendWalkNorth()</span></code>: Wysyła żądanie ruchu na północ.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sendMove(...)</span></code>: Wysyła żądanie przesunięcia przedmiotu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sendTalk(...)</span></code>: Wysyła wiadomość czatu.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sendAttack(...)</span></code>: Wysyła żądanie ataku.</p></li>
</ul>
</section>
<section id="metody-parsowanie">
<h1>Metody (Parsowanie)<a class="headerlink" href="#metody-parsowanie" title="Link to this heading">#</a></h1>
<p>Deklaruje również metody <code class="docutils literal notranslate"><span class="pre">parse...</span></code>, które są wywoływane w <code class="docutils literal notranslate"><span class="pre">protocolgameparse.cpp</span></code> do przetwarzania pakietów przychodzących z serwera. Przykłady:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parseMapDescription(...)</span></code>: Parsuje pełny opis mapy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parseCreatureHealth(...)</span></code>: Parsuje aktualizację życia stworzenia.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parseTextMessage(...)</span></code>: Parsuje wiadomość tekstową.</p></li>
</ul>
</section>
<section id="metody-pomocnicze">
<h1>Metody (Pomocnicze)<a class="headerlink" href="#metody-pomocnicze" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">getThing(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">getItem(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">getCreature(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">getPosition(...)</span></code>: Funkcje pomocnicze do odczytywania złożonych typów danych ze strumienia <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code>.</p></li>
</ul>
</section>
<section id="id216">
<h1>Zależności i powiązania<a class="headerlink" href="#id216" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów (<code class="docutils literal notranslate"><span class="pre">Position</span></code>, <code class="docutils literal notranslate"><span class="pre">CreaturePtr</span></code>, etc.).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">protocolcodes.h</span></code></strong>: Używa kodów operacyjnych zdefiniowanych w tym pliku.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/net/protocol.h</span></code></strong>: Klasa bazowa.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="spritemanager-cpp">
<h1>📄 spritemanager.cpp<a class="headerlink" href="#spritemanager-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id217">
<h1>Ogólny opis<a class="headerlink" href="#id217" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code>, klasy odpowiedzialnej za zarządzanie plikami sprite’ów (<code class="docutils literal notranslate"><span class="pre">.spr</span></code>, <code class="docutils literal notranslate"><span class="pre">.cwm</span></code>). Plik zawiera logikę wczytywania, zapisywania, a także deszyfrowania i dekompresji danych sprite’ów.</p>
</section>
<section id="klasa-spritemanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code><a class="headerlink" href="#klasa-spritemanager" title="Link to this heading">#</a></h1>
</section>
<section id="id218">
<h1>Metody<a class="headerlink" href="#id218" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadSpr(std::string</span> <span class="pre">file)</span></code></p></td>
<td><p>Główna funkcja wczytująca. Sprawdza, czy istnieje plik <code class="docutils literal notranslate"><span class="pre">.cwm</span></code> (HD mod) lub <code class="docutils literal notranslate"><span class="pre">.spr</span></code> i wywołuje odpowiednią metodę wczytującą.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">saveSpr(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">saveSpr64(...)</span></code></p></td>
<td><p>Metody do zapisywania sprite’ów w formacie <code class="docutils literal notranslate"><span class="pre">.spr</span></code> (32x32 lub 64x64). Wymaga <code class="docutils literal notranslate"><span class="pre">WITH_ENCRYPTION</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">encryptSprites(...)</span></code></p></td>
<td><p>Zapisuje sprite’y w niestandardowym, zaszyfrowanym formacie OTV8.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dumpSprites(...)</span></code></p></td>
<td><p>Zapisuje wszystkie sprite’y jako pojedyncze pliki PNG do danego folderu (funkcja deweloperska).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unload()</span></code></p></td>
<td><p>Zwalnia wszystkie zasoby związane ze sprite’ami.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSpriteImage(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Główna metoda do pobierania obrazu sprite’a. Wywołuje odpowiednią implementację w zależności od tego, czy załadowano mod HD (<code class="docutils literal notranslate"><span class="pre">.cwm</span></code>) czy standardowy plik (<code class="docutils literal notranslate"><span class="pre">.spr</span></code>).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadCasualSpr(...)</span></code></p></td>
<td><p>Wczytuje standardowy plik <code class="docutils literal notranslate"><span class="pre">.spr</span></code>. Odczytuje sygnaturę i liczbę sprite’ów. Obsługuje również zaszyfrowany format OTV8.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">loadCwmSpr(...)</span></code></p></td>
<td><p>Wczytuje plik <code class="docutils literal notranslate"><span class="pre">.cwm</span></code>, który jest zbiorem skompresowanych danych PNG. Używa <code class="docutils literal notranslate"><span class="pre">PngUnpacker</span></code> do rozpakowania wszystkich sprite’ów do pamięci.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getSpriteImageCasual(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Pobiera obraz sprite’a z pliku <code class="docutils literal notranslate"><span class="pre">.spr</span></code>. Odczytuje adres sprite’a z tablicy offsetów, a następnie dekompresuje dane pikseli, które są zapisane w formacie RLE (run-length encoding) z przezroczystymi i kolorowymi pikselami.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSpriteImageHd(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Pobiera obraz sprite’a z pamięci podręcznej wczytanej z pliku <code class="docutils literal notranslate"><span class="pre">.cwm</span></code>. Dekoduje dane PNG dla danego sprite’a.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id219">
<h1>Zależności i powiązania<a class="headerlink" href="#id219" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_game</span></code> do sprawdzania <code class="docutils literal notranslate"><span class="pre">GameFeature</span></code>, które wpływają na format pliku <code class="docutils literal notranslate"><span class="pre">.spr</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/resourcemanager.h</span></code></strong>: Do operacji na plikach.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/image.h</span></code></strong>: Zwraca obiekty <code class="docutils literal notranslate"><span class="pre">ImagePtr</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/util/crypt.h</span></code></strong>: Do deszyfrowania formatu OTV8.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/util/pngunpacker.h</span></code></strong>: Do rozpakowywania plików <code class="docutils literal notranslate"><span class="pre">.cwm</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="protocolgamesend-cpp">
<h1>📄 protocolgamesend.cpp<a class="headerlink" href="#protocolgamesend-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id220">
<h1>Ogólny opis<a class="headerlink" href="#id220" title="Link to this heading">#</a></h1>
<p>Plik ten zawiera implementację metod klasy <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code> odpowiedzialnych za <strong>wysyłanie</strong> pakietów do serwera gry. Każda metoda odpowiada za stworzenie i wysłanie konkretnego komunikatu zgodnie z protokołem sieciowym.</p>
</section>
<section id="id221">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code><a class="headerlink" href="#id221" title="Link to this heading">#</a></h1>
</section>
<section id="id222">
<h1>Metody<a class="headerlink" href="#id222" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">send(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">outputMessage,</span> <span class="pre">...)</span></code></p></td>
<td><p>Wysyła przygotowany pakiet, sprawdzając uprzednio zabezpieczenia anty-botowe (<code class="docutils literal notranslate"><span class="pre">g_game.checkBotProtection()</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sendLoginPacket(...)</span></code></p></td>
<td><p>Tworzy i wysyła pakiet logowania. Zawiera logikę szyfrowania RSA, dodawania klucza XTEA, a także wysyłania dodatkowych danych identyfikacyjnych klienta (nazwa użytkownika, CPU, adresy MAC), jeśli serwer to obsługuje.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sendWalkNorth()</span></code>, <code class="docutils literal notranslate"><span class="pre">sendWalkEast()</span></code>, etc.</p></td>
<td><p>Wysyłają jednobajtowe pakiety z żądaniem ruchu w danym kierunku.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sendAutoWalk(...)</span></code></p></td>
<td><p>Wysyła sekwencję kierunków dla automatycznego poruszania się.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sendNewWalk(...)</span></code></p></td>
<td><p>Wysyła pakiet dla nowego systemu chodzenia, zawierający ID kroku, ID predykcji, pozycję i ścieżkę.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sendMove(...)</span></code></p></td>
<td><p>Wysyła żądanie przesunięcia przedmiotu/stworzenia.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sendUseItem(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">sendUseItemWith(...)</span></code></p></td>
<td><p>Wysyłają żądania użycia przedmiotów.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sendTalk(...)</span></code></p></td>
<td><p>Wysyła wiadomość czatu. Konstruuje pakiet w zależności od trybu wiadomości (publiczny, prywatny, kanał).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sendAttack(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">sendFollow(...)</span></code></p></td>
<td><p>Wysyłają żądania ataku lub śledzenia stworzenia, zawierając sekwencyjny numer identyfikujący akcję.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sendChangeOutfit(...)</span></code></p></td>
<td><p>Wysyła nowy ubiór gracza, uwzględniając wszystkie jego elementy (kolory, dodatki, wierzchowiec, etc.) w zależności od wspieranych przez serwer funkcji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addPosition(const</span> <span class="pre">OutputMessagePtr&amp;</span> <span class="pre">msg,</span> <span class="pre">...)</span></code></p></td>
<td><p>Pomocnicza metoda do dodawania współrzędnych <code class="docutils literal notranslate"><span class="pre">Position</span></code> do pakietu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="logika">
<h1>Logika<a class="headerlink" href="#logika" title="Link to this heading">#</a></h1>
<p>Większość funkcji w tym pliku ma prostą strukturę:</p>
<ol class="arabic simple">
<li><p>Stwórz nowy <code class="docutils literal notranslate"><span class="pre">OutputMessage</span></code>.</p></li>
<li><p>Dodaj kod operacyjny (opcode) za pomocą <code class="docutils literal notranslate"><span class="pre">msg→addU8(...)</span></code>.</p></li>
<li><p>Dodaj kolejne dane (ID, pozycje, stringi) zgodnie ze specyfikacją protokołu.</p></li>
<li><p>Wyślij pakiet za pomocą <code class="docutils literal notranslate"><span class="pre">send(msg)</span></code>.</p></li>
</ol>
</section>
<section id="id223">
<h1>Zależności i powiązania<a class="headerlink" href="#id223" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_game</span></code> do sprawdzania funkcji serwera (<code class="docutils literal notranslate"><span class="pre">GameFeature</span></code>), które determinują format wysyłanych pakietów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">localplayer.h</span></code></strong>: Używa pozycji lokalnego gracza w niektórych pakietach (np. <code class="docutils literal notranslate"><span class="pre">sendTalk</span></code>).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/util/crypt.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_crypt</span></code> do szyfrowania RSA.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/platform/platform.h</span></code></strong>: Pobiera informacje o systemie do wysłania w pakiecie logowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="localplayer-h">
<h1>📄 localplayer.h<a class="headerlink" href="#localplayer-h" title="Link to this heading">#</a></h1>
</section>
<section id="id224">
<h1>Ogólny opis<a class="headerlink" href="#id224" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code>, która reprezentuje postać sterowaną przez gracza. Jest to specjalizacja klasy <code class="docutils literal notranslate"><span class="pre">Player</span></code>.</p>
</section>
<section id="id225">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code><a class="headerlink" href="#id225" title="Link to this heading">#</a></h1>
</section>
<section id="id226">
<h1>Opis<a class="headerlink" href="#id226" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">Player</span></code>. Dodaje funkcjonalności specyficzne dla gracza, który jest kontrolowany przez klienta, takie jak:</p>
<ul class="simple">
<li><p><strong>Pre-walking</strong>: Przewidywanie ruchu przed otrzymaniem odpowiedzi z serwera.</p></li>
<li><p><strong>Auto-walking</strong>: Automatyczne poruszanie się do celu.</p></li>
<li><p><strong>Zarządzanie stanem</strong>: Przechowuje szczegółowe statystyki (życie, mana, umiejętności, etc.).</p></li>
</ul>
</section>
<section id="id227">
<h1>Metody<a class="headerlink" href="#id227" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lockWalk(int</span> <span class="pre">millis)</span></code></p></td>
<td><p>Blokuje możliwość chodzenia na określony czas.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">stopAutoWalk()</span></code></p></td>
<td><p>Przerywa auto-walking.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">autoWalk(Position</span> <span class="pre">destination,</span> <span class="pre">...)</span></code></p></td>
<td><p>Rozpoczyna auto-walking do celu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">canWalk(...)</span></code></p></td>
<td><p>Sprawdza, czy gracz może się poruszyć.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isPreWalking()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli gracz wykonuje ruch „pre-walk”.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getPrewalkingPosition(...)</span></code></p></td>
<td><p>Zwraca pozycję, na której gracz znajdzie się po zakończeniu wszystkich ruchów „pre-walk”.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setHealth(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">setMana(...)</span></code>, etc.</p></td>
<td><p>Metody do ustawiania statystyk gracza.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getHealth()</span></code>, <code class="docutils literal notranslate"><span class="pre">getMana()</span></code>, etc.</p></td>
<td><p>Metody do pobierania statystyk.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hasSight(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Sprawdza, czy pozycja jest w zasięgu wzroku.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id228">
<h1>Zależności i powiązania<a class="headerlink" href="#id228" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">player.h</span></code></strong>: Klasa bazowa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">walkmatrix.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">WalkMatrix</span></code> do śledzenia predykcji ruchu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="towns-cpp">
<h1>📄 towns.cpp<a class="headerlink" href="#towns-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id229">
<h1>Ogólny opis<a class="headerlink" href="#id229" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">Town</span></code> i <code class="docutils literal notranslate"><span class="pre">TownManager</span></code>, które służą do zarządzania danymi o miastach w grze.</p>
</section>
<section id="klasa-town">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Town</span></code><a class="headerlink" href="#klasa-town" title="Link to this heading">#</a></h1>
</section>
<section id="id230">
<h1>Metody<a class="headerlink" href="#id230" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Town(uint32</span> <span class="pre">tid,</span> <span class="pre">...)</span></code></strong>: Konstruktor, który inicjalizuje miasto z podanym ID, nazwą i pozycją (zwykle świątyni).</p></li>
</ul>
</section>
<section id="klasa-townmanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">TownManager</span></code><a class="headerlink" href="#klasa-townmanager" title="Link to this heading">#</a></h1>
</section>
<section id="id231">
<h1>Metody<a class="headerlink" href="#id231" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addTown(const</span> <span class="pre">TownPtr</span> <span class="pre">&amp;town)</span></code></p></td>
<td><p>Dodaje nowe miasto do listy, jeśli jeszcze nie istnieje.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">removeTown(uint32</span> <span class="pre">townId)</span></code></p></td>
<td><p>Usuwa miasto o podanym ID.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTown(uint32</span> <span class="pre">townId)</span></code></p></td>
<td><p>Zwraca miasto po jego ID.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTownByName(std::string</span> <span class="pre">name)</span></code></p></td>
<td><p>Zwraca miasto po jego nazwie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">findTown(uint32</span> <span class="pre">townId)</span></code></p></td>
<td><p>Wewnętrzna metoda do wyszukiwania iteratora do miasta.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sort()</span></code></p></td>
<td><p>Sortuje listę miast alfabetycznie według nazwy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id232">
<h1>Zmienne globalne<a class="headerlink" href="#id232" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">TownManager</span> <span class="pre">g_towns</span></code></strong>: Globalna instancja managera miast.</p></li>
</ul>
</section>
<section id="id233">
<h1>Zależności i powiązania<a class="headerlink" href="#id233" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mapio.cpp</span></code></strong>: Menedżer <code class="docutils literal notranslate"><span class="pre">g_towns</span></code> jest wypełniany danymi podczas wczytywania mapy w formacie OTBM.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="spritemanager-h">
<h1>📄 spritemanager.h<a class="headerlink" href="#spritemanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id234">
<h1>Ogólny opis<a class="headerlink" href="#id234" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code>, singletonu odpowiedzialnego za zarządzanie plikami sprite’ów (<code class="docutils literal notranslate"><span class="pre">.spr</span></code>).</p>
</section>
<section id="id235">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code><a class="headerlink" href="#id235" title="Link to this heading">#</a></h1>
</section>
<section id="id236">
<h1>Opis<a class="headerlink" href="#id236" title="Link to this heading">#</a></h1>
<p>Centralny punkt dostępu do danych graficznych sprite’ów. Odpowiada za wczytywanie, deszyfrowanie, dekompresję i dostarczanie obrazów poszczególnych sprite’ów.</p>
</section>
<section id="id237">
<h1>Metody<a class="headerlink" href="#id237" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadSpr(std::string</span> <span class="pre">file)</span></code></p></td>
<td><p>Wczytuje plik sprite’ów (automatycznie wykrywa format: <code class="docutils literal notranslate"><span class="pre">.spr</span></code>, <code class="docutils literal notranslate"><span class="pre">.cwm</span></code>, OTV8).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unload()</span></code></p></td>
<td><p>Zwalnia wszystkie załadowane dane sprite’ów.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">saveSpr(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">encryptSprites(...)</span></code></p></td>
<td><p>Metody (dostępne z <code class="docutils literal notranslate"><span class="pre">WITH_ENCRYPTION</span></code>) do zapisywania i szyfrowania plików sprite’ów.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSignature()</span></code></p></td>
<td><p>Zwraca sygnaturę wczytanego pliku <code class="docutils literal notranslate"><span class="pre">.spr</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getSpritesCount()</span></code></p></td>
<td><p>Zwraca liczbę sprite’ów w pliku.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSpriteImage(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Główna metoda do pobierania obrazu sprite’a o danym ID.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isLoaded()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli plik sprite’ów jest załadowany.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">spriteSize()</span></code></p></td>
<td><p>Zwraca rozmiar boku pojedynczego sprite’a (np. 32 lub 64 piksele).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getOffsetFactor()</span></code></p></td>
<td><p>Zwraca współczynnik skalowania dla przemieszczeń (displacement) w zależności od <code class="docutils literal notranslate"><span class="pre">spriteSize</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isHdMod()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli załadowano modyfikację HD (<code class="docutils literal notranslate"><span class="pre">.cwm</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id238">
<h1>Zmienne globalne<a class="headerlink" href="#id238" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">SpriteManager</span> <span class="pre">g_sprites</span></code></strong>: Globalna instancja managera sprite’ów.</p></li>
</ul>
</section>
<section id="id239">
<h1>Zależności i powiązania<a class="headerlink" href="#id239" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code></strong>: Podstawowe deklaracje.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/declarations.h</span></code></strong>: Deklaracje typów graficznych.</p></li>
<li><p>Niemal każda klasa renderująca obiekty w grze (np. <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>, <code class="docutils literal notranslate"><span class="pre">Item</span></code>, <code class="docutils literal notranslate"><span class="pre">Creature</span></code>) zależy od <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="tile-cpp">
<h1>📄 tile.cpp<a class="headerlink" href="#tile-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id240">
<h1>Ogólny opis<a class="headerlink" href="#id240" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">Tile</span></code>, która reprezentuje pojedyncze pole na mapie gry. Plik zawiera logikę rysowania pola i wszystkich znajdujących się na nim obiektów, zarządzania stosem obiektów oraz dostarczania informacji o właściwościach pola.</p>
</section>
<section id="klasa-tile">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Tile</span></code><a class="headerlink" href="#klasa-tile" title="Link to this heading">#</a></h1>
</section>
<section id="id241">
<h1>Metody<a class="headerlink" href="#id241" title="Link to this heading">#</a></h1>
</section>
<section id="rysowanie">
<h1>Rysowanie<a class="headerlink" href="#rysowanie" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawGround(...)</span></code></p></td>
<td><p>Rysuje podłoże i obiekty na najniższej warstwie. Oblicza <code class="docutils literal notranslate"><span class="pre">m_drawElevation</span></code> (przesunięcie w pionie dla obiektów o wysokości &gt; 1).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawBottom(...)</span></code></p></td>
<td><p>Rysuje przedmioty, które znajdują się na spodzie, ale nad podłożem (np. ściany).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawCreatures(...)</span></code></p></td>
<td><p>Rysuje stworzenia na tym polu oraz stworzenia, które na nie wchodzą.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawTop(...)</span></code></p></td>
<td><p>Rysuje przedmioty na wierzchu, efekty oraz ponownie stworzenia, aby obsłużyć przypadki nakładania się.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawTexts(...)</span></code></p></td>
<td><p>Rysuje tekst przypisany do pola (np. timer).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawWidget(...)</span></code></p></td>
<td><p>Rysuje przypisany do pola widżet.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zarzadzanie-obiektami">
<h1>Zarządzanie obiektami<a class="headerlink" href="#zarzadzanie-obiektami" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addThing(...)</span></code></p></td>
<td><p>Dodaje obiekt (<code class="docutils literal notranslate"><span class="pre">Thing</span></code>) na stos w odpowiedniej pozycji, uwzględniając jego priorytet (ziemia, przedmioty, stworzenia).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">removeThing(...)</span></code></p></td>
<td><p>Usuwa obiekt ze stosu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addWalkingCreature(...)</span></code></p></td>
<td><p>Dodaje stworzenie do listy „przechodzących” przez to pole, które są rysowane osobno.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getThing(...)</span></code></p></td>
<td><p>Zwraca obiekt z danej pozycji na stosie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTopThing()</span></code>, <code class="docutils literal notranslate"><span class="pre">getTopCreature()</span></code>, etc.</p></td>
<td><p>Zwracają „najważniejszy” obiekt danego typu na polu, uwzględniając logikę gry (np. na co patrzy gracz, czego używa).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getItems()</span></code>, <code class="docutils literal notranslate"><span class="pre">getCreatures()</span></code></p></td>
<td><p>Zwracają listy wszystkich przedmiotów lub stworzeń na polu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="wlasciwosci">
<h1>Właściwości<a class="headerlink" href="#wlasciwosci" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isWalkable(...)</span></code></p></td>
<td><p>Sprawdza, czy po polu można chodzić (czy nie ma blokujących przedmiotów lub stworzeń).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isPathable()</span></code></p></td>
<td><p>Sprawdza, czy algorytm wyszukiwania ścieżki może używać tego pola.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isFullGround()</span></code></p></td>
<td><p>Sprawdza, czy podłoże całkowicie zakrywa pole pod nim.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getGroundSpeed()</span></code></p></td>
<td><p>Zwraca prędkość poruszania się po tym polu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id242">
<h1>Zależności i powiązania<a class="headerlink" href="#id242" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_map</span></code> do pobierania sąsiednich pól (np. przy korekcji zwłok).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Dostęp do <code class="docutils literal notranslate"><span class="pre">g_game</span></code> w celu sprawdzania <code class="docutils literal notranslate"><span class="pre">GameFeature</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thing.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">item.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">creature.h</span></code></strong>: Zarządza tymi obiektami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lightview.h</span></code></strong>: Przekazuje <code class="docutils literal notranslate"><span class="pre">LightView</span></code> do metod rysujących obiekty, aby mogły dodać swoje światło.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="statictext-h">
<h1>📄 statictext.h<a class="headerlink" href="#statictext-h" title="Link to this heading">#</a></h1>
</section>
<section id="id243">
<h1>Ogólny opis<a class="headerlink" href="#id243" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">StaticText</span></code>, która reprezentuje tekst pojawiający się nad głowami stworzeń lub na polach mapy.</p>
</section>
<section id="struktura-statictextmessage">
<h1>Struktura <code class="docutils literal notranslate"><span class="pre">StaticTextMessage</span></code><a class="headerlink" href="#struktura-statictextmessage" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">texts</span></code></strong>: Wektor par <code class="docutils literal notranslate"><span class="pre">std::string</span></code>, gdzie pierwsza to treść, a druga to kolor w formacie hex.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">time</span></code></strong>: Czas (w tickach), po którym wiadomość powinna zniknąć.</p></li>
</ul>
</section>
<section id="klasa-statictext">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">StaticText</span></code><a class="headerlink" href="#klasa-statictext" title="Link to this heading">#</a></h1>
</section>
<section id="id244">
<h1>Opis<a class="headerlink" href="#id244" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">Thing</span></code>. Zarządza kolejką wiadomości, które są wyświetlane jedna po drugiej. Jest używana do mowy postaci, potworów, a także do niestandardowych tekstów na mapie.</p>
</section>
<section id="id245">
<h1>Metody<a class="headerlink" href="#id245" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawText(...)</span></code></p></td>
<td><p>Rysuje aktualnie wyświetlaną wiadomość.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getName()</span></code></p></td>
<td><p>Zwraca nazwę postaci mówiącej.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getText()</span></code></p></td>
<td><p>Zwraca aktualnie wyświetlany tekst.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getMessageMode()</span></code></p></td>
<td><p>Zwraca tryb wiadomości (np. <code class="docutils literal notranslate"><span class="pre">Say</span></code>, <code class="docutils literal notranslate"><span class="pre">Yell</span></code>).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addMessage(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">addColoredMessage(...)</span></code></p></td>
<td><p>Dodaje nową wiadomość do kolejki. Oblicza czas jej wyświetlania na podstawie długości.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setText(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">setFont(...)</span></code></p></td>
<td><p>Ustawia surowy tekst i czcionkę (głównie dla niestandardowych tekstów).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isYell()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli tryb wiadomości to krzyk.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id246">
<h1>Zależności i powiązania<a class="headerlink" href="#id246" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thing.h</span></code></strong>: Klasa bazowa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/cachedtext.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">CachedText</span></code> do efektywnego renderowania tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/timer.h</span></code></strong>: Używane do zarządzania czasem życia wiadomości.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uimapanchorlayout-cpp">
<h1>📄 uimapanchorlayout.cpp<a class="headerlink" href="#uimapanchorlayout-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id247">
<h1>Ogólny opis<a class="headerlink" href="#id247" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code> i <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code>, które rozszerzają standardowy system kotwic (<code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>) o możliwość przypinania widżetów do konkretnych pozycji na minimapie.</p>
</section>
<section id="klasa-uipositionanchor">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code><a class="headerlink" href="#klasa-uipositionanchor" title="Link to this heading">#</a></h1>
</section>
<section id="id248">
<h1>Metody<a class="headerlink" href="#id248" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getHookedPoint(...)</span></code></p></td>
<td><p>Kluczowa metoda, która oblicza współrzędną (X lub Y) na ekranie na podstawie <code class="docutils literal notranslate"><span class="pre">m_hookedPosition</span></code>. Pobiera <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code>, prosi go o prostokąt (<code class="docutils literal notranslate"><span class="pre">Rect</span></code>) odpowiadający danemu polu na mapie (<code class="docutils literal notranslate"><span class="pre">getTileRect</span></code>), a następnie zwraca odpowiednią krawędź tego prostokąta (np. <code class="docutils literal notranslate"><span class="pre">left</span></code>, <code class="docutils literal notranslate"><span class="pre">top</span></code>, <code class="docutils literal notranslate"><span class="pre">horizontalCenter</span></code>).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="klasa-uimapanchorlayout">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code><a class="headerlink" href="#klasa-uimapanchorlayout" title="Link to this heading">#</a></h1>
</section>
<section id="id249">
<h1>Metody<a class="headerlink" href="#id249" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addPositionAnchor(...)</span></code></p></td>
<td><p>Tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code> i dodaje go do grupy kotwic dla danego widżetu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">centerInPosition(...)</span></code></p></td>
<td><p>Funkcja pomocnicza, która dodaje dwie kotwice (<code class="docutils literal notranslate"><span class="pre">HorizontalCenter</span></code> i <code class="docutils literal notranslate"><span class="pre">VerticalCenter</span></code>), aby wyśrodkować widżet na danym polu mapy.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fillPosition(...)</span></code></p></td>
<td><p>Funkcja pomocnicza, która dodaje cztery kotwice (<code class="docutils literal notranslate"><span class="pre">Left</span></code>, <code class="docutils literal notranslate"><span class="pre">Right</span></code>, <code class="docutils literal notranslate"><span class="pre">Top</span></code>, <code class="docutils literal notranslate"><span class="pre">Bottom</span></code>), aby widżet wypełnił obszar danego pola na mapie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id250">
<h1>Zależności i powiązania<a class="headerlink" href="#id250" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiminimap.h</span></code></strong>: <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code> rzutuje widżet-rodzica na <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code>, aby uzyskać dostęp do metody <code class="docutils literal notranslate"><span class="pre">getTileRect</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code></strong>: Współpracuje z widżetami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uianchorlayout.h</span></code></strong>: Rozszerza standardowy layout kotwic.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="thing-h">
<h1>📄 thing.h<a class="headerlink" href="#thing-h" title="Link to this heading">#</a></h1>
</section>
<section id="id251">
<h1>Ogólny opis<a class="headerlink" href="#id251" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">Thing</span></code>, abstrakcyjnej klasy bazowej dla wszystkich obiektów, które mogą pojawić się na mapie w grze.</p>
</section>
<section id="klasa-thing">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Thing</span></code><a class="headerlink" href="#klasa-thing" title="Link to this heading">#</a></h1>
</section>
<section id="id252">
<h1>Opis<a class="headerlink" href="#id252" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>. Definiuje wspólny interfejs dla przedmiotów, stworzeń, efektów, pocisków i tekstów. Każdy obiekt <code class="docutils literal notranslate"><span class="pre">Thing</span></code> ma pozycję i należy do określonego typu (<code class="docutils literal notranslate"><span class="pre">ThingType</span></code>).</p>
</section>
<section id="id253">
<h1>Metody<a class="headerlink" href="#id253" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Wirtualna metoda do rysowania obiektu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setPosition(const</span> <span class="pre">Position&amp;</span> <span class="pre">position)</span></code></p></td>
<td><p>Ustawia pozycję obiektu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getPosition()</span></code></p></td>
<td><p>Zwraca pozycję obiektu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getStackPriority()</span></code></p></td>
<td><p>Zwraca priorytet na stosie, który decyduje o kolejności rysowania i interakcji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTile()</span></code></p></td>
<td><p>Zwraca wskaźnik do pola (<code class="docutils literal notranslate"><span class="pre">Tile</span></code>), na którym znajduje się obiekt.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getStackPos()</span></code></p></td>
<td><p>Zwraca pozycję obiektu na stosie wewnątrz pola.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isItem()</span></code>, <code class="docutils literal notranslate"><span class="pre">isCreature()</span></code>, etc.</p></td>
<td><p>Wirtualne metody do identyfikacji typu obiektu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getThingType()</span></code> / <code class="docutils literal notranslate"><span class="pre">rawGetThingType()</span></code></p></td>
<td><p>Zwracają <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> dla tego obiektu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getSize()</span></code>, <code class="docutils literal notranslate"><span class="pre">getWidth()</span></code>, <code class="docutils literal notranslate"><span class="pre">getHeight()</span></code>, etc.</p></td>
<td><p>Metody-skróty do właściwości z <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onPositionChange(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">onAppear()</span></code>, <code class="docutils literal notranslate"><span class="pre">onDisappear()</span></code></p></td>
<td><p>Wirtualne metody wywoływane w kluczowych momentach cyklu życia obiektu.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id254">
<h1>Zależności i powiązania<a class="headerlink" href="#id254" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów, np. <code class="docutils literal notranslate"><span class="pre">TilePtr</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thingtype.h</span></code></strong>: Każdy <code class="docutils literal notranslate"><span class="pre">Thing</span></code> ma swój <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code></strong>: Klasa bazowa.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiitem-h">
<h1>📄 uiitem.h<a class="headerlink" href="#uiitem-h" title="Link to this heading">#</a></h1>
</section>
<section id="id255">
<h1>Ogólny opis<a class="headerlink" href="#id255" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">UIItem</span></code>, widżetu interfejsu użytkownika przeznaczonego do wyświetlania przedmiotów (<code class="docutils literal notranslate"><span class="pre">Item</span></code>).</p>
</section>
<section id="klasa-uiitem">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIItem</span></code><a class="headerlink" href="#klasa-uiitem" title="Link to this heading">#</a></h1>
</section>
<section id="id256">
<h1>Opis<a class="headerlink" href="#id256" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Służy do renderowania przedmiotów w UI, np. w ekwipunku, kontenerach, oknach handlu.</p>
</section>
<section id="id257">
<h1>Metody<a class="headerlink" href="#id257" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(...)</span></code></p></td>
<td><p>Rysuje tło, obraz, a następnie sam przedmiot (<code class="docutils literal notranslate"><span class="pre">m_item→draw(...)</span></code>), liczbę sztuk (jeśli dotyczy) i ramkę.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setItemId(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia przedmiot do wyświetlenia na podstawie jego ID.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setItemCount(int</span> <span class="pre">count)</span></code></p></td>
<td><p>Ustawia liczbę sztuk przedmiotu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setItem(const</span> <span class="pre">ItemPtr&amp;</span> <span class="pre">item)</span></code></p></td>
<td><p>Ustawia przedmiot do wyświetlenia na podstawie istniejącego obiektu <code class="docutils literal notranslate"><span class="pre">Item</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setVirtual(bool</span> <span class="pre">virt)</span></code></p></td>
<td><p>Oznacza, czy przedmiot jest „wirtualny” (nie jest prawdziwą instancją, tylko reprezentacją wizualną).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setShowCount(bool</span> <span class="pre">value)</span></code></p></td>
<td><p>Włącza/wyłącza wyświetlanie liczby sztuk.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setItemShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">str)</span></code></p></td>
<td><p>Ustawia niestandardowy shader dla przedmiotu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getItem()</span></code></p></td>
<td><p>Zwraca obiekt <code class="docutils literal notranslate"><span class="pre">Item</span></code> powiązany z widżetem.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id258">
<h1>Zależności i powiązania<a class="headerlink" href="#id258" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code></strong>: Klasa bazowa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">item.h</span></code></strong>: Przechowuje i rysuje obiekt <code class="docutils literal notranslate"><span class="pre">Item</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="thing-cpp">
<h1>📄 thing.cpp<a class="headerlink" href="#thing-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id259">
<h1>Ogólny opis<a class="headerlink" href="#id259" title="Link to this heading">#</a></h1>
<p>Implementacja klasy bazowej <code class="docutils literal notranslate"><span class="pre">Thing</span></code>. Zawiera podstawową logikę wspólną dla wszystkich obiektów na mapie.</p>
</section>
<section id="id260">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Thing</span></code><a class="headerlink" href="#id260" title="Link to this heading">#</a></h1>
</section>
<section id="id261">
<h1>Metody<a class="headerlink" href="#id261" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setPosition(const</span> <span class="pre">Position&amp;</span> <span class="pre">position)</span></code></p></td>
<td><p>Aktualizuje pozycję obiektu i wywołuje wirtualną metodę <code class="docutils literal notranslate"><span class="pre">onPositionChange</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getStackPriority()</span></code></p></td>
<td><p>Zwraca priorytet obiektu na stosie wewnątrz pola. Kolejność jest ściśle zdefiniowana: ziemia, obramowanie ziemi, obiekty na dole (np. ściany), obiekty na górze (np. dywany), stworzenia, a na końcu zwykłe przedmioty.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTile()</span></code></p></td>
<td><p>Zwraca wskaźnik do pola, na którym znajduje się obiekt, używając <code class="docutils literal notranslate"><span class="pre">g_map</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getParentContainer()</span></code></p></td>
<td><p>Jeśli obiekt znajduje się w kontenerze, zwraca wskaźnik do tego kontenera. Pozycja w kontenerze jest specjalnie kodowana.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getStackPos()</span></code></p></td>
<td><p>Zwraca pozycję na stosie: albo wewnątrz kontenera, albo na polu mapy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getThingType()</span></code> / <code class="docutils literal notranslate"><span class="pre">rawGetThingType()</span></code></p></td>
<td><p>Zwracają domyślny, „pusty” <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>. Muszą być nadpisane przez klasy pochodne.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">updatedMarkedColor()</span></code></p></td>
<td><p>Aktualizuje kolor i przezroczystość znacznika (jeśli jest ustawiony), tworząc efekt pulsowania.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id262">
<h1>Zależności i powiązania<a class="headerlink" href="#id262" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">thingtypemanager.h</span></code></strong>: Podstawowe zależności.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>: Do pobierania <code class="docutils literal notranslate"><span class="pre">Tile</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Do pobierania kontenerów.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uimap-cpp">
<h1>📄 uimap.cpp<a class="headerlink" href="#uimap-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id263">
<h1>Ogólny opis<a class="headerlink" href="#id263" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">UIMap</span></code>, widżetu interfejsu użytkownika, który renderuje główny widok mapy gry.</p>
</section>
<section id="klasa-uimap">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIMap</span></code><a class="headerlink" href="#klasa-uimap" title="Link to this heading">#</a></h1>
</section>
<section id="id264">
<h1>Metody<a class="headerlink" href="#id264" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(Fw::DrawPane</span> <span class="pre">drawPane)</span></code></p></td>
<td><p>Główna funkcja rysująca. Jest wywoływana trzykrotnie dla różnych „warstw” (<code class="docutils literal notranslate"><span class="pre">DrawPane</span></code>): <br> 1. <code class="docutils literal notranslate"><span class="pre">MapBackgroundPane</span></code>: Rysuje tło mapy (<code class="docutils literal notranslate"><span class="pre">m_mapView→drawMapBackground</span></code>). <br> 2. <code class="docutils literal notranslate"><span class="pre">MapForegroundPane</span></code>: Rysuje pierwszy plan (<code class="docutils literal notranslate"><span class="pre">m_mapView→drawMapForeground</span></code>). <br> 3. <code class="docutils literal notranslate"><span class="pre">ForegroundPane</span></code>: Rysuje obramowanie wokół mapy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setZoom(int</span> <span class="pre">zoom)</span></code></p></td>
<td><p>Ustawia poziom przybliżenia, co wpływa na <code class="docutils literal notranslate"><span class="pre">m_mapView→setVisibleDimension</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zoomIn()</span></code> / <code class="docutils literal notranslate"><span class="pre">zoomOut()</span></code></p></td>
<td><p>Zmienia poziom przybliżenia o stałą wartość.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setVisibleDimension(...)</span></code></p></td>
<td><p>Ustawia widoczny wymiar w <code class="docutils literal notranslate"><span class="pre">m_mapView</span></code> i aktualizuje proporcje.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setKeepAspectRatio(bool</span> <span class="pre">enable)</span></code></p></td>
<td><p>Włącza/wyłącza zachowanie stałych proporcji widoku mapy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getPosition(const</span> <span class="pre">Point&amp;</span> <span class="pre">mousePos)</span></code></p></td>
<td><p>Konwertuje pozycję kursora na ekranie na pozycję (<code class="docutils literal notranslate"><span class="pre">Position</span></code>) w świecie gry.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTile(const</span> <span class="pre">Point&amp;</span> <span class="pre">mousePos)</span></code></p></td>
<td><p>Zwraca pole (<code class="docutils literal notranslate"><span class="pre">Tile</span></code>) pod kursorem, przeszukując widoczne piętra od góry do dołu w poszukiwaniu klikalnego obiektu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">updateVisibleDimension()</span></code></p></td>
<td><p>Przelicza i ustawia widoczny wymiar w <code class="docutils literal notranslate"><span class="pre">m_mapView</span></code> na podstawie aktualnego zoomu i proporcji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">updateMapSize()</span></code></p></td>
<td><p>Dopasowuje rozmiar i pozycję prostokąta rysowania mapy (<code class="docutils literal notranslate"><span class="pre">m_mapRect</span></code>) do rozmiaru widżetu, zachowując proporcje, jeśli to wymagane.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id265">
<h1>Zależności i powiązania<a class="headerlink" href="#id265" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>: Dostęp do globalnych obiektów gry i mapy.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mapview.h</span></code></strong>: <code class="docutils literal notranslate"><span class="pre">UIMap</span></code> jest „opakowaniem” dla <code class="docutils literal notranslate"><span class="pre">MapView</span></code>, przekazując mu zadania renderowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code></strong>: Parsuje właściwości z plików OTML, takie jak <code class="docutils literal notranslate"><span class="pre">multifloor</span></code> czy <code class="docutils literal notranslate"><span class="pre">animated</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="statictext-cpp">
<h1>📄 statictext.cpp<a class="headerlink" href="#statictext-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id266">
<h1>Ogólny opis<a class="headerlink" href="#id266" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">StaticText</span></code>, klasy odpowiedzialnej za wyświetlanie mowy postaci i innych tekstów na mapie.</p>
</section>
<section id="id267">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">StaticText</span></code><a class="headerlink" href="#id267" title="Link to this heading">#</a></h1>
</section>
<section id="id268">
<h1>Metody<a class="headerlink" href="#id268" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawText(...)</span></code></p></td>
<td><p>Rysuje tekst na ekranie, centrując go i dopasowując do prostokąta nadrzędnego.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">addMessage(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">addColoredMessage(...)</span></code></p></td>
<td><p>Dodaje nową wiadomość do kolejki. Jeśli jest to pierwsza wiadomość, ustawia tryb (np. <code class="docutils literal notranslate"><span class="pre">Say</span></code>, <code class="docutils literal notranslate"><span class="pre">Yell</span></code>) i nazwę mówiącego. Jeśli kolejne wiadomości pasują do poprzednich (ten sam mówiący i tryb), są dodawane do kolejki. Oblicza czas wyświetlania na podstawie długości tekstu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">update()</span></code></p></td>
<td><p>Metoda wywoływana po upłynięciu czasu wyświetlania wiadomości. Usuwa najstarszą wiadomość z kolejki. Jeśli kolejka jest pusta, planuje usunięcie całego obiektu <code class="docutils literal notranslate"><span class="pre">StaticText</span></code> z mapy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">scheduleUpdate()</span></code></p></td>
<td><p>Planuje wywołanie <code class="docutils literal notranslate"><span class="pre">update()</span></code> po czasie równym czasowi życia najstarszej wiadomości w kolejce.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">compose()</span></code></p></td>
<td><p>Tworzy sformatowany tekst do wyświetlenia. Łączy wszystkie wiadomości z kolejki, dodaje nagłówki (np. „Player says:”), ustawia kolory i zawija tekst, jeśli jest zbyt długi.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="logika-dzialania">
<h1>Logika działania<a class="headerlink" href="#logika-dzialania" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">StaticText</span></code> działa jak kolejka FIFO dla wiadomości. Każda nowa wiadomość jest dodawana na koniec. <code class="docutils literal notranslate"><span class="pre">compose</span></code> tworzy jeden ciągły, sformatowany tekst ze wszystkich wiadomości w kolejce, który jest następnie rysowany przez <code class="docutils literal notranslate"><span class="pre">drawText</span></code>. <code class="docutils literal notranslate"><span class="pre">scheduleUpdate</span></code> i <code class="docutils literal notranslate"><span class="pre">update</span></code> zapewniają, że wiadomości znikają po określonym czasie, a cały obiekt jest usuwany, gdy nie ma już nic do wyświetlenia.</p>
</section>
<section id="id269">
<h1>Zależności i powiązania<a class="headerlink" href="#id269" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_map</span></code> do usunięcia obiektu po zakończeniu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/eventdispatcher.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_dispatcher</span></code> do planowania aktualizacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/fontmanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_fonts</span></code> do zarządzania czcionkami.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiitem-cpp">
<h1>📄 uiitem.cpp<a class="headerlink" href="#uiitem-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id270">
<h1>Ogólny opis<a class="headerlink" href="#id270" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">UIItem</span></code>, widżetu do wyświetlania przedmiotów w interfejsie użytkownika.</p>
</section>
<section id="id271">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIItem</span></code><a class="headerlink" href="#id271" title="Link to this heading">#</a></h1>
</section>
<section id="id272">
<h1>Metody<a class="headerlink" href="#id272" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(Fw::DrawPane</span> <span class="pre">drawPane)</span></code></p></td>
<td><p>Rysuje widżet. Renderuje tło, obraz, a następnie sam przedmiot (<code class="docutils literal notranslate"><span class="pre">m_item→draw(...)</span></code>), używając prostokąta <code class="docutils literal notranslate"><span class="pre">getPaddingRect()</span></code>. Jeśli <code class="docutils literal notranslate"><span class="pre">m_showCount</span></code> jest włączone, rysuje również liczbę przedmiotów w prawym dolnym rogu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setItemId(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Tworzy nowy obiekt <code class="docutils literal notranslate"><span class="pre">Item</span></code> (jeśli go nie było) lub aktualizuje ID istniejącego.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setItemCount(int</span> <span class="pre">count)</span></code></p></td>
<td><p>Ustawia liczbę przedmiotów i aktualizuje tekst licznika.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setItem(const</span> <span class="pre">ItemPtr&amp;</span> <span class="pre">item)</span></code></p></td>
<td><p>Ustawia przedmiot na podstawie gotowego obiektu <code class="docutils literal notranslate"><span class="pre">ItemPtr</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setItemShader(const</span> <span class="pre">std::string&amp;</span> <span class="pre">str)</span></code></p></td>
<td><p>Ustawia niestandardowy shader dla renderowanego przedmiotu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onStyleApply(...)</span></code></p></td>
<td><p>Parsuje niestandardowe atrybuty z OTML, takie jak <code class="docutils literal notranslate"><span class="pre">item-id</span></code>, <code class="docutils literal notranslate"><span class="pre">item-count</span></code>, <code class="docutils literal notranslate"><span class="pre">virtual</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cacheCountText()</span></code></p></td>
<td><p>Formatuje tekst licznika. Dla liczb &gt;= 1000 używa skrótu „k” (np. „1.2k”), jeśli funkcja <code class="docutils literal notranslate"><span class="pre">GameCountU16</span></code> jest aktywna.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id273">
<h1>Zależności i powiązania<a class="headerlink" href="#id273" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>: Używany przez <code class="docutils literal notranslate"><span class="pre">Item</span></code> do pobierania sprite’ów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Sprawdza <code class="docutils literal notranslate"><span class="pre">GameFeature</span></code>, np. <code class="docutils literal notranslate"><span class="pre">GameCountU16</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code></strong>: Do parsowania stylów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code></strong>: Do operacji rysowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="thingstype-h">
<h1>📄 thingstype.h<a class="headerlink" href="#thingstype-h" title="Link to this heading">#</a></h1>
</section>
<section id="id274">
<h1>Ogólny opis<a class="headerlink" href="#id274" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">ThingsType</span></code> (błąd w nazwie, prawdopodobnie powinno być <code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code>). Definiuje interfejs singletonu, który zarządza wszystkimi typami obiektów (<code class="docutils literal notranslate"><span class="pre">ThingType</span></code>) w grze, wczytywanymi z plików <code class="docutils literal notranslate"><span class="pre">.dat</span></code>.</p>
<blockquote>
<div><p>NOTE: Nazwa klasy <code class="docutils literal notranslate"><span class="pre">ThingsType</span></code> jest myląca. W rzeczywistości jest to menedżer, który przechowuje i zarządza obiektami <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>. W innych plikach jest on nazywany <code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code>.</p>
</div></blockquote>
</section>
<section id="klasa-thingstype">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ThingsType</span></code><a class="headerlink" href="#klasa-thingstype" title="Link to this heading">#</a></h1>
</section>
<section id="id275">
<h1>Typy wyliczeniowe<a class="headerlink" href="#id275" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Categories</span></code></strong>: Kategorie obiektów (Przedmiot, Stworzenie, Efekt, Pocisk).</p></li>
</ul>
</section>
<section id="id276">
<h1>Metody<a class="headerlink" href="#id276" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">load(const</span> <span class="pre">std::string&amp;</span> <span class="pre">file)</span></code></p></td>
<td><p>Wczytuje i parsuje plik <code class="docutils literal notranslate"><span class="pre">.dat</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unload()</span></code></p></td>
<td><p>Zwalnia załadowane dane.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">parseThingType(...)</span></code></p></td>
<td><p>Parsuje dane pojedynczego typu obiektu ze strumienia pliku.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getEmptyThingType()</span></code></p></td>
<td><p>Zwraca pusty, domyślny obiekt <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getThingType(uint16</span> <span class="pre">id,</span> <span class="pre">Categories</span> <span class="pre">category)</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> dla danego ID i kategorii.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSignature()</span></code></p></td>
<td><p>Zwraca sygnaturę wczytanego pliku <code class="docutils literal notranslate"><span class="pre">.dat</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isLoaded()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli plik <code class="docutils literal notranslate"><span class="pre">.dat</span></code> jest załadowany.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isValidItemId(int</span> <span class="pre">id)</span></code></p></td>
<td><p>Sprawdza, czy ID przedmiotu jest w prawidłowym zakresie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id277">
<h1>Zmienne globalne<a class="headerlink" href="#id277" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ThingsType</span> <span class="pre">g_thingsType</span></code></strong>: Globalna instancja managera (później w kodzie używane jest <code class="docutils literal notranslate"><span class="pre">g_things</span></code>).</p></li>
</ul>
</section>
<section id="id278">
<h1>Zależności i powiązania<a class="headerlink" href="#id278" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thingtype.h</span></code></strong>: Zarządza obiektami <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/core/declarations.h</span></code></strong>: Podstawowe deklaracje.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uigraph-h">
<h1>📄 uigraph.h<a class="headerlink" href="#uigraph-h" title="Link to this heading">#</a></h1>
</section>
<section id="id279">
<h1>Ogólny opis<a class="headerlink" href="#id279" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">UIGraph</span></code>, widżetu służącego do rysowania prostych wykresów liniowych.</p>
</section>
<section id="klasa-uigraph">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIGraph</span></code><a class="headerlink" href="#klasa-uigraph" title="Link to this heading">#</a></h1>
</section>
<section id="id280">
<h1>Opis<a class="headerlink" href="#id280" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Przechowuje kolejkę wartości i renderuje je jako wykres liniowy.</p>
</section>
<section id="id281">
<h1>Metody<a class="headerlink" href="#id281" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(...)</span></code></p></td>
<td><p>Rysuje wykres. Oblicza skalę, przygotowuje punkty i rysuje linię za pomocą <code class="docutils literal notranslate"><span class="pre">g_drawQueue→addLine</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code></p></td>
<td><p>Czyści wszystkie wartości z wykresu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addValue(int</span> <span class="pre">value,</span> <span class="pre">...)</span></code></p></td>
<td><p>Dodaje nową wartość do wykresu. Jeśli liczba wartości przekroczy pojemność, najstarsza jest usuwana.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setLineWidth(int</span> <span class="pre">width)</span></code></p></td>
<td><p>Ustawia grubość linii wykresu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setCapacity(int</span> <span class="pre">capacity)</span></code></p></td>
<td><p>Ustawia maksymalną liczbę wartości przechowywanych przez wykres.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setTitle(const</span> <span class="pre">std::string&amp;</span> <span class="pre">title)</span></code></p></td>
<td><p>Ustawia tytuł wyświetlany nad wykresem.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setShowLabels(bool</span> <span class="pre">value)</span></code></p></td>
<td><p>Włącza/wyłącza wyświetlanie etykiet (wartość min, max, aktualna).</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id282">
<h1>Zależności i powiązania<a class="headerlink" href="#id282" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code></strong>: Klasa bazowa.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uicreature-h">
<h1>📄 uicreature.h<a class="headerlink" href="#uicreature-h" title="Link to this heading">#</a></h1>
</section>
<section id="id283">
<h1>Ogólny opis<a class="headerlink" href="#id283" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">UICreature</span></code>, widżetu interfejsu użytkownika do wyświetlania stworzeń.</p>
</section>
<section id="klasa-uicreature">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UICreature</span></code><a class="headerlink" href="#klasa-uicreature" title="Link to this heading">#</a></h1>
</section>
<section id="id284">
<h1>Opis<a class="headerlink" href="#id284" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Umożliwia renderowanie postaci (jej ubioru) w elementach UI, takich jak okno ekwipunku, battle list, czy okno wyboru stroju.</p>
</section>
<section id="id285">
<h1>Metody<a class="headerlink" href="#id285" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(...)</span></code></p></td>
<td><p>Rysuje postać za pomocą <code class="docutils literal notranslate"><span class="pre">m_creature→drawOutfit(...)</span></code>. Obsługuje automatyczne obracanie postaci, jeśli jest włączone.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setCreature(const</span> <span class="pre">CreaturePtr&amp;</span> <span class="pre">creature)</span></code></p></td>
<td><p>Ustawia stworzenie do wyświetlenia.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setFixedCreatureSize(bool</span> <span class="pre">fixed)</span></code></p></td>
<td><p>Ustawia, czy rozmiar renderowanej postaci ma być stały, czy skalowany do rozmiaru widżetu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setOutfit(const</span> <span class="pre">Outfit&amp;</span> <span class="pre">outfit)</span></code></p></td>
<td><p>Ustawia ubiór do wyświetlenia. Jeśli nie ma przypisanego stworzenia, tworzy nowe.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setAutoRotating(bool</span> <span class="pre">value)</span></code></p></td>
<td><p>Włącza/wyłącza automatyczne obracanie się postaci.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setDirection(Otc::Direction</span> <span class="pre">direction)</span></code></p></td>
<td><p>Ustawia stały kierunek, w którym postać jest zwrócona.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setScale(float</span> <span class="pre">scale)</span></code></p></td>
<td><p>Ustawia skalę rysowania postaci.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setAnimate(bool</span> <span class="pre">value)</span></code></p></td>
<td><p>Włącza/wyłącza animację postaci.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setCenter(bool</span> <span class="pre">value)</span></code></p></td>
<td><p>Włącza/wyłącza centrowanie outfitu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setOldScaling(bool</span> <span class="pre">value)</span></code></p></td>
<td><p>Używa starego algorytmu skalowania.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id286">
<h1>Zależności i powiązania<a class="headerlink" href="#id286" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code></strong>: Klasa bazowa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">creature.h</span></code></strong>: Przechowuje i rysuje obiekt <code class="docutils literal notranslate"><span class="pre">Creature</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="thingtype-cpp">
<h1>📄 thingtype.cpp<a class="headerlink" href="#thingtype-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id287">
<h1>Ogólny opis<a class="headerlink" href="#id287" title="Link to this heading">#</a></h1>
<p>Implementacja klasy <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>, która reprezentuje szablon dla wszystkich obiektów w grze. Plik zawiera logikę serializacji, deserializacji, a przede wszystkim renderowania obiektów danego typu.</p>
</section>
<section id="klasa-thingtype">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ThingType</span></code><a class="headerlink" href="#klasa-thingtype" title="Link to this heading">#</a></h1>
</section>
<section id="id288">
<h1>Metody<a class="headerlink" href="#id288" title="Link to this heading">#</a></h1>
</section>
<section id="serializacja-deserializacja">
<h1>Serializacja / Deserializacja<a class="headerlink" href="#serializacja-deserializacja" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">serialize(...)</span></code></p></td>
<td><p>Zapisuje atrybuty <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> do strumienia binarnego, zgodnie z formatem plików <code class="docutils literal notranslate"><span class="pre">.dat</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unserialize(...)</span></code></p></td>
<td><p>Wczytuje atrybuty <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> ze strumienia. Zawiera złożoną logikę do obsługi różnic w formatach <code class="docutils literal notranslate"><span class="pre">.dat</span></code> między różnymi wersjami klienta Tibii, mapując stare atrybuty na nowe.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unserializeOtml(...)</span></code></p></td>
<td><p>Wczytuje dodatkowe, niestandardowe atrybuty z plików OTML, takie jak przezroczystość czy niestandardowe obrazy.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id289">
<h1>Rysowanie<a class="headerlink" href="#id289" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Główna metoda rysująca. Pobiera teksturę dla danej fazy animacji, oblicza, który jej fragment (<code class="docutils literal notranslate"><span class="pre">Rect</span></code>) odpowiada danemu wzorowi (pattern) i warstwie, a następnie dodaje go do kolejki rysowania.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawOutfit(...)</span></code></p></td>
<td><p>Specjalna wersja do rysowania ubiorów, która zwraca parametry potrzebne do renderowania z dynamicznym kolorowaniem przez <code class="docutils literal notranslate"><span class="pre">DrawQueueItemOutfit</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawWithShader(...)</span></code></p></td>
<td><p>Wersja rysująca z użyciem niestandardowego shadera.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="zarzadzanie-teksturami">
<h1>Zarządzanie teksturami<a class="headerlink" href="#zarzadzanie-teksturami" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTexture(int</span> <span class="pre">animationPhase)</span></code></p></td>
<td><p>Zwraca teksturę dla danej fazy animacji. Jeśli tekstura nie została jeszcze utworzona, generuje ją „w locie”: <br> 1. Tworzy duży obraz (atlas). <br> 2. Składa go z pojedynczych sprite’ów pobranych z <code class="docutils literal notranslate"><span class="pre">g_sprites</span></code>. <br> 3. Tworzy z niego obiekt <code class="docutils literal notranslate"><span class="pre">Texture</span></code> i przechowuje go w pamięci podręcznej. <br> 4. Zapisuje również prostokąty (<code class="docutils literal notranslate"><span class="pre">Rect</span></code>) i przesunięcia dla każdej klatki na tej teksturze.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unload()</span></code></p></td>
<td><p>Zwalnia wygenerowane tekstury z pamięci, aby oszczędzać zasoby. Są one ponownie generowane przy następnym użyciu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getBestTextureDimension(...)</span></code></p></td>
<td><p>Oblicza optymalny rozmiar tekstury-atlasu, aby pomieścić wszystkie klatki animacji.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id290">
<h1>Zależności i powiązania<a class="headerlink" href="#id290" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_sprites</span></code> do pobierania obrazów pojedynczych sprite’ów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Sprawdza <code class="docutils literal notranslate"><span class="pre">GameFeature</span></code>, co wpływa na logikę deserializacji i animacji.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">lightview.h</span></code></strong>: Przekazuje <code class="docutils literal notranslate"><span class="pre">LightView</span></code> do dodawania światła, jeśli obiekt je emituje.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/...</span></code></strong>: Intensywnie korzysta z klas <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, <code class="docutils literal notranslate"><span class="pre">Image</span></code>, <code class="docutils literal notranslate"><span class="pre">Painter</span></code> i <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="towns-h">
<h1>📄 towns.h<a class="headerlink" href="#towns-h" title="Link to this heading">#</a></h1>
</section>
<section id="id291">
<h1>Ogólny opis<a class="headerlink" href="#id291" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy definiujący klasy <code class="docutils literal notranslate"><span class="pre">Town</span></code> i <code class="docutils literal notranslate"><span class="pre">TownManager</span></code> do zarządzania miastami w grze.</p>
</section>
<section id="id292">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">Town</span></code><a class="headerlink" href="#id292" title="Link to this heading">#</a></h1>
</section>
<section id="id293">
<h1>Opis<a class="headerlink" href="#id293" title="Link to this heading">#</a></h1>
<p>Prosta klasa przechowująca dane o pojedynczym mieście: ID, nazwę i pozycję (zazwyczaj świątyni).</p>
</section>
<section id="id294">
<h1>Metody<a class="headerlink" href="#id294" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setId(uint32</span> <span class="pre">tid)</span></code></p></td>
<td><p>Ustawia ID miasta.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setName(const</span> <span class="pre">std::string&amp;</span> <span class="pre">name)</span></code></p></td>
<td><p>Ustawia nazwę miasta.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setPos(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Ustawia pozycję miasta.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getId()</span></code> / <code class="docutils literal notranslate"><span class="pre">getName()</span></code> / <code class="docutils literal notranslate"><span class="pre">getPos()</span></code></p></td>
<td><p>Zwracają odpowiednie właściwości.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id295">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">TownManager</span></code><a class="headerlink" href="#id295" title="Link to this heading">#</a></h1>
</section>
<section id="id296">
<h1>Opis<a class="headerlink" href="#id296" title="Link to this heading">#</a></h1>
<p>Singleton (<code class="docutils literal notranslate"><span class="pre">g_towns</span></code>) zarządzający kolekcją wszystkich miast.</p>
</section>
<section id="id297">
<h1>Metody<a class="headerlink" href="#id297" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addTown(const</span> <span class="pre">TownPtr&amp;</span> <span class="pre">town)</span></code></p></td>
<td><p>Dodaje miasto do listy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">removeTown(uint32</span> <span class="pre">townId)</span></code></p></td>
<td><p>Usuwa miasto po ID.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTown(uint32</span> <span class="pre">townId)</span></code></p></td>
<td><p>Zwraca miasto po ID.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTownByName(std::string</span> <span class="pre">name)</span></code></p></td>
<td><p>Zwraca miasto po nazwie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sort()</span></code></p></td>
<td><p>Sortuje listę miast alfabetycznie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTowns()</span></code></p></td>
<td><p>Zwraca listę wszystkich miast.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code></p></td>
<td><p>Czyści listę miast.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id298">
<h1>Zmienne globalne<a class="headerlink" href="#id298" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">TownManager</span> <span class="pre">g_towns</span></code></strong>: Globalna instancja managera miast.</p></li>
</ul>
</section>
<section id="id299">
<h1>Zależności i powiązania<a class="headerlink" href="#id299" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów, np. <code class="docutils literal notranslate"><span class="pre">TownPtr</span></code>, <code class="docutils literal notranslate"><span class="pre">Position</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="thingtype-h">
<h1>📄 thingtype.h<a class="headerlink" href="#thingtype-h" title="Link to this heading">#</a></h1>
</section>
<section id="id300">
<h1>Ogólny opis<a class="headerlink" href="#id300" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla klasy <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>, która jest szablonem dla wszystkich obiektów w grze. Definiuje ona ich wspólne, niezmienne właściwości.</p>
</section>
<section id="id301">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ThingType</span></code><a class="headerlink" href="#id301" title="Link to this heading">#</a></h1>
</section>
<section id="id302">
<h1>Opis<a class="headerlink" href="#id302" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">LuaObject</span></code>. Przechowuje dane wczytane z plików <code class="docutils literal notranslate"><span class="pre">.dat</span></code> i <code class="docutils literal notranslate"><span class="pre">.otml</span></code>, takie jak wymiary, wzory, animacje, atrybuty (np. czy jest blokujący, czy świeci). Wszystkie instancje <code class="docutils literal notranslate"><span class="pre">Thing</span></code> o tym samym ID współdzielą jeden obiekt <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>.</p>
</section>
<section id="id303">
<h1>Typy wyliczeniowe<a class="headerlink" href="#id303" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ThingCategory</span></code></strong>: Kategorie obiektów (przedmiot, stworzenie, etc.).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ThingAttr</span></code></strong>: Atrybuty obiektu (np. <code class="docutils literal notranslate"><span class="pre">ThingAttrGround</span></code>, <code class="docutils literal notranslate"><span class="pre">ThingAttrNotWalkable</span></code>).</p></li>
</ul>
</section>
<section id="id304">
<h1>Struktury<a class="headerlink" href="#id304" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">MarketData</span></code></strong>: Dane rynkowe przedmiotu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">Light</span></code></strong>: Parametry emitowanego światła.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">DrawOutfitParams</span></code></strong>: Parametry potrzebne do narysowania ubioru.</p></li>
</ul>
</section>
<section id="id305">
<h1>Metody<a class="headerlink" href="#id305" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unserialize(...)</span></code></p></td>
<td><p>Wczytuje dane z binarnego formatu <code class="docutils literal notranslate"><span class="pre">.dat</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unserializeOtml(...)</span></code></p></td>
<td><p>Wczytuje dodatkowe dane z formatu <code class="docutils literal notranslate"><span class="pre">.otml</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">draw(...)</span></code></p></td>
<td><p>Renderuje obiekt.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">drawOutfit(...)</span></code></p></td>
<td><p>Specjalna funkcja do renderowania ubiorów.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getId()</span></code></p></td>
<td><p>Zwraca ID klienta.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getCategory()</span></code></p></td>
<td><p>Zwraca kategorię.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getSize()</span></code>, <code class="docutils literal notranslate"><span class="pre">getWidth()</span></code>, <code class="docutils literal notranslate"><span class="pre">getHeight()</span></code></p></td>
<td><p>Zwracają wymiary w jednostkach pól.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getAnimationPhases()</span></code></p></td>
<td><p>Zwraca liczbę klatek animacji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getAnimator()</span></code></p></td>
<td><p>Zwraca animator, jeśli jest dostępny.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">hasAttr(ThingAttr</span> <span class="pre">attr)</span></code></p></td>
<td><p>Sprawdza, czy obiekt posiada dany atrybut.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isGround()</span></code>, <code class="docutils literal notranslate"><span class="pre">isNotWalkable()</span></code>, etc.</p></td>
<td><p>Funkcje pomocnicze sprawdzające konkretne atrybuty.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id306">
<h1>Zależności i powiązania<a class="headerlink" href="#id306" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">animator.h</span></code></strong>: Może posiadać <code class="docutils literal notranslate"><span class="pre">Animator</span></code> do zarządzania animacjami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/...</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">Texture</span></code>, <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> do renderowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/luaengine/luaobject.h</span></code></strong>: Klasa bazowa.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uicreature-cpp">
<h1>📄 uicreature.cpp<a class="headerlink" href="#uicreature-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id307">
<h1>Ogólny opis<a class="headerlink" href="#id307" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">UICreature</span></code>, widżetu do wyświetlania stworzeń w interfejsie użytkownika.</p>
</section>
<section id="id308">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UICreature</span></code><a class="headerlink" href="#id308" title="Link to this heading">#</a></h1>
</section>
<section id="id309">
<h1>Metody<a class="headerlink" href="#id309" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(Fw::DrawPane</span> <span class="pre">drawPane)</span></code></p></td>
<td><p>Rysuje widżet. Jeśli przypisano stworzenie (<code class="docutils literal notranslate"><span class="pre">m_creature</span></code>), wywołuje jego metodę <code class="docutils literal notranslate"><span class="pre">drawOutfit</span></code>, aby narysować jego wygląd w prostokącie widżetu. Obsługuje automatyczne obracanie postaci, jeśli opcja <code class="docutils literal notranslate"><span class="pre">m_autoRotating</span></code> jest włączona.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setOutfit(const</span> <span class="pre">Outfit&amp;</span> <span class="pre">outfit)</span></code></p></td>
<td><p>Ustawia ubiór do wyświetlenia. Jeśli widżet nie ma jeszcze przypisanego obiektu <code class="docutils literal notranslate"><span class="pre">Creature</span></code>, tworzy nową, pustą instancję.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onStyleApply(...)</span></code></p></td>
<td><p>Parsuje niestandardowe atrybuty z OTML, takie jak <code class="docutils literal notranslate"><span class="pre">outfit-id</span></code>, <code class="docutils literal notranslate"><span class="pre">outfit-head</span></code>, <code class="docutils literal notranslate"><span class="pre">outfit-body</span></code> itp., i na ich podstawie konfiguruje wyświetlany ubiór.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setCenter(bool</span> <span class="pre">value)</span></code></p></td>
<td><p>Ustawia flagę centrowania w obiekcie <code class="docutils literal notranslate"><span class="pre">Outfit</span></code>, co wpływa na sposób jego rysowania.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id310">
<h1>Zależności i powiązania<a class="headerlink" href="#id310" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>: Używane przez <code class="docutils literal notranslate"><span class="pre">Creature::drawOutfit</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code></strong>: Do parsowania stylów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code></strong>: Do dodawania operacji rysowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="thingtypemanager-h">
<h1>📄 thingtypemanager.h<a class="headerlink" href="#thingtypemanager-h" title="Link to this heading">#</a></h1>
</section>
<section id="id311">
<h1>Ogólny opis<a class="headerlink" href="#id311" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code>, singletonu zarządzającego wszystkimi typami obiektów (<code class="docutils literal notranslate"><span class="pre">ThingType</span></code>) i przedmiotów (<code class="docutils literal notranslate"><span class="pre">ItemType</span></code>).</p>
</section>
<section id="klasa-thingtypemanager">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code><a class="headerlink" href="#klasa-thingtypemanager" title="Link to this heading">#</a></h1>
</section>
<section id="id312">
<h1>Opis<a class="headerlink" href="#id312" title="Link to this heading">#</a></h1>
<p>Centralne repozytorium dla definicji wszystkich obiektów w grze. Odpowiada za wczytywanie plików <code class="docutils literal notranslate"><span class="pre">.dat</span></code>, <code class="docutils literal notranslate"><span class="pre">.otb</span></code> i <code class="docutils literal notranslate"><span class="pre">.xml</span></code>, które zawierają te definicje, oraz za dostarczanie ich na żądanie.</p>
</section>
<section id="id313">
<h1>Metody<a class="headerlink" href="#id313" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">init()</span></code> / <code class="docutils literal notranslate"><span class="pre">terminate()</span></code></p></td>
<td><p>Inicjalizacja i zamykanie managera.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">check()</span></code></p></td>
<td><p>Okresowo wywoływana metoda, która zwalnia z pamięci tekstury nieużywanych <code class="docutils literal notranslate"><span class="pre">ThingType</span></code>, aby oszczędzać zasoby.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadDat(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">loadOtml(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">loadOtb(...)</span></code>, <code class="docutils literal notranslate"><span class="pre">loadXml(...)</span></code></p></td>
<td><p>Metody do wczytywania różnych formatów plików z danymi o obiektach.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getThingType(id,</span> <span class="pre">category)</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">ThingType</span></code> dla danego ID klienta i kategorii.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getItemType(id)</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">ItemType</span></code> dla danego ID serwera (OTB).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">findItemTypeByClientId(id)</span></code></p></td>
<td><p>Wyszukuje <code class="docutils literal notranslate"><span class="pre">ItemType</span></code> po jego ID klienta.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">findItemTypeByName(name)</span></code></p></td>
<td><p>Wyszukuje <code class="docutils literal notranslate"><span class="pre">ItemType</span></code> po nazwie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isDatLoaded()</span></code>, <code class="docutils literal notranslate"><span class="pre">isOtbLoaded()</span></code></p></td>
<td><p>Sprawdzają, czy odpowiednie pliki zostały załadowane.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getDatSignature()</span></code></p></td>
<td><p>Zwraca sygnaturę pliku <code class="docutils literal notranslate"><span class="pre">.dat</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id314">
<h1>Zmienne globalne<a class="headerlink" href="#id314" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span> <span class="pre">g_things</span></code></strong>: Globalna instancja managera.</p></li>
</ul>
</section>
<section id="id315">
<h1>Zależności i powiązania<a class="headerlink" href="#id315" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thingtype.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">itemtype.h</span></code></strong>: Zarządza obiektami tych klas.</p></li>
<li><p>Jest to jedna z najbardziej fundamentalnych klas w kliencie, używana przez niemal każdy moduł, który ma do czynienia z obiektami w grze.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uigraph-cpp">
<h1>📄 uigraph.cpp<a class="headerlink" href="#uigraph-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id316">
<h1>Ogólny opis<a class="headerlink" href="#id316" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">UIGraph</span></code>, widżetu do rysowania wykresów liniowych.</p>
</section>
<section id="id317">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIGraph</span></code><a class="headerlink" href="#id317" title="Link to this heading">#</a></h1>
</section>
<section id="id318">
<h1>Metody<a class="headerlink" href="#id318" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(Fw::DrawPane</span> <span class="pre">drawPane)</span></code></p></td>
<td><p>Rysuje wykres. Oblicza minimalną i maksymalną wartość w widocznym zakresie, aby przeskalować wykres do wysokości widżetu. Następnie tworzy listę punktów i rysuje między nimi linie za pomocą <code class="docutils literal notranslate"><span class="pre">g_drawQueue→addLine</span></code>. Rysuje również tytuł i etykiety (min, max, aktualna wartość), jeśli są włączone.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code></p></td>
<td><p>Czyści wszystkie dane z wykresu.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">addValue(int</span> <span class="pre">value,</span> <span class="pre">...)</span></code></p></td>
<td><p>Dodaje nową wartość do kolejki <code class="docutils literal notranslate"><span class="pre">m_values</span></code>. Jeśli kolejka przekroczy pojemność (<code class="docutils literal notranslate"><span class="pre">m_capacity</span></code>), najstarsza wartość jest usuwana. Opcjonalnie ignoruje małe, powtarzające się wartości, aby uniknąć „szumu” na wykresie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">onStyleApply(...)</span></code></p></td>
<td><p>Parsuje niestandardowe atrybuty z OTML, takie jak <code class="docutils literal notranslate"><span class="pre">line-width</span></code>, <code class="docutils literal notranslate"><span class="pre">capacity</span></code>, <code class="docutils literal notranslate"><span class="pre">title</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id319">
<h1>Zależności i powiązania<a class="headerlink" href="#id319" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/drawqueue.h</span></code></strong>: Do rysowania linii i tekstu.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code></strong>: Do parsowania stylów.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uimap-h">
<h1>📄 uimap.h<a class="headerlink" href="#uimap-h" title="Link to this heading">#</a></h1>
</section>
<section id="id320">
<h1>Ogólny opis<a class="headerlink" href="#id320" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">UIMap</span></code>, widżetu UI, który jest odpowiedzialny za wyświetlanie mapy gry.</p>
</section>
<section id="id321">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIMap</span></code><a class="headerlink" href="#id321" title="Link to this heading">#</a></h1>
</section>
<section id="id322">
<h1>Opis<a class="headerlink" href="#id322" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Działa jako „okno” na świat gry, wykorzystując <code class="docutils literal notranslate"><span class="pre">MapView</span></code> do faktycznego renderowania. Umożliwia interakcję z mapą, taką jak przesuwanie, przybliżanie i pobieranie informacji o tym, co znajduje się pod kursorem.</p>
</section>
<section id="id323">
<h1>Metody<a class="headerlink" href="#id323" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(...)</span></code></p></td>
<td><p>Rysuje mapę w trzech przejściach (tło, pierwszy plan, interfejs).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">movePixels(int</span> <span class="pre">x,</span> <span class="pre">int</span> <span class="pre">y)</span></code></p></td>
<td><p>Przesuwa widok kamery o zadaną liczbę pikseli.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setZoom(int</span> <span class="pre">zoom)</span></code> / <code class="docutils literal notranslate"><span class="pre">zoomIn()</span></code> / <code class="docutils literal notranslate"><span class="pre">zoomOut()</span></code></p></td>
<td><p>Zarządza poziomem przybliżenia mapy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">followCreature(...)</span></code></p></td>
<td><p>Ustawia kamerę, aby podążała za stworzeniem.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setCameraPosition(...)</span></code></p></td>
<td><p>Ustawia kamerę na stałą pozycję.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getPosition(const</span> <span class="pre">Point&amp;</span> <span class="pre">mousePos)</span></code></p></td>
<td><p>Zwraca pozycję na mapie (<code class="docutils literal notranslate"><span class="pre">Position</span></code>) odpowiadającą danym współrzędnym myszy na widżecie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTile(const</span> <span class="pre">Point&amp;</span> <span class="pre">mousePos)</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">Tile</span></code> pod kursorem.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setKeepAspectRatio(bool</span> <span class="pre">enable)</span></code></p></td>
<td><p>Włącza/wyłącza zachowanie stałych proporcji mapy.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setVisibleDimension(...)</span></code></p></td>
<td><p>Ustawia rozmiar widocznego obszaru mapy w polach.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id324">
<h1>Zależności i powiązania<a class="headerlink" href="#id324" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">mapview.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">MapView</span></code> do renderowania.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">tile.h</span></code></strong>: Metoda <code class="docutils literal notranslate"><span class="pre">getTile</span></code> zwraca obiekt <code class="docutils literal notranslate"><span class="pre">Tile</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code></strong>: Klasa bazowa.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiminimap-cpp">
<h1>📄 uiminimap.cpp<a class="headerlink" href="#uiminimap-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id325">
<h1>Ogólny opis<a class="headerlink" href="#id325" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code>, widżetu interfejsu użytkownika do wyświetlania minimapy.</p>
</section>
<section id="klasa-uiminimap">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code><a class="headerlink" href="#klasa-uiminimap" title="Link to this heading">#</a></h1>
</section>
<section id="id326">
<h1>Metody<a class="headerlink" href="#id326" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(Fw::DrawPane</span> <span class="pre">drawPane)</span></code></p></td>
<td><p>Rysuje widżet. Wywołuje <code class="docutils literal notranslate"><span class="pre">g_minimap.draw</span></code>, przekazując prostokąt widżetu, pozycję kamery i skalę, aby narysować odpowiedni fragment minimapy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setZoom(int</span> <span class="pre">zoom)</span></code></p></td>
<td><p>Ustawia poziom przybliżenia minimapy. Wartość zoom jest konwertowana na współczynnik skali (<code class="docutils literal notranslate"><span class="pre">m_scale</span></code>).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setCameraPosition(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Ustawia centralną pozycję, wokół której rysowana jest minimapa.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">floorUp()</span></code> / <code class="docutils literal notranslate"><span class="pre">floorDown()</span></code></p></td>
<td><p>Zmienia aktualnie wyświetlane piętro.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTilePoint(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">getTilePosition(...)</span></code></p></td>
<td><p>Konwertują pozycję na mapie na współrzędne na widżecie i odwrotnie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">anchorPosition(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">fillPosition(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">centerInPosition(...)</span></code></p></td>
<td><p>Metody do przypinania innych widżetów do konkretnych pozycji na minimapie za pomocą <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onStyleApply(...)</span></code></p></td>
<td><p>Parsuje niestandardowe atrybuty z OTML, takie jak <code class="docutils literal notranslate"><span class="pre">zoom</span></code>, <code class="docutils literal notranslate"><span class="pre">min-zoom</span></code>, <code class="docutils literal notranslate"><span class="pre">max-zoom</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id327">
<h1>Zależności i powiązania<a class="headerlink" href="#id327" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">minimap.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_minimap</span></code> do renderowania danych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uimapanchorlayout.h</span></code></strong>: Posiada <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code> do zarządzania przypiętymi widżetami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>: Dostęp do globalnych obiektów.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiprogressrect-cpp">
<h1>📄 uiprogressrect.cpp<a class="headerlink" href="#uiprogressrect-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id328">
<h1>Ogólny opis<a class="headerlink" href="#id328" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">UIProgressRect</span></code>, niestandardowego widżetu, który wizualizuje postęp za pomocą wypełniającego się okręgu (lub kwadratu) w sposób radialny.</p>
</section>
<section id="klasa-uiprogressrect">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIProgressRect</span></code><a class="headerlink" href="#klasa-uiprogressrect" title="Link to this heading">#</a></h1>
</section>
<section id="id329">
<h1>Metody<a class="headerlink" href="#id329" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(Fw::DrawPane</span> <span class="pre">drawPane)</span></code></p></td>
<td><p>Rysuje widżet. Zamiast standardowego paska postępu, rysuje serię trójkątów, których wierzchołki rozchodzą się od środka prostokąta, tworząc efekt radialnego wypełnienia. Wypełnienie jest podzielone na 4 ćwiartki, a każda z nich na dwa segmenty, co daje 8 kroków animacji.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setPercent(float</span> <span class="pre">percent)</span></code></p></td>
<td><p>Ustawia procent wypełnienia (od 0.0 do 100.0).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onStyleApply(...)</span></code></p></td>
<td><p>Parsuje atrybut <code class="docutils literal notranslate"><span class="pre">percent</span></code> z OTML.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="logika-rysowania">
<h1>Logika rysowania<a class="headerlink" href="#logika-rysowania" title="Link to this heading">#</a></h1>
<p>Wypełnienie jest realizowane przez rysowanie trójkątów. Każdy trójkąt ma jeden wierzchołek w środku prostokąta, a dwa pozostałe na jego krawędziach. W miarę wzrostu <code class="docutils literal notranslate"><span class="pre">m_percent</span></code>, kolejne trójkąty są rysowane, tworząc iluzję płynnego, okrężnego wypełnienia.</p>
</section>
<section id="id330">
<h1>Zależności i powiązania<a class="headerlink" href="#id330" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code></strong>: Do parsowania stylów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code></strong>: Do operacji rysowania.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uimapanchorlayout-h">
<h1>📄 uimapanchorlayout.h<a class="headerlink" href="#uimapanchorlayout-h" title="Link to this heading">#</a></h1>
</section>
<section id="id331">
<h1>Ogólny opis<a class="headerlink" href="#id331" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy definiujący <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code> i <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code>. Rozszerzają one standardowy system kotwic o możliwość przypinania widżetów do dynamicznych pozycji na <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code>.</p>
</section>
<section id="id332">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code><a class="headerlink" href="#id332" title="Link to this heading">#</a></h1>
</section>
<section id="id333">
<h1>Opis<a class="headerlink" href="#id333" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIAnchor</span></code>. Zamiast przypinać się do krawędzi innego widżetu, przypina się do pozycji (<code class="docutils literal notranslate"><span class="pre">Position</span></code>) na mapie.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m_hookedPosition</span></code>: Pozycja na mapie, do której kotwica jest przypięta.</p></li>
</ul>
</section>
<section id="id334">
<h1>Metody<a class="headerlink" href="#id334" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">getHookedPoint(...)</span></code></strong>: Nadpisana metoda, która oblicza pozycję na ekranie, pobierając z <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code> prostokąt odpowiadający <code class="docutils literal notranslate"><span class="pre">m_hookedPosition</span></code>.</p></li>
</ul>
</section>
<section id="id335">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code><a class="headerlink" href="#id335" title="Link to this heading">#</a></h1>
</section>
<section id="id336">
<h1>Opis<a class="headerlink" href="#id336" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIAnchorLayout</span></code>. Specjalizuje layout kotwic do pracy z <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code>.</p>
</section>
<section id="id337">
<h1>Metody<a class="headerlink" href="#id337" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">addPositionAnchor(...)</span></code></strong>: Dodaje kotwicę typu <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">centerInPosition(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">fillPosition(...)</span></code></strong>: Funkcje pomocnicze do łatwego centrowania lub wypełniania obszaru pola na mapie przez inny widżet.</p></li>
</ul>
</section>
<section id="id338">
<h1>Zależności i powiązania<a class="headerlink" href="#id338" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uianchorlayout.h</span></code></strong>: Klasa bazowa.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">uiminimap.h</span></code></strong>: Layout jest przeznaczony do użycia z <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiminimap-h">
<h1>📄 uiminimap.h<a class="headerlink" href="#uiminimap-h" title="Link to this heading">#</a></h1>
</section>
<section id="id339">
<h1>Ogólny opis<a class="headerlink" href="#id339" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code>, widżetu do wyświetlania minimapy.</p>
</section>
<section id="id340">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code><a class="headerlink" href="#id340" title="Link to this heading">#</a></h1>
</section>
<section id="id341">
<h1>Opis<a class="headerlink" href="#id341" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Renderuje dane z <code class="docutils literal notranslate"><span class="pre">Minimap</span></code> i pozwala na interakcje, takie jak zmiana piętra czy przybliżenia. Posiada również <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code> do pozycjonowania innych widżetów względem pozycji na minimapie.</p>
</section>
<section id="id342">
<h1>Metody<a class="headerlink" href="#id342" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zoomIn()</span></code> / <code class="docutils literal notranslate"><span class="pre">zoomOut()</span></code> / <code class="docutils literal notranslate"><span class="pre">setZoom(int</span> <span class="pre">zoom)</span></code></p></td>
<td><p>Zarządzają poziomem przybliżenia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setCameraPosition(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos)</span></code></p></td>
<td><p>Ustawia pozycję, która ma być w centrum minimapy.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">floorUp()</span></code> / <code class="docutils literal notranslate"><span class="pre">floorDown()</span></code></p></td>
<td><p>Zmienia wyświetlane piętro.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getTilePoint(...)</span></code> / <code class="docutils literal notranslate"><span class="pre">getTileRect(...)</span></code></p></td>
<td><p>Zwracają współrzędne ekranowe dla danego pola na mapie.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getTilePosition(...)</span></code></p></td>
<td><p>Konwertuje współrzędne ekranowe na pozycję na mapie.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">anchorPosition(...)</span></code></p></td>
<td><p>Przypina inny widżet do pozycji na minimapie.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id343">
<h1>Zależności i powiązania<a class="headerlink" href="#id343" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code></strong>: Klasa bazowa.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uiprogressrect-h">
<h1>📄 uiprogressrect.h<a class="headerlink" href="#uiprogressrect-h" title="Link to this heading">#</a></h1>
</section>
<section id="id344">
<h1>Ogólny opis<a class="headerlink" href="#id344" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">UIProgressRect</span></code>, widżetu do wyświetlania paska postępu w formie radialnej.</p>
</section>
<section id="id345">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UIProgressRect</span></code><a class="headerlink" href="#id345" title="Link to this heading">#</a></h1>
</section>
<section id="id346">
<h1>Opis<a class="headerlink" href="#id346" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Zamiast typowego paska, rysuje wypełnienie w sposób okrężny.</p>
</section>
<section id="id347">
<h1>Metody<a class="headerlink" href="#id347" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(...)</span></code></p></td>
<td><p>Rysuje widżet.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setPercent(float</span> <span class="pre">percent)</span></code></p></td>
<td><p>Ustawia procent postępu (0-100).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">getPercent()</span></code></p></td>
<td><p>Zwraca aktualny procent.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id348">
<h1>Zależności i powiązania<a class="headerlink" href="#id348" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code></strong>: Klasa bazowa.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uisprite-cpp">
<h1>📄 uisprite.cpp<a class="headerlink" href="#uisprite-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id349">
<h1>Ogólny opis<a class="headerlink" href="#id349" title="Link to this heading">#</a></h1>
<p>Implementacja <code class="docutils literal notranslate"><span class="pre">UISprite</span></code>, widżetu do wyświetlania pojedynczego sprite’a z plików <code class="docutils literal notranslate"><span class="pre">.spr</span></code>.</p>
</section>
<section id="klasa-uisprite">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UISprite</span></code><a class="headerlink" href="#klasa-uisprite" title="Link to this heading">#</a></h1>
</section>
<section id="id350">
<h1>Metody<a class="headerlink" href="#id350" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">drawSelf(Fw::DrawPane</span> <span class="pre">drawPane)</span></code></p></td>
<td><p>Rysuje widżet. Jeśli <code class="docutils literal notranslate"><span class="pre">m_sprite</span></code> jest załadowany, rysuje go wewnątrz prostokąta widżetu z uwzględnieniem paddingu.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setSpriteId(uint32</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID sprite’a do wyświetlenia. Pobiera obraz z <code class="docutils literal notranslate"><span class="pre">g_sprites</span></code>, a następnie tworzy z niego teksturę.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onStyleApply(...)</span></code></p></td>
<td><p>Parsuje niestandardowe atrybuty z OTML, takie jak <code class="docutils literal notranslate"><span class="pre">sprite-id</span></code>, <code class="docutils literal notranslate"><span class="pre">sprite-color</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id351">
<h1>Zależności i powiązania<a class="headerlink" href="#id351" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">spritemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_sprites</span></code> do pobierania obrazów sprite’ów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/otml/otml.h</span></code></strong>: Do parsowania stylów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/graphics/graphics.h</span></code></strong>: Do operacji rysowania i zarządzania teksturami.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="uisprite-h">
<h1>📄 uisprite.h<a class="headerlink" href="#uisprite-h" title="Link to this heading">#</a></h1>
</section>
<section id="id352">
<h1>Ogólny opis<a class="headerlink" href="#id352" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy dla <code class="docutils literal notranslate"><span class="pre">UISprite</span></code>, widżetu do wyświetlania pojedynczego sprite’a.</p>
</section>
<section id="id353">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">UISprite</span></code><a class="headerlink" href="#id353" title="Link to this heading">#</a></h1>
</section>
<section id="id354">
<h1>Opis<a class="headerlink" href="#id354" title="Link to this heading">#</a></h1>
<p>Dziedziczy po <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Prosty widżet, którego jedynym celem jest wyświetlenie obrazu sprite’a o danym ID.</p>
</section>
<section id="id355">
<h1>Metody<a class="headerlink" href="#id355" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setSpriteId(uint32</span> <span class="pre">id)</span></code></p></td>
<td><p>Ustawia ID sprite’a do wyświetlenia.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">getSpriteId()</span></code></p></td>
<td><p>Zwraca ID sprite’a.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setSpriteColor(Color</span> <span class="pre">color)</span></code></p></td>
<td><p>Ustawia kolor, w jakim sprite ma być renderowany.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">hasSprite()</span></code></p></td>
<td><p>Zwraca <code class="docutils literal notranslate"><span class="pre">true</span></code>, jeśli sprite jest załadowany.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id356">
<h1>Zależności i powiązania<a class="headerlink" href="#id356" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">declarations.h</span></code></strong>: Definicje typów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">framework/ui/uiwidget.h</span></code></strong>: Klasa bazowa.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="walkmatrix-h">
<h1>📄 walkmatrix.h<a class="headerlink" href="#walkmatrix-h" title="Link to this heading">#</a></h1>
</section>
<section id="id357">
<h1>Ogólny opis<a class="headerlink" href="#id357" title="Link to this heading">#</a></h1>
<p>Plik nagłówkowy definiujący klasę <code class="docutils literal notranslate"><span class="pre">WalkMatrix</span></code>, która jest używana do śledzenia i zarządzania predykcjami kroków lokalnego gracza w nowym systemie chodzenia (<code class="docutils literal notranslate"><span class="pre">GameNewWalking</span></code>).</p>
</section>
<section id="klasa-walkmatrix">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">WalkMatrix</span></code><a class="headerlink" href="#klasa-walkmatrix" title="Link to this heading">#</a></h1>
</section>
<section id="id358">
<h1>Opis<a class="headerlink" href="#id358" title="Link to this heading">#</a></h1>
<p>Jest to macierz 7x7, która przechowuje wartości (liczniki lub ID predykcji) dla pól w zasięgu 3x3 wokół aktualnej pozycji gracza. Służy do synchronizacji kroków między klientem a serwerem.</p>
</section>
<section id="id359">
<h1>Metody<a class="headerlink" href="#id359" title="Link to this heading">#</a></h1>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Nazwa</p></th>
<th class="head"><p>Opis</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">updatePosition(const</span> <span class="pre">Position&amp;</span> <span class="pre">newPos)</span></code></p></td>
<td><p>Aktualizuje wewnętrzną pozycję gracza i przesuwa zawartość macierzy, aby odzwierciedlić ruch. Stare, odległe wartości są zerowane.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">inRange(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos2)</span></code></p></td>
<td><p>Sprawdza, czy dana pozycja mieści się w zasięgu macierzy (3x3 wokół gracza).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">update(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos2,</span> <span class="pre">int32_t</span> <span class="pre">value)</span></code></p></td>
<td><p>Ustawia wartość w macierzy dla danej pozycji. Jeśli <code class="docutils literal notranslate"><span class="pre">value</span></code> nie jest podane, używa inkrementowanego licznika. Zwraca ustawioną wartość, która służy jako ID predykcji.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">get(const</span> <span class="pre">Position&amp;</span> <span class="pre">pos2)</span></code></p></td>
<td><p>Zwraca wartość z macierzy dla danej pozycji.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">clear()</span></code></p></td>
<td><p>Zeruje całą macierz.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">reset(uint32_t</span> <span class="pre">value)</span></code></p></td>
<td><p>Wypełnia całą macierz daną wartością.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dump()</span></code></p></td>
<td><p>Zwraca tekstową reprezentację macierzy do celów debugowania.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id360">
<h1>Zależności i powiązania<a class="headerlink" href="#id360" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">position.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">Position</span></code> do operacji na współrzędnych.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">localplayer.cpp</span></code></strong>: Obiekt <code class="docutils literal notranslate"><span class="pre">WalkMatrix</span></code> jest polem klasy <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code> i jest używany w logice pre-walkingu.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="protocolgameparse-cpp">
<h1>📄 protocolgameparse.cpp<a class="headerlink" href="#protocolgameparse-cpp" title="Link to this heading">#</a></h1>
</section>
<section id="id361">
<h1>Ogólny opis<a class="headerlink" href="#id361" title="Link to this heading">#</a></h1>
<p>Plik ten zawiera implementację metod klasy <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code> odpowiedzialnych za <strong>parsowanie</strong> pakietów przychodzących z serwera gry. Jest to serce logiki sieciowej po stronie klienta.</p>
</section>
<section id="id362">
<h1>Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code><a class="headerlink" href="#id362" title="Link to this heading">#</a></h1>
</section>
<section id="id363">
<h1>Metody<a class="headerlink" href="#id363" title="Link to this heading">#</a></h1>
</section>
<section id="parsemessage-const-inputmessageptr-msg">
<h1><code class="docutils literal notranslate"><span class="pre">parseMessage(const</span> <span class="pre">InputMessagePtr&amp;</span> <span class="pre">msg)</span></code><a class="headerlink" href="#parsemessage-const-inputmessageptr-msg" title="Link to this heading">#</a></h1>
<p>Główna funkcja-dyspozytor. Odczytuje jednobajtowy kod operacyjny (opcode) z wiadomości, a następnie wywołuje odpowiednią metodę <code class="docutils literal notranslate"><span class="pre">parse...</span></code> do przetworzenia reszty pakietu. Obsługuje również niestandardowe opkody i przekazywanie ich do Lua.</p>
</section>
<section id="metody-parse">
<h1>Metody <code class="docutils literal notranslate"><span class="pre">parse...</span></code><a class="headerlink" href="#metody-parse" title="Link to this heading">#</a></h1>
<p>Każda metoda <code class="docutils literal notranslate"><span class="pre">parse...</span></code> jest odpowiedzialna za odczytanie danych z <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code> dla konkretnego opkodu i zaktualizowanie stanu gry. Przykłady:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">parseMapDescription(...)</span></code></strong>: Parsuje pełny opis widocznego obszaru mapy, tworząc pola i obiekty.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">parseTileAddThing(...)</span></code></strong>: Dodaje nowy obiekt na mapę.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">parseCreatureMove(...)</span></code></strong>: Aktualizuje pozycję stworzenia na mapie.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">parseCreatureHealth(...)</span></code></strong>: Aktualizuje procent życia stworzenia.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">parseTalk(...)</span></code></strong>: Przetwarza wiadomość czatu i przekazuje ją do <code class="docutils literal notranslate"><span class="pre">g_game</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">parseOpenContainer(...)</span></code></strong>: Tworzy nowy kontener i wypełnia go przedmiotami.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">parsePlayerStats(...)</span></code></strong>: Aktualizuje statystyki lokalnego gracza.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">parseCancelWalk(...)</span></code></strong>: Informuje <code class="docutils literal notranslate"><span class="pre">g_game</span></code> o anulowaniu kroku.</p></li>
</ul>
</section>
<section id="metody-pomocnicze-get">
<h1>Metody pomocnicze <code class="docutils literal notranslate"><span class="pre">get...</span></code><a class="headerlink" href="#metody-pomocnicze-get" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">getThing(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">getItem(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">getCreature(...)</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">getPosition(...)</span></code></strong>: Funkcje pomocnicze, które odczytują złożone typy danych (jak <code class="docutils literal notranslate"><span class="pre">Item</span></code> czy <code class="docutils literal notranslate"><span class="pre">Creature</span></code>) z <code class="docutils literal notranslate"><span class="pre">InputMessage</span></code>, uwzględniając różnice w formacie zależne od <code class="docutils literal notranslate"><span class="pre">GameFeature</span></code>. <code class="docutils literal notranslate"><span class="pre">getCreature</span></code>, na przykład, decyduje, czy stworzyć nowy obiekt <code class="docutils literal notranslate"><span class="pre">Creature</span></code>, czy zaktualizować istniejący.</p></li>
</ul>
</section>
<section id="id364">
<h1>Zależności i powiązania<a class="headerlink" href="#id364" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">game.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">map.h</span></code></strong>, <strong><code class="docutils literal notranslate"><span class="pre">localplayer.h</span></code></strong>: Ściśle współpracuje z tymi klasami, wywołując ich metody w celu aktualizacji stanu gry.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">thingtypemanager.h</span></code></strong>: Używa <code class="docutils literal notranslate"><span class="pre">g_things</span></code> do weryfikacji ID przedmiotów i efektów.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">luavaluecasts_client.h</span></code></strong>: Używane do przekazywania złożonych obiektów do Lua.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">protocolcodes.h</span></code></strong>: Używa zdefiniowanych tam kodów operacyjnych.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="spis-tresci">
<h1>📑 Spis treści<a class="headerlink" href="#spis-tresci" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="#-animatedtextcpp"><span class="xref myst">📄 animatedtext.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-animatedtext"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-housesh"><span class="xref myst">📄 houses.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-house"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">House</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-housemanager"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">HouseManager</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-animatedtexth"><span class="xref myst">📄 animatedtext.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-animatedtext-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-animatorh"><span class="xref myst">📄 animator.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-animator"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Animator</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-animatorcpp"><span class="xref myst">📄 animator.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-animator-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Animator</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-clientcpp"><span class="xref myst">📄 client.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-client"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Client</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-clienth"><span class="xref myst">📄 client.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-client-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Client</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-cmakeliststxt"><span class="xref myst">📄 CMakeLists.txt</span></a></p></li>
<li><p><a class="reference internal" href="#-consth"><span class="xref myst">📄 const.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-namespace-otc"><span class="xref myst">Namespace <code class="docutils literal notranslate"><span class="pre">Otc</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-containercpp"><span class="xref myst">📄 container.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-container"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Container</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-creaturecpp"><span class="xref myst">📄 creature.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-creature"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Creature</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-containerh"><span class="xref myst">📄 container.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-container-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Container</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-creatureh"><span class="xref myst">📄 creature.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-creature-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Creature</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-npc"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Npc</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-monster"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Monster</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-creaturesh"><span class="xref myst">📄 creatures.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-spawn"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Spawn</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-creaturetype"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">CreatureType</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-creaturemanager"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">CreatureManager</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-declarationsh"><span class="xref myst">📄 declarations.h</span></a></p></li>
<li><p><a class="reference internal" href="#-creaturescpp"><span class="xref myst">📄 creatures.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-spawn-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Spawn</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-creaturetype-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">CreatureType</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-creaturemanager-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">CreatureManager</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-effectcpp"><span class="xref myst">📄 effect.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-effect"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Effect</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-globalh"><span class="xref myst">📄 global.h</span></a></p></li>
<li><p><a class="reference internal" href="#-effecth"><span class="xref myst">📄 effect.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-effect-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Effect</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-healthbarscpp"><span class="xref myst">📄 healthbars.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-healthbars"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">HealthBars</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-healthbar"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-gameh"><span class="xref myst">📄 game.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-game"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Game</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-healthbarsh"><span class="xref myst">📄 healthbars.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-healthbar-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-healthbars-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">HealthBars</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-housescpp"><span class="xref myst">📄 houses.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-house-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">House</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-housemanager-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">HouseManager</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-itemcpp"><span class="xref myst">📄 item.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-item"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Item</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-itemtypecpp"><span class="xref myst">📄 itemtype.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-itemtype"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ItemType</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-itemh"><span class="xref myst">📄 item.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-item-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Item</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-itemtypeh"><span class="xref myst">📄 itemtype.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-itemtype-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ItemType</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-lightviewcpp"><span class="xref myst">📄 lightview.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-lightview"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">LightView</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-lightviewh"><span class="xref myst">📄 lightview.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-lightview-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">LightView</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-localplayercpp"><span class="xref myst">📄 localplayer.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-localplayer"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-mapcpp"><span class="xref myst">📄 map.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-map"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Map</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-maph"><span class="xref myst">📄 map.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-map-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Map</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-luavaluecasts_clienth"><span class="xref myst">📄 luavaluecasts_client.h</span></a></p></li>
<li><p><a class="reference internal" href="#-mapiocpp"><span class="xref myst">📄 mapio.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-map-2"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Map</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-luavaluecasts_clientcpp"><span class="xref myst">📄 luavaluecasts_client.cpp</span></a></p></li>
<li><p><a class="reference internal" href="#-mapviewcpp"><span class="xref myst">📄 mapview.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-mapview"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">MapView</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-mapviewh"><span class="xref myst">📄 mapview.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-mapview-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">MapView</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-minimaph"><span class="xref myst">📄 minimap.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-minimapblock"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">MinimapBlock</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-minimap"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Minimap</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-missilecpp"><span class="xref myst">📄 missile.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-missile"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Missile</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-missileh"><span class="xref myst">📄 missile.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-missile-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Missile</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-outfitcpp"><span class="xref myst">📄 outfit.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-outfit"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Outfit</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-outfith"><span class="xref myst">📄 outfit.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-outfit-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Outfit</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-playercpp"><span class="xref myst">📄 player.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-player"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Player</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-playerh"><span class="xref myst">📄 player.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-player-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Player</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-protocolcodescpp"><span class="xref myst">📄 protocolcodes.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-namespace-proto"><span class="xref myst">Namespace <code class="docutils literal notranslate"><span class="pre">Proto</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-minimapcpp"><span class="xref myst">📄 minimap.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-minimapblock-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">MinimapBlock</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-minimap-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Minimap</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-positionh"><span class="xref myst">📄 position.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-struktura-position"><span class="xref myst">Struktura <code class="docutils literal notranslate"><span class="pre">Position</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-struktura-positionhasher"><span class="xref myst">Struktura <code class="docutils literal notranslate"><span class="pre">PositionHasher</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-protocolcodesh"><span class="xref myst">📄 protocolcodes.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-namespace-proto-1"><span class="xref myst">Namespace <code class="docutils literal notranslate"><span class="pre">Proto</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-protocolgamecpp"><span class="xref myst">📄 protocolgame.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-protocolgame"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-protocolgameh"><span class="xref myst">📄 protocolgame.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-protocolgame-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-spritemanagercpp"><span class="xref myst">📄 spritemanager.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-spritemanager"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-protocolgamesendcpp"><span class="xref myst">📄 protocolgamesend.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-protocolgame-2"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-localplayerh"><span class="xref myst">📄 localplayer.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-localplayer-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-townscpp"><span class="xref myst">📄 towns.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-town"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Town</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-townmanager"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">TownManager</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-spritemanagerh"><span class="xref myst">📄 spritemanager.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-spritemanager-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-tilecpp"><span class="xref myst">📄 tile.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-tile"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Tile</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-statictexth"><span class="xref myst">📄 statictext.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-statictext"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">StaticText</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uimapanchorlayoutcpp"><span class="xref myst">📄 uimapanchorlayout.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uipositionanchor"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-uimapanchorlayout"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-thingh"><span class="xref myst">📄 thing.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-thing"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Thing</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uiitemh"><span class="xref myst">📄 uiitem.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uiitem"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIItem</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-thingcpp"><span class="xref myst">📄 thing.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-thing-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Thing</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uimapcpp"><span class="xref myst">📄 uimap.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uimap"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIMap</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-thingstypeh"><span class="xref myst">📄 thingstype.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-thingstype"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ThingsType</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uigraphh"><span class="xref myst">📄 uigraph.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uigraph"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIGraph</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uicreatureh"><span class="xref myst">📄 uicreature.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uicreature"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UICreature</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-thingtypecpp"><span class="xref myst">📄 thingtype.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-thingtype"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ThingType</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-townsh"><span class="xref myst">📄 towns.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-town-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Town</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-townmanager-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">TownManager</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-thingtypeh"><span class="xref myst">📄 thingtype.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-thingtype-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ThingType</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uicreaturecpp"><span class="xref myst">📄 uicreature.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uicreature-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UICreature</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-thingtypemanagerh"><span class="xref myst">📄 thingtypemanager.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-thingtypemanager"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-thingtypemanagercpp"><span class="xref myst">📄 thingtypemanager.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-thingtypemanager-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-tileh"><span class="xref myst">📄 tile.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-tile-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Tile</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uimaph"><span class="xref myst">📄 uimap.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uimap-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIMap</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uiminimappp"><span class="xref myst">📄 uiminimap.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uiminimap"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uiprogressrectcpp"><span class="xref myst">📄 uiprogressrect.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uiprogressrect"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIProgressRect</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uimapanchorlayouth"><span class="xref myst">📄 uimapanchorlayout.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uipositionanchor-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#-klasa-uimapanchorlayout-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uiminimaph"><span class="xref myst">📄 uiminimap.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uiminimap-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-gamecpp"><span class="xref myst">📄 game.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-game-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">Game</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uiprogressrecth"><span class="xref myst">📄 uiprogressrect.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uiprogressrect-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UIProgressRect</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uispritecpp"><span class="xref myst">📄 uisprite.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uisprite"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UISprite</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-uispriteh"><span class="xref myst">📄 uisprite.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-uisprite-1"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">UISprite</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-walkmatrixh"><span class="xref myst">📄 walkmatrix.h</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-walkmatrix"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">WalkMatrix</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-protocolgameparsecpp"><span class="xref myst">📄 protocolgameparse.cpp</span></a></p>
<ul>
<li><p><a class="reference internal" href="#-klasa-protocolgame-3"><span class="xref myst">Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code></span></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#-luafunctions_clientcpp"><span class="xref myst">📄 luafunctions_client.cpp</span></a></p></li>
</ul>
</section>
<section id="indeks-funkcji-metod">
<h1>🔍 Indeks funkcji/metod<a class="headerlink" href="#indeks-funkcji-metod" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedText::AnimatedText()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedText::drawText(const</span> <span class="pre">Point&amp;,</span> <span class="pre">const</span> <span class="pre">Rect&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedText::merge(const</span> <span class="pre">AnimatedTextPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedText::onAppear()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedText::setColor(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedText::setFont(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AnimatedText::setText(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::Animator()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::calculateSynchronous()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::getLoopPhase()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::getPhase()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::getPhaseAt(Timer&amp;,</span> <span class="pre">int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::getPhaseDuration(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::getPingPongPhase()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::getStartPhase()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::getTotalDuration()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::resetAnimation()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::serialize(const</span> <span class="pre">FileStreamPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::setPhase(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Animator::unserialize(int,</span> <span class="pre">const</span> <span class="pre">FileStreamPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Client::init(std::vector&lt;std::string&gt;&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Client::registerLuaFunctions()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Client::terminate()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container::Container(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container::findItemById(uint,</span> <span class="pre">int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container::getItem(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container::onAddItem(const</span> <span class="pre">ItemPtr&amp;,</span> <span class="pre">int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container::onAddItems(const</span> <span class="pre">std::vector&lt;ItemPtr&gt;&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container::onClose()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container::onOpen(const</span> <span class="pre">ContainerPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container::onRemoveItem(int,</span> <span class="pre">const</span> <span class="pre">ItemPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container::onUpdateItem(int,</span> <span class="pre">const</span> <span class="pre">ItemPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Container::updateItemsPositions()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::addBottomWidget(const</span> <span class="pre">UIWidgetPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::addDirectionalWidget(const</span> <span class="pre">UIWidgetPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::addTopWidget(const</span> <span class="pre">UIWidgetPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::canShoot(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::Creature()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::draw(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::drawInformation(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::drawOutfit(const</span> <span class="pre">Rect&amp;,</span> <span class="pre">Otc::Direction,</span> <span class="pre">const</span> <span class="pre">Color&amp;,</span> <span class="pre">bool,</span> <span class="pre">bool,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::getDisplacement()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::getStepDuration(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::getThingType()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::jump(int,</span> <span class="pre">int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::nextWalkUpdate()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::onAppear()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::onDeath()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::onDisappear()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::onPositionChange(const</span> <span class="pre">Position&amp;,</span> <span class="pre">const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::rawGetThingType()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::setHealthPercent(uint8)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::setOutfit(const</span> <span class="pre">Outfit&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::setSpeed(uint16)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::stopWalk()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::terminateWalk()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::turn(Otc::Direction)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::updateJump()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::updateWalk()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::updateWalkAnimation(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::updateWalkOffset(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::updateWalkingTile()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Creature::walk(const</span> <span class="pre">Position&amp;,</span> <span class="pre">const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::addSpawn(const</span> <span class="pre">Position&amp;,</span> <span class="pre">int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::deleteSpawn(const</span> <span class="pre">SpawnPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::getCreatureByName(std::string)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::getCreatureByLook(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::getSpawn(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::getSpawnForPlacePos(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::internalLoadCreatureBuffer(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::loadMonsters(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::loadNpcs(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::loadSingleCreature(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::loadSpawns(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::saveSpawns(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureManager::terminate()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CreatureType::cast()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Effect::draw(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Effect::getId()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Effect::onAppear()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Effect::setId(uint32)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::autoWalk(const</span> <span class="pre">std::vector&lt;Otc::Direction&gt;&amp;,</span> <span class="pre">Position)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::cancelLogin()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::forceLogout()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::init()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::loginWorld(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processAttackCancel(uint)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processCloseContainer(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processConnectionError(const</span> <span class="pre">boost::system::error_code&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processContainerAddItem(int,</span> <span class="pre">const</span> <span class="pre">ItemPtr&amp;,</span> <span class="pre">int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processContainerRemoveItem(int,</span> <span class="pre">int,</span> <span class="pre">const</span> <span class="pre">ItemPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processContainerUpdateItem(int,</span> <span class="pre">int,</span> <span class="pre">const</span> <span class="pre">ItemPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processDisconnect()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processEnterGame()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processGameEnd()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processGameStart()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processInventoryChange(int,</span> <span class="pre">const</span> <span class="pre">ItemPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processLogin()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processLoginError(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processOpenContainer(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processPendingGame()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processPing()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processPingBack()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processTalk(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processTextMessage(Otc::MessageMode,</span> <span class="pre">const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::processWalkCancel(Otc::Direction)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::resetGameStates()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::safeLogout()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::setAttackingCreature(const</span> <span class="pre">CreaturePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::setFollowingCreature(const</span> <span class="pre">CreaturePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::setProtocolVersion(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::stop()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::terminate()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Game::walk(Otc::Direction,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HealthBars::addHealthBackground(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HealthBars::addManaBackground(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HealthBars::init()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HealthBars::terminate()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">House::addDoor(const</span> <span class="pre">ItemPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">House::load(const</span> <span class="pre">TiXmlElement*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">House::removeDoorById(uint32)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">House::save(TiXmlElement*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">House::setTile(const</span> <span class="pre">TilePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HouseManager::addHouse(const</span> <span class="pre">HousePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HouseManager::filterHouses(uint32)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HouseManager::getHouse(uint32)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HouseManager::getHouseByName(std::string)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HouseManager::load(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HouseManager::removeHouse(uint32)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HouseManager::save(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HouseManager::sort()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::calculateAnimationPhase(bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::calculatePatterns(int&amp;,</span> <span class="pre">int&amp;,</span> <span class="pre">int&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::clone()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::create(int,</span> <span class="pre">int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::createFromOtb(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::draw(const</span> <span class="pre">Point&amp;,</span> <span class="pre">bool,</span> <span class="pre">LightView*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::draw(const</span> <span class="pre">Rect&amp;,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::getCount()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::getSubType()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::getThingType()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::rawGetThingType()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::serializeItem(const</span> <span class="pre">OutputBinaryTreePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::setId(uint32)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::setOtbId(uint16)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Item::unserializeItem(const</span> <span class="pre">BinaryTreePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ItemType::unserialize(const</span> <span class="pre">BinaryTreePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LightView::addLight(const</span> <span class="pre">Point&amp;,</span> <span class="pre">uint8_t,</span> <span class="pre">uint8_t)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LightView::draw()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::autoWalk(Position,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::canWalk(Otc::Direction,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::cancelNewWalk(Otc::Direction)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::cancelWalk(Otc::Direction)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::lockWalk(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::onPositionChange(const</span> <span class="pre">Position&amp;,</span> <span class="pre">const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::preWalk(Otc::Direction)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::predictiveCancelWalk(const</span> <span class="pre">Position&amp;,</span> <span class="pre">uint32_t,</span> <span class="pre">Otc::Direction)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::setHealth(double,</span> <span class="pre">double)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::stopAutoWalk()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::stopWalk()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::terminateWalk()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::updateWalk()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::updateWalkOffset(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LocalPlayer::walk(const</span> <span class="pre">Position&amp;,</span> <span class="pre">const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::addThing(const</span> <span class="pre">ThingPtr&amp;,</span> <span class="pre">const</span> <span class="pre">Position&amp;,</span> <span class="pre">int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::clean()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::cleanDynamicThings()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::createTile(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::findPath(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::getOrCreateTile(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::getSpectators(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::getTile(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::init()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::isAwareOfPosition(const</span> <span class="pre">Position&amp;,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::loadOtbm(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::notificateTileUpdate(const</span> <span class="pre">Position&amp;,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::removeThing(const</span> <span class="pre">ThingPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::saveOtbm(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::setCentralPosition(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Map::terminate()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MapView::calcFirstVisibleFloor(bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MapView::calcLastVisibleFloor()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MapView::drawMapBackground(const</span> <span class="pre">Rect&amp;,</span> <span class="pre">const</span> <span class="pre">TilePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MapView::drawMapForeground(const</span> <span class="pre">Rect&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MapView::getCameraPosition()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MapView::getPosition(const</span> <span class="pre">Point&amp;,</span> <span class="pre">const</span> <span class="pre">Size&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MapView::getTile(const</span> <span class="pre">Point&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MapView::onMapCenterChange(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MapView::onTileUpdate(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MapView::updateVisibleTilesCache()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Minimap::clean()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Minimap::draw(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Minimap::getTile(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Minimap::loadOtmm(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Minimap::saveOtmm(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Minimap::updateTile(const</span> <span class="pre">Position&amp;,</span> <span class="pre">const</span> <span class="pre">TilePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MinimapBlock::update()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MinimapBlock::updateTile(int,</span> <span class="pre">int,</span> <span class="pre">const</span> <span class="pre">MinimapTile&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Missile::draw(const</span> <span class="pre">Point&amp;,</span> <span class="pre">bool,</span> <span class="pre">LightView*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Missile::setPath(const</span> <span class="pre">Position&amp;,</span> <span class="pre">const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Outfit::draw(Point,</span> <span class="pre">Otc::Direction,</span> <span class="pre">uint,</span> <span class="pre">bool,</span> <span class="pre">LightView*,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Outfit::draw(const</span> <span class="pre">Rect&amp;,</span> <span class="pre">Otc::Direction,</span> <span class="pre">uint,</span> <span class="pre">bool,</span> <span class="pre">bool,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Outfit::resetClothes()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Player::isPlayer()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Position::getDirectionFromPositions(const</span> <span class="pre">Position&amp;,</span> <span class="pre">const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Position::translatedToDirection(Otc::Direction)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Proto::buildMessageModesMap(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Proto::translateMessageModeFromServer(uint8)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Proto::translateMessageModeToServer(Otc::MessageMode)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ProtocolGame::onConnect()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ProtocolGame::onError(const</span> <span class="pre">boost::system::error_code&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ProtocolGame::onRecv(const</span> <span class="pre">InputMessagePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ProtocolGame::parseMessage(const</span> <span class="pre">InputMessagePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ProtocolGame::send(const</span> <span class="pre">OutputMessagePtr&amp;,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ProtocolGame::sendLoginPacket(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpriteManager::getSpriteImage(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpriteManager::loadSpr(std::string)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpriteManager::terminate()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpriteManager::unload()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StaticText::addMessage(const</span> <span class="pre">std::string&amp;,</span> <span class="pre">Otc::MessageMode,</span> <span class="pre">const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StaticText::compose()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StaticText::drawText(const</span> <span class="pre">Point&amp;,</span> <span class="pre">const</span> <span class="pre">Rect&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StaticText::scheduleUpdate()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">StaticText::update()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Thing::getStackPos()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Thing::getStackPriority()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Thing::getTile()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Thing::setPosition(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingType::draw(const</span> <span class="pre">Point&amp;,</span> <span class="pre">...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingType::getTexture(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingType::serialize(const</span> <span class="pre">FileStreamPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingType::unserialize(uint16,</span> <span class="pre">ThingCategory,</span> <span class="pre">const</span> <span class="pre">FileStreamPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::addItemType(const</span> <span class="pre">ItemTypePtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::check()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::findItemTypeByClientId(uint16)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::getItemType(uint16)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::getThingType(uint16,</span> <span class="pre">ThingCategory)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::init()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::loadDat(std::string)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::loadOtb(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::loadXml(const</span> <span class="pre">std::string&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::parseItemType(uint16,</span> <span class="pre">TiXmlElement*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ThingTypeManager::terminate()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::addThing(const</span> <span class="pre">ThingPtr&amp;,</span> <span class="pre">int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::clean()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::drawBottom(const</span> <span class="pre">Point&amp;,</span> <span class="pre">LightView*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::drawCreatures(const</span> <span class="pre">Point&amp;,</span> <span class="pre">LightView*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::drawGround(const</span> <span class="pre">Point&amp;,</span> <span class="pre">LightView*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::drawTop(const</span> <span class="pre">Point&amp;,</span> <span class="pre">LightView*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::getGround()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::getItems()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::getTopCreature()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::getTopLookThing()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::getTopUseThing()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::isWalkable(bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile::removeThing(ThingPtr)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TownManager::addTown(const</span> <span class="pre">TownPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TownManager::getTown(uint32)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TownManager::sort()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UICreature::drawSelf(Fw::DrawPane)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UICreature::setOutfit(const</span> <span class="pre">Outfit&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIGraph::addValue(int,</span> <span class="pre">bool)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIGraph::drawSelf(Fw::DrawPane)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIItem::drawSelf(Fw::DrawPane)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIItem::setItem(const</span> <span class="pre">ItemPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIItem::setItemId(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIMap::drawSelf(Fw::DrawPane)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIMap::getPosition(const</span> <span class="pre">Point&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIMap::getTile(const</span> <span class="pre">Point&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIMap::setZoom(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIMap::updateVisibleDimension()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout::addPositionAnchor(...)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIMinimap::drawSelf(Fw::DrawPane)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIMinimap::setCameraPosition(const</span> <span class="pre">Position&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIMinimap::setZoom(int)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIPositionAnchor::getHookedPoint(const</span> <span class="pre">UIWidgetPtr&amp;,</span> <span class="pre">const</span> <span class="pre">UIWidgetPtr&amp;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIProgressRect::drawSelf(Fw::DrawPane)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UIProgressRect::setPercent(float)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UISprite::drawSelf(Fw::DrawPane)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UISprite::setSpriteId(uint32)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WalkMatrix::update(const</span> <span class="pre">Position&amp;,</span> <span class="pre">int32_t)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WalkMatrix::updatePosition(const</span> <span class="pre">Position&amp;)</span></code></p></li>
</ul>
</section>
<section id="mapa-zaleznosci">
<h1>🧭 Mapa zależności<a class="headerlink" href="#mapa-zaleznosci" title="Link to this heading">#</a></h1>
<p>Poniższy diagram przedstawia główne zależności i przepływ informacji między kluczowymi modułami systemu.</p>
<div class="highlight-mermaid notranslate"><div class="highlight"><pre><span></span>graph TD
    subgraph &quot;Aplikacja i UI&quot;
        Client[Client] -→|inicjalizuje| Game
        Client -→|inicjalizuje| Map
        Client -→|inicjalizuje| ThingTypeManager
        UIMap[UIMap] -→|renderuje| MapView
        MapView -→|odczytuje dane| Map
        UICreature[UICreature] -→|wyświetla| Creature
        UIItem[UIItem] -→|wyświetla| Item
    end

    subgraph &quot;Logika Gry&quot;
        Game[Game] -→|wysyła akcje| ProtocolGame
        Game -→|zarządza| LocalPlayer
        Game -→|zarządza| Map
        LocalPlayer[LocalPlayer] -→|dziedziczy| Player
        Player -→|dziedziczy| Creature
        Creature -→|dziedziczy| Thing
        Item -→|dziedziczy| Thing
        Thing -→|ma| ThingType
    end

    subgraph &quot;Sieć&quot;
        ProtocolGame[ProtocolGame] -→|parsuje pakiety| Game
        ProtocolGame -→|wysyła pakiety| TCPSocket
    end

    subgraph &quot;Dane i Zasoby&quot;
        ThingTypeManager[ThingTypeManager] -→|wczytuje| DAT[&quot;things.dat&quot;]
        ThingTypeManager -→|wczytuje| OTB[&quot;items.otb&quot;]
        SpriteManager[SpriteManager] -→|wczytuje| SPR[&quot;sprites.spr&quot;]
        Map -→|wczytuje| OTBM[&quot;map.otbm&quot;]
        Minimap -→|wczytuje| OTMM[&quot;minimap.otmm&quot;]
        ThingType -→|używa| SpriteManager
    end

    MapView -→ Creature
    MapView -→ Item
    Map -→ Tile
    Tile -→ Thing
</pre></div>
</div>
<p><strong>Opis zależności:</strong></p>
<ul class="simple">
<li><p><strong>Client</strong> jest punktem startowym, który inicjalizuje wszystkie główne moduły (<code class="docutils literal notranslate"><span class="pre">Game</span></code>, <code class="docutils literal notranslate"><span class="pre">Map</span></code>, <code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code>).</p></li>
<li><p><strong>Game</strong> jest centralnym „mózgiem” aplikacji, zarządzającym stanem gry, lokalnym graczem i komunikacją sieciową poprzez <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code>.</p></li>
<li><p><strong>ProtocolGame</strong> jest odpowiedzialny za serializację i deserializację danych przesyłanych do i z serwera. Aktualizuje stan <code class="docutils literal notranslate"><span class="pre">Game</span></code> na podstawie otrzymanych pakietów.</p></li>
<li><p><strong>Map</strong> przechowuje wszystkie dane o świecie gry, w tym <code class="docutils literal notranslate"><span class="pre">Tile</span></code> (pola) i <code class="docutils literal notranslate"><span class="pre">Thing</span></code> (obiekty).</p></li>
<li><p><strong>MapView</strong> jest odpowiedzialny za renderowanie danych z <code class="docutils literal notranslate"><span class="pre">Map</span></code> na ekranie. Jest to warstwa wizualizacyjna dla danych mapy.</p></li>
<li><p><strong>ThingTypeManager</strong> i <strong>SpriteManager</strong> to menedżery zasobów, które wczytują dane z plików <code class="docutils literal notranslate"><span class="pre">.dat</span></code>, <code class="docutils literal notranslate"><span class="pre">.otb</span></code> i <code class="docutils literal notranslate"><span class="pre">.spr</span></code>, dostarczając definicje i grafiki dla wszystkich obiektów w grze.</p></li>
<li><p>Hierarchia dziedziczenia obiektów: <code class="docutils literal notranslate"><span class="pre">Thing</span></code> jest bazą dla <code class="docutils literal notranslate"><span class="pre">Item</span></code> i <code class="docutils literal notranslate"><span class="pre">Creature</span></code>. <code class="docutils literal notranslate"><span class="pre">Creature</span></code> jest bazą dla <code class="docutils literal notranslate"><span class="pre">Player</span></code>, a <code class="docutils literal notranslate"><span class="pre">Player</span></code> dla <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code>.</p></li>
<li><p>Widżety UI (<code class="docutils literal notranslate"><span class="pre">UIMap</span></code>, <code class="docutils literal notranslate"><span class="pre">UICreature</span></code>, <code class="docutils literal notranslate"><span class="pre">UIItem</span></code>) są wyspecjalizowanymi komponentami do wyświetlania odpowiednich elementów logiki gry.</p></li>
</ul>
</section>
<section id="architektura-systemu">
<h1>🧱 Architektura systemu<a class="headerlink" href="#architektura-systemu" title="Link to this heading">#</a></h1>
<p>System jest zbudowany w oparciu o architekturę warstwową, gdzie każda warstwa ma jasno zdefiniowane obowiązki. Można wyróżnić następujące główne komponenty:</p>
<ol class="arabic simple">
<li><p><strong>Framework (Warstwa podstawowa)</strong></p>
<ul class="simple">
<li><p><strong>Core</strong>: Zarządzanie aplikacją, pętlą główną, zdarzeniami (<code class="docutils literal notranslate"><span class="pre">EventDispatcher</span></code>), zasobami (<code class="docutils literal notranslate"><span class="pre">ResourceManager</span></code>), czasem (<code class="docutils literal notranslate"><span class="pre">Clock</span></code>).</p></li>
<li><p><strong>Graphics</strong>: Nisko-poziomowe renderowanie, zarządzanie teksturami (<code class="docutils literal notranslate"><span class="pre">TextureManager</span></code>), shaderami (<code class="docutils literal notranslate"><span class="pre">ShaderManager</span></code>), czcionkami (<code class="docutils literal notranslate"><span class="pre">FontManager</span></code>) i kolejką rysowania (<code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code>).</p></li>
<li><p><strong>UI</strong>: System interfejsu użytkownika oparty na widżetach (<code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>) i stylach OTML.</p></li>
<li><p><strong>LuaEngine</strong>: Integracja z silnikiem skryptowym Lua, umożliwiająca rozszerzanie logiki gry.</p></li>
<li><p><strong>Net</strong>: Nisko-poziomowa obsługa połączeń sieciowych (<code class="docutils literal notranslate"><span class="pre">Protocol</span></code>, <code class="docutils literal notranslate"><span class="pre">Connection</span></code>).</p></li>
</ul>
</li>
<li><p><strong>Client (Warstwa aplikacji)</strong></p>
<ul class="simple">
<li><p><strong>Zarządzanie stanem gry (<code class="docutils literal notranslate"><span class="pre">Game</span></code>)</strong>: Centralny singleton, który zarządza sesją gry, stanem lokalnego gracza, interakcjami i komunikacją z serwerem. Działa jak fasada dla reszty systemu.</p></li>
<li><p><strong>Obsługa protokołu (<code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code>)</strong>: Implementacja protokołu sieciowego. Tłumaczy akcje gracza na pakiety i pakiety z serwera na zmiany w stanie gry.</p></li>
<li><p><strong>Reprezentacja świata gry (<code class="docutils literal notranslate"><span class="pre">Map</span></code>, <code class="docutils literal notranslate"><span class="pre">Tile</span></code>, <code class="docutils literal notranslate"><span class="pre">Thing</span></code>)</strong>: Obiektowy model świata gry. <code class="docutils literal notranslate"><span class="pre">Map</span></code> przechowuje kolekcję <code class="docutils literal notranslate"><span class="pre">Tile</span></code>, a każdy <code class="docutils literal notranslate"><span class="pre">Tile</span></code> przechowuje stos <code class="docutils literal notranslate"><span class="pre">Thing</span></code> (przedmiotów, stworzeń, etc.).</p></li>
<li><p><strong>Zarządzanie zasobami gry (<code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code>, <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code>)</strong>: Singletony odpowiedzialne za wczytywanie i dostarczanie definicji i grafik dla wszystkich obiektów w grze z plików <code class="docutils literal notranslate"><span class="pre">.dat</span></code>, <code class="docutils literal notranslate"><span class="pre">.otb</span></code>, <code class="docutils literal notranslate"><span class="pre">.spr</span></code>.</p></li>
<li><p><strong>Renderowanie (<code class="docutils literal notranslate"><span class="pre">MapView</span></code>, <code class="docutils literal notranslate"><span class="pre">Minimap</span></code>)</strong>: Klasy odpowiedzialne za wizualizację danych z <code class="docutils literal notranslate"><span class="pre">Map</span></code>. <code class="docutils literal notranslate"><span class="pre">MapView</span></code> renderuje główny widok gry, a <code class="docutils literal notranslate"><span class="pre">Minimap</span></code> - minimapę. Wykorzystują one <code class="docutils literal notranslate"><span class="pre">DrawQueue</span></code> z warstwy frameworka.</p></li>
<li><p><strong>UI klienta (<code class="docutils literal notranslate"><span class="pre">UIMap</span></code>, <code class="docutils literal notranslate"><span class="pre">UIItem</span></code>, <code class="docutils literal notranslate"><span class="pre">UICreature</span></code>)</strong>: Wyspecjalizowane widżety, które łączą dane z logiki gry (np. <code class="docutils literal notranslate"><span class="pre">Item</span></code>, <code class="docutils literal notranslate"><span class="pre">Creature</span></code>) z systemem UI frameworka.</p></li>
</ul>
</li>
</ol>
</section>
<section id="przeplyw-danych-i-zdarzen">
<h1>Przepływ danych i zdarzeń<a class="headerlink" href="#przeplyw-danych-i-zdarzen" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><strong>Wejście użytkownika</strong>: Zdarzenia wejścia (mysz, klawiatura) są przechwytywane przez <code class="docutils literal notranslate"><span class="pre">UIWidget</span></code>. Jeśli akcja dotyczy gry (np. kliknięcie na mapie), wywoływana jest odpowiednia metoda w <code class="docutils literal notranslate"><span class="pre">Game</span></code> (np. <code class="docutils literal notranslate"><span class="pre">g_game.walk()</span></code>).</p></li>
<li><p><strong>Wysyłanie danych</strong>: <code class="docutils literal notranslate"><span class="pre">Game</span></code> wywołuje metodę w <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code> (np. <code class="docutils literal notranslate"><span class="pre">sendWalkNorth()</span></code>), która tworzy pakiet i wysyła go na serwer.</p></li>
<li><p><strong>Odbieranie danych</strong>: <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code> odbiera pakiet, <code class="docutils literal notranslate"><span class="pre">parseMessage</span></code> identyfikuje jego typ na podstawie opkodu i wywołuje odpowiednią metodę <code class="docutils literal notranslate"><span class="pre">parse...</span></code>.</p></li>
<li><p><strong>Aktualizacja stanu</strong>: Metoda <code class="docutils literal notranslate"><span class="pre">parse...</span></code> (np. <code class="docutils literal notranslate"><span class="pre">parseCreatureMove</span></code>) odczytuje dane z pakietu i wywołuje metody w <code class="docutils literal notranslate"><span class="pre">Game</span></code> lub <code class="docutils literal notranslate"><span class="pre">Map</span></code> (np. <code class="docutils literal notranslate"><span class="pre">g_map.addThing(...)</span></code>), które modyfikują stan gry.</p></li>
<li><p><strong>Renderowanie</strong>: W każdej klatce, <code class="docutils literal notranslate"><span class="pre">UIMap</span></code> wywołuje <code class="docutils literal notranslate"><span class="pre">MapView::drawMapBackground</span></code> i <code class="docutils literal notranslate"><span class="pre">drawMapForeground</span></code>. <code class="docutils literal notranslate"><span class="pre">MapView</span></code> pobiera aktualny stan z <code class="docutils literal notranslate"><span class="pre">g_map</span></code> (widoczne <code class="docutils literal notranslate"><span class="pre">Tile</span></code> i <code class="docutils literal notranslate"><span class="pre">Thing</span></code>), a następnie rysuje je na ekranie, używając <code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code> i <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code> do uzyskania odpowiednich grafik.</p></li>
</ul>
<p>Ta architektura oddziela logikę gry od renderowania i obsługi sieci, co ułatwia zarządzanie kodem i jego rozbudowę. Użycie Lua pozwala na dynamiczne modyfikowanie zachowań interfejsu i logiki bez potrzeby rekompilacji całego klienta.</p>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">otclientv8-dev/src/client</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ogolny-opis">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-animatedtext">Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#opis">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zaleznosci-i-powiazania">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przyklad-uzycia">Przykład użycia</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#houses-h">📄 houses.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-house">Klasa <code class="docutils literal notranslate"><span class="pre">House</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-housemanager">Klasa <code class="docutils literal notranslate"><span class="pre">HouseManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne-globalne">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#animatedtext-h">📄 animatedtext.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Klasa <code class="docutils literal notranslate"><span class="pre">AnimatedText</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#animator-h">📄 animator.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-animator">Klasa <code class="docutils literal notranslate"><span class="pre">Animator</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#typy-wyliczeniowe">Typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#animator-cpp">📄 animator.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">Klasa <code class="docutils literal notranslate"><span class="pre">Animator</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#client-cpp">📄 client.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id21">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-client">Klasa <code class="docutils literal notranslate"><span class="pre">Client</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id22">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id23">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id24">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#client-h">📄 client.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id25">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id26">Klasa <code class="docutils literal notranslate"><span class="pre">Client</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id27">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id28">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id29">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id30">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cmakelists-txt">📄 CMakeLists.txt</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id31">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-pliku">Struktura pliku</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definicje-preprocesora">Definicje preprocesora</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lista-plikow-zrodlowych-client-sources">Lista plików źródłowych (<code class="docutils literal notranslate"><span class="pre">client_SOURCES</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id32">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#const-h">📄 const.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id33">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-otc">Namespace <code class="docutils literal notranslate"><span class="pre">Otc</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id34">Typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id35">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#container-cpp">📄 container.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id36">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-container">Klasa <code class="docutils literal notranslate"><span class="pre">Container</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id37">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id38">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#creature-cpp">📄 creature.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id39">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-creature">Klasa <code class="docutils literal notranslate"><span class="pre">Creature</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id40">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zmienne-statyczne">Zmienne statyczne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id41">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#container-h">📄 container.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id42">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id43">Klasa <code class="docutils literal notranslate"><span class="pre">Container</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id44">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id45">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id46">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#creature-h">📄 creature.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id47">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id48">Klasa <code class="docutils literal notranslate"><span class="pre">Creature</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id49">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id50">Typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id51">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-npc">Klasa <code class="docutils literal notranslate"><span class="pre">Npc</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id52">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-monster">Klasa <code class="docutils literal notranslate"><span class="pre">Monster</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id53">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id54">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#creatures-h">📄 creatures.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id55">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id56">Typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-spawn">Klasa <code class="docutils literal notranslate"><span class="pre">Spawn</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id57">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id58">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-creaturetype">Klasa <code class="docutils literal notranslate"><span class="pre">CreatureType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id59">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id60">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-creaturemanager">Klasa <code class="docutils literal notranslate"><span class="pre">CreatureManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id61">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id62">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id63">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id64">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#declarations-h">📄 declarations.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id65">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zawartosc">Zawartość</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#deklaracje-wyprzedzajace">Deklaracje wyprzedzające</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definicje-typow-typedef">Definicje typów (<code class="docutils literal notranslate"><span class="pre">typedef</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#definicje-kolekcji-typedef">Definicje kolekcji (<code class="docutils literal notranslate"><span class="pre">typedef</span></code>)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id66">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#creatures-cpp">📄 creatures.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id67">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje-pomocnicze">Funkcje pomocnicze</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id68">Klasa <code class="docutils literal notranslate"><span class="pre">Spawn</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id69">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id70">Klasa <code class="docutils literal notranslate"><span class="pre">CreatureType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id71">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id72">Klasa <code class="docutils literal notranslate"><span class="pre">CreatureManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id73">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id74">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#effect-cpp">📄 effect.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id75">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-effect">Klasa <code class="docutils literal notranslate"><span class="pre">Effect</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id76">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id77">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#global-h">📄 global.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id78">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id79">Zawartość</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#cel">Cel</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#effect-h">📄 effect.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id80">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id81">Klasa <code class="docutils literal notranslate"><span class="pre">Effect</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id82">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#stale">Stałe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id83">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id84">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#healthbars-cpp">📄 healthbars.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id85">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-healthbars">Klasa <code class="docutils literal notranslate"><span class="pre">HealthBars</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id86">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-healthbar">Klasa <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id87">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id88">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id89">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#game-h">📄 game.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id90">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-game">Klasa <code class="docutils literal notranslate"><span class="pre">Game</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id91">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktury">Struktury</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-publiczne">Metody (Publiczne)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-chronione-handlery-protokolu">Metody (Chronione - Handlery Protokołu)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id92">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#healthbars-h">📄 healthbars.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id93">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id94">Klasa <code class="docutils literal notranslate"><span class="pre">HealthBar</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id95">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id96">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id97">Klasa <code class="docutils literal notranslate"><span class="pre">HealthBars</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id98">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id99">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id100">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id101">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#houses-cpp">📄 houses.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id102">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id103">Klasa <code class="docutils literal notranslate"><span class="pre">House</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id104">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id105">Klasa <code class="docutils literal notranslate"><span class="pre">HouseManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id106">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id107">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id108">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#item-cpp">📄 item.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id109">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-item">Klasa <code class="docutils literal notranslate"><span class="pre">Item</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id110">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id111">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#itemtype-cpp">📄 itemtype.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id112">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-itemtype">Klasa <code class="docutils literal notranslate"><span class="pre">ItemType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id113">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logika-serializacji">Logika serializacji</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id114">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#item-h">📄 item.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id115">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id116">Klasa <code class="docutils literal notranslate"><span class="pre">Item</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id117">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id118">Typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id119">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id120">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#itemtype-h">📄 itemtype.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id121">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id122">Klasa <code class="docutils literal notranslate"><span class="pre">ItemType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id123">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id124">Typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id125">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id126">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lightview-cpp">📄 lightview.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id127">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-lightview">Klasa <code class="docutils literal notranslate"><span class="pre">LightView</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id128">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logika-renderowania">Logika renderowania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id129">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lightview-h">📄 lightview.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id130">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-tilelight">Struktura <code class="docutils literal notranslate"><span class="pre">TileLight</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id131">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id132">Klasa <code class="docutils literal notranslate"><span class="pre">LightView</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id133">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id134">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id135">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#localplayer-cpp">📄 localplayer.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id136">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-localplayer">Klasa <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id137">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id138">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#map-cpp">📄 map.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id139">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-map">Klasa <code class="docutils literal notranslate"><span class="pre">Map</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id140">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-danych">Struktura danych</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id141">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luavaluecasts-client-h">📄 luavaluecasts_client.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id142">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#funkcje">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id143">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mapio-cpp">📄 mapio.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id144">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id145">Klasa <code class="docutils literal notranslate"><span class="pre">Map</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id146">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logika-wczytywania-otbm">Logika wczytywania OTBM</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id147">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luavaluecasts-client-cpp">📄 luavaluecasts_client.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id148">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id149">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#push-luavalue"><code class="docutils literal notranslate"><span class="pre">push_luavalue</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#luavalue-cast"><code class="docutils literal notranslate"><span class="pre">luavalue_cast</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id150">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mapview-cpp">📄 mapview.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id151">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-mapview">Klasa <code class="docutils literal notranslate"><span class="pre">MapView</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id152">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id153">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mapview-h">📄 mapview.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id154">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id155">Klasa <code class="docutils literal notranslate"><span class="pre">MapView</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id156">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id157">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id158">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#minimap-h">📄 minimap.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id159">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktury-i-stale">Struktury i stałe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-minimapblock">Klasa <code class="docutils literal notranslate"><span class="pre">MinimapBlock</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id160">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-minimap">Klasa <code class="docutils literal notranslate"><span class="pre">Minimap</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id161">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id162">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id163">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#missile-cpp">📄 missile.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id164">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-missile">Klasa <code class="docutils literal notranslate"><span class="pre">Missile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id165">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logika-animacji">Logika animacji</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id166">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#missile-h">📄 missile.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id167">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id168">Klasa <code class="docutils literal notranslate"><span class="pre">Missile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id169">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id170">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id171">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outfit-cpp">📄 outfit.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id172">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-outfit">Klasa <code class="docutils literal notranslate"><span class="pre">Outfit</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id173">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasy-drawqueueitem">Klasy <code class="docutils literal notranslate"><span class="pre">DrawQueueItem...</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id174">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id175">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#outfit-h">📄 outfit.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id176">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id177">Klasa <code class="docutils literal notranslate"><span class="pre">Outfit</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id178">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id179">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktury-drawqueueitem">Struktury <code class="docutils literal notranslate"><span class="pre">DrawQueueItem...</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id180">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id181">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#player-cpp">📄 player.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id182">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-player">Klasa <code class="docutils literal notranslate"><span class="pre">Player</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id183">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id184">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#player-h">📄 player.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id185">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id186">Klasa <code class="docutils literal notranslate"><span class="pre">Player</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id187">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id188">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id189">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocolcodes-cpp">📄 protocolcodes.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id190">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-proto">Namespace <code class="docutils literal notranslate"><span class="pre">Proto</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id191">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id192">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id193">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#minimap-cpp">📄 minimap.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id194">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id195">Klasa <code class="docutils literal notranslate"><span class="pre">MinimapBlock</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id196">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id197">Klasa <code class="docutils literal notranslate"><span class="pre">Minimap</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id198">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id199">Struktura danych</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id200">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#position-h">📄 position.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id201">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-position">Struktura <code class="docutils literal notranslate"><span class="pre">Position</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pola">Pola</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id202">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-positionhasher">Struktura <code class="docutils literal notranslate"><span class="pre">PositionHasher</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id203">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id204">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocolcodes-h">📄 protocolcodes.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id205">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id206">Namespace <code class="docutils literal notranslate"><span class="pre">Proto</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id207">Typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id208">Funkcje</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id209">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocolgame-cpp">📄 protocolgame.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id210">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-protocolgame">Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id211">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id212">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocolgame-h">📄 protocolgame.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id213">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id214">Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id215">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-wysylanie">Metody (Wysyłanie)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-parsowanie">Metody (Parsowanie)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-pomocnicze">Metody (Pomocnicze)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id216">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#spritemanager-cpp">📄 spritemanager.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id217">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-spritemanager">Klasa <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id218">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id219">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocolgamesend-cpp">📄 protocolgamesend.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id220">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id221">Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id222">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logika">Logika</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id223">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#localplayer-h">📄 localplayer.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id224">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id225">Klasa <code class="docutils literal notranslate"><span class="pre">LocalPlayer</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id226">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id227">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id228">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#towns-cpp">📄 towns.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id229">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-town">Klasa <code class="docutils literal notranslate"><span class="pre">Town</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id230">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-townmanager">Klasa <code class="docutils literal notranslate"><span class="pre">TownManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id231">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id232">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id233">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#spritemanager-h">📄 spritemanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id234">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id235">Klasa <code class="docutils literal notranslate"><span class="pre">SpriteManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id236">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id237">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id238">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id239">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tile-cpp">📄 tile.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id240">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-tile">Klasa <code class="docutils literal notranslate"><span class="pre">Tile</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id241">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rysowanie">Rysowanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zarzadzanie-obiektami">Zarządzanie obiektami</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#wlasciwosci">Właściwości</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id242">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#statictext-h">📄 statictext.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id243">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#struktura-statictextmessage">Struktura <code class="docutils literal notranslate"><span class="pre">StaticTextMessage</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-statictext">Klasa <code class="docutils literal notranslate"><span class="pre">StaticText</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id244">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id245">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id246">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uimapanchorlayout-cpp">📄 uimapanchorlayout.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id247">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uipositionanchor">Klasa <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id248">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uimapanchorlayout">Klasa <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id249">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id250">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#thing-h">📄 thing.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id251">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-thing">Klasa <code class="docutils literal notranslate"><span class="pre">Thing</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id252">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id253">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id254">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiitem-h">📄 uiitem.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id255">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiitem">Klasa <code class="docutils literal notranslate"><span class="pre">UIItem</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id256">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id257">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id258">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#thing-cpp">📄 thing.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id259">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id260">Klasa <code class="docutils literal notranslate"><span class="pre">Thing</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id261">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id262">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uimap-cpp">📄 uimap.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id263">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uimap">Klasa <code class="docutils literal notranslate"><span class="pre">UIMap</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id264">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id265">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#statictext-cpp">📄 statictext.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id266">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id267">Klasa <code class="docutils literal notranslate"><span class="pre">StaticText</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id268">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logika-dzialania">Logika działania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id269">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiitem-cpp">📄 uiitem.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id270">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id271">Klasa <code class="docutils literal notranslate"><span class="pre">UIItem</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id272">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id273">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#thingstype-h">📄 thingstype.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id274">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-thingstype">Klasa <code class="docutils literal notranslate"><span class="pre">ThingsType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id275">Typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id276">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id277">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id278">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uigraph-h">📄 uigraph.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id279">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uigraph">Klasa <code class="docutils literal notranslate"><span class="pre">UIGraph</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id280">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id281">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id282">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uicreature-h">📄 uicreature.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id283">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uicreature">Klasa <code class="docutils literal notranslate"><span class="pre">UICreature</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id284">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id285">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id286">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#thingtype-cpp">📄 thingtype.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id287">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-thingtype">Klasa <code class="docutils literal notranslate"><span class="pre">ThingType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id288">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#serializacja-deserializacja">Serializacja / Deserializacja</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id289">Rysowanie</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#zarzadzanie-teksturami">Zarządzanie teksturami</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id290">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#towns-h">📄 towns.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id291">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id292">Klasa <code class="docutils literal notranslate"><span class="pre">Town</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id293">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id294">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id295">Klasa <code class="docutils literal notranslate"><span class="pre">TownManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id296">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id297">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id298">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id299">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#thingtype-h">📄 thingtype.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id300">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id301">Klasa <code class="docutils literal notranslate"><span class="pre">ThingType</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id302">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id303">Typy wyliczeniowe</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id304">Struktury</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id305">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id306">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uicreature-cpp">📄 uicreature.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id307">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id308">Klasa <code class="docutils literal notranslate"><span class="pre">UICreature</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id309">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id310">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#thingtypemanager-h">📄 thingtypemanager.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id311">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-thingtypemanager">Klasa <code class="docutils literal notranslate"><span class="pre">ThingTypeManager</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id312">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id313">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id314">Zmienne globalne</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id315">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uigraph-cpp">📄 uigraph.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id316">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id317">Klasa <code class="docutils literal notranslate"><span class="pre">UIGraph</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id318">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id319">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uimap-h">📄 uimap.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id320">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id321">Klasa <code class="docutils literal notranslate"><span class="pre">UIMap</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id322">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id323">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id324">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiminimap-cpp">📄 uiminimap.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id325">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiminimap">Klasa <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id326">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id327">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiprogressrect-cpp">📄 uiprogressrect.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id328">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uiprogressrect">Klasa <code class="docutils literal notranslate"><span class="pre">UIProgressRect</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id329">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logika-rysowania">Logika rysowania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id330">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uimapanchorlayout-h">📄 uimapanchorlayout.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id331">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id332">Klasa <code class="docutils literal notranslate"><span class="pre">UIPositionAnchor</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id333">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id334">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id335">Klasa <code class="docutils literal notranslate"><span class="pre">UIMapAnchorLayout</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id336">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id337">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id338">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiminimap-h">📄 uiminimap.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id339">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id340">Klasa <code class="docutils literal notranslate"><span class="pre">UIMinimap</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id341">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id342">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id343">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uiprogressrect-h">📄 uiprogressrect.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id344">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id345">Klasa <code class="docutils literal notranslate"><span class="pre">UIProgressRect</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id346">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id347">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id348">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uisprite-cpp">📄 uisprite.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id349">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-uisprite">Klasa <code class="docutils literal notranslate"><span class="pre">UISprite</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id350">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id351">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#uisprite-h">📄 uisprite.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id352">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id353">Klasa <code class="docutils literal notranslate"><span class="pre">UISprite</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id354">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id355">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id356">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#walkmatrix-h">📄 walkmatrix.h</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id357">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#klasa-walkmatrix">Klasa <code class="docutils literal notranslate"><span class="pre">WalkMatrix</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id358">Opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id359">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id360">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#protocolgameparse-cpp">📄 protocolgameparse.cpp</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id361">Ogólny opis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id362">Klasa <code class="docutils literal notranslate"><span class="pre">ProtocolGame</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id363">Metody</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#parsemessage-const-inputmessageptr-msg"><code class="docutils literal notranslate"><span class="pre">parseMessage(const</span> <span class="pre">InputMessagePtr&amp;</span> <span class="pre">msg)</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-parse">Metody <code class="docutils literal notranslate"><span class="pre">parse...</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#metody-pomocnicze-get">Metody pomocnicze <code class="docutils literal notranslate"><span class="pre">get...</span></code></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id364">Zależności i powiązania</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#spis-tresci">📑 Spis treści</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#indeks-funkcji-metod">🔍 Indeks funkcji/metod</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mapa-zaleznosci">🧭 Mapa zależności</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#architektura-systemu">🧱 Architektura systemu</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#przeplyw-danych-i-zdarzen">Przepływ danych i zdarzeń</a></li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>Ta strona</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/architektura/src_client.md.txt"
            rel="nofollow">Pokaż źródło</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>